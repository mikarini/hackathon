function MarkerClusterer(n,t,i){var r,u;this.extend(MarkerClusterer,google.maps.OverlayView);this.map_=n;this.markers_=[];this.clusters_=[];this.sizes=[53,56,66,78,90];this.styles_=[];this.ready_=!1;r=i||{};this.gridSize_=r.gridSize||60;this.minClusterSize_=r.minimumClusterSize||2;this.maxZoom_=r.maxZoom||null;this.styles_=r.styles||[];this.imagePath_=r.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_;this.imageExtension_=r.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_;this.zoomOnClick_=!0;r.zoomOnClick!=undefined&&(this.zoomOnClick_=r.zoomOnClick);this.averageCenter_=!1;r.averageCenter!=undefined&&(this.averageCenter_=r.averageCenter);this.setupStyles_();this.setMap(n);this.prevZoom_=this.map_.getZoom();u=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var n=u.map_.getZoom(),t=u.map_.minZoom||0,i=Math.min(u.map_.maxZoom||100,u.map_.mapTypes[u.map_.getMapTypeId()].maxZoom);n=Math.min(Math.max(n,t),i);u.prevZoom_!=n&&(u.prevZoom_=n,u.resetViewport())});google.maps.event.addListener(this.map_,"idle",function(){u.redraw()});t&&(t.length||Object.keys(t).length)&&this.addMarkers(t,!1)}function Cluster(n){this.markerClusterer_=n;this.map_=n.getMap();this.gridSize_=n.getGridSize();this.minClusterSize_=n.getMinClusterSize();this.averageCenter_=n.isAverageCenter();this.center_=null;this.markers_=[];this.bounds_=null;this.clusterIcon_=new ClusterIcon(this,n.getStyles(),n.getGridSize())}function ClusterIcon(n,t,i){n.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView);this.styles_=t;this.padding_=i||0;this.cluster_=n;this.center_=null;this.map_=n.getMap();this.div_=null;this.sums_=null;this.visible_=!1;this.setMap(this.map_)}function RCChartBeatStrategy(n){var i,t;this._player=n;this._urlTeaser="";this._totalDuration=0;this._title="";this._playerType="flash";this._videoId=0;this._isReady=!1;this._viewStartTime=new Stopwatch;this._viewPlayTime=new Stopwatch;this._viewAdPlayTime=new Stopwatch;this._activeVideoState=RCChartBeatStrategy.VideoState.UNPLAYED;this._activeContent=RCChartBeatStrategy.ContentType.AD;this._viewCurrentTime=0;this._autoplayType=RCChartBeatStrategy.AutoplayType.UNKNOWN;i=getParameterByName("isAutoPlay");this._autoplayType=i||i=="1"?RCChartBeatStrategy.AutoplayType.AUTOPLAY:RCChartBeatStrategy.AutoplayType.MANUAL;this._player.addEventListener(RadioCanada.player.events.AD_PLAY,function(){this._viewAdPlayTime.start();this._activeContent=RCChartBeatStrategy.ContentType.AD}.bind(this));this._player.addEventListener(RadioCanada.player.events.PLAY,function(){this._viewPlayTime.started||this._viewPlayTime.start();this._activeVideoState=RCChartBeatStrategy.VideoState.PLAYED}.bind(this));this._player.addEventListener(RadioCanada.player.events.AD_COMPLETE,function(){this._activeContent=RCChartBeatStrategy.ContentType.CONTENT;this._viewStartTime.started||this._viewStartTime.start()}.bind(this));this._player.addEventListener(RadioCanada.player.events.PAUSE,function(){this._viewStartTime.stop();this._activeVideoState=RCChartBeatStrategy.VideoState.STOPPED}.bind(this));this._player.addEventListener(RadioCanada.player.events.CURRENT_TIME_CHANGE,function(n){this._viewCurrentTime=n}.bind(this));this._player.addEventListener(RadioCanada.player.events.COMPLETE,function(){this._activeVideoState=RCChartBeatStrategy.VideoState.COMPLETED}.bind(this));t=getPlayerMetas(this._player);t&&(t.title&&(this._title=t.title),t.posterUrl&&(this._urlTeaser=t.posterUrl),t.duration&&!isNaN(t.duration)&&(this._totalDuration=t.duration),t.providerId&&(this._playerType=t.providerId.toString()),t.idMedia&&(this._videoId=t.idMedia),this._isReady=!0)}function getPlayerMetas(n){if(typeof n.metas=="undefined")setTimeout(function(){getPlayerMetas(n)},250);else return n.metas}function Stopwatch(n,t,i){this.startTime=0;this.stopTime=0;this.totalElapsed=0;this.started=!1;this.listener=n!=undefined?n:null;this.countUp=typeof i!="undefined"?i:!0;this.tickResolution=t!=undefined?t:500;this.tickInterval=null}function RCChartBeatStrategy(n){var i,t;this._player=n;this._urlTeaser="";this._totalDuration=0;this._title="";this._playerType="flash";this._videoId=0;this._isReady=!1;this._viewStartTime=new Stopwatch;this._viewPlayTime=new Stopwatch;this._viewAdPlayTime=new Stopwatch;this._activeVideoState=RCChartBeatStrategy.VideoState.UNPLAYED;this._activeContent=RCChartBeatStrategy.ContentType.AD;this._viewCurrentTime=0;this._autoplayType=RCChartBeatStrategy.AutoplayType.UNKNOWN;i=getParameterByName("isAutoPlay");this._autoplayType=i||"1"==i?RCChartBeatStrategy.AutoplayType.AUTOPLAY:RCChartBeatStrategy.AutoplayType.MANUAL;this._player.addEventListener(RadioCanada.player.events.AD_PLAY,function(){this._viewAdPlayTime.start();this._activeContent=RCChartBeatStrategy.ContentType.AD}.bind(this));this._player.addEventListener(RadioCanada.player.events.PLAY,function(){this._viewPlayTime.started||this._viewPlayTime.start();this._activeVideoState=RCChartBeatStrategy.VideoState.PLAYED}.bind(this));this._player.addEventListener(RadioCanada.player.events.AD_COMPLETE,function(){this._activeContent=RCChartBeatStrategy.ContentType.CONTENT;this._viewStartTime.started||this._viewStartTime.start()}.bind(this));this._player.addEventListener(RadioCanada.player.events.PAUSE,function(){this._viewStartTime.stop();this._activeVideoState=RCChartBeatStrategy.VideoState.STOPPED}.bind(this));this._player.addEventListener(RadioCanada.player.events.CURRENT_TIME_CHANGE,function(n){this._viewCurrentTime=n}.bind(this));this._player.addEventListener(RadioCanada.player.events.COMPLETE,function(){this._activeVideoState=RCChartBeatStrategy.VideoState.COMPLETED}.bind(this));t=getPlayerMetas(this._player);t&&(t.title&&(this._title=t.title),t.posterUrl&&(this._urlTeaser=t.posterUrl),t.duration&&!isNaN(t.duration)&&(this._totalDuration=t.duration),t.providerId&&(this._playerType=t.providerId.toString()),t.idMedia&&(this._videoId=t.idMedia),this._isReady=!0)}function getPlayerMetas(n){if(void 0!==n.metas)return n.metas;setTimeout(function(){getPlayerMetas(n)},250)}function Stopwatch(n,t,i){this.startTime=0;this.stopTime=0;this.totalElapsed=0;this.started=!1;this.listener=void 0!=n?n:null;this.countUp=void 0===i||i;this.tickResolution=void 0!=t?t:500;this.tickInterval=null}var bunkerRequire,google_maps_loaded_def,CSPhotoSelector,getParameterByName;(function(n,t){typeof define=="function"&&define.amd?define("pluggins/rc-oauth2-client/rc.oauth2.client",["module"],function(n){var i=t;return n.config().hasOwnProperty("settings")&&i.init(n.config().clientId,n.config().context,n.config().settings,n.config().debug),i}):n.rcOAuth2Client=t})(this,function(n){"use strict";var l=!1,s,r={accessToken:"access_token",expiresIn:"expires_in",tokenType:"token_type",state:"state",scope:"scope",error:"error",vfsession:"vfsession"},o={accessToken:"at",userInfo:"ui",vfSession:"VfSess"},f={clientId:"",responseType:"token",context:1},i={domain:"dev-services.radio-canada.ca",authorizePath:"/auth/oauth/v2/authorize",logoutPath:"/auth/oauth/v2/logout",userInfoPath:"/openid/connect/v1/userinfo",redirectUri:"",scope:"",state:"",persistUserInfo:!1,cookieMode:!1,cookieDomain:undefined,vfDependant:!1},u={vfDependant:!1,done:null,fail:null,cookieMode:!1,cookieDomain:undefined},t=function(n){l===!0&&console&&console.log("rcOauth2Client: "+n)},e=function(n){return typeof n=="function"},b=function(n,t){var i,r;for(i in n)for(r in t)if(i==r){n[i]=t[r];break}},a=function(i,r,u,f){t("setCookie");var e=i+"="+escape(r)+"; expires="+u+"; path=/"+(f?"; domain="+f:"");n.document.cookie=e;t(">> "+e)},k=function(t){var i=n.document.cookie,r=i.indexOf(" "+t+"="),u;return r==-1&&(r=i.indexOf(t+"=")),r==-1?i=null:(r=i.indexOf("=",r)+1,u=i.indexOf(";",r),u==-1&&(u=i.length),i=unescape(i.substring(r,u))),i},v=function(i,r){t("deleteCookie");var u=i+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"+(r?"; domain="+r:"");n.document.cookie=u;t(">> "+u)},h=function(){var n,t;if(s===undefined&&(s=f.context===1&&i.cookieMode===!1||f.context===2&&u.cookieMode===!1,s))try{n=new Date;localStorage.setItem(n,n);t=localStorage.getItem(n)==n;localStorage.removeItem(n);s=t&&localStorage}catch(r){s=!1}return s},it=function(t){var i,r,e,f,o,u;for(f=["protocol","hostname","port","pathname","search","hash","host"],r=n.document.createElement("A"),r.setAttribute("href",t),e=r.host===""&&r.protocol!=="file:",e&&(i=n.document.createElement("DIV"),i.innerHTML='<a href="'+t+'"><\/a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),n.document.body.appendChild(i)),o={},u=0;u<f.length;u++)o[f[u]]=r[f[u]];return e&&n.document.body.removeChild(i),o},rt=function(t){var i;XMLHttpRequest||(n.XMLHttpRequest=function(){try{return new n.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new n.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(i){}try{return new n.ActiveXObject("Msxml2.XMLHTTP")}catch(r){}throw new Error("This browser does not support XMLHttpRequest.");});i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===401?t.done(i.status,i.responseText):t.fail(i.status,i.statusText,"client: ajax onreadystatechange"))};try{i.open(t.method,t.url,t.async===!1?!1:!0);typeof t.bearerToken=="string"&&(i.setRequestHeader("Authorization","Bearer "+t.bearerToken),i.setRequestHeader("Content-Type","application/json;charset=utf-8"));t.withCredentials&&(i.withCredentials=!0)}catch(r){t.fail(i.status,r,"onconnectionopen");return}try{i.send()}catch(r){t.fail(i.status,r,"client: ajax onsend")}},d=function(){return u.vfDependant===!0||i.vfDependant===!0},g=function(t){var i=t;try{n.btoa&&t&&t!=" "&&(i=n.btoa(t))}catch(r){}return i},y=function(t){var i=t;try{n.atob&&t&&t!=" "&&(i=n.atob(t))}catch(r){}return i},ut=function(n,r,e,o){if(o===!0&&(l=!0),t("init"),!n||n==" ")throw new Error("clientId parameter: Please provide a valid client id.");if(f.clientId=n,f.context=r,f.context==1)b(i,e);else if(f.context==2)b(u,e),ft();else throw new Error("context parameter: Please provide a valid context.");},ft=function(){var o=it(n.document.location.href),i=nt(o.hash),f=nt(o.search),t,s;typeof i[r.accessToken]=="string"?(s=et(i),t=decodeURIComponent(i[r.state]).toString(),s?e(u.done)&&u.done(t):e(u.fail)&&u.fail("access token could not be persisted",t)):(t=decodeURIComponent(f[r.state]).toString(),typeof f[r.error]=="string"&&e(u.fail)&&u.fail(f[r.error],t))},c=function(n){return"rcoac."+f.clientId+"."+n},nt=function(n){var f={},t=n.substring(1),i,e,u;if(t=typeof t=="string"?t.split("&"):[],t.length>=1&&t[0]!="")for(i in t)for(e in r)u=r[e],t[i].indexOf(u)>=0&&(f[u]=t[i].split("=")[1]);return f},p=function(n){var t="https://"+i.domain+i.authorizePath;return t+="?client_id="+f.clientId,t+="&redirect_uri="+encodeURIComponent(i.redirectUri),t+="&response_type="+f.responseType,t+="&scope="+i.scope.replace(/\s/gi,"+"),typeof i.state=="string"&&(t+="&state="+encodeURIComponent(i.state)),t+("&lang="+(n==="en"?"en":"fr"))},w=function(){t("getAccessToken");var u=c(o.accessToken),n,r="",f,i;return h()?(n=localStorage.getItem(u),n=y(n),n&&n!=" "&&(n=JSON.parse(n),f=new Date,n&&Date.parse(n.expires)>f&&(r=n.token))):(i=k(u),i=y(i),i&&typeof i=="string"&&i!=" "&&(n=JSON.parse(i),n&&(r=n.token))),r},et=function(n){t("tryPersistAccessToken");var e=n[r.accessToken],l=n[r.expiresIn],v=n[r.scope],y=n[r.vfsession],s,i,f;return typeof e=="string"&&e!=""&&e!=" "&&typeof l=="string"&&typeof v=="string"?(s=c(o.accessToken),i=new Date,i.setSeconds(parseInt(l)),i=i.toUTCString(),f=JSON.stringify({token:e,expires:i}),f=g(f),h()?(t(">> set localStorage item: "+s),localStorage.setItem(s,f)):a(s,f,i,u.cookieDomain),d()&&a(o.vfSession,y,i,u.cookieDomain),!0):!1},tt=function(n){t("deletePersistedAccessToken");var r=c(o.accessToken);n===401&&(h()?(t(">> remove localStorage item: "+r),localStorage.removeItem(r)):v(r,i.cookieDomain),d()&&v(o.vfSession,i.cookieDomain))},ot=function(n){t("getUserInfo");n=n||{};var r=n.done,u=n.fail,f=n.forceRefresh||!1,s=w(),o;s?(t(">> forceRefresh="+f),f!==!0&&(o=st()),o?e(r)&&r(200,o):(n.method="GET",n.url="https://"+i.domain+i.userInfoPath+(f===!0?"?forceRefresh=true":""),n.bearerToken=s,n.withCredentials=!1,n.async=n.async===!1?!1:!0,n.done=function(n,t){return function(i,r){r&&r!=" "&&(r=JSON.parse(r));r||(r={});i==200&&ht(r);t&&n(i,r)}}(r,e(r)),n.fail=function(n,t){return function(i,r,u){tt(i);t&&n(i,r,u)}}(u,e(u)),rt(n))):e(u)&&u(401,"No valid access token found","client: getUserInfo")},st=function(){t("getPersistedUserInfo");var n,i="",r=c(o.userInfo);return n=h()?sessionStorage.getItem(r):k(r),n=y(n),n&&n!=" "&&(i=JSON.parse(n)),i},ht=function(n){t("tryPersistUserInfo");var u,r;return n&&i.persistUserInfo?(u=c(o.userInfo),r=typeof n!="string"?JSON.stringify(n):n,r=g(r),h()?(t(">> set localStorage item: "+u),sessionStorage.setItem(u,r)):a(u,r,"",i.cookieDomain),!0):!1},ct=function(n){t("deletePersistedUserInfo");var r=c(o.userInfo);n===401&&(h()?(t(" >> remove localStorage item: "+r),sessionStorage.removeItem(r)):v(r,i.cookieDomain))},lt=function(n,i){t("login");var r=p(i);e(n)?n(r):document.location.href=r},at=function(n){t("changePassword");var i=p(n);i+="&view=modify-email";document.location.href=i},vt=function(n){t("createAccount");var i=p(n);i+="&view=create";document.location.href=i},yt=function(n){t("logout");var u=w(),r;tt(401);ct(401);r=document.createElement("iframe");l||(r.style.display="none");r.height="1px";r.width="1px";r.onload=function(n,t,i){return function(){setTimeout(function(){document.body.removeChild(n);n=null},2e3);i&&t(200,{result:"ok"})}}(r,n,e(n));r.src="https://"+i.domain+i.logoutPath+"?access_token="+u;document.body.appendChild(r)};return{init:ut,getAccessToken:w,getUserInfo:ot,login:lt,logout:yt,changePassword:at,createAccount:vt}}(window));define("pluggins/underscore-mixin-helpers",["underscore","jquery"],function(n,t){n.mixin({mobile:function(){var n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}};return n},isTouchDevice:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},isIE8:function(){var n=-1,t,i;return navigator.appName==="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp(/MSIE ([0-9]{1,}[\.0-9]{0,})/),i.exec(t)!==null&&(n=parseFloat(RegExp.$1))),n!==-1&&n<9},nodeExist:function(n){return t("body").find(n).length>0?!0:!1},waitUntilIsUndifined:function(n,t,i){var r=function(){n()?i():setTimeout(function(){r()},t)};r()}})});define("services/bindingActivatorService",["underscore","jquery"],function(n,t){function r(r,u,f,e){var o,s;t(e).hide();t(r).appendTo(e);o=n.isFunction(u)?u():u;u.activate?(s=u.activate(f),s.then?s.then(function(){i(o,e)}):i(o,e)):i(o,e)}function i(n,i){ko.applyBindings(n,i);n.viewAttached&&n.viewAttached();t(i).show()}return{bind:function(n,i,u,f){t.ajax({url:n}).done(function(n){r(n,i,u,document.getElementById(f))})}}});define("pluggins/modalLightbox",["jquery","services/bindingActivatorService"],function(n,t){return{show:function(i,r,u){n("#modalHost").remove();n.colorbox({className:"regionalisation",html:'<div id="modalHost" class="modalHost"><\/div>',fixed:!0,width:"720px",height:"398px"});t.bind(i,r,u,"modalHost")},close:function(){n.colorbox.close()}}});define("services/componentsService",["jquery","pluggins/modalLightbox","underscore","externals/components/VirtualElementService/main"],function(n,t,i,r){var u=function(){function a(t,i,r,u){return n.ajax({url:window.appRouteBunker+"/component/"+t,data:n.param(i),success:function(t){var i,f,h;i=u?u(t,r):n(r).html(t);f=n(t)[0].id;h=f?"#"+f:o.componentRootSelector;i=i.find(h);e(i);s(i)}})}function v(t,i,r){return n.ajax({url:window.appHost+"/component/"+t,data:n.param(i),success:function(t){var i=n(t).get(0);ko.utils.replaceDomNodes(r,[i]);e(n(i));s(n(i))}})}function e(t){return n.Deferred(function(r){var f=t.data("component-name");f?bunkerRequire(["externals/components/"+f+"/main"],function(e){i.isFunction(e)&&(e=new e);u[f]=e;e.init?n.when(e.init(t.get(0))).done(function(){r.resolve()}):r.resolve()}):r.resolve()})}function s(i){var r=[];n(i).find(o.componentRootSelector).each(function(){r.push(e(n(this)))});n.when.apply(n,r).done(function(){for(var n in u)u[n].finalize&&!u[n].finalized&&(u[n].finalize(),u[n].finalized=!0);c.finalized&&(c.finalized(),h=[])});n(".component-configuration").each(function(i,r){var f=n(r),s=$(f).data("component-infos"),h=n("<div/>"),u,e,o;h.css({position:"absolute",top:0,right:0,height:"21px",width:"21px","z-index":"10000001",background:"url(/Unit/Content/_documentation/pencil.png)"});u=n("<div/>");u.css({position:"absolute",top:0,left:0,height:f.outerHeight(!0),width:f.outerWidth(!0),"z-index":"10000000",border:"2px dotted gray"});e=n("<div/>");e.css({position:"absolute",top:0,left:0,height:f.outerHeight(!0),width:f.outerWidth(!0),"z-index":"10000002"});u.hide();e.hover(function(){u.show()},function(){u.hide()});o=n("<h3/>");o.html(s.componentName);o.css({position:"absolute",top:0,left:0,"z-index":"10000000"});h.click(function(){t.show(window.appRouteBunker+"/component/componenteditor",{name:ko.observable(s.componentName),params:ko.observableArray(s.parameters)},{})});f.prepend(e);e.prepend(u);u.prepend(o);u.prepend(h)})}function y(){i.each(r.getVirtualNodes(document),function(t){return n.Deferred(function(r){var e="{"+t.data+"}",f=n.extend(JSON.parse(e));bunkerRequire(["externals/components/"+f.component.name+"/main"],function(e){i.isFunction(e)&&(e=new e);u[f.component.name]=e;e.init?n.when(e.init(t.elements)).done(function(){r.resolve()}):r.resolve()})})})}function p(t,r){n.ajax({url:window.appHost+"/component/"+t,data:n.param(r),dataType:"html"}).done(function(n){f[t].html=n.html||n;i.each(f[t].callbacks,function(n){n()})})}function w(t,i,r,u){var f,h;f=r?r(t,i):u?n(i).append(t):n(i).html(t);h=n(t)[0].id?"#"+n(t)[0].id:o.componentRootSelector;f=f.find(h);e(f);s(f)}var c=this,u=[],h=[],o={baseUrl:"",componentRootSelector:".bunker-component"},f={},l=!1;this.configure=function(n){for(var t in n)o[t]=n[t]};this.load=a;this.loadAndReplace=v;this.initialize=e;this.initializeAll=s;this.initialyzeVirtuel=y;this.finalized=function(t){i.isUndefined(t)?n.each(h,function(n,t){t()}):h.push(t);l=!0};this.isFinalized=function(){return l};this.components=u;this.unload=function(t){n(t).children().each(function(n,t){ko.removeNode(t)})};this.loadCache=function(t,r,u,e,o){return n.Deferred(function(s){f[t]||(f[t]={callbacks:[],html:""},i.defer(function(){p(t,r)}));var h=function(){var c=n(f[t].html),h;c.attr("id",i.uniqueId("component"));for(h in r)r.hasOwnProperty(h)&&c.attr("data-"+h.toLowerCase(),r[h]);w(c.wrap("<div/>").parent().html(),u,e,o);s.resolve()};f[t].html.length==0?f[t].callbacks.push(function(){h()}):h()})}};return new u});define("pluggins/src.socialbar",["jquery"],function(n){var t=function(){function r(t){var i,r;navigator.userAgent!="snapshotagent"&&(i=null,i=t.indexOf("SocialBar-")==0?n("#"+t).data("socialbar"):n("#SocialBar-"+t).data("socialbar"),r=RadioCanada.SocialBar.GetApiUrl(i),n.getScript(r).done(function(){typeof twttr!="undefined"&&twttr.widgets.load()}))}function u(r){navigator.userAgent!="snapshotagent"&&(r||(r=document),n(r).find(".SocialBarContainer:not([data-loaded])").each(function(i,r){n(this).data("loaded","true");var u=n(r).data("socialbar");u&&t.push(u)}),i())}function f(n){t.push(n);i()}function e(){RadioCanada.SocialBar.ShowSocialBar(t)}var o=this,t=[],i=_.debounce(e,500);this.initSocialBar=u;this.initSingleSocialBar=r;this.initSociabBarParams=f};return new t});define("pluggins/knockout-mixin-helpers",["underscore","moment","jquery","services/componentsService","pluggins/src.socialbar"],function(n,t,i,r,u){function f(n){var t=i(n).offset();if(!t)return!1;var r=i(window).scrollTop(),o=r+i(window).height(),u=i(window).scrollLeft(),s=u+i(window).width(),f=t.top,h=f+i(n).height(),e=t.left,c=e+i(n).width();return r<h&&o>f&&u<c&&s>e}ko.bindingHandlers.stopBinding={init:function(n,t){var i=ko.unwrap(t());return{controlsDescendantBindings:i}}};ko.virtualElements.allowedBindings.momentHourMinuteSecondText=!0;ko.bindingHandlers.momentHourMinuteSecondText={update:function(n,i){var u=i(),r=t().startOf("year").add(ko.unwrap(u.seconds),"seconds"),f=r.hour()>0?r.format("H:mm:ss"):r.format("m:ss");return ko.bindingHandlers.text.update(n,ko.observable(f))}};ko.virtualElements.allowedBindings.momentFrenchShortTime=!0;ko.bindingHandlers.momentFrenchShortTime={update:function(n,i){var o=i(),s=o.duration,f=o.params,r=t.duration(s,"seconds"),u="",e;return(f.indexOf("h")>-1&&r.hours()>0&&(e=r.days(),u+=(e>0?r.hours()+e+24:r.hours())+" h "),f.indexOf("m")>-1&&r.minutes()>0&&(u+=r.minutes()+" min "),r.seconds()<60&&f.indexOf("s")==-1&&r.hours()==0&&r.minutes()==0)?(u="< 1 min",ko.bindingHandlers.text.update(n,ko.observable(u))):(f.indexOf("s")>-1&&r.seconds()>0&&(u+=r.seconds()+" s "),ko.bindingHandlers.text.update(n,ko.observable(u)))}};ko.bindingHandlers.socialNetwork={init:function(n,t){var o,r,e,f;navigator.userAgent!="snapshotagent"&&(o={socialBarId:"",url:"",title:"",showShareCount:!1,showFacebook:!0,showTwitter:!0,showGooglePlus:!1,showPinterest:!1,showLinkedIn:!1,showMailSharing:!1,showPluck:!1,showViafoura:!1,showPrint:!1,showResizeText:!1,fullSocialBar:!0,webTrendStatsToClic:!1,webTrendIconPlusAction:"",webTrendEmailAction:"",webTrendGooglePlusAction:"",webTrendFacebookAction:"",webTrendTwitterAction:"",webTrendStatsContent:"",includeLess:!1,darkStyle:!1,compactSocialBar:!1,verticalSocialBar:!1},r=ko.toJS(t()),r.title=encodeURIComponent((r.title||"").replace(/(<([^>]+)>)/ig,"")),r.title=r.title.replace(/[\u2019]/ig,"'"),e=i.extend(o,r),f=document.createElement("div"),f.setAttribute("id","SocialBar-"+e.socialBarId),f.className="SocialBarContainer",n.appendChild(f),u.initSociabBarParams(e))}};ko.bindingHandlers.appearsOnScreenOnce={init:function(t,r,u,e){if(!e.onAppearsOnScreen){var o=r();e.isOnScreen=f(t);e.inChange=!1;e.onScrollOrResizeThrottled=n.throttle(function(){var n=i(t),r=f(n);!e.isOnScreen&&r&&(o(e),e.isOnScreen=!0,i(window).off("scroll resize click",e.onScrollOrResizeThrottled))},400);i(window).on("scroll resize click",e.onScrollOrResizeThrottled);e.isOnScreen&&o(e)}}}});define("services/anchorsModifierService",["jquery"],function(n){function t(t){var i=n(t).find("a[href^='http'], a[href^='//']").not('[href*="radio-canada.ca"]');n.each(i,function(t,i){n(i).attr("target","_blank")})}function i(){var t=n(document).find("a").attr("href","javascript:void(0)")}function r(t){var i=n(t).find("a").attr("href","javascript:void(0)")}return{addTargetBlankExtLink:t,disablePagesLinks:i,disableContainerLinks:r}});define("services/viewportService",["jquery","underscore"],function(n,t){var i=function(){function u(n,t){i.isMobileDevice=n<=r.xsmall;i.isTabletMdDevice=n<=r.small&&n>r.xsmall;i.isTabletLgDevice=n<=r.medium&&n>r.small;i.isDesktop=n>=r.large;i.width=n;i.height=t;i.current=i.isMobileDevice?"Mobile":i.current;i.current=i.isTabletMdDevice?"Tablet Medium":i.current;i.current=i.isTabletLgDevice?"Tablet Large":i.current;i.current=i.isDesktop?"Desktop":i.current;i.breakpoint="xs";n<=r.new_sm?i.breakpoint="sm":n<=r.new_md&&(i.breakpoint="md");n<=r.new_lg&&(i.breakpoint="lg");n<=r.new_xl&&(i.breakpoint="xl");n<=r.new_sm&&(i.breakpoint="xxl")}function e(){for(var n in f)try{f[n](i)}catch(t){console.log(t)}}var f=[],r={xsmall:480,small:960,medium:1279,large:1919,xlarge:1920,new_xs:640,new_sm:641,new_md:1024,new_lg:1240,new_xl:1600,new_xll:2340},i={statsViewport:"",current:"",width:0,height:0,isMobileDevice:!1,isTabletMdDevice:!1,isTabletLgDevice:!1,isDesktop:!1,breakpoint:"xs"};this.init=function(){u(window.innerWidth,window.innerHeight);n(window).resize(t.debounce(function(){u(window.innerWidth,window.innerHeight);e()},100))};this.getViewport=function(){return i};this.ensureResolveViewport=function(){u(window.innerWidth,window.innerHeight)};this.registerViewportChanged=function(n){f.push(n)};this.setDimensions=function(n){r=n;u(window.innerWidth,window.innerHeight)}};return new i});define("services/pubService",["jquery","underscore"],function(){var n=function(){var n=[],t=[],i=[],r=[],u=[],f;this.initPubCallback=function(){n.length>0&&(RadioCanada.Mod.afterEachAdLoaded=function(t){for(var i in n)n[i][0](t,n[i][1])});t.length>0&&(RadioCanada.Mod.afterAllAdsLoaded=function(n){for(var i in t)t[i][0](n,t[i][1])});i.length>0&&(RadioCanada.Mod.beforeEachAdLoaded=function(n,t){for(var r in i)i[r][0](n,t,i[r][1])});r.length>0&&(RadioCanada.Mod.beforeEachAdRefreshed=function(n){for(var t in r)r[t][0](n,r[t][1])});u.length>0&&(RadioCanada.Mod.beforeResolutionChanged=function(n,t,i){for(var r in u)u[r][0](n,t,i,u[r][1])});setTimeout(function(){window.srcPubLoad!=undefined&&window.srcPubLoad()},1);f=!0};this.addAfterEachAdLoadedCallback=function(t,i){n.push([t,i])};this.addAfterAllAdsLoadedCallback=function(n,i){t.push([n,i])};this.addBeforeEachAdLoadedCallback=function(n,t){i.push([n,t])};this.addBeforeEachAdRefreshedCallback=function(n,t){r.push([n,t])};this.addBeforeResolutionChangedCallback=function(n,t){u.push([n,t])};this.isInitialize=function(){return f}};return new n});define("services/knockoutService",[],function(){return{traverse:function n(t,i){var r=this;_.forIn(t,function(t,u){u!=="__ko_mapping__"&&(i.apply(r,[u,t]),t!==null&&typeof t=="object"&&n(t,i))})}}});define("services/ariaExtender",["jquery","underscore","services/knockoutService"],function(n,t,i){ko.extenders.a11yAria=function(n){i.traverse(n(),function(n,i){i.required=t.some(i.rules(),function(n){return n.rule=="required"});i.ariaInvalid=ko.computed(function(){var n="false";return i.isModified()&&(n=i.isValid()?!1:!0),n})})};ko.bindingHandlers.a11yAria={init:function(t,i){n(t).attr("aria-required",i().required?"true":"false");n(t).attr("aria-invalid",!1);i().ariaInvalid.subscribe(function(i){n(t).attr("aria-invalid",i)})}}});window.liveFeedV2=window.liveFeedV2||{};window.liveFeedV2.liveApiEvents=window.liveFeedV2.liveApiEvents||[];window.liveApiEvent=function(n){if(window.liveFeedV2.liveApiEvents.push(n),window.liveFeedV2.onLiveApiEvent)window.liveFeedV2.onLiveApiEvent(n)};bunkerRequire=require.config({waitSeconds:60,baseUrl:window.appRouteBunker+"/App",paths:{webtrends:"//s.radio-canada.ca/webtrends/js/webtrends.1.0.0",googlemaps:"//maps.googleapis.com/maps/api/js?key=AIzaSyDJNjWz3Q4dyUvrynxWZ_kDHzC60gCleV4&language=fr&callback=google_maps_loaded","jquery.form":"pluggins/jquery.form",facebook:"//connect.facebook.net/fr_CA/all",csphotoselector:"pluggins/csphotoselector",gridder:"pluggins/jquery.gridder",dragdealer:"pluggins/dragdealer",pagination:"pluggins/jquery.simplePagination",text:"lib/text",picker:"pluggins/picker",createJs:"lib/createjs-2015.11.26.min"},map:{"*":{jquery:"pluggins/jquery-private"},"jquery-private":{jquery:"jquery"}},shim:{webtrends:{exports:"window.RadioCanada.Stats.WebTrends"},"jquery.form":{deps:["jquery"],exports:"jq.form"},gridder:{deps:["jquery"],exports:"gridder"},dragdealer:{deps:["jquery"],exports:"dragdealer"},csphotoselector:{deps:["jquery"],exports:"CSPhotoSelector"},facebook:{exports:"FB"},createJs:{deps:["jquery"],exports:"createJs"},pagination:{deps:["jquery"],exports:"pagination"}}});bunkerRequire(["pluggins/rc-oauth2-client/rc.oauth2.client"],function(n){window.rcOAuth2Client=n});bunkerRequire(["pluggins/underscore-mixin-helpers"],function(){});bunkerRequire(["pluggins/knockout-mixin-helpers"],function(){});bunkerRequire(["externals/components/PremiereMediaService/mediaKnockoutHelpers"],function(){});bunkerRequire(["externals/components/WebTrendService/webtrendsKnockoutHelpers"],function(){});bunkerRequire(["externals/components/A11YService/a11yKnockoutHelpers"],function(){});bunkerRequire(["services/componentsService","pluggins/src.socialbar","jquery","services/anchorsModifierService","services/viewportService","underscore","services/pubService","externals/components/PushStateControl/pushStateService","moment","externals/components/PushStateControl/loaderStateService","externals/components/AppStateService/appStateService","externals/components/AdsManager/main","services/ariaExtender"],function(n,t,i,r,u,f,e,o,s,h,c,l){function a(){i.fx.interval=f.mobile().any()?100:13}o.init();s.tz.add("America/Montreal|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0");i(document).ready(function(){u.init();c.init();n.initializeAll(document);n.initialyzeVirtuel(document);n.finalized(function(){});a();f.waitUntilIsUndifined(function(){return window.liveApi},2e3,function(){i(document).on("v5:region:principale:change",function(){window.liveApi.reloadRegion()})});l.init()})});
/*!
* @license CreateJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2015 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{};createjs.extend=function(n,t){"use strict";function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i};this.createjs=this.createjs||{};createjs.promote=function(n,t){"use strict";var i=n.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(i)||i.__proto__,u;if(r){i[(t+="_")+"constructor"]=r.constructor;for(u in r)i.hasOwnProperty(u)&&"function"==typeof r[u]&&(i[t+u]=r[u])}return n};this.createjs=this.createjs||{};createjs.indexOf=function(n,t){"use strict";for(var i=0,r=n.length;r>i;i++)if(t===n[i])return i;return-1};this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i){this.type=n;this.target=null;this.currentTarget=null;this.eventPhase=0;this.bubbles=!!t;this.cancelable=!!i;this.timeStamp=(new Date).getTime();this.defaultPrevented=!1;this.propagationStopped=!1;this.immediatePropagationStopped=!1;this.removed=!1}var n=t.prototype;n.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0};n.stopPropagation=function(){this.propagationStopped=!0};n.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};n.remove=function(){this.removed=!0};n.clone=function(){return new t(this.type,this.bubbles,this.cancelable)};n.set=function(n){for(var t in n)this[t]=n[t];return this};n.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=t}();this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null;this._captureListeners=null}var n=t.prototype;t.initialize=function(t){t.addEventListener=n.addEventListener;t.on=n.on;t.removeEventListener=t.off=n.removeEventListener;t.removeAllEventListeners=n.removeAllEventListeners;t.hasEventListener=n.hasEventListener;t.dispatchEvent=n.dispatchEvent;t._dispatchEvent=n._dispatchEvent;t.willTrigger=n.willTrigger};n.addEventListener=function(n,t,i){var u,r;return u=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},r=u[n],r&&this.removeEventListener(n,t,i),r=u[n],r?r.push(t):u[n]=[t],t};n.on=function(n,t,i,r,u,f){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(n,function(n){t.call(i,n,u);r&&n.remove()},f)};n.removeEventListener=function(n,t,i){var f=i?this._captureListeners:this._listeners,r,u,e;if(f&&(r=f[n],r))for(u=0,e=r.length;e>u;u++)if(r[u]==t){1==e?delete f[n]:r.splice(u,1);break}};n.off=n.removeEventListener;n.removeAllEventListeners=function(n){n?(this._listeners&&delete this._listeners[n],this._captureListeners&&delete this._captureListeners[n]):this._listeners=this._captureListeners=null};n.dispatchEvent=function(n,t,i){var e,u,f,r,o;if("string"==typeof n){if(e=this._listeners,!(t||e&&e[n]))return!0;n=new createjs.Event(n,t,i)}else n.target&&n.clone&&(n=n.clone());try{n.target=this}catch(s){}if(n.bubbles&&this.parent){for(u=this,f=[u];u.parent;)f.push(u=u.parent);for(o=f.length,r=o-1;r>=0&&!n.propagationStopped;r--)f[r]._dispatchEvent(n,1+(0==r));for(r=1;o>r&&!n.propagationStopped;r++)f[r]._dispatchEvent(n,3)}else this._dispatchEvent(n,2);return!n.defaultPrevented};n.hasEventListener=function(n){var t=this._listeners,i=this._captureListeners;return!!(t&&t[n]||i&&i[n])};n.willTrigger=function(n){for(var t=this;t;){if(t.hasEventListener(n))return!0;t=t.parent}return!1};n.toString=function(){return"[EventDispatcher]"};n._dispatchEvent=function(n,t){var f,e=1==t?this._captureListeners:this._listeners,i,u,r;if(n&&e){if(i=e[n.type],!i||!(f=i.length))return;try{n.currentTarget=this}catch(o){}try{n.eventPhase=t}catch(o){}for(n.removed=!1,i=i.slice(),u=0;f>u&&!n.immediatePropagationStopped;u++)r=i[u],r.handleEvent?r.handleEvent(n):r(n),n.removed&&(this.off(n.type,r,1==t),n.removed=!1)}};createjs.EventDispatcher=t}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"Ticker cannot be instantiated.";}n.RAF_SYNCHED="synched";n.RAF="raf";n.TIMEOUT="timeout";n.useRAF=!1;n.timingMode=null;n.maxDelta=0;n.paused=!1;n.removeEventListener=null;n.removeAllEventListeners=null;n.dispatchEvent=null;n.hasEventListener=null;n._listeners=null;createjs.EventDispatcher.initialize(n);n._addEventListener=n.addEventListener;n.addEventListener=function(){return!n._inited&&n.init(),n._addEventListener.apply(n,arguments)};n._inited=!1;n._startTime=0;n._pausedTime=0;n._ticks=0;n._pausedTicks=0;n._interval=50;n._lastTime=0;n._times=null;n._tickTimes=null;n._timerId=null;n._raf=!0;n.setInterval=function(t){n._interval=t;n._inited&&n._setupTick()};n.getInterval=function(){return n._interval};n.setFPS=function(t){n.setInterval(1e3/t)};n.getFPS=function(){return 1e3/n._interval};try{Object.defineProperties(n,{interval:{get:n.getInterval,set:n.setInterval},framerate:{get:n.getFPS,set:n.setFPS}})}catch(i){console.log(i)}n.init=function(){n._inited||(n._inited=!0,n._times=[],n._tickTimes=[],n._startTime=n._getTime(),n._times.push(n._lastTime=0),n.interval=n._interval)};n.reset=function(){if(n._raf){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;t&&t(n._timerId)}else clearTimeout(n._timerId);n.removeAllEventListeners("tick");n._timerId=n._times=n._tickTimes=null;n._startTime=n._lastTime=n._ticks=0;n._inited=!1};n.getMeasuredTickTime=function(t){var u=0,i=n._tickTimes,r;if(!i||i.length<1)return-1;for(t=Math.min(i.length,t||0|n.getFPS()),r=0;t>r;r++)u+=i[r];return u/t};n.getMeasuredFPS=function(t){var i=n._times;return!i||i.length<2?-1:(t=Math.min(i.length-1,t||0|n.getFPS()),1e3/((i[0]-i[t])/t))};n.setPaused=function(t){n.paused=t};n.getPaused=function(){return n.paused};n.getTime=function(t){return n._startTime?n._getTime()-(t?n._pausedTime:0):-1};n.getEventTime=function(t){return n._startTime?(n._lastTime||n._startTime)-(t?n._pausedTime:0):-1};n.getTicks=function(t){return n._ticks-(t?n._pausedTicks:0)};n._handleSynch=function(){n._timerId=null;n._setupTick();n._getTime()-n._lastTime>=.97*(n._interval-1)&&n._tick()};n._handleRAF=function(){n._timerId=null;n._setupTick();n._tick()};n._handleTimeout=function(){n._timerId=null;n._setupTick();n._tick()};n._setupTick=function(){var t,i;if(null==n._timerId){if(t=n.timingMode||n.useRAF&&n.RAF_SYNCHED,(t==n.RAF_SYNCHED||t==n.RAF)&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,i))return n._timerId=i(t==n.RAF?n._handleRAF:n._handleSynch),void(n._raf=!0);n._raf=!1;n._timerId=setTimeout(n._handleTimeout,n._interval)}};n._tick=function(){var f=n.paused,t=n._getTime(),u=t-n._lastTime,i,r;for((n._lastTime=t,n._ticks++,f&&(n._pausedTicks++,n._pausedTime+=u),n.hasEventListener("tick"))&&(i=new createjs.Event("tick"),r=n.maxDelta,i.delta=r&&u>r?r:u,i.paused=f,i.time=t,i.runTime=t-n._pausedTime,n.dispatchEvent(i)),n._tickTimes.unshift(n._getTime()-t);n._tickTimes.length>100;)n._tickTimes.pop();for(n._times.unshift(t);n._times.length>100;)n._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);n._getTime=function(){return(t&&t.call(performance)||(new Date).getTime())-n._startTime};createjs.Ticker=n}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"UID cannot be instantiated";}n._nextID=0;n.get=function(){return n._nextID++};createjs.UID=n}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i,r,u,f,e,o,s,h,c){this.Event_constructor(n,t,i);this.stageX=r;this.stageY=u;this.rawX=null==s?r:s;this.rawY=null==h?u:h;this.nativeEvent=f;this.pointerID=e;this.primary=!!o;this.relatedTarget=c}var n=createjs.extend(t,createjs.Event);n._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};n._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};n._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(n,{localX:{get:n._get_localX},localY:{get:n._get_localY},isTouch:{get:n._get_isTouch}})}catch(i){}n.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};n.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=createjs.promote(t,"Event")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i,r,u,f){this.setValues(n,t,i,r,u,f)}var n=t.prototype;t.DEG_TO_RAD=Math.PI/180;t.identity=null;n.setValues=function(n,t,i,r,u,f){return this.a=null==n?1:n,this.b=t||0,this.c=i||0,this.d=null==r?1:r,this.tx=u||0,this.ty=f||0,this};n.append=function(n,t,i,r,u,f){var e=this.a,o=this.b,s=this.c,h=this.d;return(1!=n||0!=t||0!=i||1!=r)&&(this.a=e*n+s*t,this.b=o*n+h*t,this.c=e*i+s*r,this.d=o*i+h*r),this.tx=e*u+s*f+this.tx,this.ty=o*u+h*f+this.ty,this};n.prepend=function(n,t,i,r,u,f){var e=this.a,o=this.c,s=this.tx;return this.a=n*e+i*this.b,this.b=t*e+r*this.b,this.c=n*o+i*this.d,this.d=t*o+r*this.d,this.tx=n*s+i*this.ty+u,this.ty=t*s+r*this.ty+f,this};n.appendMatrix=function(n){return this.append(n.a,n.b,n.c,n.d,n.tx,n.ty)};n.prependMatrix=function(n){return this.prepend(n.a,n.b,n.c,n.d,n.tx,n.ty)};n.appendTransform=function(n,i,r,u,f,e,o,s,h){if(f%360)var a=f*t.DEG_TO_RAD,c=Math.cos(a),l=Math.sin(a);else c=1,l=0;return e||o?(e*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(e),Math.cos(e),n,i),this.append(c*r,l*r,-l*u,c*u,0,0)):this.append(c*r,l*r,-l*u,c*u,n,i),(s||h)&&(this.tx-=s*this.a+h*this.c,this.ty-=s*this.b+h*this.d),this};n.prependTransform=function(n,i,r,u,f,e,o,s,h){if(f%360)var a=f*t.DEG_TO_RAD,c=Math.cos(a),l=Math.sin(a);else c=1,l=0;return(s||h)&&(this.tx-=s,this.ty-=h),e||o?(e*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(c*r,l*r,-l*u,c*u,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(e),Math.cos(e),n,i)):this.prepend(c*r,l*r,-l*u,c*u,n,i),this};n.rotate=function(n){n*=t.DEG_TO_RAD;var i=Math.cos(n),r=Math.sin(n),u=this.a,f=this.b;return this.a=u*i+this.c*r,this.b=f*i+this.d*r,this.c=-u*r+this.c*i,this.d=-f*r+this.d*i,this};n.skew=function(n,i){return n*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(n),Math.cos(n),0,0),this};n.scale=function(n,t){return this.a*=n,this.b*=n,this.c*=t,this.d*=t,this};n.translate=function(n,t){return this.tx+=this.a*n+this.c*t,this.ty+=this.b*n+this.d*t,this};n.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this};n.invert=function(){var t=this.a,i=this.b,r=this.c,u=this.d,f=this.tx,n=t*u-i*r;return this.a=u/n,this.b=-i/n,this.c=-r/n,this.d=t/n,this.tx=(r*this.ty-u*f)/n,this.ty=-(t*this.ty-i*f)/n,this};n.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d};n.equals=function(n){return this.tx===n.tx&&this.ty===n.ty&&this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d};n.transformPoint=function(n,t,i){return i=i||{},i.x=n*this.a+t*this.c+this.tx,i.y=n*this.b+t*this.d+this.ty,i};n.decompose=function(n){null==n&&(n={});n.x=this.tx;n.y=this.ty;n.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);n.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var r=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a),u=Math.abs(1-r/i);return 1e-5>u?(n.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(n.rotation+=n.rotation<=0?180:-180),n.skewX=n.skewY=0):(n.skewX=r/t.DEG_TO_RAD,n.skewY=i/t.DEG_TO_RAD),n};n.copy=function(n){return this.setValues(n.a,n.b,n.c,n.d,n.tx,n.ty)};n.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)};n.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};t.identity=new t;createjs.Matrix2D=t}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i,r,u){this.setValues(n,t,i,r,u)}var n=t.prototype;n.setValues=function(n,t,i,r,u){return this.visible=null==n?!0:!!n,this.alpha=null==t?1:t,this.shadow=i,this.compositeOperation=r,this.matrix=u||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this};n.append=function(n,t,i,r,u){return this.alpha*=t,this.shadow=i||this.shadow,this.compositeOperation=r||this.compositeOperation,this.visible=this.visible&&n,u&&this.matrix.appendMatrix(u),this};n.prepend=function(n,t,i,r,u){return this.alpha*=t,this.shadow=this.shadow||i,this.compositeOperation=this.compositeOperation||r,this.visible=this.visible&&n,u&&this.matrix.prependMatrix(u),this};n.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this};n.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())};createjs.DisplayProps=t}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t){this.setValues(n,t)}var n=t.prototype;n.setValues=function(n,t){return this.x=n||0,this.y=t||0,this};n.copy=function(n){return this.x=n.x,this.y=n.y,this};n.clone=function(){return new t(this.x,this.y)};n.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=t}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i,r){this.setValues(n,t,i,r)}var n=t.prototype;n.setValues=function(n,t,i,r){return this.x=n||0,this.y=t||0,this.width=i||0,this.height=r||0,this};n.extend=function(n,t,i,r){return i=i||0,r=r||0,n+i>this.x+this.width&&(this.width=n+i-this.x),t+r>this.y+this.height&&(this.height=t+r-this.y),n<this.x&&(this.width+=this.x-n,this.x=n),t<this.y&&(this.height+=this.y-t,this.y=t),this};n.pad=function(n,t,i,r){return this.x-=t,this.y-=n,this.width+=t+r,this.height+=n+i,this};n.copy=function(n){return this.setValues(n.x,n.y,n.width,n.height)};n.contains=function(n,t,i,r){return i=i||0,r=r||0,n>=this.x&&n+i<=this.x+this.width&&t>=this.y&&t+r<=this.y+this.height};n.union=function(n){return this.clone().extend(n.x,n.y,n.width,n.height)};n.intersection=function(n){var i=n.x,r=n.y,u=i+n.width,f=r+n.height;return this.x>i&&(i=this.x),this.y>r&&(r=this.y),this.x+this.width<u&&(u=this.x+this.width),this.y+this.height<f&&(f=this.y+this.height),i>=u||r>=f?null:new t(i,r,u-i,f-r)};n.intersects=function(n){return n.x<=this.x+this.width&&this.x<=n.x+n.width&&n.y<=this.y+this.height&&this.y<=n.y+n.height};n.isEmpty=function(){return this.width<=0||this.height<=0};n.clone=function(){return new t(this.x,this.y,this.width,this.height)};n.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=t}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i,r,u,f,e){n.addEventListener&&(this.target=n,this.overLabel=null==i?"over":i,this.outLabel=null==t?"out":t,this.downLabel=null==r?"down":r,this.play=u,this._isPressed=!1,this._isOver=!1,this._enabled=!1,n.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),f&&(e&&(f.actionsEnabled=!1,f.gotoAndStop&&f.gotoAndStop(e)),n.hitArea=f))}var n=t.prototype;n.setEnabled=function(n){if(n!=this._enabled){var t=this.target;this._enabled=n;n?(t.cursor="pointer",t.addEventListener("rollover",this),t.addEventListener("rollout",this),t.addEventListener("mousedown",this),t.addEventListener("pressup",this),t._reset&&(t.__reset=t._reset,t._reset=this._reset)):(t.cursor=null,t.removeEventListener("rollover",this),t.removeEventListener("rollout",this),t.removeEventListener("mousedown",this),t.removeEventListener("pressup",this),t.__reset&&(t._reset=t.__reset,delete t.__reset))}};n.getEnabled=function(){return this._enabled};try{Object.defineProperties(n,{enabled:{get:n.getEnabled,set:n.setEnabled}})}catch(i){}n.toString=function(){return"[ButtonHelper]"};n.handleEvent=function(n){var t,i=this.target,r=n.type;"mousedown"==r?(this._isPressed=!0,t=this.downLabel):"pressup"==r?(this._isPressed=!1,t=this._isOver?this.overLabel:this.outLabel):"rollover"==r?(this._isOver=!0,t=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,t=this._isPressed?this.overLabel:this.outLabel);this.play?i.gotoAndPlay&&i.gotoAndPlay(t):i.gotoAndStop&&i.gotoAndStop(t)};n._reset=function(){var n=this.paused;this.__reset();this.paused=n};createjs.ButtonHelper=t}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t,i,r){this.color=n||"black";this.offsetX=t||0;this.offsetY=i||0;this.blur=r||0}var t=n.prototype;n.identity=new n("transparent",0,0,0);t.toString=function(){return"[Shadow]"};t.clone=function(){return new n(this.color,this.offsetX,this.offsetY,this.blur)};createjs.Shadow=n}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.EventDispatcher_constructor();this.complete=!0;this.framerate=0;this._animations=null;this._frames=null;this._images=null;this._data=null;this._loadCount=0;this._frameHeight=0;this._frameWidth=0;this._numFrames=0;this._regX=0;this._regY=0;this._spacing=0;this._margin=0;this._parseData(n)}var n=createjs.extend(t,createjs.EventDispatcher);n.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(n,{animations:{get:n.getAnimations}})}catch(i){}n.getNumFrames=function(n){if(null==n)return this._frames?this._frames.length:this._numFrames||0;var t=this._data[n];return null==t?0:t.frames.length};n.getAnimation=function(n){return this._data[n]};n.getFrame=function(n){var t;return this._frames&&(t=this._frames[n])?t:null};n.getFrameBounds=function(n,t){var i=this.getFrame(n);return i?(t||new createjs.Rectangle).setValues(-i.regX,-i.regY,i.rect.width,i.rect.height):null};n.toString=function(){return"[SpriteSheet]"};n.clone=function(){throw"SpriteSheet cannot be cloned.";};n._parseData=function(n){var r,h,u,f,e,c,o,s,t,i,l;if(null!=n){if(this.framerate=n.framerate||0,n.images&&(h=n.images.length)>0)for(f=this._images=[],r=0;h>r;r++)e=n.images[r],"string"==typeof e&&(c=e,e=document.createElement("img"),e.src=c),f.push(e),e.getContext||e.naturalWidth||(this._loadCount++,this.complete=!1,function(n,t){e.onload=function(){n._handleImageLoad(t)}}(this,c),function(n,t){e.onerror=function(){n._handleImageError(t)}}(this,c));if(null!=n.frames)if(Array.isArray(n.frames))for(this._frames=[],f=n.frames,r=0,h=f.length;h>r;r++)o=f[r],this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0});else u=n.frames,this._frameWidth=u.width,this._frameHeight=u.height,this._regX=u.regX||0,this._regY=u.regY||0,this._spacing=u.spacing||0,this._margin=u.margin||0,this._numFrames=u.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(u=n.animations)){this._data={};for(s in u){if(t={name:s},i=u[s],"number"==typeof i)f=t.frames=[i];else if(Array.isArray(i))if(1==i.length)t.frames=[i[0]];else for(t.speed=i[3],t.next=i[2],f=t.frames=[],r=i[0];r<=i[1];r++)f.push(r);else t.speed=i.speed,t.next=i.next,l=i.frames,f=t.frames="number"==typeof l?[l]:l.slice(0);(t.next===!0||void 0===t.next)&&(t.next=s);(t.next===!1||f.length<2&&t.next==s)&&(t.next=null);t.speed||(t.speed=1);this._animations.push(s);this._data[s]=t}}}};n._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};n._handleImageError=function(n){var t=new createjs.Event("error");t.src=n;this.dispatchEvent(t);0==--this._loadCount&&this.dispatchEvent("complete")};n._calculateFrames=function(){var t,e,i;if(!this._frames&&0!=this._frameWidth){this._frames=[];var c=this._numFrames||1e5,r=0,u=this._frameWidth,f=this._frameHeight,h=this._spacing,n=this._margin;n:for(t=0,e=this._images;t<e.length;t++)for(var o=e[t],l=o.width,a=o.height,s=n;a-n-f>=s;){for(i=n;l-n-u>=i;){if(r>=c)break n;r++;this._frames.push({image:o,rect:new createjs.Rectangle(i,s,u,f),regX:this._regX,regY:this._regY});i+=u+h}s+=f+h}this._numFrames=r}};createjs.SpriteSheet=createjs.promote(t,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function i(){this.command=null;this._stroke=null;this._strokeStyle=null;this._oldStrokeStyle=null;this._strokeDash=null;this._oldStrokeDash=null;this._strokeIgnoreScale=!1;this._fill=null;this._instructions=[];this._commitIndex=0;this._activeInstructions=[];this._dirty=!1;this._storeIndex=0;this.clear()}var n=i.prototype,t=i,r;i.getRGB=function(n,t,i,r){return null!=n&&null==i&&(r=t,i=255&n,t=n>>8&255,n=n>>16&255),null==r?"rgb("+n+","+t+","+i+")":"rgba("+n+","+t+","+i+","+r+")"};i.getHSL=function(n,t,i,r){return null==r?"hsl("+n%360+","+t+"%,"+i+"%)":"hsla("+n%360+","+t+"%,"+i+"%,"+r+")"};i.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};i.STROKE_CAPS_MAP=["butt","round","square"];i.STROKE_JOINTS_MAP=["miter","round","bevel"];r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");r.getContext&&(i._ctx=r.getContext("2d"),r.width=r.height=1);n.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(n,{instructions:{get:n.getInstructions}})}catch(u){}n.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)};n.draw=function(n,t){this._updateInstructions();for(var r=this._instructions,i=this._storeIndex,u=r.length;u>i;i++)r[i].exec(n,t)};n.drawAsPath=function(n){this._updateInstructions();for(var i,r=this._instructions,t=this._storeIndex,u=r.length;u>t;t++)(i=r[t]).path!==!1&&i.exec(n)};n.moveTo=function(n,i){return this.append(new t.MoveTo(n,i),!0)};n.lineTo=function(n,i){return this.append(new t.LineTo(n,i))};n.arcTo=function(n,i,r,u,f){return this.append(new t.ArcTo(n,i,r,u,f))};n.arc=function(n,i,r,u,f,e){return this.append(new t.Arc(n,i,r,u,f,e))};n.quadraticCurveTo=function(n,i,r,u){return this.append(new t.QuadraticCurveTo(n,i,r,u))};n.bezierCurveTo=function(n,i,r,u,f,e){return this.append(new t.BezierCurveTo(n,i,r,u,f,e))};n.rect=function(n,i,r,u){return this.append(new t.Rect(n,i,r,u))};n.closePath=function(){return this._activeInstructions.length?this.append(new t.ClosePath):this};n.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this};n.beginFill=function(n){return this._setFill(n?new t.Fill(n):null)};n.beginLinearGradientFill=function(n,i,r,u,f,e){return this._setFill((new t.Fill).linearGradient(n,i,r,u,f,e))};n.beginRadialGradientFill=function(n,i,r,u,f,e,o,s){return this._setFill((new t.Fill).radialGradient(n,i,r,u,f,e,o,s))};n.beginBitmapFill=function(n,i,r){return this._setFill(new t.Fill(null,r).bitmap(n,i))};n.endFill=function(){return this.beginFill()};n.setStrokeStyle=function(n,i,r,u,f){return this._updateInstructions(!0),this._strokeStyle=this.command=new t.StrokeStyle(n,i,r,u,f),this._stroke&&(this._stroke.ignoreScale=f),this._strokeIgnoreScale=f,this};n.setStrokeDash=function(n,i){return this._updateInstructions(!0),this._strokeDash=this.command=new t.StrokeDash(n,i),this};n.beginStroke=function(n){return this._setStroke(n?new t.Stroke(n):null)};n.beginLinearGradientStroke=function(n,i,r,u,f,e){return this._setStroke((new t.Stroke).linearGradient(n,i,r,u,f,e))};n.beginRadialGradientStroke=function(n,i,r,u,f,e,o,s){return this._setStroke((new t.Stroke).radialGradient(n,i,r,u,f,e,o,s))};n.beginBitmapStroke=function(n,i){return this._setStroke((new t.Stroke).bitmap(n,i))};n.endStroke=function(){return this.beginStroke()};n.curveTo=n.quadraticCurveTo;n.drawRect=n.rect;n.drawRoundRect=function(n,t,i,r,u){return this.drawRoundRectComplex(n,t,i,r,u,u,u,u)};n.drawRoundRectComplex=function(n,i,r,u,f,e,o,s){return this.append(new t.RoundRect(n,i,r,u,f,e,o,s))};n.drawCircle=function(n,i,r){return this.append(new t.Circle(n,i,r))};n.drawEllipse=function(n,i,r,u){return this.append(new t.Ellipse(n,i,r,u))};n.drawPolyStar=function(n,i,r,u,f,e){return this.append(new t.PolyStar(n,i,r,u,f,e))};n.append=function(n,t){return this._activeInstructions.push(n),this.command=n,t||(this._dirty=!0),this};n.decodePath=function(n){for(var y,l,u,t,p,w=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],b=[2,2,4,6,0],r=0,k=n.length,e=[],o=0,s=0,f=i.BASE_64;k>r;){var a=n.charAt(r),h=f[a],c=h>>3,v=w[c];if(!v||3&h)throw"bad path data (@"+r+"): "+a;for(y=b[c],c||(o=s=0),e.length=0,r++,l=(h>>2&1)+2,u=0;y>u;u++)t=f[n.charAt(r)],p=t>>5?-1:1,t=(31&t)<<6|f[n.charAt(r+1)],3==l&&(t=t<<6|f[n.charAt(r+2)]),t=p*t/10,u%2?o=t+=o:s=t+=s,e[u]=t,r+=l;v.apply(this,e)}return this};n.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this};n.unstore=function(){return this._storeIndex=0,this};n.clone=function(){var n=new i;return n.command=this.command,n._stroke=this._stroke,n._strokeStyle=this._strokeStyle,n._strokeDash=this._strokeDash,n._strokeIgnoreScale=this._strokeIgnoreScale,n._fill=this._fill,n._instructions=this._instructions.slice(),n._commitIndex=this._commitIndex,n._activeInstructions=this._activeInstructions.slice(),n._dirty=this._dirty,n._storeIndex=this._storeIndex,n};n.toString=function(){return"[Graphics]"};n.mt=n.moveTo;n.lt=n.lineTo;n.at=n.arcTo;n.bt=n.bezierCurveTo;n.qt=n.quadraticCurveTo;n.a=n.arc;n.r=n.rect;n.cp=n.closePath;n.c=n.clear;n.f=n.beginFill;n.lf=n.beginLinearGradientFill;n.rf=n.beginRadialGradientFill;n.bf=n.beginBitmapFill;n.ef=n.endFill;n.ss=n.setStrokeStyle;n.sd=n.setStrokeDash;n.s=n.beginStroke;n.ls=n.beginLinearGradientStroke;n.rs=n.beginRadialGradientStroke;n.bs=n.beginBitmapStroke;n.es=n.endStroke;n.dr=n.drawRect;n.rr=n.drawRoundRect;n.rc=n.drawRoundRectComplex;n.dc=n.drawCircle;n.de=n.drawEllipse;n.dp=n.drawPolyStar;n.p=n.decodePath;n._updateInstructions=function(n){var t=this._instructions,u=this._activeInstructions,o=this._commitIndex,f,e,r;if(this._dirty&&u.length){for(t.length=o,t.push(i.beginCmd),f=u.length,e=t.length,t.length=e+f,r=0;f>r;r++)t[r+e]=u[r];this._fill&&t.push(this._fill);this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,t.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,t.push(this._strokeStyle)),t.push(this._stroke));this._dirty=!1}n&&(u.length=0,this._commitIndex=t.length)};n._setFill=function(n){return this._updateInstructions(!0),this.command=this._fill=n,this};n._setStroke=function(n){return this._updateInstructions(!0),(this.command=this._stroke=n)&&(n.ignoreScale=this._strokeIgnoreScale),this};(t.LineTo=function(n,t){this.x=n;this.y=t}).prototype.exec=function(n){n.lineTo(this.x,this.y)};(t.MoveTo=function(n,t){this.x=n;this.y=t}).prototype.exec=function(n){n.moveTo(this.x,this.y)};(t.ArcTo=function(n,t,i,r,u){this.x1=n;this.y1=t;this.x2=i;this.y2=r;this.radius=u}).prototype.exec=function(n){n.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)};(t.Arc=function(n,t,i,r,u,f){this.x=n;this.y=t;this.radius=i;this.startAngle=r;this.endAngle=u;this.anticlockwise=!!f}).prototype.exec=function(n){n.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)};(t.QuadraticCurveTo=function(n,t,i,r){this.cpx=n;this.cpy=t;this.x=i;this.y=r}).prototype.exec=function(n){n.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)};(t.BezierCurveTo=function(n,t,i,r,u,f){this.cp1x=n;this.cp1y=t;this.cp2x=i;this.cp2y=r;this.x=u;this.y=f}).prototype.exec=function(n){n.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)};(t.Rect=function(n,t,i,r){this.x=n;this.y=t;this.w=i;this.h=r}).prototype.exec=function(n){n.rect(this.x,this.y,this.w,this.h)};(t.ClosePath=function(){}).prototype.exec=function(n){n.closePath()};(t.BeginPath=function(){}).prototype.exec=function(n){n.beginPath()};n=(t.Fill=function(n,t){this.style=n;this.matrix=t}).prototype;n.exec=function(n){if(this.style){n.fillStyle=this.style;var t=this.matrix;t&&(n.save(),n.transform(t.a,t.b,t.c,t.d,t.tx,t.ty));n.fill();t&&n.restore()}};n.linearGradient=function(n,t,r,u,f,e){for(var s=this.style=i._ctx.createLinearGradient(r,u,f,e),o=0,h=n.length;h>o;o++)s.addColorStop(t[o],n[o]);return s.props={colors:n,ratios:t,x0:r,y0:u,x1:f,y1:e,type:"linear"},this};n.radialGradient=function(n,t,r,u,f,e,o,s){for(var c=this.style=i._ctx.createRadialGradient(r,u,f,e,o,s),h=0,l=n.length;l>h;h++)c.addColorStop(t[h],n[h]);return c.props={colors:n,ratios:t,x0:r,y0:u,r0:f,x1:e,y1:o,r1:s,type:"radial"},this};n.bitmap=function(n,t){if(n.naturalWidth||n.getContext||n.readyState>=2){var r=this.style=i._ctx.createPattern(n,t||"");r.props={image:n,repetition:t,type:"bitmap"}}return this};n.path=!1;n=(t.Stroke=function(n,t){this.style=n;this.ignoreScale=t}).prototype;n.exec=function(n){this.style&&(n.strokeStyle=this.style,this.ignoreScale&&(n.save(),n.setTransform(1,0,0,1,0,0)),n.stroke(),this.ignoreScale&&n.restore())};n.linearGradient=t.Fill.prototype.linearGradient;n.radialGradient=t.Fill.prototype.radialGradient;n.bitmap=t.Fill.prototype.bitmap;n.path=!1;n=(t.StrokeStyle=function(n,t,i,r,u){this.width=n;this.caps=t;this.joints=i;this.miterLimit=r;this.ignoreScale=u}).prototype;n.exec=function(n){n.lineWidth=null==this.width?"1":this.width;n.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:i.STROKE_CAPS_MAP[this.caps];n.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:i.STROKE_JOINTS_MAP[this.joints];n.miterLimit=null==this.miterLimit?"10":this.miterLimit;n.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale};n.path=!1;(t.StrokeDash=function(n,t){this.segments=n;this.offset=t||0}).prototype.exec=function(n){n.setLineDash&&(n.setLineDash(this.segments||t.StrokeDash.EMPTY_SEGMENTS),n.lineDashOffset=this.offset||0)};t.StrokeDash.EMPTY_SEGMENTS=[];(t.RoundRect=function(n,t,i,r,u,f,e,o){this.x=n;this.y=t;this.w=i;this.h=r;this.radiusTL=u;this.radiusTR=f;this.radiusBR=e;this.radiusBL=o}).prototype.exec=function(n){var o=(h>s?s:h)/2,c=0,l=0,a=0,v=0,t=this.x,i=this.y,s=this.w,h=this.h,r=this.radiusTL,u=this.radiusTR,f=this.radiusBR,e=this.radiusBL;0>r&&(r*=c=-1);r>o&&(r=o);0>u&&(u*=l=-1);u>o&&(u=o);0>f&&(f*=a=-1);f>o&&(f=o);0>e&&(e*=v=-1);e>o&&(e=o);n.moveTo(t+s-u,i);n.arcTo(t+s+u*l,i-u*l,t+s,i+u,u);n.lineTo(t+s,i+h-f);n.arcTo(t+s+f*a,i+h+f*a,t+s-f,i+h,f);n.lineTo(t+e,i+h);n.arcTo(t-e*v,i+h+e*v,t,i+h-e,e);n.lineTo(t,i+r);n.arcTo(t-r*c,i-r*c,t+r,i,r);n.closePath()};(t.Circle=function(n,t,i){this.x=n;this.y=t;this.radius=i}).prototype.exec=function(n){n.arc(this.x,this.y,this.radius,0,2*Math.PI)};(t.Ellipse=function(n,t,i,r){this.x=n;this.y=t;this.w=i;this.h=r}).prototype.exec=function(n){var i=this.x,u=this.y,o=this.w,s=this.h,l=.5522848,f=o/2*l,e=s/2*l,h=i+o,c=u+s,r=i+o/2,t=u+s/2;n.moveTo(i,t);n.bezierCurveTo(i,t-e,r-f,u,r,u);n.bezierCurveTo(r+f,u,h,t-e,h,t);n.bezierCurveTo(h,t+e,r+f,c,r,c);n.bezierCurveTo(r-f,c,i,t+e,i,t)};(t.PolyStar=function(n,t,i,r,u,f){this.x=n;this.y=t;this.radius=i;this.sides=r;this.pointSize=u;this.angle=f}).prototype.exec=function(n){var r=this.x,u=this.y,i=this.radius,t=(this.angle||0)/180*Math.PI,o=this.sides,f=1-(this.pointSize||0),s=Math.PI/o,e;for(n.moveTo(r+Math.cos(t)*i,u+Math.sin(t)*i),e=0;o>e;e++)t+=s,1!=f&&n.lineTo(r+Math.cos(t)*i*f,u+Math.sin(t)*i*f),t+=s,n.lineTo(r+Math.cos(t)*i,u+Math.sin(t)*i);n.closePath()};i.beginCmd=new t.BeginPath;createjs.Graphics=i}();this.createjs=this.createjs||{},function(){"use strict";function t(){this.EventDispatcher_constructor();this.alpha=1;this.cacheCanvas=null;this.cacheID=0;this.id=createjs.UID.get();this.mouseEnabled=!0;this.tickEnabled=!0;this.name=null;this.parent=null;this.regX=0;this.regY=0;this.rotation=0;this.scaleX=1;this.scaleY=1;this.skewX=0;this.skewY=0;this.shadow=null;this.visible=!0;this.x=0;this.y=0;this.transformMatrix=null;this.compositeOperation=null;this.snapToPixel=!0;this.filters=null;this.mask=null;this.hitArea=null;this.cursor=null;this._cacheOffsetX=0;this._cacheOffsetY=0;this._filterOffsetX=0;this._filterOffsetY=0;this._cacheScale=1;this._cacheDataURLID=0;this._cacheDataURL=null;this._props=new createjs.DisplayProps;this._rectangle=new createjs.Rectangle;this._bounds=null}var n=createjs.extend(t,createjs.EventDispatcher),i;t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"];t.suppressCrossDomainErrors=!1;t._snapToPixelEnabled=!1;i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._hitTestCanvas=i,t._hitTestContext=i.getContext("2d"),i.width=i.height=1);t._nextCacheID=1;n.getStage=function(){for(var n=this,t=createjs.Stage;n.parent;)n=n.parent;return n instanceof t?n:null};try{Object.defineProperties(n,{stage:{get:n.getStage}})}catch(r){}n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)};n.draw=function(n,t){var i=this.cacheCanvas,r;return t||!i?!1:(r=this._cacheScale,n.drawImage(i,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,i.width/r,i.height/r),!0)};n.updateContext=function(n){var r=this,u=r.mask,i=r._props.matrix,f,e;u&&u.graphics&&!u.graphics.isEmpty()&&(u.getMatrix(i),n.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),u.graphics.drawAsPath(n),n.clip(),i.invert(),n.transform(i.a,i.b,i.c,i.d,i.tx,i.ty));this.getMatrix(i);f=i.tx;e=i.ty;t._snapToPixelEnabled&&r.snapToPixel&&(f=f+(0>f?-.5:.5)|0,e=e+(0>e?-.5:.5)|0);n.transform(i.a,i.b,i.c,i.d,f,e);n.globalAlpha*=r.alpha;r.compositeOperation&&(n.globalCompositeOperation=r.compositeOperation);r.shadow&&this._applyShadow(n,r.shadow)};n.cache=function(n,t,i,r,u){u=u||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=i;this._cacheHeight=r;this._cacheOffsetX=n;this._cacheOffsetY=t;this._cacheScale=u;this.updateCache()};n.updateCache=function(n){var i=this.cacheCanvas;if(!i)throw"cache() must be called before updateCache()";var r=this._cacheScale,s=this._cacheOffsetX*r,h=this._cacheOffsetY*r,f=this._cacheWidth,e=this._cacheHeight,u=i.getContext("2d"),o=this._getFilterBounds();s+=this._filterOffsetX=o.x;h+=this._filterOffsetY=o.y;f=Math.ceil(f*r)+o.width;e=Math.ceil(e*r)+o.height;f!=i.width||e!=i.height?(i.width=f,i.height=e):n||u.clearRect(0,0,f+1,e+1);u.save();u.globalCompositeOperation=n;u.setTransform(r,0,0,r,-s,-h);this.draw(u,!0);this._applyFilters();u.restore();this.cacheID=t._nextCacheID++};n.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0;this._cacheScale=1};n.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};n.localToGlobal=function(n,t,i){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(n,t,i||new createjs.Point)};n.globalToLocal=function(n,t,i){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(n,t,i||new createjs.Point)};n.localToLocal=function(n,t,i,r){return r=this.localToGlobal(n,t,r),i.globalToLocal(r.x,r.y,r)};n.setTransform=function(n,t,i,r,u,f,e,o,s){return this.x=n||0,this.y=t||0,this.scaleX=null==i?1:i,this.scaleY=null==r?1:r,this.rotation=u||0,this.skewX=f||0,this.skewY=e||0,this.regX=o||0,this.regY=s||0,this};n.getMatrix=function(n){var t=this,i=n&&n.identity()||new createjs.Matrix2D;return t.transformMatrix?i.copy(t.transformMatrix):i.appendTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY)};n.getConcatenatedMatrix=function(n){for(var t=this,i=this.getMatrix(n);t=t.parent;)i.prependMatrix(t.getMatrix(t._props.matrix));return i};n.getConcatenatedDisplayProps=function(n){n=n?n.identity():new createjs.DisplayProps;var t=this,i=t.getMatrix(n.matrix);do n.prepend(t.visible,t.alpha,t.shadow,t.compositeOperation),t!=this&&i.prependMatrix(t.getMatrix(t._props.matrix));while(t=t.parent);return n};n.hitTest=function(n,i){var r=t._hitTestContext,u;return r.setTransform(1,0,0,1,-n,-i),this.draw(r),u=this._testHit(r),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),u};n.set=function(n){for(var t in n)this[t]=n[t];return this};n.getBounds=function(){var n,t;return this._bounds?this._rectangle.copy(this._bounds):(n=this.cacheCanvas,n)?(t=this._cacheScale,this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,n.width/t,n.height/t)):null};n.getTransformedBounds=function(){return this._getBounds()};n.setBounds=function(n,t,i,r){null==n&&(this._bounds=n);this._bounds=(this._bounds||new createjs.Rectangle).setValues(n,t,i,r)};n.clone=function(){return this._cloneProps(new t)};n.toString=function(){return"[DisplayObject (name="+this.name+")]"};n._cloneProps=function(n){return n.alpha=this.alpha,n.mouseEnabled=this.mouseEnabled,n.tickEnabled=this.tickEnabled,n.name=this.name,n.regX=this.regX,n.regY=this.regY,n.rotation=this.rotation,n.scaleX=this.scaleX,n.scaleY=this.scaleY,n.shadow=this.shadow,n.skewX=this.skewX,n.skewY=this.skewY,n.visible=this.visible,n.x=this.x,n.y=this.y,n.compositeOperation=this.compositeOperation,n.snapToPixel=this.snapToPixel,n.filters=null==this.filters?null:this.filters.slice(0),n.mask=this.mask,n.hitArea=this.hitArea,n.cursor=this.cursor,n._bounds=this._bounds,n};n._applyShadow=function(n,t){t=t||Shadow.identity;n.shadowColor=t.color;n.shadowOffsetX=t.offsetX;n.shadowOffsetY=t.offsetY;n.shadowBlur=t.blur};n._tick=function(n){var t=this._listeners;t&&t.tick&&(n.target=null,n.propagationStopped=n.immediatePropagationStopped=!1,this.dispatchEvent(n))};n._testHit=function(n){try{var i=n.getImageData(0,0,1,1).data[3]>1}catch(r){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return i};n._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,i=this.cacheCanvas.getContext("2d"),r=this.cacheCanvas.width,u=this.cacheCanvas.height,n=0;t>n;n++)this.filters[n].applyFilter(i,0,0,r,u)};n._getFilterBounds=function(){var r,u=this.filters,t=this._rectangle.setValues(0,0,0,0),n,i;if(!u||!(r=u.length))return t;for(n=0;r>n;n++)i=this.filters[n],i.getBounds&&i.getBounds(t);return t};n._getBounds=function(n,t){return this._transformBounds(this.getBounds(),n,t)};n._transformBounds=function(n,t,i){if(!n)return n;var r=n.x,u=n.y,a=n.width,v=n.height,f=this._props.matrix;f=i?f.identity():this.getMatrix(f);(r||u)&&f.appendTransform(0,0,1,1,0,0,0,-r,-u);t&&f.prependMatrix(t);var y=a*f.a,p=a*f.b,w=v*f.c,b=v*f.d,c=f.tx,l=f.ty,e=c,s=c,o=l,h=l;return(r=y+c)<e?e=r:r>s&&(s=r),(r=y+w+c)<e?e=r:r>s&&(s=r),(r=w+c)<e?e=r:r>s&&(s=r),(u=p+l)<o?o=u:u>h&&(h=u),(u=p+b+l)<o?o=u:u>h&&(h=u),(u=b+l)<o?o=u:u>h&&(h=u),n.setValues(e,o,s-e,h-o)};n._hasMouseEventListener=function(){for(var i=t._MOUSE_EVENTS,n=0,r=i.length;r>n;n++)if(this.hasEventListener(i[n]))return!0;return!!this.cursor};createjs.DisplayObject=createjs.promote(t,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function t(){this.DisplayObject_constructor();this.children=[];this.mouseChildren=!0;this.tickChildren=!0}var n=createjs.extend(t,createjs.DisplayObject);n.getNumChildren=function(){return this.children.length};try{Object.defineProperties(n,{numChildren:{get:n.getNumChildren}})}catch(i){}n.initialize=t;n.isVisible=function(){var n=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&n)};n.draw=function(n,t){var i;if(this.DisplayObject_draw(n,t))return!0;for(var u=this.children.slice(),r=0,f=u.length;f>r;r++)i=u[r],i.isVisible()&&(n.save(),i.updateContext(n),i.draw(n),n.restore());return!0};n.addChild=function(n){var t,i;if(null==n)return n;if(t=arguments.length,t>1){for(i=0;t>i;i++)this.addChild(arguments[i]);return arguments[t-1]}return n.parent&&n.parent.removeChild(n),n.parent=this,this.children.push(n),n.dispatchEvent("added"),n};n.addChildAt=function(n,t){var i=arguments.length,u=arguments[i-1],r;if(0>u||u>this.children.length)return arguments[i-2];if(i>2){for(r=0;i-1>r;r++)this.addChildAt(arguments[r],u+r);return arguments[i-2]}return n.parent&&n.parent.removeChild(n),n.parent=this,this.children.splice(t,0,n),n.dispatchEvent("added"),n};n.removeChild=function(n){var r=arguments.length,t,i;if(r>1){for(t=!0,i=0;r>i;i++)t=t&&this.removeChild(arguments[i]);return t}return this.removeChildAt(createjs.indexOf(this.children,n))};n.removeChildAt=function(n){var f=arguments.length,i,r,t,u;if(f>1){for(i=[],t=0;f>t;t++)i[t]=arguments[t];for(i.sort(function(n,t){return t-n}),r=!0,t=0;f>t;t++)r=r&&this.removeChildAt(i[t]);return r}return 0>n||n>this.children.length-1?!1:(u=this.children[n],u&&(u.parent=null),this.children.splice(n,1),u.dispatchEvent("removed"),!0)};n.removeAllChildren=function(){for(var n=this.children;n.length;)this.removeChildAt(0)};n.getChildAt=function(n){return this.children[n]};n.getChildByName=function(n){for(var i=this.children,t=0,r=i.length;r>t;t++)if(i[t].name==n)return i[t];return null};n.sortChildren=function(n){this.children.sort(n)};n.getChildIndex=function(n){return createjs.indexOf(this.children,n)};n.swapChildrenAt=function(n,t){var i=this.children,r=i[n],u=i[t];r&&u&&(i[n]=u,i[t]=r)};n.swapChildren=function(n,t){for(var u,f,r=this.children,i=0,e=r.length;e>i&&(r[i]==n&&(u=i),r[i]==t&&(f=i),null==u||null==f);i++);i!=e&&(r[u]=t,r[f]=n)};n.setChildIndex=function(n,t){var r=this.children,u=r.length,i;if(!(n.parent!=this||0>t||t>=u)){for(i=0;u>i&&r[i]!=n;i++);i!=u&&i!=t&&(r.splice(i,1),r.splice(t,0,n))}};n.contains=function(n){for(;n;){if(n==this)return!0;n=n.parent}return!1};n.hitTest=function(n,t){return null!=this.getObjectUnderPoint(n,t)};n.getObjectsUnderPoint=function(n,t,i){var r=[],u=this.localToGlobal(n,t);return this._getObjectsUnderPoint(u.x,u.y,r,i>0,1==i),r};n.getObjectUnderPoint=function(n,t,i){var r=this.localToGlobal(n,t);return this._getObjectsUnderPoint(r.x,r.y,null,i>0,1==i)};n.getBounds=function(){return this._getBounds(null,!0)};n.getTransformedBounds=function(){return this._getBounds()};n.clone=function(n){var i=this._cloneProps(new t);return n&&this._cloneChildren(i),i};n.toString=function(){return"[Container (name="+this.name+")]"};n._tick=function(n){var t,i;if(this.tickChildren)for(t=this.children.length-1;t>=0;t--)i=this.children[t],i.tickEnabled&&i._tick&&i._tick(n);this.DisplayObject__tick(n)};n._cloneChildren=function(n){var i;n.children.length&&n.removeAllChildren();for(var r=n.children,t=0,u=this.children.length;u>t;t++)i=this.children[t].clone(!0),i.parent=n,r.push(i)};n._getObjectsUnderPoint=function(n,i,r,u,f,e){var h,c,o,s,v,l;if(e=e||0,!e&&!this._testMask(this,n,i))return null;c=createjs.DisplayObject._hitTestContext;f=f||u&&this._hasMouseEventListener();for(var y=this.children,p=y.length,a=p-1;a>=0;a--)if(o=y[a],s=o.hitArea,o.visible&&(s||o.isVisible())&&(!u||o.mouseEnabled)&&(s||this._testMask(o,n,i)))if(!s&&o instanceof t){if(v=o._getObjectsUnderPoint(n,i,r,u,f,e+1),!r&&v)return u&&!this.mouseChildren?this:v}else{if(u&&!f&&!o._hasMouseEventListener())continue;if(l=o.getConcatenatedDisplayProps(o._props),h=l.matrix,s&&(h.appendMatrix(s.getMatrix(s._props.matrix)),l.alpha=s.alpha),c.globalAlpha=l.alpha,c.setTransform(h.a,h.b,h.c,h.d,h.tx-n,h.ty-i),(s||o).draw(c),!this._testHit(c))continue;if(c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,2,2),!r)return u&&!this.mouseChildren?this:o;r.push(o)}return null};n._testMask=function(n,t,i){var f=n.mask,r,e,u;return!f||!f.graphics||f.graphics.isEmpty()?!0:(r=this._props.matrix,e=n.parent,r=e?e.getConcatenatedMatrix(r):r.identity(),r=f.getMatrix(f._props.matrix).prependMatrix(r),u=createjs.DisplayObject._hitTestContext,u.setTransform(r.a,r.b,r.c,r.d,r.tx-t,r.ty-i),f.graphics.drawAsPath(u),u.fillStyle="#000",u.fill(),this._testHit(u)?(u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,2,2),!0):!1)};n._getBounds=function(n,t){var i=this.DisplayObject_getBounds(),r,e;if(i)return this._transformBounds(i,n,t);r=this._props.matrix;r=t?r.identity():this.getMatrix(r);n&&r.prependMatrix(n);for(var o=this.children.length,u=null,f=0;o>f;f++)e=this.children[f],e.visible&&(i=e._getBounds(r))&&(u?u.extend(i.x,i.y,i.width,i.height):u=i.clone());return u};createjs.Container=createjs.promote(t,"DisplayObject")}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.Container_constructor();this.autoClear=!0;this.canvas="string"==typeof n?document.getElementById(n):n;this.mouseX=0;this.mouseY=0;this.drawRect=null;this.snapToPixelEnabled=!1;this.mouseInBounds=!1;this.tickOnUpdate=!0;this.mouseMoveOutside=!1;this.preventSelection=!0;this._pointerData={};this._pointerCount=0;this._primaryPointerID=null;this._mouseOverIntervalID=null;this._nextStage=null;this._prevStage=null;this.enableDOMEvents(!0)}var n=createjs.extend(t,createjs.Container);n._get_nextStage=function(){return this._nextStage};n._set_nextStage=function(n){this._nextStage&&(this._nextStage._prevStage=null);n&&(n._prevStage=this);this._nextStage=n};try{Object.defineProperties(n,{nextStage:{get:n._get_nextStage,set:n._set_nextStage}})}catch(i){}n.update=function(n){if(this.canvas&&(this.tickOnUpdate&&this.tick(n),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var i=this.drawRect,t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0);this.autoClear&&(i?t.clearRect(i.x,i.y,i.width,i.height):t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1));t.save();this.drawRect&&(t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.clip());this.updateContext(t);this.draw(t,!1);t.restore();this.dispatchEvent("drawend")}};n.tick=function(n){var i,t;if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){if(i=new createjs.Event("tick"),n)for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);this._tick(i);this.dispatchEvent("tickend")}};n.handleEvent=function(n){"tick"==n.type&&this.update(n)};n.clear=function(){if(this.canvas){var n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0);n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};n.toDataURL=function(n,t){var r,i=this.canvas.getContext("2d"),u=this.canvas.width,f=this.canvas.height,e,o;return n&&(r=i.getImageData(0,0,u,f),e=i.globalCompositeOperation,i.globalCompositeOperation="destination-over",i.fillStyle=n,i.fillRect(0,0,u,f)),o=this.canvas.toDataURL(t||"image/png"),n&&(i.putImageData(r,0,0),i.globalCompositeOperation=e),o};n.enableMouseOver=function(n){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==n&&this._testMouseOver(!0)),null==n)n=20;else if(0>=n)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,n))};n.enableDOMEvents=function(n){var i,r,t,f,u;if(null==n&&(n=!0),t=this._eventListeners,!n&&t){for(i in t)r=t[i],r.t.removeEventListener(i,r.f,!1);this._eventListeners=null}else if(n&&!t&&this.canvas){f=window.addEventListener?window:document;u=this;t=this._eventListeners={};t.mouseup={t:f,f:function(n){u._handleMouseUp(n)}};t.mousemove={t:f,f:function(n){u._handleMouseMove(n)}};t.dblclick={t:this.canvas,f:function(n){u._handleDoubleClick(n)}};t.mousedown={t:this.canvas,f:function(n){u._handleMouseDown(n)}};for(i in t)r=t[i],r.t.addEventListener(i,r.f,!1)}};n.clone=function(){throw"Stage cannot be cloned.";};n.toString=function(){return"[Stage (name="+this.name+")]"};n._getElementRect=function(n){var i;try{i=n.getBoundingClientRect()}catch(h){i={top:n.offsetTop,left:n.offsetLeft,width:n.offsetWidth,height:n.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),u=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),t=window.getComputedStyle?getComputedStyle(n,null):n.currentStyle,f=parseInt(t.paddingLeft)+parseInt(t.borderLeftWidth),e=parseInt(t.paddingTop)+parseInt(t.borderTopWidth),o=parseInt(t.paddingRight)+parseInt(t.borderRightWidth),s=parseInt(t.paddingBottom)+parseInt(t.borderBottomWidth);return{left:i.left+r+f,right:i.right+r-o,top:i.top+u+e,bottom:i.bottom+u-s}};n._getPointerData=function(n){var t=this._pointerData[n];return t||(t=this._pointerData[n]={x:0,y:0}),t};n._handleMouseMove=function(n){n||(n=window.event);this._handlePointerMove(-1,n,n.pageX,n.pageY)};n._handlePointerMove=function(n,t,i,r,u){if((!this._prevStage||void 0!==u)&&this.canvas){var o=this._nextStage,f=this._getPointerData(n),e=f.inBounds;this._updatePointerPosition(n,t,i,r);(e||f.inBounds||this.mouseMoveOutside)&&(-1===n&&f.inBounds==!e&&this._dispatchMouseEvent(this,e?"mouseleave":"mouseenter",!1,n,f,t),this._dispatchMouseEvent(this,"stagemousemove",!1,n,f,t),this._dispatchMouseEvent(f.target,"pressmove",!0,n,f,t));o&&o._handlePointerMove(n,t,i,r,null)}};n._updatePointerPosition=function(n,t,i,r){var f=this._getElementRect(this.canvas),e,o,u;i-=f.left;r-=f.top;e=this.canvas.width;o=this.canvas.height;i/=(f.right-f.left)/e;r/=(f.bottom-f.top)/o;u=this._getPointerData(n);(u.inBounds=i>=0&&r>=0&&e-1>=i&&o-1>=r)?(u.x=i,u.y=r):this.mouseMoveOutside&&(u.x=0>i?0:i>e-1?e-1:i,u.y=0>r?0:r>o-1?o-1:r);u.posEvtObj=t;u.rawX=i;u.rawY=r;(n===this._primaryPointerID||-1===n)&&(this.mouseX=u.x,this.mouseY=u.y,this.mouseInBounds=u.inBounds)};n._handleMouseUp=function(n){this._handlePointerUp(-1,n,!1)};n._handlePointerUp=function(n,t,i,r){var o=this._nextStage,u=this._getPointerData(n),f,e;this._prevStage&&void 0===r||(f=null,e=u.target,!r&&(e||o)&&(f=this._getObjectsUnderPoint(u.x,u.y,null,!0)),u.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,n,u,t,f),u.down=!1),f==e&&this._dispatchMouseEvent(e,"click",!0,n,u,t),this._dispatchMouseEvent(e,"pressup",!0,n,u,t),i?(n==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[n]):u.target=null,o&&o._handlePointerUp(n,t,i,r||f&&this))};n._handleMouseDown=function(n){this._handlePointerDown(-1,n,n.pageX,n.pageY)};n._handlePointerDown=function(n,t,i,r,u){this.preventSelection&&t.preventDefault();(null==this._primaryPointerID||-1===n)&&(this._primaryPointerID=n);null!=r&&this._updatePointerPosition(n,t,i,r);var e=null,o=this._nextStage,f=this._getPointerData(n);u||(e=f.target=this._getObjectsUnderPoint(f.x,f.y,null,!0));f.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,n,f,t,e),f.down=!0);this._dispatchMouseEvent(e,"mousedown",!0,n,f,t);o&&o._handlePointerDown(n,t,i,r,u||e&&this)};n._testMouseOver=function(n,t,i){var s,f;if(!this._prevStage||void 0!==t){if(s=this._nextStage,!this._mouseOverIntervalID)return void(s&&s._testMouseOver(n,t,i));if(f=this._getPointerData(-1),f&&(n||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var e,r,y,o=f.posEvtObj,p=i||o&&o.target==this.canvas,u=null,v=-1,a="";!t&&(n||this.mouseInBounds&&p)&&(u=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var h=this._mouseOverTarget||[],c=h[h.length-1],l=this._mouseOverTarget=[];for(e=u;e;)l.unshift(e),a||(a=e.cursor),e=e.parent;for(this.canvas.style.cursor=a,!t&&i&&(i.canvas.style.cursor=a),r=0,y=l.length;y>r&&l[r]==h[r];r++)v=r;for(c!=u&&this._dispatchMouseEvent(c,"mouseout",!0,-1,f,o,u),r=h.length-1;r>v;r--)this._dispatchMouseEvent(h[r],"rollout",!1,-1,f,o,u);for(r=l.length-1;r>v;r--)this._dispatchMouseEvent(l[r],"rollover",!1,-1,f,o,c);c!=u&&this._dispatchMouseEvent(u,"mouseover",!0,-1,f,o,c);s&&s._testMouseOver(n,t||u&&this,i||p&&this)}}};n._handleDoubleClick=function(n,t){var i=null,u=this._nextStage,r=this._getPointerData(-1);t||(i=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(i,"dblclick",!0,-1,r,n));u&&u._handleDoubleClick(n,t||i&&this)};n._dispatchMouseEvent=function(n,t,i,r,u,f,e){if(n&&(i||n.hasEventListener(t))){var o=new createjs.MouseEvent(t,i,!1,u.x,u.y,f,r,r===this._primaryPointerID||-1===r,u.rawX,u.rawY,e);n.dispatchEvent(o)}};createjs.Stage=createjs.promote(t,"Container")}();this.createjs=this.createjs||{},function(){function t(n){this.DisplayObject_constructor();"string"==typeof n?(this.image=document.createElement("img"),this.image.src=n):this.image=n;this.sourceRect=null}var n=createjs.extend(t,createjs.DisplayObject);n.initialize=t;n.isVisible=function(){var n=this.image,t=this.cacheCanvas||n&&(n.naturalWidth||n.getContext||n.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)};n.draw=function(n,t){var f,u;if(this.DisplayObject_draw(n,t)||!this.image)return!0;if(f=this.image,u=this.sourceRect,u){var i=u.x,r=u.y,e=i+u.width,o=r+u.height,s=0,h=0,c=f.width,l=f.height;0>i&&(s-=i,i=0);e>c&&(e=c);0>r&&(h-=r,r=0);o>l&&(o=l);n.drawImage(f,i,r,e-i,o-r,s,h,e-i,o-r)}else n.drawImage(f,0,0);return!0};n.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var n=this.image,i=this.sourceRect||n,r=n&&(n.naturalWidth||n.getContext||n.readyState>=2);return r?this._rectangle.setValues(0,0,i.width,i.height):null};n.clone=function(){var n=new t(this.image);return this.sourceRect&&(n.sourceRect=this.sourceRect.clone()),this._cloneProps(n),n};n.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=createjs.promote(t,"DisplayObject")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t){this.DisplayObject_constructor();this.currentFrame=0;this.currentAnimation=null;this.paused=!0;this.spriteSheet=n;this.currentAnimationFrame=0;this.framerate=0;this._animation=null;this._currentFrame=null;this._skipAdvance=!1;null!=t&&this.gotoAndPlay(t)}var n=createjs.extend(t,createjs.DisplayObject);n.initialize=t;n.isVisible=function(){var n=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&n)};n.draw=function(n,t){var r,i;return this.DisplayObject_draw(n,t)?!0:(this._normalizeFrame(),r=this.spriteSheet.getFrame(0|this._currentFrame),!r)?!1:(i=r.rect,i.width&&i.height&&n.drawImage(r.image,i.x,i.y,i.width,i.height,-r.regX,-r.regY,i.width,i.height),!0)};n.play=function(){this.paused=!1};n.stop=function(){this.paused=!0};n.gotoAndPlay=function(n){this.paused=!1;this._skipAdvance=!0;this._goto(n)};n.gotoAndStop=function(n){this.paused=!0;this._goto(n)};n.advance=function(n){var t=this.framerate||this.spriteSheet.framerate,i=t&&null!=n?n/(1e3/t):1;this._normalizeFrame(i)};n.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};n.clone=function(){return this._cloneProps(new t(this.spriteSheet))};n.toString=function(){return"[Sprite (name="+this.name+")]"};n._cloneProps=function(n){return this.DisplayObject__cloneProps(n),n.currentFrame=this.currentFrame,n.currentAnimation=this.currentAnimation,n.paused=this.paused,n.currentAnimationFrame=this.currentAnimationFrame,n.framerate=this.framerate,n._animation=this._animation,n._currentFrame=this._currentFrame,n._skipAdvance=this._skipAdvance,n};n._tick=function(n){this.paused||(this._skipAdvance||this.advance(n&&n.delta),this._skipAdvance=!1);this.DisplayObject__tick(n)};n._normalizeFrame=function(n){var f,u,e;n=n||0;var t,i=this._animation,o=this.paused,r=this._currentFrame;if(i){if(f=i.speed||1,u=this.currentAnimationFrame,t=i.frames.length,u+n*f>=t){if(e=i.next,this._dispatchAnimationEnd(i,r,o,e,t-1))return;if(e)return this._goto(e,n-(t-u)/f);this.paused=!0;u=i.frames.length-1}else u+=n*f;this.currentAnimationFrame=u;this._currentFrame=i.frames[0|u]}else if(r=this._currentFrame+=n,t=this.spriteSheet.getNumFrames(),r>=t&&t>0&&!this._dispatchAnimationEnd(i,r,o,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();r=0|this._currentFrame;this.currentFrame!=r&&(this.currentFrame=r,this.dispatchEvent("change"))};n._dispatchAnimationEnd=function(n,t,i,r,u){var o=n?n.name:null,f,e;return this.hasEventListener("animationend")&&(f=new createjs.Event("animationend"),f.name=o,f.next=r,this.dispatchEvent(f)),e=this._animation!=n||this._currentFrame!=t,e||i||!this.paused||(this.currentAnimationFrame=u,e=!0),e};n._goto=function(n,t){if(this.currentAnimationFrame=0,isNaN(n)){var i=this.spriteSheet.getAnimation(n);i&&(this._animation=i,this.currentAnimation=n,this._normalizeFrame(t))}else this.currentAnimation=this._animation=null,this._currentFrame=n,this._normalizeFrame()};createjs.Sprite=createjs.promote(t,"DisplayObject")}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.DisplayObject_constructor();this.graphics=n?n:new createjs.Graphics}var n=createjs.extend(t,createjs.DisplayObject);n.isVisible=function(){var n=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&n)};n.draw=function(n,t){return this.DisplayObject_draw(n,t)?!0:(this.graphics.draw(n,this),!0)};n.clone=function(n){var i=n&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(i))};n.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=createjs.promote(t,"DisplayObject")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i){this.DisplayObject_constructor();this.text=n;this.font=t;this.color=i;this.textAlign="left";this.textBaseline="top";this.maxWidth=null;this.outline=0;this.lineHeight=0;this.lineWidth=null}var n=createjs.extend(t,createjs.DisplayObject),i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._workingContext=i.getContext("2d"),i.width=i.height=1);t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};n.isVisible=function(){var n=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&n)};n.draw=function(n,t){if(this.DisplayObject_draw(n,t))return!0;var i=this.color||"#000";return this.outline?(n.strokeStyle=i,n.lineWidth=1*this.outline):n.fillStyle=i,this._drawText(this._prepContext(n)),!0};n.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)};n.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")};n.getMeasuredHeight=function(){return this._drawText(null,{}).height};n.getBounds=function(){var i=this.DisplayObject_getBounds();if(i)return i;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,u=r*t.H_OFFSETS[this.textAlign||"left"],f=this.lineHeight||this.getMeasuredLineHeight(),e=f*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(u,e,r,n.height)};n.getMetrics=function(){var n={lines:[]};return n.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),n.vOffset=n.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,n,n.lines)};n.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))};n.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"};n._cloneProps=function(n){return this.DisplayObject__cloneProps(n),n.textAlign=this.textAlign,n.textBaseline=this.textBaseline,n.maxWidth=this.maxWidth,n.outline=this.outline,n.lineHeight=this.lineHeight,n.lineWidth=this.lineWidth,n};n._prepContext=function(n){return n.font=this.font||"10px sans-serif",n.textAlign=this.textAlign||"left",n.textBaseline=this.textBaseline||"top",n};n._drawText=function(n,i,r){var c=!!n,u,f,e,o,p,v;c||(n=t._workingContext,n.save(),this._prepContext(n));for(var l=this.lineHeight||this.getMeasuredLineHeight(),s=0,h=0,y=String(this.text).split(/(?:\r\n|\r|\n)/),a=0,w=y.length;w>a;a++){if(u=y[a],f=null,null!=this.lineWidth&&(f=n.measureText(u).width)>this.lineWidth)for(e=u.split(/(\s)/),u=e[0],f=n.measureText(u).width,o=1,p=e.length;p>o;o+=2)v=n.measureText(e[o]+e[o+1]).width,f+v>this.lineWidth?(c&&this._drawTextLine(n,u,h*l),r&&r.push(u),f>s&&(s=f),u=e[o+1],f=n.measureText(u).width,h++):(u+=e[o]+e[o+1],f+=v);c&&this._drawTextLine(n,u,h*l);r&&r.push(u);i&&null==f&&(f=n.measureText(u).width);f>s&&(s=f);h++}return i&&(i.width=s,i.height=h*l),c||n.restore(),i};n._drawTextLine=function(n,t,i){this.outline?n.strokeText(t,0,i,this.maxWidth||65535):n.fillText(t,0,i,this.maxWidth||65535)};n._getMeasuredWidth=function(n){var i=t._workingContext,r;return i.save(),r=this._prepContext(i).measureText(n).width,i.restore(),r};createjs.Text=createjs.promote(t,"DisplayObject")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t){this.Container_constructor();this.text=n||"";this.spriteSheet=t;this.lineHeight=0;this.letterSpacing=0;this.spaceWidth=0;this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var n=createjs.extend(t,createjs.Container);t.maxPoolSize=100;t._spritePool=[];n.draw=function(n,t){this.DisplayObject_draw(n,t)||(this._updateText(),this.Container_draw(n,t))};n.getBounds=function(){return this._updateText(),this.Container_getBounds()};n.isVisible=function(){var n=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&n)};n.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))};n.addChild=n.addChildAt=n.removeChild=n.removeChildAt=n.removeAllChildren=function(){};n._cloneProps=function(n){return this.Container__cloneProps(n),n.lineHeight=this.lineHeight,n.letterSpacing=this.letterSpacing,n.spaceWidth=this.spaceWidth,n};n._getFrameIndex=function(n,t){var i,r=t.getAnimation(n);return r||(n!=(i=n.toUpperCase())||n!=(i=n.toLowerCase())||(i=null),i&&(r=t.getAnimation(i))),r&&r.frames[0]};n._getFrame=function(n,t){var i=this._getFrameIndex(n,t);return null==i?i:t.getFrame(i)};n._getLineHeight=function(n){var t=this._getFrame("1",n)||this._getFrame("T",n)||this._getFrame("L",n)||n.getFrame(0);return t?t.rect.height:1};n._getSpaceWidth=function(n){var t=this._getFrame("1",n)||this._getFrame("l",n)||this._getFrame("e",n)||this._getFrame("a",n)||n.getFrame(0);return t?t.rect.width:1};n._updateText=function(){var n,o=0,w=0,l=this._oldProps,b=!1,a=this.spaceWidth,v=this.lineHeight,u=this.spriteSheet,f=t._spritePool,s=this.children,h=0,c=s.length,e,y,i,k,r,p;for(e in l)l[e]!=this[e]&&(l[e]=this[e],b=!0);if(b){for(y=!!this._getFrame(" ",u),y||a||(a=this._getSpaceWidth(u)),v||(v=this._getLineHeight(u)),i=0,k=this.text.length;k>i;i++)r=this.text.charAt(i)," "!=r||y?"\n"!=r&&"\r"!=r?(p=this._getFrameIndex(r,u),null!=p&&(c>h?n=s[h]:(s.push(n=f.length?f.pop():new createjs.Sprite),n.parent=this,c++),n.spriteSheet=u,n.gotoAndStop(p),n.x=o,n.y=w,h++,o+=n.getBounds().width+this.letterSpacing)):("\r"==r&&"\n"==this.text.charAt(i+1)&&i++,o=0,w+=v):o+=a;for(;c>h;)f.push(n=s.pop()),n.parent=null,c--;f.length>t.maxPoolSize&&(f.length=t.maxPoolSize)}};createjs.BitmapText=createjs.promote(t,"Container")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,i,r,u){this.Container_constructor();!t.inited&&t.init();this.mode=n||t.INDEPENDENT;this.startPosition=i||0;this.loop=r;this.currentFrame=0;this.timeline=new createjs.Timeline(null,u,{paused:!0,position:i,useTicks:!0});this.paused=!1;this.actionsEnabled=!0;this.autoReset=!0;this.frameBounds=this.frameBounds||null;this.framerate=null;this._synchOffset=0;this._prevPos=-1;this._prevPosition=0;this._t=0;this._managed={}}function i(){throw"MovieClipPlugin cannot be instantiated.";}var n=createjs.extend(t,createjs.Container);t.INDEPENDENT="independent";t.SINGLE_FRAME="single";t.SYNCHED="synched";t.inited=!1;t.init=function(){t.inited||(i.install(),t.inited=!0)};n.getLabels=function(){return this.timeline.getLabels()};n.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()};n.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(n,{labels:{get:n.getLabels},currentLabel:{get:n.getCurrentLabel},totalFrames:{get:n.getDuration},duration:{get:n.getDuration}})}catch(r){}n.initialize=t;n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)};n.draw=function(n,t){return this.DisplayObject_draw(n,t)?!0:(this._updateTimeline(),this.Container_draw(n,t),!0)};n.play=function(){this.paused=!1};n.stop=function(){this.paused=!0};n.gotoAndPlay=function(n){this.paused=!1;this._goto(n)};n.gotoAndStop=function(n){this.paused=!0;this._goto(n)};n.advance=function(n){var e=t.INDEPENDENT,r,i,u,f;if(this.mode==e){for(r=this,i=r.framerate;(r=r.parent)&&null==i;)r.mode==e&&(i=r._framerate);for(this._framerate=i,u=null!=i&&-1!=i&&null!=n?n/(1e3/i)+this._t:1,f=0|u,this._t=u-f;!this.paused&&f--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}};n.clone=function(){throw"MovieClip cannot be cloned.";};n.toString=function(){return"[MovieClip (name="+this.name+")]"};n._tick=function(n){this.advance(n&&n.delta);this.Container__tick(n)};n._goto=function(n){var t=this.timeline.resolve(n);null!=t&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=t,this._t=0,this._updateTimeline())};n._reset=function(){this._prevPos=-1;this._t=this.currentFrame=0;this.paused=!1};n._updateTimeline=function(){var i=this.timeline,h=this.mode!=t.INDEPENDENT,f,c,l,u,r,e,o,s;if(i.loop=null==this.loop?!0:this.loop,f=h?this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,c=h||!this.actionsEnabled?createjs.Tween.NONE:null,this.currentFrame=i._calcPosition(f),i.setPosition(f,c),this._prevPosition=i._prevPosition,this._prevPos!=i._prevPos){this.currentFrame=this._prevPos=i._prevPos;for(l in this._managed)this._managed[l]=1;for(var a=i._tweens,n=0,v=a.length;v>n;n++)u=a[n],r=u._target,r==this||u.passive||(e=u._stepPosition,r instanceof createjs.DisplayObject?this._addManagedChild(r,e):this._setState(r.state,e));for(o=this.children,n=o.length-1;n>=0;n--)s=o[n].id,1==this._managed[s]&&(this.removeChildAt(n),delete this._managed[s])}};n._setState=function(n,t){var i,r;if(n)for(i=n.length-1;i>=0;i--){var u=n[i],f=u.t,e=u.p;for(r in e)f[r]=e[r];this._addManagedChild(f,t)}};n._addManagedChild=function(n,i){n._off||(this.addChildAt(n,0),n instanceof t&&(n._synchOffset=i,n.mode==t.INDEPENDENT&&n.autoReset&&!this._managed[n.id]&&n._reset()),this._managed[n.id]=2)};n._getBounds=function(n,t){var i=this.DisplayObject_getBounds();return i||(this._updateTimeline(),this.frameBounds&&(i=this._rectangle.copy(this.frameBounds[this.currentFrame]))),i?this._transformBounds(i,n,t):this.Container__getBounds(n,t)};createjs.MovieClip=createjs.promote(t,"Container");i.priority=100;i.install=function(){createjs.Tween.installPlugin(i,["startPosition"])};i.init=function(n,t,i){return i};i.step=function(){};i.tween=function(n,i,r,u,f,e){return n.target instanceof t?1==e?f[i]:u[i]:r}}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"SpriteSheetUtils cannot be instantiated";}var t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");t.getContext&&(n._workingCanvas=t,n._workingContext=t.getContext("2d"),t.width=t.height=1);n.addFlippedFrames=function(t,i,r,u){if(i||r||u){var f=0;i&&n._flip(t,++f,!0,!1);r&&n._flip(t,++f,!1,!0);u&&n._flip(t,++f,!0,!0)}};n.extractFrame=function(t,i){var u,r,f,e;return(isNaN(i)&&(i=t.getAnimation(i).frames[0]),u=t.getFrame(i),!u)?null:(r=u.rect,f=n._workingCanvas,f.width=r.width,f.height=r.height,n._workingContext.drawImage(u.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height),e=document.createElement("img"),e.src=f.toDataURL("image/png"),e)};n.mergeAlpha=function(n,t,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));i.width=Math.max(t.width,n.width);i.height=Math.max(t.height,n.height);var r=i.getContext("2d");return r.save(),r.drawImage(n,0,0),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),r.restore(),i};n._flip=function(t,i,r,u){for(var f,s,h,w,o,y,k,c,p,tt,a=t._images,l=n._workingCanvas,v=n._workingContext,d=a.length/i,e=0;d>e;e++)f=a[e],f.__tmp=e,v.setTransform(1,0,0,1,0,0),v.clearRect(0,0,l.width+1,l.height+1),l.width=f.width,l.height=f.height,v.setTransform(r?-1:1,0,0,u?-1:1,r?f.width:0,u?f.height:0),v.drawImage(f,0,0),s=document.createElement("img"),s.src=l.toDataURL("image/png"),s.width=f.width,s.height=f.height,a.push(s);for(h=t._frames,w=h.length/i,e=0;w>e;e++)f=h[e],o=f.rect.clone(),s=a[f.image.__tmp+d*i],y={image:s,rect:o,regX:f.regX,regY:f.regY},r&&(o.x=s.width-o.x-o.width,y.regX=o.width-f.regX),u&&(o.y=s.height-o.y-o.height,y.regY=o.height-f.regY),h.push(y);var g="_"+(r?"h":"")+(u?"v":""),b=t._animations,nt=t._data,it=b.length/i;for(e=0;it>e;e++){for(k=b[e],f=nt[k],c={name:k+g,speed:f.speed,next:f.next,frames:[]},f.next&&(c.next+=g),h=f.frames,p=0,tt=h.length;tt>p;p++)c.frames.push(h[p]+w*i);nt[c.name]=c;b.push(c.name)}};createjs.SpriteSheetUtils=n}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.EventDispatcher_constructor();this.maxWidth=2048;this.maxHeight=2048;this.spriteSheet=null;this.scale=1;this.padding=1;this.timeSlice=.3;this.progress=-1;this.framerate=n||0;this._frames=[];this._animations={};this._data=null;this._nextFrameIndex=0;this._index=0;this._timerID=null;this._scale=1}var n=createjs.extend(t,createjs.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";t.ERR_RUNNING="a build is already running";n.addFrame=function(n,i,r,u,f){if(this._data)throw t.ERR_RUNNING;var e=i||n.bounds||n.nominalBounds;return!e&&n.getBounds&&(e=n.getBounds()),e?(r=r||1,this._frames.push({source:n,sourceRect:e,scale:r,funct:u,data:f,index:this._frames.length,height:e.height*r})-1):null};n.addAnimation=function(n,i,r,u){if(this._data)throw t.ERR_RUNNING;this._animations[n]={frames:i,next:r,speed:u}};n.addMovieClip=function(n,i,r,u,f,e){var h,c,o,l,a,v,k,y,s,p;if(this._data)throw t.ERR_RUNNING;if(h=n.frameBounds,c=i||n.bounds||n.nominalBounds,!c&&n.getBounds&&(c=n.getBounds()),c||h){for(a=this._frames.length,v=n.timeline.duration,o=0;v>o;o++)k=h&&h[o]?h[o]:c,this.addFrame(n,k,r,this._setupMovieClipFrame,{i:o,f:u,d:f});y=n.timeline._labels;s=[];for(p in y)s.push({index:y[p],label:p});if(s.length)for(s.sort(function(n,t){return n.index-t.index}),o=0,l=s.length;l>o;o++){for(var w=s[o].label,d=a+s[o].index,g=a+(o==l-1?v:s[o+1].index),nt=[],b=d;g>b;b++)nt.push(b);(!e||(w=e(w,n,d,g)))&&this.addAnimation(w,nt,!0)}}};n.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};n.buildAsync=function(n){if(this._data)throw t.ERR_RUNNING;this.timeSlice=n;this._startBuild();var i=this;this._timerID=setTimeout(function(){i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};n.stopAsync=function(){clearTimeout(this._timerID);this._data=null};n.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};n.toString=function(){return"[SpriteSheetBuilder]"};n._startBuild=function(){var s=this.padding||0,e,n,i,f;if(this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale,e=[],this._data={images:[],frames:e,framerate:this.framerate,animations:this._animations},n=this._frames.slice(),n.sort(function(n,t){return n.height<=t.height?-1:1}),n[n.length-1].height+2*s>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=0,u=0,o=0;n.length;)i=this._fillRow(n,r,o,e,s),(i.w>u&&(u=i.w),r+=i.h,i.h&&n.length)||(f=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),f.width=this._getSize(u,this.maxWidth),f.height=this._getSize(r,this.maxHeight),this._data.images[o]=f,i.h||(u=r=0,o++))};n._setupMovieClipFrame=function(n,t){var i=n.actionsEnabled;n.actionsEnabled=!1;n.gotoAndStop(t.i);n.actionsEnabled=i;t.f&&t.f(n,t.d,t.i)};n._getSize=function(n,t){for(var i=4;Math.pow(2,++i)<n;);return Math.min(t,Math.pow(2,i))};n._fillRow=function(n,i,r,u,f){var y=this.maxWidth,w=this.maxHeight;i+=f;for(var b=w-i,s=f,v=0,c=n.length-1;c>=0;c--){var e=n[c],o=this._scale*e.scale,l=e.sourceRect,p=e.source,k=Math.floor(o*l.x-f),d=Math.floor(o*l.y-f),a=Math.ceil(o*l.height+2*f),h=Math.ceil(o*l.width+2*f);if(h>y)throw t.ERR_DIMENSIONS;a>b||s+h>y||(e.img=r,e.rect=new createjs.Rectangle(s,i,h,a),v=v||a,n.splice(c,1),u[e.index]=[s,i,h,a,r,Math.round(-k+o*p.regX-f),Math.round(-d+o*p.regY-f)],s+=h)}return{w:s,h:v}};n._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};n._run=function(){for(var r,u,n,t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),f=(new Date).getTime()+t,i=!1;f>(new Date).getTime();)if(!this._drawNext()){i=!0;break}i?this._endBuild():(r=this,this._timerID=setTimeout(function(){r._run()},50-t));u=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(n=new createjs.Event("progress"),n.progress=u,this.dispatchEvent(n))};n._drawNext=function(){var n=this._frames[this._index],r=n.scale*this._scale,i=n.rect,u=n.sourceRect,f=this._data.images[n.img],t=f.getContext("2d");return n.funct&&n.funct(n.source,n.data),t.save(),t.beginPath(),t.rect(i.x,i.y,i.width,i.height),t.clip(),t.translate(Math.ceil(i.x-u.x*r),Math.ceil(i.y-u.y*r)),t.scale(r,r),n.source.draw(t),t.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=createjs.promote(t,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.DisplayObject_constructor();"string"==typeof n&&(n=document.getElementById(n));this.mouseEnabled=!1;var t=n.style;t.position="absolute";t.transformOrigin=t.WebkitTransformOrigin=t.msTransformOrigin=t.MozTransformOrigin=t.OTransformOrigin="0% 0%";this.htmlElement=n;this._oldProps=null}var n=createjs.extend(t,createjs.DisplayObject);n.isVisible=function(){return null!=this.htmlElement};n.draw=function(){return!0};n.cache=function(){};n.uncache=function(){};n.updateCache=function(){};n.hitTest=function(){};n.localToGlobal=function(){};n.globalToLocal=function(){};n.localToLocal=function(){};n.clone=function(){throw"DOMElement cannot be cloned.";};n.toString=function(){return"[DOMElement (name="+this.name+")]"};n._tick=function(n){var t=this.getStage();t&&t.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(n)};n._handleDrawEnd=function(){var e=this.htmlElement,f;if(e){var i=e.style,u=this.getConcatenatedDisplayProps(this._props),t=u.matrix,o=u.visible?"visible":"hidden";if(o!=i.visibility&&(i.visibility=o),u.visible){var r=this._oldProps,s=r&&r.matrix,n=1e4;s&&s.equals(t)||(f="matrix("+(t.a*n|0)/n+","+(t.b*n|0)/n+","+(t.c*n|0)/n+","+(t.d*n|0)/n+","+(t.tx+.5|0),i.transform=i.WebkitTransform=i.OTransform=i.msTransform=f+","+(t.ty+.5|0)+")",i.MozTransform=f+"px,"+(t.ty+.5|0)+"px)",r||(r=this._oldProps=new createjs.DisplayProps(!0,NaN)),r.matrix.copy(t));r.alpha!=u.alpha&&(i.opacity=""+(u.alpha*n|0)/n,r.alpha=u.alpha)}}};createjs.DOMElement=createjs.promote(t,"DisplayObject")}();this.createjs=this.createjs||{},function(){"use strict";function t(){}var n=t.prototype;n.getBounds=function(n){return n};n.applyFilter=function(n,t,i,r,u,f,e,o){f=f||n;null==e&&(e=t);null==o&&(o=i);try{var s=n.getImageData(t,i,r,u)}catch(h){return!1}return this._applyFilter(s)?(f.putImageData(s,e,o),!0):!1};n.toString=function(){return"[Filter]"};n.clone=function(){return new t};n._applyFilter=function(){return!0};createjs.Filter=t}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t,i){(isNaN(n)||0>n)&&(n=0);(isNaN(t)||0>t)&&(t=0);(isNaN(i)||1>i)&&(i=1);this.blurX=0|n;this.blurY=0|t;this.quality=0|i}var t=createjs.extend(n,createjs.Filter);n.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];n.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];t.getBounds=function(n){var i=0|this.blurX,r=0|this.blurY,t;return 0>=i&&0>=r?n:(t=Math.pow(this.quality,.2),(n||new createjs.Rectangle).pad(i*t+1,r*t+1,i*t+1,r*t+1))};t.clone=function(){return new n(this.blurX,this.blurY,this.quality)};t.toString=function(){return"[BlurFilter]"};t._applyFilter=function(t){var nt=this.blurX>>1,y,v,ut,o,h,c;if(isNaN(nt)||0>nt||(y=this.blurY>>1,isNaN(y)||0>y)||0==nt&&0==y)return!1;v=this.quality;(isNaN(v)||1>v)&&(v=1);v|=0;v>3&&(v=3);1>v&&(v=1);for(var i=t.data,a=0,p=0,e=0,r=0,lt=0,f=0,at=0,w=0,b=0,k=0,d=0,ft=0,et=0,ot=0,l=0,vt=nt+nt+1|0,yt=y+y+1|0,g=0|t.width,st=0|t.height,ht=g-1|0,rt=st-1|0,it=nt+1|0,tt=y+1|0,ct={r:0,b:0,g:0,a:0},s=ct,e=1;vt>e;e++)s=s.n={r:0,b:0,g:0,a:0};for(s.n=ct,ut={r:0,b:0,g:0,a:0},o=ut,e=1;yt>e;e++)o=o.n={r:0,b:0,g:0,a:0};o.n=ut;for(var u=null,pt=0|n.MUL_TABLE[nt],wt=0|n.SHG_TABLE[nt],bt=0|n.MUL_TABLE[y],kt=0|n.SHG_TABLE[y];v-->0;){for(at=f=0,h=pt,c=wt,p=st;--p>-1;){for(w=it*(ft=i[0|f]),b=it*(et=i[f+1|0]),k=it*(ot=i[f+2|0]),d=it*(l=i[f+3|0]),s=ct,e=it;--e>-1;)s.r=ft,s.g=et,s.b=ot,s.a=l,s=s.n;for(e=1;it>e;e++)r=f+((e>ht?ht:e)<<2)|0,w+=s.r=i[r],b+=s.g=i[r+1],k+=s.b=i[r+2],d+=s.a=i[r+3],s=s.n;for(u=ct,a=0;g>a;a++)i[f++]=w*h>>>c,i[f++]=b*h>>>c,i[f++]=k*h>>>c,i[f++]=d*h>>>c,r=at+((r=a+nt+1)<ht?r:ht)<<2,w-=u.r-(u.r=i[r]),b-=u.g-(u.g=i[r+1]),k-=u.b-(u.b=i[r+2]),d-=u.a-(u.a=i[r+3]),u=u.n;at+=g}for(h=bt,c=kt,a=0;g>a;a++){for(f=a<<2|0,w=tt*(ft=i[f])|0,b=tt*(et=i[f+1|0])|0,k=tt*(ot=i[f+2|0])|0,d=tt*(l=i[f+3|0])|0,o=ut,e=0;tt>e;e++)o.r=ft,o.g=et,o.b=ot,o.a=l,o=o.n;for(lt=g,e=1;y>=e;e++)f=lt+a<<2,w+=o.r=i[f],b+=o.g=i[f+1],k+=o.b=i[f+2],d+=o.a=i[f+3],o=o.n,rt>e&&(lt+=g);if(f=a,u=ut,v>0)for(p=0;st>p;p++)r=f<<2,i[r+3]=l=d*h>>>c,l>0?(i[r]=w*h>>>c,i[r+1]=b*h>>>c,i[r+2]=k*h>>>c):i[r]=i[r+1]=i[r+2]=0,r=a+((r=p+tt)<rt?r:rt)*g<<2,w-=u.r-(u.r=i[r]),b-=u.g-(u.g=i[r+1]),k-=u.b-(u.b=i[r+2]),d-=u.a-(u.a=i[r+3]),u=u.n,f+=g;else for(p=0;st>p;p++)r=f<<2,i[r+3]=l=d*h>>>c,l>0?(l=255/l,i[r]=(w*h>>>c)*l,i[r+1]=(b*h>>>c)*l,i[r+2]=(k*h>>>c)*l):i[r]=i[r+1]=i[r+2]=0,r=a+((r=p+tt)<rt?r:rt)*g<<2,w-=u.r-(u.r=i[r]),b-=u.g-(u.g=i[r+1]),k-=u.b-(u.b=i[r+2]),d-=u.a-(u.a=i[r+3]),u=u.n,f+=g}}return!0};createjs.BlurFilter=createjs.promote(n,"Filter")}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.alphaMap=n;this._alphaMap=null;this._mapData=null}var n=createjs.extend(t,createjs.Filter);n.clone=function(){var n=new t(this.alphaMap);return n._alphaMap=this._alphaMap,n._mapData=this._mapData,n};n.toString=function(){return"[AlphaMapFilter]"};n._applyFilter=function(n){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var i=n.data,r=this._mapData,t=0,u=i.length;u>t;t+=4)i[t+3]=r[t]||0;return!0};n._prepAlphaMap=function(){var i,n,t,r;if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;n=this._alphaMap=this.alphaMap;t=n;n instanceof HTMLCanvasElement?i=t.getContext("2d"):(t=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),t.width=n.width,t.height=n.height,i=t.getContext("2d"),i.drawImage(n,0,0));try{r=i.getImageData(0,0,n.width,n.height)}catch(u){return!1}return this._mapData=r.data,!0};createjs.AlphaMapFilter=createjs.promote(t,"Filter")}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.mask=n}var t=createjs.extend(n,createjs.Filter);t.applyFilter=function(n,t,i,r,u,f,e,o){return this.mask?(f=f||n,null==e&&(e=t),null==o&&(o=i),f.save(),n!=f?!1:(f.globalCompositeOperation="destination-in",f.drawImage(this.mask,e,o),f.restore(),!0)):!0};t.clone=function(){return new n(this.mask)};t.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=createjs.promote(n,"Filter")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t,i,r,u,f,e,o){this.redMultiplier=null!=n?n:1;this.greenMultiplier=null!=t?t:1;this.blueMultiplier=null!=i?i:1;this.alphaMultiplier=null!=r?r:1;this.redOffset=u||0;this.greenOffset=f||0;this.blueOffset=e||0;this.alphaOffset=o||0}var t=createjs.extend(n,createjs.Filter);t.toString=function(){return"[ColorFilter]"};t.clone=function(){return new n(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};t._applyFilter=function(n){for(var i=n.data,r=i.length,t=0;r>t;t+=4)i[t]=i[t]*this.redMultiplier+this.redOffset,i[t+1]=i[t+1]*this.greenMultiplier+this.greenOffset,i[t+2]=i[t+2]*this.blueMultiplier+this.blueOffset,i[t+3]=i[t+3]*this.alphaMultiplier+this.alphaOffset;return!0};createjs.ColorFilter=createjs.promote(n,"Filter")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t,i,r){this.setColor(n,t,i,r)}var t=n.prototype;n.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];n.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];n.LENGTH=n.IDENTITY_MATRIX.length;t.setColor=function(n,t,i,r){return this.reset().adjustColor(n,t,i,r)};t.reset=function(){return this.copy(n.IDENTITY_MATRIX)};t.adjustColor=function(n,t,i,r){return this.adjustHue(r),this.adjustContrast(t),this.adjustBrightness(n),this.adjustSaturation(i)};t.adjustBrightness=function(n){return 0==n||isNaN(n)?this:(n=this._cleanValue(n,255),this._multiplyMatrix([1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1]),this)};t.adjustContrast=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var i;return 0>t?i=127+t/100*127:(i=t%1,i=0==i?n.DELTA_INDEX[t]:n.DELTA_INDEX[t<<0]*(1-i)+n.DELTA_INDEX[(t<<0)+1]*i,i=127*i+127),this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this};t.adjustSaturation=function(n){if(0==n||isNaN(n))return this;n=this._cleanValue(n,100);var t=1+(n>0?3*n/100:n/100),i=.3086,r=.6094,u=.082;return this._multiplyMatrix([i*(1-t)+t,r*(1-t),u*(1-t),0,0,i*(1-t),r*(1-t)+t,u*(1-t),0,0,i*(1-t),r*(1-t),u*(1-t)+t,0,0,0,0,0,1,0,0,0,0,0,1]),this};t.adjustHue=function(n){if(0==n||isNaN(n))return this;n=this._cleanValue(n,180)/180*Math.PI;var t=Math.cos(n),i=Math.sin(n),r=.213,u=.715,f=.072;return this._multiplyMatrix([r+t*(1-r)+i*-r,u+t*-u+i*-u,f+t*-f+i*(1-f),0,0,r+t*-r+.143*i,u+t*(1-u)+.14*i,f+t*-f+i*-.283,0,0,r+t*-r+i*-(1-r),u+t*-u+i*u,f+t*(1-f)+i*f,0,0,0,0,0,1,0,0,0,0,0,1]),this};t.concat=function(t){return t=this._fixMatrix(t),t.length!=n.LENGTH?this:(this._multiplyMatrix(t),this)};t.clone=function(){return(new n).copy(this)};t.toArray=function(){for(var i=[],t=0,r=n.LENGTH;r>t;t++)i[t]=this[t];return i};t.copy=function(t){for(var r=n.LENGTH,i=0;r>i;i++)this[i]=t[i];return this};t.toString=function(){return"[ColorMatrix]"};t._multiplyMatrix=function(n){for(var t,r,f=[],u,i=0;5>i;i++){for(t=0;5>t;t++)f[t]=this[t+5*i];for(t=0;5>t;t++){for(u=0,r=0;5>r;r++)u+=n[t+5*r]*f[r];this[t+5*i]=u}}};t._cleanValue=function(n,t){return Math.min(t,Math.max(-t,n))};t._fixMatrix=function(t){return t instanceof n&&(t=t.toArray()),t.length<n.LENGTH?t=t.slice(0,t.length).concat(n.IDENTITY_MATRIX.slice(t.length,n.LENGTH)):t.length>n.LENGTH&&(t=t.slice(0,n.LENGTH)),t};createjs.ColorMatrix=n}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.matrix=n}var t=createjs.extend(n,createjs.Filter);t.toString=function(){return"[ColorMatrixFilter]"};t.clone=function(){return new n(this.matrix)};t._applyFilter=function(n){for(var u,f,e,o,r=n.data,s=r.length,t=this.matrix,h=t[0],c=t[1],l=t[2],a=t[3],v=t[4],y=t[5],p=t[6],w=t[7],b=t[8],k=t[9],d=t[10],g=t[11],nt=t[12],tt=t[13],it=t[14],rt=t[15],ut=t[16],ft=t[17],et=t[18],ot=t[19],i=0;s>i;i+=4)u=r[i],f=r[i+1],e=r[i+2],o=r[i+3],r[i]=u*h+f*c+e*l+o*a+v,r[i+1]=u*y+f*p+e*w+o*b+k,r[i+2]=u*d+f*g+e*nt+o*tt+it,r[i+3]=u*rt+f*ut+e*ft+o*et+ot;return!0};createjs.ColorMatrixFilter=createjs.promote(n,"Filter")}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"Touch cannot be instantiated";}n.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)};n.enable=function(t,i,r){return t&&t.canvas&&n.isSupported()?t.__touch?!0:(t.__touch={pointers:{},multitouch:!i,preventDefault:!r,count:0},"ontouchstart"in window?n._IOS_enable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&n._IE_enable(t),!0):!1};n.disable=function(t){t&&("ontouchstart"in window?n._IOS_disable(t):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&n._IE_disable(t),delete t.__touch)};n._IOS_enable=function(t){var i=t.canvas,r=t.__touch.f=function(i){n._IOS_handleEvent(t,i)};i.addEventListener("touchstart",r,!1);i.addEventListener("touchmove",r,!1);i.addEventListener("touchend",r,!1);i.addEventListener("touchcancel",r,!1)};n._IOS_disable=function(n){var t=n.canvas,i;t&&(i=n.__touch.f,t.removeEventListener("touchstart",i,!1),t.removeEventListener("touchmove",i,!1),t.removeEventListener("touchend",i,!1),t.removeEventListener("touchcancel",i,!1))};n._IOS_handleEvent=function(n,t){var i,u;if(n){n.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var e=t.changedTouches,r=t.type,f=0,o=e.length;o>f;f++)i=e[f],u=i.identifier,i.target==n.canvas&&("touchstart"==r?this._handleStart(n,u,t,i.pageX,i.pageY):"touchmove"==r?this._handleMove(n,u,t,i.pageX,i.pageY):("touchend"==r||"touchcancel"==r)&&this._handleEnd(n,u,t))}};n._IE_enable=function(t){var r=t.canvas,i=t.__touch.f=function(i){n._IE_handleEvent(t,i)};void 0===window.navigator.pointerEnabled?(r.addEventListener("MSPointerDown",i,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",i,!1),window.addEventListener("MSPointerCancel",i,!1),t.__touch.preventDefault&&(r.style.msTouchAction="none")):(r.addEventListener("pointerdown",i,!1),window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",i,!1),window.addEventListener("pointercancel",i,!1),t.__touch.preventDefault&&(r.style.touchAction="none"));t.__touch.activeIDs={}};n._IE_disable=function(n){var t=n.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),n.canvas&&n.canvas.removeEventListener("MSPointerDown",t,!1)):(window.removeEventListener("pointermove",t,!1),window.removeEventListener("pointerup",t,!1),window.removeEventListener("pointercancel",t,!1),n.canvas&&n.canvas.removeEventListener("pointerdown",t,!1))};n._IE_handleEvent=function(n,t){if(n){n.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var i=t.type,r=t.pointerId,u=n.__touch.activeIDs;if("MSPointerDown"==i||"pointerdown"==i){if(t.srcElement!=n.canvas)return;u[r]=!0;this._handleStart(n,r,t,t.pageX,t.pageY)}else u[r]&&("MSPointerMove"==i||"pointermove"==i?this._handleMove(n,r,t,t.pageX,t.pageY):("MSPointerUp"==i||"MSPointerCancel"==i||"pointerup"==i||"pointercancel"==i)&&(delete u[r],this._handleEnd(n,r,t)))}};n._handleStart=function(n,t,i,r,u){var f=n.__touch,e;(f.multitouch||!f.count)&&(e=f.pointers,e[t]||(e[t]=!0,f.count++,n._handlePointerDown(t,i,r,u)))};n._handleMove=function(n,t,i,r,u){n.__touch.pointers[t]&&n._handlePointerMove(t,i,r,u)};n._handleEnd=function(n,t,i){var r=n.__touch,u=r.pointers;u[t]&&(r.count--,n._handlePointerUp(t,i,!0),delete u[t])};createjs.Touch=n}();this.createjs=this.createjs||{},function(){"use strict";var n=createjs.EaselJS=createjs.EaselJS||{};n.version="0.8.2";n.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}();this.createjs=this.createjs||{},function(){"use strict";var n=createjs.PreloadJS=createjs.PreloadJS||{};n.version="0.6.2";n.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}();this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(n,t){var i=Array.prototype.slice.call(arguments,2);return function(){return n.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t,i){this.Event_constructor("error");this.title=n;this.message=t;this.data=i}var t=createjs.extend(n,createjs.Event);t.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)};createjs.ErrorEvent=createjs.promote(n,"Event")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t){this.Event_constructor("progress");this.loaded=n;this.total=null==t?1:t;this.progress=0==t?0:this.loaded/this.total}var t=createjs.extend(n,createjs.Event);t.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)};createjs.ProgressEvent=createjs.promote(n,"Event")}(window),function(){function u(t,r){function l(n){var e,i,a,t,o,f,u;if(l[n]!==h)return l[n];if("bug-string-char-index"==n)e="a"!="a"[0];else if("json"==n)e=l("json-stringify")&&l("json-parse");else{if(a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',"json-stringify"==n){if(t=r.stringify,o="function"==typeof t&&c,o){(i=function(){return 1}).toJSON=i;try{o="0"===t(0)&&"0"===t(new lt)&&'""'==t(new et)&&t(s)===h&&t(h)===h&&t()===h&&"1"===t(i)&&"[1]"==t([i])&&"[null]"==t([h])&&"null"==t(null)&&"[null,null,null]"==t([h,s,null])&&t({a:[i,!0,!1,null,"\x00\b\n\f\r\t"]})==a&&"1"===t(null,i)&&"[\n 1,\n 2\n]"==t([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==t(new w(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new w(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new w(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new w(-1))}catch(v){o=!1}}e=o}if("json-parse"==n){if(f=r.parse,"function"==typeof f)try{if(0===f("0")&&!f(!1)&&(i=f(a),u=5==i.a.length&&1===i.a[0],u)){try{u=!f('"\t"')}catch(v){}if(u)try{u=1!==f("01")}catch(v){}if(u)try{u=1!==f("1.")}catch(v){}}}catch(v){u=!1}e=u}}return l[n]=!!e}t||(t=n.Object());r||(r=n.Object());var lt=t.Number||n.Number,et=t.String||n.String,at=t.Object||n.Object,w=t.Date||n.Date,vt=t.SyntaxError||n.SyntaxError,yt=t.TypeError||n.TypeError,pt=t.Math||n.Math,g=t.JSON||n.JSON;"object"==typeof g&&g&&(r.stringify=g.stringify,r.parse=g.parse);var o,p,h,ot=at.prototype,s=ot.toString,c=new w(-0xc782b5b800cec);try{c=-109252==c.getUTCFullYear()&&0===c.getUTCMonth()&&1===c.getUTCDate()&&10==c.getUTCHours()&&37==c.getUTCMinutes()&&6==c.getUTCSeconds()&&708==c.getUTCMilliseconds()}catch(ri){}if(!l("json")){var b="[object Function]",wt="[object Date]",nt="[object Number]",tt="[object String]",it="[object Array]",bt="[object Boolean]",k=l("bug-string-char-index");if(!c)var a=pt.floor,kt=[0,31,59,90,120,151,181,212,243,273,304,334],d=function(n,t){return kt[t]+365*(n-1970)+a((n-1969+(t=+(t>1)))/4)-a((n-1901+t)/100)+a((n-1601+t)/400)};if((o=ot.hasOwnProperty)||(o=function(n){var i,t={};return(t.__proto__=null,t.__proto__={toString:1},t).toString!=s?o=function(n){var t=this.__proto__,i=n in(this.__proto__=null,this);return this.__proto__=t,i}:(i=t.constructor,o=function(n){var t=(this.constructor||i).prototype;return n in this&&!(n in t&&this[n]===t[n])}),t=null,o.call(this,n)}),p=function(n,t){var u,r,e,f=0;(u=function(){this.valueOf=0}).prototype.valueOf=0;r=new u;for(e in r)o.call(r,e)&&f++;return u=r=null,f?p=2==f?function(n,t){var i,r={},u=s.call(n)==b;for(i in n)(!u||"prototype"!=i)&&!o.call(r,i)&&(r[i]=1)&&o.call(n,i)&&t(i)}:function(n,t){var i,r,u=s.call(n)==b;for(i in n)u&&"prototype"==i||!o.call(n,i)||(r="constructor"===i)||t(i);(r||o.call(n,i="constructor"))&&t(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(n,t){var u,f,e=s.call(n)==b,h=!e&&"function"!=typeof n.constructor&&i[typeof n.hasOwnProperty]&&n.hasOwnProperty||o;for(u in n)e&&"prototype"==u||!h.call(n,u)||t(u);for(f=r.length;u=r[--f];h.call(n,u)&&t(u));}),p(n,t)},!l("json-stringify")){var dt={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},gt="000000",v=function(n,t){return(gt+(t||0)).slice(-n)},ni="\\u00",st=function(n){for(var i,r='"',t=0,u=n.length,f=!k||u>10,e=f&&(k?n.split(""):n);u>t;t++){i=n.charCodeAt(t);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:r+=dt[i];break;default:if(32>i){r+=ni+v(2,i.toString(16));break}r+=f?e[t]:n.charAt(t)}}return r+'"'},ut=function(n,t,i,r,u,f,e){var c,y,l,k,w,g,et,ot,ht,ct,b,lt,ft,rt,at,vt;try{c=t[n]}catch(pt){}if("object"==typeof c&&c)if(y=s.call(c),y!=wt||o.call(c,"toJSON"))"function"==typeof c.toJSON&&(y!=nt&&y!=tt&&y!=it||o.call(c,"toJSON"))&&(c=c.toJSON(n));else if(c>-1/0&&1/0>c){if(d){for(w=a(c/864e5),l=a(w/365.2425)+1970-1;d(l+1,0)<=w;l++);for(k=a((w-d(l,0))/30.42);d(l,k+1)<=w;k++);w=1+w-d(l,k);g=(c%864e5+864e5)%864e5;et=a(g/36e5)%24;ot=a(g/6e4)%60;ht=a(g/1e3)%60;ct=g%1e3}else l=c.getUTCFullYear(),k=c.getUTCMonth(),w=c.getUTCDate(),et=c.getUTCHours(),ot=c.getUTCMinutes(),ht=c.getUTCSeconds(),ct=c.getUTCMilliseconds();c=(0>=l||l>=1e4?(0>l?"-":"+")+v(6,0>l?-l:l):v(4,l))+"-"+v(2,k+1)+"-"+v(2,w)+"T"+v(2,et)+":"+v(2,ot)+":"+v(2,ht)+"."+v(3,ct)+"Z"}else c=null;if(i&&(c=i.call(t,n,c)),null===c)return"null";if(y=s.call(c),y==bt)return""+c;if(y==nt)return c>-1/0&&1/0>c?""+c:"null";if(y==tt)return st(""+c);if("object"==typeof c){for(rt=e.length;rt--;)if(e[rt]===c)throw yt();if(e.push(c),b=[],at=f,f+=u,y==it){for(ft=0,rt=c.length;rt>ft;ft++)lt=ut(ft,c,i,r,u,f,e),b.push(lt===h?"null":lt);vt=b.length?u?"[\n"+f+b.join(",\n"+f)+"\n"+at+"]":"["+b.join(",")+"]":"[]"}else p(r||c,function(n){var t=ut(n,c,i,r,u,f,e);t!==h&&b.push(st(n)+":"+(u?" ":"")+t)}),vt=b.length?u?"{\n"+f+b.join(",\n"+f)+"\n"+at+"}":"{"+b.join(",")+"}":"{}";return e.pop(),vt}};r.stringify=function(n,t,r){var e,c,o,u,f,h,l;if(i[typeof t]&&t)if((u=s.call(t))==b)c=t;else if(u==it)for(o={},h=0,l=t.length;l>h;f=t[h++],u=s.call(f),(u==tt||u==nt)&&(o[f]=1));if(r)if((u=s.call(r))==nt){if((r-=r%1)>0)for(e="",r>10&&(r=10);e.length<r;e+=" ");}else u==tt&&(e=r.length<=10?r:r.slice(0,10));return ut("",(f={},f[""]=n,f),c,o,e,"",[])}}if(!l("json-parse")){var f,rt,ti=et.fromCharCode,ii={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},e=function(){throw f=rt=null,vt();},y=function(){for(var r,u,i,s,n,t=rt,o=t.length;o>f;)switch(n=t.charCodeAt(f)){case 9:case 10:case 13:case 32:f++;break;case 123:case 125:case 91:case 93:case 58:case 44:return r=k?t.charAt(f):t[f],f++,r;case 34:for(r="@",f++;o>f;)if(n=t.charCodeAt(f),32>n)e();else if(92==n)switch(n=t.charCodeAt(++f)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:r+=ii[n];f++;break;case 117:for(u=++f,i=f+4;i>f;f++)n=t.charCodeAt(f),n>=48&&57>=n||n>=97&&102>=n||n>=65&&70>=n||e();r+=ti("0x"+t.slice(u,f));break;default:e()}else{if(34==n)break;for(n=t.charCodeAt(f),u=f;n>=32&&92!=n&&34!=n;)n=t.charCodeAt(++f);r+=t.slice(u,f)}if(34==t.charCodeAt(f))return f++,r;e();default:if(u=f,45==n&&(s=!0,n=t.charCodeAt(++f)),n>=48&&57>=n){for(48==n&&(n=t.charCodeAt(f+1),n>=48&&57>=n)&&e(),s=!1;o>f&&(n=t.charCodeAt(f),n>=48&&57>=n);f++);if(46==t.charCodeAt(f)){for(i=++f;o>i&&(n=t.charCodeAt(i),n>=48&&57>=n);i++);i==f&&e();f=i}if(n=t.charCodeAt(f),101==n||69==n){for(n=t.charCodeAt(++f),(43==n||45==n)&&f++,i=f;o>i&&(n=t.charCodeAt(i),n>=48&&57>=n);i++);i==f&&e();f=i}return+t.slice(u,f)}if(s&&e(),"true"==t.slice(f,f+4))return f+=4,!0;if("false"==t.slice(f,f+5))return f+=5,!1;if("null"==t.slice(f,f+4))return f+=4,null;e()}return"$"},ft=function(n){var t,i;if("$"==n&&e(),"string"==typeof n){if("@"==(k?n.charAt(0):n[0]))return n.slice(1);if("["==n){for(t=[];n=y(),"]"!=n;i||(i=!0))i&&(","==n?(n=y(),"]"==n&&e()):e()),","==n&&e(),t.push(ft(n));return t}if("{"==n){for(t={};n=y(),"}"!=n;i||(i=!0))i&&(","==n?(n=y(),"}"==n&&e()):e()),(","==n||"string"!=typeof n||"@"!=(k?n.charAt(0):n[0])||":"!=y())&&e(),t[n.slice(1)]=ft(y());return t}e()}return n},ht=function(n,t,i){var r=ct(n,t,i);r===h?delete n[t]:n[t]=r},ct=function(n,t,i){var u,r=n[t];if("object"==typeof r&&r)if(s.call(r)==it)for(u=r.length;u--;)ht(r,u,i);else p(r,function(n){ht(r,n,i)});return i.call(n,t,r)};r.parse=function(n,t){var i,r;return f=0,rt=""+n,i=ft(y()),"$"!=y()&&e(),f=rt=null,t&&s.call(t)==b?ct((r={},r[""]=i,r),"",t):i}}}return r.runInContext=u,r}var e="function"==typeof define&&define.amd,i={"function":!0,object:!0},f=i[typeof exports]&&exports&&!exports.nodeType&&exports,n=i[typeof window]&&window||this,t=f&&i[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!t||t.global!==t&&t.window!==t&&t.self!==t||(n=t),f&&!e)u(n,f);else{var o=n.JSON,s=n.JSON3,h=!1,r=u(n,n.JSON3={noConflict:function(){return h||(h=!0,n.JSON=o,n.JSON3=s,o=s=null),r}});n.JSON={parse:r.parse,stringify:r.stringify}}e&&define("lib/createjs-2015.11.26.min",function(){return r})}.call(this),function(){var n={};n.appendToHead=function(t){n.getHead().appendChild(t)};n.getHead=function(){return document.head||document.getElementsByTagName("head")[0]};n.getBody=function(){return document.body||document.getElementsByTagName("body")[0]};createjs.DomUtils=n}(),function(){var n={};n.parseXML=function(n,t){var i=null,r;try{window.DOMParser&&(r=new DOMParser,i=r.parseFromString(n,t))}catch(u){}if(!i)try{i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1;i.loadXML(n)}catch(u){i=null}return i};n.parseJSON=function(n){if(null==n)return null;try{return JSON.parse(n)}catch(t){throw t;}};createjs.DataUtils=n}();this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null;this.type=null;this.id=null;this.maintainOrder=!1;this.callback=null;this.data=null;this.method=createjs.LoadItem.GET;this.values=null;this.headers=null;this.withCredentials=!1;this.mimeType=null;this.crossOrigin=null;this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var i=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3;n.create=function(i){if("string"==typeof i){var r=new t;return r.src=i,r}if(i instanceof n)return i;if(i instanceof Object&&i.src)return null==i.loadTimeout&&(i.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),i;throw new Error("Type not recognized.");};i.set=function(n){for(var t in n)this[t]=n[t];return this};createjs.LoadItem=n}(),function(){var n={};n.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i;n.RELATIVE_PATT=/^[.\/]*?\//i;n.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i;n.parseURI=function(t){var i={absolute:!1,relative:!1},r,u;return null==t?i:(r=t.indexOf("?"),r>-1&&(t=t.substr(0,r)),n.ABSOLUTE_PATT.test(t)?i.absolute=!0:n.RELATIVE_PATT.test(t)&&(i.relative=!0),(u=t.match(n.EXTENSION_PATT))&&(i.extension=u[1].toLowerCase()),i)};n.formatQueryString=function(n,t){var i,r;if(null==n)throw new Error("You must specify data.");i=[];for(r in n)i.push(r+"="+escape(n[r]));return t&&(i=i.concat(t)),i.join("&")};n.buildPath=function(n,t){var i,r,u;return null==t?n:(i=[],r=n.indexOf("?"),-1!=r&&(u=n.slice(r+1),i=i.concat(u.split("&"))),-1!=r?n.slice(0,r)+"?"+this.formatQueryString(t,i):n+"?"+this.formatQueryString(t,i))};n.isCrossDomain=function(n){var t=document.createElement("a"),i;return t.href=n.src,i=document.createElement("a"),i.href=location.href,""!=t.hostname&&(t.port!=i.port||t.protocol!=i.protocol||t.hostname!=i.hostname)};n.isLocal=function(n){var t=document.createElement("a");return t.href=n.src,""==t.hostname&&"file:"==t.protocol};n.isBinary=function(n){switch(n){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}};n.isImageTag=function(n){return n instanceof HTMLImageElement};n.isAudioTag=function(n){return window.HTMLAudioElement?n instanceof HTMLAudioElement:!1};n.isVideoTag=function(n){return window.HTMLVideoElement?n instanceof HTMLVideoElement:!1};n.isText=function(n){switch(n){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}};n.getTypeByExtension=function(n){if(null==n)return createjs.AbstractLoader.TEXT;switch(n.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}};createjs.RequestUtils=n}();this.createjs=this.createjs||{},function(){"use strict";function i(n,t,i){this.EventDispatcher_constructor();this.loaded=!1;this.canceled=!1;this.progress=0;this.type=i;this.resultFormatter=null;this._item=n?createjs.LoadItem.create(n):null;this._preferXHR=t;this._result=null;this._rawResult=null;this._loadedItems=null;this._tagSrcAttribute=null;this._tag=null}var n=createjs.extend(i,createjs.EventDispatcher),t=i;t.POST="POST";t.GET="GET";t.BINARY="binary";t.CSS="css";t.IMAGE="image";t.JAVASCRIPT="javascript";t.JSON="json";t.JSONP="jsonp";t.MANIFEST="manifest";t.SOUND="sound";t.VIDEO="video";t.SPRITESHEET="spritesheet";t.SVG="svg";t.TEXT="text";t.XML="xml";n.getItem=function(){return this._item};n.getResult=function(n){return n?this._rawResult:this._result};n.getTag=function(){return this._tag};n.setTag=function(n){this._tag=n};n.load=function(){this._createRequest();this._request.on("complete",this,this);this._request.on("progress",this,this);this._request.on("loadStart",this,this);this._request.on("abort",this,this);this._request.on("timeout",this,this);this._request.on("error",this,this);var n=new createjs.Event("initialize");n.loader=this._request;this.dispatchEvent(n);this._request.load()};n.cancel=function(){this.canceled=!0;this.destroy()};n.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy());this._request=null;this._item=null;this._rawResult=null;this._result=null;this._loadItems=null;this.removeAllEventListeners()};n.getLoadedItems=function(){return this._loadedItems};n._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};n._createTag=function(){return null};n._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};n._sendProgress=function(n){if(!this._isCanceled()){var t=null;"number"==typeof n?(this.progress=n,t=new createjs.ProgressEvent(this.progress)):(t=n,this.progress=n.loaded/n.total,t.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0));this.hasEventListener("progress")&&this.dispatchEvent(t)}};n._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var n=new createjs.Event("complete");n.rawResult=this._rawResult;null!=this._result&&(n.result=this._result);this.dispatchEvent(n)}};n._sendError=function(n){!this._isCanceled()&&this.hasEventListener("error")&&(null==n&&(n=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(n))};n._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};n.resultFormatter=null;n.handleEvent=function(n){switch(n.type){case"complete":this._rawResult=n.target._response;var t=this.resultFormatter&&this.resultFormatter(this);t instanceof Function?t.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=t||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(n);break;case"error":this._sendError(n);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+n.type.toUpperCase()+"_ERROR"))}};n._resultFormatSuccess=function(n){this._result=n;this._sendComplete()};n._resultFormatFailed=function(n){this._sendError(n)};n.buildPath=function(n,t){return createjs.RequestUtils.buildPath(n,t)};n.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=createjs.promote(i,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i){this.AbstractLoader_constructor(n,t,i);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.on("initialize",this._updateXHR,this)}var n=createjs.extend(t,createjs.AbstractLoader);n.load=function(){this._tag||(this._tag=this._createTag(this._item.src));this._tag.preload="auto";this._tag.load();this.AbstractLoader_load()};n._createTag=function(){};n._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)};n._updateXHR=function(n){n.loader.setResponseType&&n.loader.setResponseType("blob")};n._formatResult=function(n){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var t=window.URL||window.webkitURL,i=n.getResult(!0);n.getTag().src=t.createObjectURL(i)}return n.getTag()};createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";var t=function(n){this._item=n},n=createjs.extend(t,createjs.EventDispatcher);n.load=function(){};n.destroy=function(){};n.cancel=function(){};createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i){this.AbstractRequest_constructor(n);this._tag=t;this._tagSrcAttribute=i;this._loadedHandler=createjs.proxy(this._handleTagComplete,this);this._addedToDOM=!1;this._startTagVisibility=null}var n=createjs.extend(t,createjs.AbstractRequest);n.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this);this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);this._tag.onerror=createjs.proxy(this._handleError,this);var n=new createjs.Event("initialize");n.loader=this._tag;this.dispatchEvent(n);this._hideTag();this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag[this._tagSrcAttribute]=this._item.src;null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)};n.destroy=function(){this._clean();this._tag=null;this.AbstractRequest_destroy()};n._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var n=this._tag;("loaded"==n.readyState||"complete"==n.readyState)&&this._handleTagComplete()};n._handleError=function(){this._clean();this.dispatchEvent("error")};n._handleTagComplete=function(){this._rawResult=this._tag;this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult;this._clean();this._showTag();this.dispatchEvent("complete")};n._handleTimeout=function(){this._clean();this.dispatchEvent(new createjs.Event("timeout"))};n._clean=function(){this._tag.onload=null;this._tag.onreadystatechange=null;this._tag.onerror=null;this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag);clearTimeout(this._loadTimeout)};n._hideTag=function(){this._startTagVisibility=this._tag.style.visibility;this._tag.style.visibility="hidden"};n._showTag=function(){this._tag.style.visibility=this._startTagVisibility};n._handleStalled=function(){};createjs.TagRequest=createjs.promote(t,"AbstractRequest")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i){this.AbstractRequest_constructor(n);this._tag=t;this._tagSrcAttribute=i;this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var n=createjs.extend(t,createjs.TagRequest);n.load=function(){var t=createjs.proxy(this._handleStalled,this),n;this._stalledCallback=t;n=createjs.proxy(this._handleProgress,this);this._handleProgress=n;this._tag.addEventListener("stalled",t);this._tag.addEventListener("progress",n);this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1);this.TagRequest_load()};n._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var n=this._tag;("loaded"==n.readyState||"complete"==n.readyState)&&this._handleTagComplete()};n._handleStalled=function(){};n._handleProgress=function(n){if(n&&!(n.loaded>0&&0==n.total)){var t=new createjs.ProgressEvent(n.loaded,n.total);this.dispatchEvent(t)}};n._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler);this._tag.removeEventListener("stalled",this._stalledCallback);this._tag.removeEventListener("progress",this._progressCallback);this.TagRequest__clean()};createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.AbstractRequest_constructor(n);this._request=null;this._loadTimeout=null;this._xhrLevel=1;this._response=null;this._rawResponse=null;this._canceled=!1;this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this);this._handleProgressProxy=createjs.proxy(this._handleProgress,this);this._handleAbortProxy=createjs.proxy(this._handleAbort,this);this._handleErrorProxy=createjs.proxy(this._handleError,this);this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this);this._handleLoadProxy=createjs.proxy(this._handleLoad,this);this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this);!this._createXHR(n)}var n=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];n.getResult=function(n){return n&&this._rawResponse?this._rawResponse:this._response};n.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};n.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(n){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,n))}};n.setResponseType=function(n){"blob"===n&&(n=window.URL?"blob":"arraybuffer",this._responseType=n);this._request.responseType=n};n.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};n.getResponseHeader=function(n){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(n):null};n._handleProgress=function(n){if(n&&!(n.loaded>0&&0==n.total)){var t=new createjs.ProgressEvent(n.loaded,n.total);this.dispatchEvent(t)}};n._handleLoadStart=function(){clearTimeout(this._loadTimeout);this.dispatchEvent("loadstart")};n._handleAbort=function(n){this._clean();this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,n))};n._handleError=function(n){this._clean();this.dispatchEvent(new createjs.ErrorEvent(n.message))};n._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};n._handleLoad=function(){var n,t;if(!this.loaded){if(this.loaded=!0,n=this._checkError(),n)return void this._handleError(n);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder)&&(t=new BlobBuilder,t.append(this._response),this._response=t.getBlob())}this._clean();this.dispatchEvent(new createjs.Event("complete"))}};n._handleTimeout=function(n){this._clean();this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,n))};n._checkError=function(){var n=parseInt(this._request.status);switch(n){case 404:case 0:return new Error(n)}return null};n._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(n){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(n){}return null};n._createXHR=function(n){var f=createjs.RequestUtils.isCrossDomain(n),i={},t=null,u,o,h,e,r;if(window.XMLHttpRequest)t=new XMLHttpRequest,f&&void 0===t.withCredentials&&window.XDomainRequest&&(t=new XDomainRequest);else{for(u=0,o=s.ACTIVEX_VERSIONS.length;o>u;u++){h=s.ACTIVEX_VERSIONS[u];try{t=new ActiveXObject(h);break}catch(c){}}if(null==t)return!1}if(null==n.mimeType&&createjs.RequestUtils.isText(n.type)&&(n.mimeType="text/plain; charset=utf-8"),n.mimeType&&t.overrideMimeType&&t.overrideMimeType(n.mimeType),this._xhrLevel="string"==typeof t.responseType?2:1,e=null,e=n.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(n.src,n.values):n.src,t.open(n.method||createjs.AbstractLoader.GET,e,!0),f&&t instanceof XMLHttpRequest&&1==this._xhrLevel&&(i.Origin=location.origin),n.values&&n.method==createjs.AbstractLoader.POST&&(i["Content-Type"]="application/x-www-form-urlencoded"),f||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),n.headers)for(r in n.headers)i[r]=n.headers[r];for(r in i)t.setRequestHeader(r,i[r]);return t instanceof XMLHttpRequest&&void 0!==n.withCredentials&&(t.withCredentials=n.withCredentials),this._request=t,!0};n._clean=function(){clearTimeout(this._loadTimeout);null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)};n.toString=function(){return"[PreloadJS XHRRequest]"};createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}();this.createjs=this.createjs||{},function(){"use strict";function i(n,t,i){this.AbstractLoader_constructor();this._plugins=[];this._typeCallbacks={};this._extensionCallbacks={};this.next=null;this.maintainScriptOrder=!0;this.stopOnError=!1;this._maxConnections=1;this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader];this._defaultLoaderLength=this._availableLoaders.length;this.init(n,t,i)}var n=createjs.extend(i,createjs.AbstractLoader),t=i;n.init=function(n,t,i){this.useXHR=!0;this.preferXHR=!0;this._preferXHR=!0;this.setPreferXHR(n);this._paused=!1;this._basePath=t;this._crossOrigin=i;this._loadStartWasDispatched=!1;this._currentlyLoadingScript=null;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults={};this._numItems=0;this._numItemsLoaded=0;this._scriptOrder=[];this._loadedScripts=[];this._lastProgress=NaN};t.loadTimeout=8e3;t.LOAD_TIMEOUT=0;t.BINARY=createjs.AbstractLoader.BINARY;t.CSS=createjs.AbstractLoader.CSS;t.IMAGE=createjs.AbstractLoader.IMAGE;t.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT;t.JSON=createjs.AbstractLoader.JSON;t.JSONP=createjs.AbstractLoader.JSONP;t.MANIFEST=createjs.AbstractLoader.MANIFEST;t.SOUND=createjs.AbstractLoader.SOUND;t.VIDEO=createjs.AbstractLoader.VIDEO;t.SVG=createjs.AbstractLoader.SVG;t.TEXT=createjs.AbstractLoader.TEXT;t.XML=createjs.AbstractLoader.XML;t.POST=createjs.AbstractLoader.POST;t.GET=createjs.AbstractLoader.GET;n.registerLoader=function(n){if(!n||!n.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(n))throw new Error("loader already exists.");this._availableLoaders.unshift(n)};n.unregisterLoader=function(n){var t=this._availableLoaders.indexOf(n);-1!=t&&t<this._defaultLoaderLength-1&&this._availableLoaders.splice(t,1)};n.setUseXHR=function(n){return this.setPreferXHR(n)};n.setPreferXHR=function(n){return this.preferXHR=0!=n&&null!=window.XMLHttpRequest,this.preferXHR};n.removeAll=function(){this.remove()};n.remove=function(n){var u=null,f,i,e,t,r,o;if(n&&!Array.isArray(n))u=[n];else if(n)u=n;else if(arguments.length>0)return;if(f=!1,u){for(;u.length;){for(i=u.pop(),e=this.getResult(i),t=this._loadQueue.length-1;t>=0;t--)if(r=this._loadQueue[t].getItem(),r.id==i||r.src==i){this._loadQueue.splice(t,1)[0].cancel();break}for(t=this._loadQueueBackup.length-1;t>=0;t--)if(r=this._loadQueueBackup[t].getItem(),r.id==i||r.src==i){this._loadQueueBackup.splice(t,1)[0].cancel();break}if(e)this._disposeItem(this.getItem(i));else for(t=this._currentLoads.length-1;t>=0;t--)if(r=this._currentLoads[t].getItem(),r.id==i||r.src==i){this._currentLoads.splice(t,1)[0].cancel();f=!0;break}}f&&this._loadNext()}else{this.close();for(o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}};n.reset=function(){var t;this.close();for(t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var i=[],n=0,r=this._loadQueueBackup.length;r>n;n++)i.push(this._loadQueueBackup[n].getItem());this.loadManifest(i,!1)};n.installPlugin=function(n){var t,i,r;if(null!=n&&null!=n.getPreloadHandlers){if(this._plugins.push(n),t=n.getPreloadHandlers(),t.scope=n,null!=t.types)for(i=0,r=t.types.length;r>i;i++)this._typeCallbacks[t.types[i]]=t;if(null!=t.extensions)for(i=0,r=t.extensions.length;r>i;i++)this._extensionCallbacks[t.extensions[i]]=t}};n.setMaxConnections=function(n){this._maxConnections=n;!this._paused&&this._loadQueue.length>0&&this._loadNext()};n.loadFile=function(n,t,i){if(null==n){var r=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(r)}this._addItem(n,null,i);t!==!1?this.setPaused(!1):this.setPaused(!0)};n.loadManifest=function(n,i,r){var u=null,o=null,f,e,s;if(Array.isArray(n)){if(0==n.length)return f=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY"),void this._sendError(f);u=n}else if("string"==typeof n)u=[{src:n,type:t.MANIFEST}];else{if("object"!=typeof n)return f=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL"),void this._sendError(f);void 0!==n.src?(null==n.type?n.type=t.MANIFEST:n.type!=t.MANIFEST&&(f=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE"),this._sendError(f)),u=[n]):void 0!==n.manifest&&(u=n.manifest,o=n.path)}for(e=0,s=u.length;s>e;e++)this._addItem(u[e],o,r);i!==!1?this.setPaused(!1):this.setPaused(!0)};n.load=function(){this.setPaused(!1)};n.getItem=function(n){return this._loadItemsById[n]||this._loadItemsBySrc[n]};n.getResult=function(n,t){var r=this._loadItemsById[n]||this._loadItemsBySrc[n],i;return null==r?null:(i=r.id,t&&this._loadedRawResults[i]?this._loadedRawResults[i]:this._loadedResults[i])};n.getItems=function(n){var r=[],t,u,i;for(t in this._loadItemsById)u=this._loadItemsById[t],i=this.getResult(t),(n!==!0||null!=i)&&r.push({item:u,result:i,rawResult:this.getResult(t,!0)});return r};n.setPaused=function(n){this._paused=n;this._paused||this._loadNext()};n.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1;this._itemCount=0;this._lastProgress=NaN};n._addItem=function(n,t,i){var u=this._createLoadItem(n,t,i),r;null!=u&&(r=this._createLoader(u),null!=r&&("plugins"in r&&(r.plugins=this._plugins),u._loader=r,this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&u.type==createjs.LoadQueue.JAVASCRIPT||u.maintainOrder===!0)&&(this._scriptOrder.push(u),this._loadedScripts.push(null))))};n._createLoadItem=function(n,t,i){var r=createjs.LoadItem.create(n),u,f,e,h,o,c,s;if(null==r)return null;if(u="",f=i||this._basePath,r.src instanceof Object){if(!r.type)return null;t?(u=t,o=createjs.RequestUtils.parseURI(t),null==f||o.absolute||o.relative||(u=f+u)):null!=f&&(u=f)}else e=createjs.RequestUtils.parseURI(r.src),e.extension&&(r.ext=e.extension),null==r.type&&(r.type=createjs.RequestUtils.getTypeByExtension(r.ext)),h=r.src,e.absolute||e.relative||(t?(u=t,o=createjs.RequestUtils.parseURI(t),h=t+h,null==f||o.absolute||o.relative||(u=f+u)):null!=f&&(u=f)),r.src=u+r.src;if(r.path=u,(void 0===r.id||null===r.id||""===r.id)&&(r.id=h),c=this._typeCallbacks[r.type]||this._extensionCallbacks[r.ext],c){if(s=c.callback.call(c.scope,r,this),s===!1)return null;s===!0||null!=s&&(r._loader=s);e=createjs.RequestUtils.parseURI(r.src);null!=e.extension&&(r.ext=e.extension)}return this._loadItemsById[r.id]=r,this._loadItemsBySrc[r.src]=r,null==r.crossOrigin&&(r.crossOrigin=this._crossOrigin),r};n._createLoader=function(n){var r,t,i;if(null!=n._loader)return n._loader;for(r=this.preferXHR,t=0;t<this._availableLoaders.length;t++)if(i=this._availableLoaders[t],i&&i.canLoadItem(n))return new i(n,r);return null};n._loadNext=function(){var n,t;if(!this._paused)for(this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1,n=0;n<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);n++)t=this._loadQueue[n],this._canStartLoad(t)&&(this._loadQueue.splice(n,1),n--,this._loadItem(t))};n._loadItem=function(n){n.on("fileload",this._handleFileLoad,this);n.on("progress",this._handleProgress,this);n.on("complete",this._handleFileComplete,this);n.on("error",this._handleError,this);n.on("fileerror",this._handleFileError,this);this._currentLoads.push(n);this._sendFileStart(n.getItem());n.load()};n._handleFileLoad=function(n){n.target=null;this.dispatchEvent(n)};n._handleFileError=function(n){var t=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,n.item);this._sendError(t)};n._handleError=function(n){var t=n.target,i;this._numItemsLoaded++;this._finishOrderedItem(t,!0);this._updateProgress();i=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.getItem());this._sendError(i);this.stopOnError?this.setPaused(!0):(this._removeLoadItem(t),this._cleanLoadItem(t),this._loadNext())};n._handleFileComplete=function(n){var t=n.target,r=t.getItem(),u=t.getResult(),i;this._loadedResults[r.id]=u;i=t.getResult(!0);null!=i&&i!==u&&(this._loadedRawResults[r.id]=i);this._saveLoadedItems(t);this._removeLoadItem(t);this._finishOrderedItem(t)||this._processFinishedLoad(r,t);this._cleanLoadItem(t)};n._saveLoadedItems=function(n){var r=n.getLoadedItems(),i,t;if(null!==r)for(i=0;i<r.length;i++)t=r[i].item,this._loadItemsBySrc[t.src]=t,this._loadItemsById[t.id]=t,this._loadedResults[t.id]=r[i].result,this._loadedRawResults[t.id]=r[i].rawResult};n._finishOrderedItem=function(n,t){var i=n.getItem(),r;return this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||i.maintainOrder?(n instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1),r=createjs.indexOf(this._scriptOrder,i),-1==r?!1:(this._loadedScripts[r]=t===!0?!0:i,this._checkScriptLoadOrder(),!0)):!1};n._checkScriptLoadOrder=function(){for(var n,r,u,i=this._loadedScripts.length,t=0;i>t;t++){if(n=this._loadedScripts[t],null===n)break;n!==!0&&(r=this._loadedResults[n.id],n.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(r),u=n._loader,this._processFinishedLoad(n,u),this._loadedScripts[t]=!0)}};n._processFinishedLoad=function(n,t){if(this._numItemsLoaded++,!this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT){var i=t.getTag();createjs.DomUtils.appendToHead(i)}this._updateProgress();this._sendFileComplete(n,t);this._loadNext()};n._canStartLoad=function(n){var i,r,t,u;if(!this.maintainScriptOrder||n.preferXHR||(i=n.getItem(),i.type!=createjs.LoadQueue.JAVASCRIPT))return!0;if(this._currentlyLoadingScript)return!1;for(r=this._scriptOrder.indexOf(i),t=0;r>t;){if(u=this._loadedScripts[t],null==u)return!1;t++}return this._currentlyLoadingScript=!0,!0};n._removeLoadItem=function(n){for(var i=this._currentLoads.length,t=0;i>t;t++)if(this._currentLoads[t]==n){this._currentLoads.splice(t,1);break}};n._cleanLoadItem=function(n){var t=n.getItem();t&&delete t._loader};n._handleProgress=function(n){var t=n.target;this._sendFileProgress(t.getItem(),t.progress);this._updateProgress()};n._updateProgress=function(){var n=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(t>0){for(var r=0,i=0,u=this._currentLoads.length;u>i;i++)r+=this._currentLoads[i].progress;n+=r/t*(t/this._numItems)}this._lastProgress!=n&&(this._sendProgress(n),this._lastProgress=n)};n._disposeItem=function(n){delete this._loadedResults[n.id];delete this._loadedRawResults[n.id];delete this._loadItemsById[n.id];delete this._loadItemsBySrc[n.src]};n._sendFileProgress=function(n,t){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=t;i.loaded=t;i.total=1;i.item=n;this.dispatchEvent(i)}};n._sendFileComplete=function(n,t){if(!this._isCanceled()&&!this._paused){var i=new createjs.Event("fileload");i.loader=t;i.item=n;i.result=this._loadedResults[n.id];i.rawResult=this._loadedRawResults[n.id];n.completeHandler&&n.completeHandler(i);this.hasEventListener("fileload")&&this.dispatchEvent(i)}};n._sendFileStart=function(n){var t=new createjs.Event("filestart");t.item=n;this.hasEventListener("filestart")&&this.dispatchEvent(t)};n.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=createjs.promote(i,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.AbstractLoader_constructor(n,!0,createjs.AbstractLoader.TEXT)}var t=(createjs.extend(n,createjs.AbstractLoader),n);t.canLoadItem=function(n){return n.type==createjs.AbstractLoader.TEXT};createjs.TextLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.AbstractLoader_constructor(n,!0,createjs.AbstractLoader.BINARY);this.on("initialize",this._updateXHR,this)}var t=createjs.extend(n,createjs.AbstractLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.BINARY};t._updateXHR=function(n){n.loader.setResponseType("arraybuffer")};createjs.BinaryLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t){this.AbstractLoader_constructor(n,t,createjs.AbstractLoader.CSS);this.resultFormatter=this._formatResult;this._tagSrcAttribute="href";this._tag=t?document.createElement("style"):document.createElement("link");this._tag.rel="stylesheet";this._tag.type="text/css"}var t=createjs.extend(n,createjs.AbstractLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.CSS};t._formatResult=function(n){var t,i;return this._preferXHR?(t=n.getTag(),t.styleSheet?t.styleSheet.cssText=n.getResult(!0):(i=document.createTextNode(n.getResult(!0)),t.appendChild(i))):t=this._tag,createjs.DomUtils.appendToHead(t),t};createjs.CSSLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t){this.AbstractLoader_constructor(n,t,createjs.AbstractLoader.IMAGE);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";createjs.RequestUtils.isImageTag(n)?this._tag=n:createjs.RequestUtils.isImageTag(n.src)?this._tag=n.src:createjs.RequestUtils.isImageTag(n.tag)&&(this._tag=n.tag);null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img");this.on("initialize",this._updateXHR,this)}var n=createjs.extend(t,createjs.AbstractLoader),i=t;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.IMAGE};n.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var n=this._item.crossOrigin;1==n&&(n="Anonymous");null==n||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=n);this.AbstractLoader_load()};n._updateXHR=function(n){n.loader.mimeType="text/plain; charset=x-user-defined-binary";n.loader.setResponseType&&n.loader.setResponseType("blob")};n._formatResult=function(){return this._formatImage};n._formatImage=function(n,t){var i=this._tag,r=window.URL||window.webkitURL,u;this._preferXHR&&(r?(u=r.createObjectURL(this.getResult(!0)),i.src=u,i.addEventListener("load",this._cleanUpURL,!1),i.addEventListener("error",this._cleanUpURL,!1)):i.src=this._item.src);i.complete?n(i):(i.onload=createjs.proxy(function(){n(this._tag)},this),i.onerror=createjs.proxy(function(){t(_this._tag)},this))};n._cleanUpURL=function(n){var t=window.URL||window.webkitURL;t.revokeObjectURL(n.target.src)};createjs.ImageLoader=createjs.promote(t,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t){this.AbstractLoader_constructor(n,t,createjs.AbstractLoader.JAVASCRIPT);this.resultFormatter=this._formatResult;this._tagSrcAttribute="src";this.setTag(document.createElement("script"))}var t=createjs.extend(n,createjs.AbstractLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.JAVASCRIPT};t._formatResult=function(n){var t=n.getTag();return this._preferXHR&&(t.text=n.getResult(!0)),t};createjs.JavaScriptLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.AbstractLoader_constructor(n,!0,createjs.AbstractLoader.JSON);this.resultFormatter=this._formatResult}var t=createjs.extend(n,createjs.AbstractLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.JSON};t._formatResult=function(n){var t=null,r;try{t=createjs.DataUtils.parseJSON(n.getResult(!0))}catch(i){return r=new createjs.ErrorEvent("JSON_FORMAT",null,i),this._sendError(r),i}return t};createjs.JSONLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function t(n){this.AbstractLoader_constructor(n,!1,createjs.AbstractLoader.JSONP);this.setTag(document.createElement("script"));this.getTag().type="text/javascript"}var n=createjs.extend(t,createjs.AbstractLoader),i=t;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.JSONP};n.cancel=function(){this.AbstractLoader_cancel();this._dispose()};n.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this);window.document.body.appendChild(this._tag);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout);this._tag.src=this._item.src};n._handleLoad=function(n){this._result=this._rawResult=n;this._sendComplete();this._dispose()};n._handleTimeout=function(){this._dispose();this.dispatchEvent(new createjs.ErrorEvent("timeout"))};n._dispose=function(){window.document.body.removeChild(this._tag);delete window[this._item.callback];clearTimeout(this._loadTimeout)};createjs.JSONPLoader=createjs.promote(t,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function i(n){this.AbstractLoader_constructor(n,null,createjs.AbstractLoader.MANIFEST);this.plugins=null;this._manifestQueue=null}var n=createjs.extend(i,createjs.AbstractLoader),t=i;t.MANIFEST_PROGRESS=.25;t.canLoadItem=function(n){return n.type==createjs.AbstractLoader.MANIFEST};n.load=function(){this.AbstractLoader_load()};n._createRequest=function(){var n=this._item.callback;this._request=null!=n?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};n.handleEvent=function(n){switch(n.type){case"complete":return this._rawResult=n.target.getResult(!0),this._result=n.target.getResult(),this._sendProgress(t.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return n.loaded*=t.MANIFEST_PROGRESS,this.progress=n.loaded/n.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(n)}this.AbstractLoader_handleEvent(n)};n.destroy=function(){this.AbstractLoader_destroy();this._manifestQueue.close()};n._loadManifest=function(n){var t,i,r;if(n&&n.manifest){for(t=this._manifestQueue=new createjs.LoadQueue,t.on("fileload",this._handleManifestFileLoad,this),t.on("progress",this._handleManifestProgress,this),t.on("complete",this._handleManifestComplete,this,!0),t.on("error",this._handleManifestError,this,!0),i=0,r=this.plugins.length;r>i;i++)t.installPlugin(this.plugins[i]);t.loadManifest(n)}else this._sendComplete()};n._handleManifestFileLoad=function(n){n.target=null;this.dispatchEvent(n)};n._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};n._handleManifestProgress=function(n){this.progress=n.progress*(1-t.MANIFEST_PROGRESS)+t.MANIFEST_PROGRESS;this._sendProgress(this.progress)};n._handleManifestError=function(n){var t=new createjs.Event("fileerror");t.item=n.data;this.dispatchEvent(t)};createjs.ManifestLoader=createjs.promote(i,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t){this.AbstractMediaLoader_constructor(n,t,createjs.AbstractLoader.SOUND);createjs.RequestUtils.isAudioTag(n)?this._tag=n:createjs.RequestUtils.isAudioTag(n.src)?this._tag=n:createjs.RequestUtils.isAudioTag(n.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(n)?n:n.src);null!=this._tag&&(this._preferXHR=!1)}var t=createjs.extend(n,createjs.AbstractMediaLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.SOUND};t._createTag=function(n){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=n,t};createjs.SoundLoader=createjs.promote(n,"AbstractMediaLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t){this.AbstractMediaLoader_constructor(n,t,createjs.AbstractLoader.VIDEO);createjs.RequestUtils.isVideoTag(n)||createjs.RequestUtils.isVideoTag(n.src)?(this.setTag(createjs.RequestUtils.isVideoTag(n)?n:n.src),this._preferXHR=!1):this.setTag(this._createTag())}var t=createjs.extend(n,createjs.AbstractMediaLoader),i=n;t._createTag=function(){return document.createElement("video")};i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.VIDEO};createjs.VideoLoader=createjs.promote(n,"AbstractMediaLoader")}();this.createjs=this.createjs||{},function(){"use strict";function i(n,t){this.AbstractLoader_constructor(n,t,createjs.AbstractLoader.SPRITESHEET);this._manifestQueue=null}var n=createjs.extend(i,createjs.AbstractLoader),t=i;t.SPRITESHEET_PROGRESS=.25;t.canLoadItem=function(n){return n.type==createjs.AbstractLoader.SPRITESHEET};n.destroy=function(){this.AbstractLoader_destroy;this._manifestQueue.close()};n._createRequest=function(){var n=this._item.callback;this._request=null!=n?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)};n.handleEvent=function(n){switch(n.type){case"complete":return this._rawResult=n.target.getResult(!0),this._result=n.target.getResult(),this._sendProgress(t.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return n.loaded*=t.SPRITESHEET_PROGRESS,this.progress=n.loaded/n.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0),void this._sendProgress(n)}this.AbstractLoader_handleEvent(n)};n._loadManifest=function(n){if(n&&n.images){var t=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);t.on("complete",this._handleManifestComplete,this,!0);t.on("fileload",this._handleManifestFileLoad,this);t.on("progress",this._handleManifestProgress,this);t.on("error",this._handleManifestError,this,!0);t.loadManifest(n.images)}};n._handleManifestFileLoad=function(n){var i=n.result,t,r;null!=i&&(t=this.getResult().images,r=t.indexOf(n.item.src),t[r]=i)};n._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result);this._loadedItems=this._manifestQueue.getItems(!0);this._sendComplete()};n._handleManifestProgress=function(n){this.progress=n.progress*(1-t.SPRITESHEET_PROGRESS)+t.SPRITESHEET_PROGRESS;this._sendProgress(this.progress)};n._handleManifestError=function(n){var t=new createjs.Event("fileerror");t.item=n.data;this.dispatchEvent(t)};createjs.SpriteSheetLoader=createjs.promote(i,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n,t){this.AbstractLoader_constructor(n,t,createjs.AbstractLoader.SVG);this.resultFormatter=this._formatResult;this._tagSrcAttribute="data";t?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var t=createjs.extend(n,createjs.AbstractLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.SVG};t._formatResult=function(n){var i=createjs.DataUtils.parseXML(n.getResult(!0),"text/xml"),t=n.getTag();return!this._preferXHR&&document.body.contains(t)&&document.body.removeChild(t),null!=i.documentElement?(t.appendChild(i.documentElement),t.style.visibility="visible",t):i};createjs.SVGLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.AbstractLoader_constructor(n,!0,createjs.AbstractLoader.XML);this.resultFormatter=this._formatResult}var t=createjs.extend(n,createjs.AbstractLoader),i=n;i.canLoadItem=function(n){return n.type==createjs.AbstractLoader.XML};t._formatResult=function(n){return createjs.DataUtils.parseXML(n.getResult(!0),"text/xml")};createjs.XMLLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){var n=createjs.SoundJS=createjs.SoundJS||{};n.version="0.6.2";n.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}();this.createjs=this.createjs||{};createjs.indexOf=function(n,t){"use strict";for(var i=0,r=n.length;r>i;i++)if(t===n[i])return i;return-1};this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(n,t){var i=Array.prototype.slice.call(arguments,2);return function(){return n.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"BrowserDetect cannot be instantiated";}var t=n.agent=window.navigator.userAgent;n.isWindowPhone=t.indexOf("IEMobile")>-1||t.indexOf("Windows Phone")>-1;n.isFirefox=t.indexOf("Firefox")>-1;n.isOpera=null!=window.opera;n.isChrome=t.indexOf("Chrome")>-1;n.isIOS=(t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&!n.isWindowPhone;n.isAndroid=t.indexOf("Android")>-1&&!n.isWindowPhone;n.isBlackberry=t.indexOf("Blackberry")>-1;createjs.BrowserDetect=n}();this.createjs=this.createjs||{},function(){"use strict";var t=function(){this.interrupt=null;this.delay=null;this.offset=null;this.loop=null;this.volume=null;this.pan=null;this.startTime=null;this.duration=null},i=t.prototype={},n=t;n.create=function(t){if(t instanceof n||t instanceof Object){var i=new createjs.PlayPropsConfig;return i.set(t),i}throw new Error("Type not recognized.");};i.set=function(n){for(var t in n)this[t]=n[t];return this};i.toString=function(){return"[PlayPropsConfig]"};createjs.PlayPropsConfig=n}();this.createjs=this.createjs||{},function(){"use strict";function r(){throw"Sound cannot be instantiated";}function t(n,t){this.init(n,t)}var n=r,i;n.INTERRUPT_ANY="any";n.INTERRUPT_EARLY="early";n.INTERRUPT_LATE="late";n.INTERRUPT_NONE="none";n.PLAY_INITED="playInited";n.PLAY_SUCCEEDED="playSucceeded";n.PLAY_INTERRUPTED="playInterrupted";n.PLAY_FINISHED="playFinished";n.PLAY_FAILED="playFailed";n.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"];n.EXTENSION_MAP={m4a:"mp4"};n.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/;n.defaultInterruptBehavior=n.INTERRUPT_NONE;n.alternateExtensions=[];n.activePlugin=null;n._masterVolume=1;Object.defineProperty(n,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),n._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var r=this._instances,i=0,u=r.length;u>i;i++)r[i].setMasterVolume(t)}});n._masterMute=!1;Object.defineProperty(n,"muted",{get:function(){return this._masterMute},set:function(n){if(null==n)return!1;if(this._masterMute=n,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(n))for(var i=this._instances,t=0,r=i.length;r>t;t++)i[t].setMasterMute(n);return!0}});Object.defineProperty(n,"capabilities",{get:function(){return null==n.activePlugin?null:n.activePlugin._capabilities},set:function(){return!1}});n._pluginsRegistered=!1;n._lastID=0;n._instances=[];n._idHash={};n._preloadHash={};n._defaultPlayPropsHash={};n.addEventListener=null;n.removeEventListener=null;n.removeAllEventListeners=null;n.dispatchEvent=null;n.hasEventListener=null;n._listeners=null;createjs.EventDispatcher.initialize(n);n.getPreloadHandlers=function(){return{callback:createjs.proxy(n.initLoad,n),types:["sound"],extensions:n.SUPPORTED_EXTENSIONS}};n._handleLoadComplete=function(t){var u=t.target.getItem().src,i,f,r,t;if(n._preloadHash[u])for(i=0,f=n._preloadHash[u].length;f>i;i++)r=n._preloadHash[u][i],(n._preloadHash[u][i]=!0,n.hasEventListener("fileload"))&&(t=new createjs.Event("fileload"),t.src=r.src,t.id=r.id,t.data=r.data,t.sprite=r.sprite,n.dispatchEvent(t))};n._handleLoadError=function(t){var u=t.target.getItem().src,i,f,r,t;if(n._preloadHash[u])for(i=0,f=n._preloadHash[u].length;f>i;i++)r=n._preloadHash[u][i],(n._preloadHash[u][i]=!1,n.hasEventListener("fileerror"))&&(t=new createjs.Event("fileerror"),t.src=r.src,t.id=r.id,t.data=r.data,t.sprite=r.sprite,n.dispatchEvent(t))};n._registerPlugin=function(t){return t.isSupported()?(n.activePlugin=new t,!0):!1};n.registerPlugins=function(t){n._pluginsRegistered=!0;for(var i=0,r=t.length;r>i;i++)if(n._registerPlugin(t[i]))return!0;return!1};n.initializeDefaultPlugins=function(){return null!=n.activePlugin?!0:n._pluginsRegistered?!1:n.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};n.isReady=function(){return null!=n.activePlugin};n.getCapabilities=function(){return null==n.activePlugin?null:n.activePlugin._capabilities};n.getCapability=function(t){return null==n.activePlugin?null:n.activePlugin._capabilities[t]};n.initLoad=function(t){return n._registerSound(t)};n._registerSound=function(i){var f,r,e,u,s,o;if(!n.initializeDefaultPlugins()||(i.src instanceof Object?(f=n._parseSrc(i.src),f.src=i.path+f.src):f=n._parsePath(i.src),null==f))return!1;if(i.src=f.src,i.type="sound",r=i.data,e=null,null!=r&&(isNaN(r.channels)?isNaN(r)||(e=parseInt(r)):e=parseInt(r.channels),r.audioSprite))for(s=r.audioSprite.length;s--;)u=r.audioSprite[s],n._idHash[u.id]={src:i.src,startTime:parseInt(u.startTime),duration:parseInt(u.duration)},u.defaultPlayProps&&(n._defaultPlayPropsHash[u.id]=createjs.PlayPropsConfig.create(u.defaultPlayProps));return null!=i.id&&(n._idHash[i.id]={src:i.src}),o=n.activePlugin.register(i),t.create(i.src,e),null!=r&&isNaN(r)?i.data.channels=e||t.maxPerChannel():i.data=e||t.maxPerChannel(),o.type&&(i.type=o.type),i.defaultPlayProps&&(n._defaultPlayPropsHash[i.src]=createjs.PlayPropsConfig.create(i.defaultPlayProps)),o};n.registerSound=function(t,i,r,u,f){var e={src:t,id:i,data:r,defaultPlayProps:f},o;if(t instanceof Object&&t.src&&(u=i,e=t),e=createjs.LoadItem.create(e),e.path=u,null==u||e.src instanceof Object||(e.src=u+t),o=n._registerSound(e),!o)return!1;if(n._preloadHash[e.src]||(n._preloadHash[e.src]=[]),n._preloadHash[e.src].push(e),1==n._preloadHash[e.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),n.activePlugin.preload(o);else if(1==n._preloadHash[e.src][0])return!0;return e};n.registerSounds=function(n,t){var r=[],i,u;for(n.path&&(t?t+=n.path:t=n.path,n=n.manifest),i=0,u=n.length;u>i;i++)r[i]=createjs.Sound.registerSound(n[i].src,n[i].id,n[i].data,t,n[i].defaultPlayProps);return r};n.removeSound=function(i,r){var u,f;if(null==n.activePlugin||(i instanceof Object&&i.src&&(i=i.src),i instanceof Object?u=n._parseSrc(i):(i=n._getSrcById(i).src,u=n._parsePath(i)),null==u))return!1;i=u.src;null!=r&&(i=r+i);for(f in n._idHash)n._idHash[f].src==i&&delete n._idHash[f];return t.removeSrc(i),delete n._preloadHash[i],n.activePlugin.removeSound(i),!0};n.removeSounds=function(n,t){var r=[],i,u;for(n.path&&(t?t+=n.path:t=n.path,n=n.manifest),i=0,u=n.length;u>i;i++)r[i]=createjs.Sound.removeSound(n[i].src,t);return r};n.removeAllSounds=function(){n._idHash={};n._preloadHash={};t.removeAll();n.activePlugin&&n.activePlugin.removeAllSounds()};n.loadComplete=function(t){if(!n.isReady())return!1;var i=n._parsePath(t);return t=i?n._getSrcById(i.src).src:n._getSrcById(t).src,void 0==n._preloadHash[t]?!1:1==n._preloadHash[t][0]};n._parsePath=function(t){var i;if("string"!=typeof t&&(t=t.toString()),i=t.match(n.FILE_PATTERN),null==i)return!1;for(var f=i[4],r=i[5],e=n.capabilities,u=0;!e[r];)if(r=n.alternateExtensions[u++],u>n.alternateExtensions.length)return null;return t=t.replace("."+i[5],"."+r),{name:f,src:t,extension:r}};n._parseSrc=function(t){var i={name:void 0,src:void 0,extension:void 0},f=n.capabilities,r,u;for(r in t)if(t.hasOwnProperty(r)&&f[r]){i.src=t[r];i.extension=r;break}return i.src?(u=i.src.lastIndexOf("/"),i.name=-1!=u?i.src.slice(u+1):i.src,i):!1};n.play=function(t,i,r,u,f,e,o,s,h){var c,l,a;return c=i instanceof Object||i instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(i):createjs.PlayPropsConfig.create({interrupt:i,delay:r,offset:u,loop:f,volume:e,pan:o,startTime:s,duration:h}),l=n.createInstance(t,c.startTime,c.duration),a=n._playInstance(l,c),a||l._playFailed(),l};n.createInstance=function(i,r,u){var o,f,e;return n.initializeDefaultPlugins()?(o=n._defaultPlayPropsHash[i],i=n._getSrcById(i),f=n._parsePath(i.src),e=null,null!=f&&null!=f.src?(t.create(f.src),null==r&&(r=i.startTime),e=n.activePlugin.create(f.src,r,u||i.duration),o=o||n._defaultPlayPropsHash[f.src],o&&e.applyPlayProps(o)):e=new createjs.DefaultSoundInstance(i,r,u),e.uniqueId=n._lastID++,e):new createjs.DefaultSoundInstance(i,r,u)};n.stop=function(){for(var n=this._instances,t=n.length;t--;)n[t].stop()};n.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),n._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var r=this._instances,i=0,u=r.length;u>i;i++)r[i].setMasterVolume(t)};n.getVolume=function(){return this._masterVolume};n.setMute=function(n){if(null==n)return!1;if(this._masterMute=n,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(n))for(var i=this._instances,t=0,r=i.length;r>t;t++)i[t].setMasterMute(n);return!0};n.getMute=function(){return this._masterMute};n.setDefaultPlayProps=function(t,i){t=n._getSrcById(t);n._defaultPlayPropsHash[n._parsePath(t.src).src]=createjs.PlayPropsConfig.create(i)};n.getDefaultPlayProps=function(t){return t=n._getSrcById(t),n._defaultPlayPropsHash[n._parsePath(t.src).src]};n._playInstance=function(t,i){var r=n._defaultPlayPropsHash[t.src]||{},u,f;if(null==i.interrupt&&(i.interrupt=r.interrupt||n.defaultInterruptBehavior),null==i.delay&&(i.delay=r.delay||0),null==i.offset&&(i.offset=t.getPosition()),null==i.loop&&(i.loop=t.loop),null==i.volume&&(i.volume=t.volume),null==i.pan&&(i.pan=t.pan),0==i.delay){if(u=n._beginPlaying(t,i),!u)return!1}else f=setTimeout(function(){n._beginPlaying(t,i)},i.delay),t.delayTimeoutId=f;return this._instances.push(t),!0};n._beginPlaying=function(n,i){var u,r;return t.add(n,i.interrupt)?(u=n._beginPlaying(i),!u)?(r=createjs.indexOf(this._instances,n),r>-1&&this._instances.splice(r,1),!1):!0:!1};n._getSrcById=function(t){return n._idHash[t]||{src:t}};n._playFinished=function(n){t.remove(n);var i=createjs.indexOf(this._instances,n);i>-1&&this._instances.splice(i,1)};createjs.Sound=r;t.channels={};t.create=function(n,i){var r=t.get(n);return null==r?(t.channels[n]=new t(n,i),!0):!1};t.removeSrc=function(n){var i=t.get(n);return null==i?!1:(i._removeAll(),delete t.channels[n],!0)};t.removeAll=function(){for(var n in t.channels)t.channels[n]._removeAll();t.channels={}};t.add=function(n,i){var r=t.get(n.src);return null==r?!1:r._add(n,i)};t.remove=function(n){var i=t.get(n.src);return null==i?!1:(i._remove(n),!0)};t.maxPerChannel=function(){return i.maxDefault};t.get=function(n){return t.channels[n]};i=t.prototype;i.constructor=t;i.src=null;i.max=null;i.maxDefault=100;i.length=0;i.init=function(n,t){this.src=n;this.max=t||this.maxDefault;-1==this.max&&(this.max=this.maxDefault);this._instances=[]};i._get=function(n){return this._instances[n]};i._add=function(n,t){return this._getSlot(t,n)?(this._instances.push(n),this.length++,!0):!1};i._remove=function(n){var t=createjs.indexOf(this._instances,n);return-1==t?!1:(this._instances.splice(t,1),this.length--,!0)};i._removeAll=function(){for(var n=this.length-1;n>=0;n--)this._instances[n].stop()};i._getSlot=function(n){var t,i,u,f;if(n!=r.INTERRUPT_NONE&&(i=this._get(0),null==i))return!0;for(u=0,f=this.max;f>u;u++){if(t=this._get(u),null==t)return!0;if(t.playState==r.PLAY_FINISHED||t.playState==r.PLAY_INTERRUPTED||t.playState==r.PLAY_FAILED){i=t;break}n!=r.INTERRUPT_NONE&&(n==r.INTERRUPT_EARLY&&t.getPosition()<i.getPosition()||n==r.INTERRUPT_LATE&&t.getPosition()>i.getPosition())&&(i=t)}return null!=i?(i._interrupt(),this._remove(i),!0):!1};i.toString=function(){return"[Sound SoundChannel]"}}();this.createjs=this.createjs||{},function(){"use strict";var t=function(n,t,i,r){this.EventDispatcher_constructor();this.src=n;this.uniqueId=-1;this.playState=null;this.delayTimeoutId=null;this._volume=1;Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume});this._pan=0;Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan});this._startTime=Math.max(0,t||0);Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime});this._duration=Math.max(0,i||0);Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration});this._playbackResource=null;Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource});r!==!1&&r!==!0&&this.setPlaybackResource(r);this._position=0;Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition});this._loop=0;Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop});this._muted=!1;Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted});this._paused=!1;Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},n=createjs.extend(t,createjs.EventDispatcher);n.play=function(n,t,i,r,u,f){var e;return e=n instanceof Object||n instanceof createjs.PlayPropsConfig?createjs.PlayPropsConfig.create(n):createjs.PlayPropsConfig.create({interrupt:n,delay:t,offset:i,loop:r,volume:u,pan:f}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,e),this)};n.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this};n.destroy=function(){this._cleanUp();this.src=null;this.playbackResource=null;this.removeAllEventListeners()};n.applyPlayProps=function(n){return null!=n.offset&&this.setPosition(n.offset),null!=n.loop&&this.setLoop(n.loop),null!=n.volume&&this.setVolume(n.volume),null!=n.pan&&this.setPan(n.pan),null!=n.startTime&&(this.setStartTime(n.startTime),this.setDuration(n.duration)),this};n.toString=function(){return"[AbstractSoundInstance]"};n.getPaused=function(){return this._paused};n.setPaused=function(n){if((n===!0||n===!1)&&this._paused!=n&&(1!=n||this.playState==createjs.Sound.PLAY_SUCCEEDED))return(this._paused=n,n?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)};n.setVolume=function(n){return n==this._volume?this:(this._volume=Math.max(0,Math.min(1,n)),this._muted||this._updateVolume(),this)};n.getVolume=function(){return this._volume};n.setMuted=function(n){if(n===!0||n===!1)return(this._muted=n,this._updateVolume(),this)};n.getMuted=function(){return this._muted};n.setPan=function(n){return n==this._pan?this:(this._pan=Math.max(-1,Math.min(1,n)),this._updatePan(),this)};n.getPan=function(){return this._pan};n.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position};n.setPosition=function(n){return this._position=Math.max(0,n),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this};n.getStartTime=function(){return this._startTime};n.setStartTime=function(n){return n==this._startTime?this:(this._startTime=Math.max(0,n||0),this._updateStartTime(),this)};n.getDuration=function(){return this._duration};n.setDuration=function(n){return n==this._duration?this:(this._duration=Math.max(0,n||0),this._updateDuration(),this)};n.setPlaybackResource=function(n){return this._playbackResource=n,0==this._duration&&this._setDurationFromSource(),this};n.getPlaybackResource=function(){return this._playbackResource};n.getLoop=function(){return this._loop};n.setLoop=function(n){null!=this._playbackResource&&(0!=this._loop&&0==n?this._removeLooping(n):0==this._loop&&0!=n&&this._addLooping(n));this._loop=n};n._sendEvent=function(n){var t=new createjs.Event(n);this.dispatchEvent(t)};n._cleanUp=function(){clearTimeout(this.delayTimeoutId);this._handleCleanUp();this._paused=!1;createjs.Sound._playFinished(this)};n._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._sendEvent("interrupted")};n._beginPlaying=function(n){return this.setPosition(n.offset),this.setLoop(n.loop),this.setVolume(n.volume),this.setPan(n.pan),null!=n.startTime&&(this.setStartTime(n.startTime),this.setDuration(n.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)};n._playFailed=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_FAILED;this._sendEvent("failed")};n._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))};n._handleSoundReady=function(){};n._updateVolume=function(){};n._updatePan=function(){};n._updateStartTime=function(){};n._updateDuration=function(){};n._setDurationFromSource=function(){};n._calculateCurrentPosition=function(){};n._updatePosition=function(){};n._removeLooping=function(){};n._addLooping=function(){};n._pause=function(){};n._resume=function(){};n._handleStop=function(){};n._handleCleanUp=function(){};n._handleLoop=function(){};createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher");createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}();this.createjs=this.createjs||{},function(){"use strict";var t=function(){this._capabilities=null;this._loaders={};this._audioSources={};this._soundInstances={};this._volume=1;this._loaderClass;this._soundInstanceClass},n=t.prototype;t._capabilities=null;t.isSupported=function(){return!0};n.register=function(n){var t=this._loaders[n.src];return t&&!t.canceled?this._loaders[n.src]:(this._audioSources[n.src]=!0,this._soundInstances[n.src]=[],t=new this._loaderClass(n),t.on("complete",this._handlePreloadComplete,this),this._loaders[n.src]=t,t)};n.preload=function(n){n.on("error",this._handlePreloadError,this);n.load()};n.isPreloadStarted=function(n){return null!=this._audioSources[n]};n.isPreloadComplete=function(n){return!(null==this._audioSources[n]||1==this._audioSources[n])};n.removeSound=function(n){var t,i;if(this._soundInstances[n]){for(t=this._soundInstances[n].length;t--;)i=this._soundInstances[n][t],i.destroy();delete this._soundInstances[n];delete this._audioSources[n];this._loaders[n]&&this._loaders[n].destroy();delete this._loaders[n]}};n.removeAllSounds=function(){for(var n in this._audioSources)this.removeSound(n)};n.create=function(n,t,i){this.isPreloadStarted(n)||this.preload(this.register(n));var r=new this._soundInstanceClass(n,t,i,this._audioSources[n]);return this._soundInstances[n].push(r),r};n.setVolume=function(n){return this._volume=n,this._updateVolume(),!0};n.getVolume=function(){return this._volume};n.setMute=function(){return this._updateVolume(),!0};n.toString=function(){return"[AbstractPlugin]"};n._handlePreloadComplete=function(n){var t=n.target.getItem().src,i,r,u;for(this._audioSources[t]=n.result,i=0,r=this._soundInstances[t].length;r>i;i++)u=this._soundInstances[t][i],u.setPlaybackResource(this._audioSources[t])};n._handlePreloadError=function(){};n._updateVolume=function(){};createjs.AbstractPlugin=t}();this.createjs=this.createjs||{},function(){"use strict";function n(n){this.AbstractLoader_constructor(n,!0,createjs.AbstractLoader.SOUND)}var t=createjs.extend(n,createjs.AbstractLoader);n.context=null;t.toString=function(){return"[WebAudioLoader]"};t._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1);this._request.setResponseType("arraybuffer")};t._sendComplete=function(){n.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))};t._handleAudioDecoded=function(n){this._result=n;this.AbstractLoader__sendComplete()};createjs.WebAudioLoader=createjs.promote(n,"AbstractLoader")}();this.createjs=this.createjs||{},function(){"use strict";function i(n,i,r,u){this.AbstractSoundInstance_constructor(n,i,r,u);this.gainNode=t.context.createGain();this.panNode=t.context.createPanner();this.panNode.panningModel=t._panningModel;this.panNode.connect(this.gainNode);this._updatePan();this.sourceNode=null;this._soundCompleteTimeout=null;this._sourceNodeNext=null;this._playbackStartTime=0;this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var n=createjs.extend(i,createjs.AbstractSoundInstance),t=i;t.context=null;t._scratchBuffer=null;t.destinationNode=null;t._panningModel="equalpower";n.destroy=function(){this.AbstractSoundInstance_destroy();this.panNode.disconnect(0);this.panNode=null;this.gainNode.disconnect(0);this.gainNode=null};n.toString=function(){return"[WebAudioSoundInstance]"};n._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)};n._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)};n._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))};n._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration};n._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._soundCompleteTimeout);this._playbackStartTime=0};n._cleanUpAudioNode=function(n){if(n){n.stop(0);n.disconnect(0);try{n.buffer=t._scratchBuffer}catch(i){}n=null}return n};n._handleSoundReady=function(){this.gainNode.connect(t.destinationNode);var i=.001*this._duration,n=.001*this._position;n>i&&(n=i);this.sourceNode=this._createAndPlayAudioNode(t.context.currentTime-i,n);this._playbackStartTime=this.sourceNode.startTime-n;this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(i-n));0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))};n._createAndPlayAudioNode=function(n,i){var r=t.context.createBufferSource(),u;return r.buffer=this.playbackResource,r.connect(this.panNode),u=.001*this._duration,r.startTime=n+u,r.start(r.startTime,i+.001*this._startTime,u-i),r};n._pause=function(){this._position=1e3*(t.context.currentTime-this._playbackStartTime);this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._soundCompleteTimeout)};n._resume=function(){this._handleSoundReady()};n._updateVolume=function(){var n=this._muted?0:this._volume;n!=this.gainNode.gain.value&&(this.gainNode.gain.value=n)};n._calculateCurrentPosition=function(){return 1e3*(t.context.currentTime-this._playbackStartTime)};n._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode);this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext);clearTimeout(this._soundCompleteTimeout);this._paused||this._handleSoundReady()};n._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode);this.sourceNode=this._sourceNodeNext;this._playbackStartTime=this.sourceNode.startTime;this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0);this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)};n._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())};createjs.WebAudioSoundInstance=createjs.promote(i,"AbstractSoundInstance")}();this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor();this._panningModel=n._panningModel;this.context=n.context;this.dynamicsCompressorNode=this.context.createDynamicsCompressor();this.dynamicsCompressorNode.connect(this.context.destination);this.gainNode=this.context.createGain();this.gainNode.connect(this.dynamicsCompressorNode);createjs.WebAudioSoundInstance.destinationNode=this.gainNode;this._capabilities=n._capabilities;this._loaderClass=createjs.WebAudioLoader;this._soundInstanceClass=createjs.WebAudioSoundInstance;this._addPropsToClasses()}var i=createjs.extend(t,createjs.AbstractPlugin),n=t;n._capabilities=null;n._panningModel="equalpower";n.context=null;n._scratchBuffer=null;n._unlocked=!1;n.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||t||this._isFileXHRSupported()?(n._generateCapabilities(),null==n.context?!1:!0):!1};n.playEmptySound=function(){if(null!=n.context){var t=n.context.createBufferSource();t.buffer=n._scratchBuffer;t.connect(n.context.destination);t.start(0,0,0)}};n._isFileXHRSupported=function(){var n=!0,t=new XMLHttpRequest;try{t.open("GET","WebAudioPluginTest.fail",!1)}catch(i){return n=!1}t.onerror=function(){n=!1};t.onload=function(){n=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(i){n=!1}return n};n._generateCapabilities=function(){var t,i,u;if(null==n._capabilities){if(t=document.createElement("audio"),null==t.canPlayType)return null;if(null==n.context)if(window.AudioContext)n.context=new AudioContext;else{if(!window.webkitAudioContext)return null;n.context=new webkitAudioContext}null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050));n._compatibilitySetUp();"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0));n._capabilities={panning:!0,volume:!0,tracks:-1};for(var f=createjs.Sound.SUPPORTED_EXTENSIONS,e=createjs.Sound.EXTENSION_MAP,r=0,o=f.length;o>r;r++)i=f[r],u=e[i]||i,n._capabilities[i]="no"!=t.canPlayType("audio/"+i)&&""!=t.canPlayType("audio/"+i)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u);n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}};n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn;t.__proto__.stop=t.__proto__.noteOff;n._panningModel=0}};n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),n._unlocked=!0))};i.toString=function(){return"[WebAudioPlugin]"};i._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context;t._scratchBuffer=n._scratchBuffer;t.destinationNode=this.gainNode;t._panningModel=this._panningModel;this._loaderClass.context=this.context};i._updateVolume=function(){var n=createjs.Sound._masterMute?0:this._volume;n!=this.gainNode.gain.value&&(this.gainNode.gain.value=n)};createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}();this.createjs=this.createjs||{},function(){"use strict";function r(){throw"HTMLAudioTagPool cannot be instantiated";}function i(){this._tags=[]}var n=r,t;n._tags={};n._tagPool=new i;n._tagUsed={};n.get=function(t){var i=n._tags[t];return null==i?(i=n._tags[t]=n._tagPool.get(),i.src=t):n._tagUsed[t]?(i=n._tagPool.get(),i.src=t):n._tagUsed[t]=!0,i};n.set=function(t,i){i==n._tags[t]?n._tagUsed[t]=!1:n._tagPool.set(i)};n.remove=function(t){var i=n._tags[t];return null==i?!1:(n._tagPool.set(i),delete n._tags[t],delete n._tagUsed[t],!0)};n.getDuration=function(t){var i=n._tags[t];return null!=i&&i.duration?1e3*i.duration:0};createjs.HTMLAudioTagPool=r;t=i.prototype;t.constructor=i;t.get=function(){var n;return n=0==this._tags.length?this._createTag():this._tags.pop(),null==n.parentNode&&document.body.appendChild(n),n};t.set=function(n){var t=createjs.indexOf(this._tags,n);-1==t&&(this._tags.src=null,this._tags.push(n))};t.toString=function(){return"[TagPool]"};t._createTag=function(){var n=document.createElement("audio");return n.autoplay=!1,n.preload="none",n}}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i,r){this.AbstractSoundInstance_constructor(n,t,i,r);this._audioSpriteStopTime=null;this._delayTimeoutId=null;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleTagReady,this);this._stalledHandler=createjs.proxy(this._playFailed,this);this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this);this._loopHandler=createjs.proxy(this._handleSoundComplete,this);i?this._audioSpriteStopTime=.001*(t+i):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var n=createjs.extend(t,createjs.AbstractSoundInstance);n.setMasterVolume=function(){this._updateVolume()};n.setMasterMute=function(){this._updateVolume()};n.toString=function(){return"[HTMLAudioSoundInstance]"};n._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))};n._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)};n._handleCleanUp=function(){var n=this._playbackResource;if(null!=n){n.pause();n.loop=!1;n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1);n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1);n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1);n.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{n.currentTime=this._startTime}catch(t){}createjs.HTMLAudioTagPool.set(this.src,n);this._playbackResource=null}};n._beginPlaying=function(n){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(n)};n._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var n=this._playbackResource;return n.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),n.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),n.preload="auto",void n.load()}this._updateVolume();this._playbackResource.currentTime=.001*(this._startTime+this._position);this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0));this._playbackResource.play()};n._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1);this._handleSoundReady()};n._pause=function(){this._playbackResource.pause()};n._resume=function(){this._playbackResource.play()};n._updateVolume=function(){if(null!=this._playbackResource){var n=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;n!=this._playbackResource.volume&&(this._playbackResource.volume=n)}};n._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime};n._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1);this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(n){this._handleSetPositionSeek(null)}};n._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))};n._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))};n._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))};n._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration);this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))};n._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration);this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))};n._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src);this._playbackResource=null};createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}();this.createjs=this.createjs||{},function(){"use strict";function i(){this.AbstractPlugin_constructor();this.defaultNumChannels=2;this._capabilities=n._capabilities;this._loaderClass=createjs.SoundLoader;this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var t=createjs.extend(i,createjs.AbstractPlugin),n=i;n.MAX_INSTANCES=30;n._AUDIO_READY="canplaythrough";n._AUDIO_ENDED="ended";n._AUDIO_SEEKED="seeked";n._AUDIO_STALLED="stalled";n._TIME_UPDATE="timeupdate";n._capabilities=null;n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities};n._generateCapabilities=function(){var t,i,u;if(null==n._capabilities){if(t=document.createElement("audio"),null==t.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var f=createjs.Sound.SUPPORTED_EXTENSIONS,e=createjs.Sound.EXTENSION_MAP,r=0,o=f.length;o>r;r++)i=f[r],u=e[i]||i,n._capabilities[i]="no"!=t.canPlayType("audio/"+i)&&""!=t.canPlayType("audio/"+i)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u)}};t.register=function(n){var i=createjs.HTMLAudioTagPool.get(n.src),t=this.AbstractPlugin_register(n);return t.setTag(i),t};t.removeSound=function(n){this.AbstractPlugin_removeSound(n);createjs.HTMLAudioTagPool.remove(n)};t.create=function(n,t,i){var r=this.AbstractPlugin_create(n,t,i);return r.setPlaybackResource(null),r};t.toString=function(){return"[HTMLAudioPlugin]"};t.setVolume=t.getVolume=t.setMute=null;createjs.HTMLAudioPlugin=createjs.promote(i,"AbstractPlugin")}();this.createjs=this.createjs||{},function(){"use strict";function n(t,i,r){this.ignoreGlobalPause=!1;this.loop=!1;this.duration=0;this.pluginData=r||{};this.target=t;this.position=null;this.passive=!1;this._paused=!1;this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];this._prevPosition=0;this._stepPosition=0;this._prevPos=-1;this._target=t;this._useTicks=!1;this._inited=!1;this._registered=!1;i&&(this._useTicks=i.useTicks,this.ignoreGlobalPause=i.ignoreGlobalPause,this.loop=i.loop,i.onChange&&this.addEventListener("change",i.onChange),i.override&&n.removeTweens(t));i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0);i&&null!=i.position&&this.setPosition(i.position,n.NONE)}var t=createjs.extend(n,createjs.EventDispatcher);n.NONE=0;n.LOOP=1;n.REVERSE=2;n.IGNORE={};n._tweens=[];n._plugins={};n.get=function(t,i,r,u){return u&&n.removeTweens(t),new n(t,i,r)};n.tick=function(t,i){for(var r,f=n._tweens.slice(),u=f.length-1;u>=0;u--)r=f[u],i&&!r.ignoreGlobalPause||r._paused||r.tick(r._useTicks?1:t)};n.handleEvent=function(n){"tick"==n.type&&this.tick(n.delta,n.paused)};n.removeTweens=function(t){var r,i,u;if(t.tweenjs_count){for(r=n._tweens,i=r.length-1;i>=0;i--)u=r[i],u._target==t&&(u._paused=!0,r.splice(i,1));t.tweenjs_count=0}};n.removeAllTweens=function(){for(var t,i=n._tweens,r=0,u=i.length;u>r;r++)t=i[r],t._paused=!0,t.target&&(t.target.tweenjs_count=0);i.length=0};n.hasActiveTweens=function(t){return t?null!=t.tweenjs_count&&!!t.tweenjs_count:n._tweens&&!!n._tweens.length};n.installPlugin=function(t,i){var e=t.priority,r;null==e&&(t.priority=e=0);for(var o=0,h=i.length,u=n._plugins;h>o;o++)if(r=i[o],u[r]){for(var s=u[r],f=0,c=s.length;c>f&&!(e<s[f].priority);f++);u[r].splice(f,0,t)}else u[r]=[t]};n._register=function(t,i){var r=t._target,u=n._tweens,f;if(i&&!t._registered)r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1),u.push(t),!n._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",n),n._inited=!0);else if(!i&&t._registered)for(r&&r.tweenjs_count--,f=u.length;f--;)if(u[f]==t){u.splice(f,1);break}t._registered=i};t.wait=function(n,t){if(null==n||0>=n)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:n,p0:i,e:this._linearEase,p1:i,v:t})};t.to=function(n,t,i){return(isNaN(t)||0>t)&&(t=0),this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(n))})};t.call=function(n,t,i){return this._addAction({f:n,p:t?t:[this],o:i?i:this._target})};t.set=function(n,t){return this._addAction({f:this._set,o:this,p:[n,t?t:this._target]})};t.play=function(n){return n||(n=this),this.call(n.setPaused,[!1],n)};t.pause=function(n){return n||(n=this),this.call(n.setPaused,[!0],n)};t.setPosition=function(n,t){var i,r,u,f,o,e;if(0>n&&(n=0),null==t&&(t=1),i=n,r=!1,i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,r=!0)),i==this._prevPos)return r;if(u=this._prevPos,this.position=this._prevPos=i,this._prevPosition=n,this._target)if(r)this._updateTargetProps(null,1);else if(this._steps.length>0){for(f=0,o=this._steps.length;o>f&&!(this._steps[f].t>i);f++);e=this._steps[f-1];this._updateTargetProps(e,(this._stepPosition=i-e.t)/e.d)}return 0!=t&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==t&&u>i?(u!=this.duration&&this._runActions(u,this.duration),this._runActions(0,i,!0)):this._runActions(u,i)),r&&this.setPaused(!0),this.dispatchEvent("change"),r};t.tick=function(n){this._paused||this.setPosition(this._prevPosition+n)};t.setPaused=function(t){return this._paused===!!t?this:(this._paused=!!t,n._register(this,!t),this)};t.w=t.wait;t.t=t.to;t.c=t.call;t.s=t.set;t.toString=function(){return"[Tween]"};t.clone=function(){throw"Tween can not be cloned.";};t._updateTargetProps=function(t,i){var f,e,s,u,o,c,r,l,h,v,a;if(t||1!=i){if(this.passive=!!t.v,this.passive)return;t.e&&(i=t.e(i,0,1,1));f=t.p0;e=t.p1}else this.passive=!1,f=e=this._curQueueProps;for(r in this._initQueueProps){if(null==(u=f[r])&&(f[r]=u=this._initQueueProps[r]),null==(o=e[r])&&(e[r]=o=u),s=u==o||0==i||1==i||"number"!=typeof u?1==i?o:u:u+(o-u)*i,l=!1,c=n._plugins[r])for(h=0,v=c.length;v>h;h++)a=c[h].tween(this,r,s,f,e,i,!!t&&f==e,!t),a==n.IGNORE?l=!0:s=a;l||(this._target[r]=s)}};t._runActions=function(n,t,i){var s=n,f=t,e=-1,o=this._actions.length,h=1,r,u;for(n>t&&(s=t,f=n,e=o,o=h=-1);(e+=h)!=o;)r=this._actions[e],u=r.t,(u==f||u>s&&f>u||i&&u==n)&&r.f.apply(r.o,r.p)};t._appendQueueProps=function(t){var f,u,r,o,e;for(var i in t)if(void 0===this._initQueueProps[i]){if(u=this._target[i],f=n._plugins[i])for(r=0,o=f.length;o>r;r++)u=f[r].init(this,i,u);this._initQueueProps[i]=this._curQueueProps[i]=void 0===u?null:u}else u=this._curQueueProps[i];for(i in t){if(u=this._curQueueProps[i],f=n._plugins[i])for(e=e||{},r=0,o=f.length;o>r;r++)f[r].step&&f[r].step(this,i,u,t[i],e);this._curQueueProps[i]=t[i]}return e&&this._appendQueueProps(e),this._curQueueProps};t._cloneProps=function(n){var t={};for(var i in n)t[i]=n[i];return t};t._addStep=function(n){return n.d>0&&(this._steps.push(n),n.t=this.duration,this.duration+=n.d),this};t._addAction=function(n){return n.t=this.duration,this._actions.push(n),this};t._set=function(n,t){for(var i in n)t[i]=n[i]};createjs.Tween=createjs.promote(n,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function t(n,t,i){this.EventDispatcher_constructor();this.ignoreGlobalPause=!1;this.duration=0;this.loop=!1;this.position=null;this._paused=!1;this._tweens=[];this._labels=null;this._labelList=null;this._prevPosition=0;this._prevPos=-1;this._useTicks=!1;this._registered=!1;i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,i.onChange&&this.addEventListener("change",i.onChange));n&&this.addTween.apply(this,n);this.setLabels(t);i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0);i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)}var n=createjs.extend(t,createjs.EventDispatcher);n.addTween=function(n){var i=arguments.length,t;if(i>1){for(t=0;i>t;t++)this.addTween(arguments[t]);return arguments[0]}return 0==i?null:(this.removeTween(n),this._tweens.push(n),n.setPaused(!0),n._paused=!1,n._useTicks=this._useTicks,n.duration>this.duration&&(this.duration=n.duration),this._prevPos>=0&&n.setPosition(this._prevPos,createjs.Tween.NONE),n)};n.removeTween=function(n){var u=arguments.length,i,r,t;if(u>1){for(i=!0,t=0;u>t;t++)i=i&&this.removeTween(arguments[t]);return i}if(0==u)return!1;for(r=this._tweens,t=r.length;t--;)if(r[t]==n)return r.splice(t,1),n.duration>=this.duration&&this.updateDuration(),!0;return!1};n.addLabel=function(n,t){var i,r,u;if(this._labels[n]=t,i=this._labelList,i){for(r=0,u=i.length;u>r&&!(t<i[r].position);r++);i.splice(r,0,{label:n,position:t})}};n.setLabels=function(n){this._labels=n?n:{}};n.getLabels=function(){var n=this._labelList,t,i;if(!n){n=this._labelList=[];t=this._labels;for(i in t)n.push({label:i,position:t[i]});n.sort(function(n,t){return n.position-t.position})}return n};n.getCurrentLabel=function(){var t=this.getLabels(),r=this.position,i=t.length,n;if(i){for(n=0;i>n&&!(r<t[n].position);n++);return 0==n?null:t[n-1].label}return null};n.gotoAndPlay=function(n){this.setPaused(!1);this._goto(n)};n.gotoAndStop=function(n){this.setPaused(!0);this._goto(n)};n.setPosition=function(n,t){var i=this._calcPosition(n),u=!this.loop&&n>=this.duration,r,f;if(i==this._prevPos)return u;for(this._prevPosition=n,this.position=this._prevPos=i,r=0,f=this._tweens.length;f>r;r++)if(this._tweens[r].setPosition(i,t),i!=this._prevPos)return!1;return u&&this.setPaused(!0),this.dispatchEvent("change"),u};n.setPaused=function(n){this._paused=!!n;createjs.Tween._register(this,!n)};n.updateDuration=function(){var n,i,t;for(this.duration=0,n=0,i=this._tweens.length;i>n;n++)t=this._tweens[n],t.duration>this.duration&&(this.duration=t.duration)};n.tick=function(n){this.setPosition(this._prevPosition+n)};n.resolve=function(n){var t=Number(n);return isNaN(t)&&(t=this._labels[n]),t};n.toString=function(){return"[Timeline]"};n.clone=function(){throw"Timeline can not be cloned.";};n._goto=function(n){var t=this.resolve(n);null!=t&&this.setPosition(t)};n._calcPosition=function(n){return 0>n?0:n<this.duration?n:this.loop?n%this.duration:this.duration};createjs.Timeline=createjs.promote(t,"EventDispatcher")}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"Ease cannot be instantiated.";}n.linear=function(n){return n};n.none=n.linear;n.get=function(n){return-1>n&&(n=-1),n>1&&(n=1),function(t){return 0==n?t:0>n?t*(t*-n+1+n):t*((2-t)*n+(1-n))}};n.getPowIn=function(n){return function(t){return Math.pow(t,n)}};n.getPowOut=function(n){return function(t){return 1-Math.pow(1-t,n)}};n.getPowInOut=function(n){return function(t){return(t*=2)<1?.5*Math.pow(t,n):1-.5*Math.abs(Math.pow(2-t,n))}};n.quadIn=n.getPowIn(2);n.quadOut=n.getPowOut(2);n.quadInOut=n.getPowInOut(2);n.cubicIn=n.getPowIn(3);n.cubicOut=n.getPowOut(3);n.cubicInOut=n.getPowInOut(3);n.quartIn=n.getPowIn(4);n.quartOut=n.getPowOut(4);n.quartInOut=n.getPowInOut(4);n.quintIn=n.getPowIn(5);n.quintOut=n.getPowOut(5);n.quintInOut=n.getPowInOut(5);n.sineIn=function(n){return 1-Math.cos(n*Math.PI/2)};n.sineOut=function(n){return Math.sin(n*Math.PI/2)};n.sineInOut=function(n){return-.5*(Math.cos(Math.PI*n)-1)};n.getBackIn=function(n){return function(t){return t*t*((n+1)*t-n)}};n.backIn=n.getBackIn(1.7);n.getBackOut=function(n){return function(t){return--t*t*((n+1)*t+n)+1}};n.backOut=n.getBackOut(1.7);n.getBackInOut=function(n){return n*=1.525,function(t){return(t*=2)<1?.5*t*t*((n+1)*t-n):.5*((t-=2)*t*((n+1)*t+n)+2)}};n.backInOut=n.getBackInOut(1.7);n.circIn=function(n){return-(Math.sqrt(1-n*n)-1)};n.circOut=function(n){return Math.sqrt(1- --n*n)};n.circInOut=function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)};n.bounceIn=function(t){return 1-n.bounceOut(1-t)};n.bounceOut=function(n){return 1/2.75>n?7.5625*n*n:2/2.75>n?7.5625*(n-=1.5/2.75)*n+.75:2.5/2.75>n?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375};n.bounceInOut=function(t){return.5>t?.5*n.bounceIn(2*t):.5*n.bounceOut(2*t-1)+.5};n.getElasticIn=function(n,t){var i=2*Math.PI;return function(r){if(0==r||1==r)return r;var u=t/i*Math.asin(1/n);return-(n*Math.pow(2,10*(r-=1))*Math.sin((r-u)*i/t))}};n.elasticIn=n.getElasticIn(1,.3);n.getElasticOut=function(n,t){var i=2*Math.PI;return function(r){if(0==r||1==r)return r;var u=t/i*Math.asin(1/n);return n*Math.pow(2,-10*r)*Math.sin((r-u)*i/t)+1}};n.elasticOut=n.getElasticOut(1,.3);n.getElasticInOut=function(n,t){var i=2*Math.PI;return function(r){var u=t/i*Math.asin(1/n);return(r*=2)<1?-.5*n*Math.pow(2,10*(r-=1))*Math.sin((r-u)*i/t):n*Math.pow(2,-10*(r-=1))*Math.sin((r-u)*i/t)*.5+1}};n.elasticInOut=n.getElasticInOut(1,.3*1.5);createjs.Ease=n}();this.createjs=this.createjs||{},function(){"use strict";function n(){throw"MotionGuidePlugin cannot be instantiated.";}n.priority=0;n._rotOffS;n._rotOffE;n._rotNormS;n._rotNormE;n.install=function(){return createjs.Tween.installPlugin(n,["guide","x","y","rotation"]),createjs.Tween.IGNORE};n.init=function(n,t,i){var r=n.target;return r.hasOwnProperty("x")||(r.x=0),r.hasOwnProperty("y")||(r.y=0),r.hasOwnProperty("rotation")||(r.rotation=0),"rotation"==t&&(n.__needsRot=!0),"guide"==t?null:i};n.step=function(t,i,r,u,f){var l,e,o,v,y,s,h,c,a;if(("rotation"==i&&(t.__rotGlobalS=r,t.__rotGlobalE=u,n.testRotData(t,f)),"guide"!=i)||(e=u,e.hasOwnProperty("path")||(e.path=[]),o=e.path,e.hasOwnProperty("end")||(e.end=1),e.hasOwnProperty("start")||(e.start=r&&r.hasOwnProperty("end")&&r.path===o?r.end:0),e.hasOwnProperty("_segments")&&e._length))return u;if(v=o.length,y=10,!(v>=6&&(v-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";for(e._segments=[],e._length=0,s=2;v>s;s+=4){for(var p,w,g=o[s-2],nt=o[s-1],rt=o[s+0],ut=o[s+1],ft=o[s+2],et=o[s+3],tt=g,it=nt,b=0,k=[],d=1;y>=d;d++)h=d/y,c=1-h,p=c*c*g+2*c*h*rt+h*h*ft,w=c*c*nt+2*c*h*ut+h*h*et,b+=k[k.push(Math.sqrt((l=p-tt)*l+(l=w-it)*l))-1],tt=p,it=w;e._segments.push(b);e._segments.push(k);e._length+=b}return l=e.orient,e.orient=!0,a={},n.calc(e,e.start,a),t.__rotPathS=Number(a.rotation.toFixed(5)),n.calc(e,e.end,a),t.__rotPathE=Number(a.rotation.toFixed(5)),e.orient=!1,n.calc(e,e.end,f),e.orient=l,e.orient?(t.__guideData=e,n.testRotData(t,f),u):u};n.testRotData=function(n,t){if(void 0===n.__rotGlobalS||void 0===n.__rotGlobalE){if(n.__needsRot)return;n.__rotGlobalS=void 0!==n._curQueueProps.rotation?n.__rotGlobalE=n._curQueueProps.rotation:n.__rotGlobalE=t.rotation=n.target.rotation||0}if(void 0!==n.__guideData){var u=n.__guideData,r=n.__rotGlobalE-n.__rotGlobalS,f=n.__rotPathE-n.__rotPathS,i=r-f;if("auto"==u.orient)i>180?i-=360:-180>i&&(i+=360);else if("cw"==u.orient){for(;0>i;)i+=360;0==i&&r>0&&180!=r&&(i+=360)}else if("ccw"==u.orient){for(i=r-(f>180?360-f:f);i>0;)i-=360;0==i&&0>r&&-180!=r&&(i-=360)}u.rotDelta=i;u.rotOffS=n.__rotGlobalS-n.__rotPathS;n.__rotGlobalS=n.__rotGlobalE=n.__guideData=n.__needsRot=void 0}};n.tween=function(t,i,r,u,f,e,o){var s=f.guide,h;if(void 0==s||s===u.guide)return r;if(s.lastRatio!=e){h=(s.end-s.start)*(o?s.end:e)+s.start;switch(n.calc(s,h,t.target),s.orient){case"cw":case"ccw":case"auto":t.target.rotation+=s.rotOffS+s.rotDelta*e;break;case"fixed":default:t.target.rotation+=s.rotOffS}s.lastRatio=e}return"rotation"!=i||s.orient&&"false"!=s.orient?t.target[i]:r};n.calc=function(n,t,i){var c,o,f,e;if(void 0==n._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==i&&(i={x:0,y:0,rotation:0});for(var l=n._segments,u=n.path,s=n._length*t,h=l.length-2,r=0;s>l[r]&&h>r;)s-=l[r],r+=2;for(c=l[r+1],o=0,h=c.length-1;s>c[o]&&h>o;)s-=c[o],o++;return f=o/++h+s/(h*c[o]),r=2*r+2,e=1-f,i.x=e*e*u[r-2]+2*e*f*u[r+0]+f*f*u[r+2],i.y=e*e*u[r-1]+2*e*f*u[r+1]+f*f*u[r+3],n.orient&&(i.rotation=57.2957795*Math.atan2((u[r+1]-u[r-1])*e+(u[r+3]-u[r+1])*f,(u[r+0]-u[r-2])*e+(u[r+2]-u[r+0])*f)),i};createjs.MotionGuidePlugin=n}();this.createjs=this.createjs||{},function(){"use strict";var n=createjs.TweenJS=createjs.TweenJS||{};n.version="0.6.2";n.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}();typeof define=="function"&&define.amd&&define("lib/createjs-2015.11.26.min",function(){return window.createjs});google_maps_loaded_def=null;define("lib/google-maps-loader",["jquery"],function(n){if(!t){var t=n.Deferred();window.google_maps_loaded=function(){t.resolve(google.maps)};require(["googlemaps"],function(){},function(){t.reject()})}return t.promise()});MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m";MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png";MarkerClusterer.prototype.extend=function(n,t){return function(n){for(var t in n.prototype)this.prototype[t]=n.prototype[t];return this}.apply(n,[t])};MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)};MarkerClusterer.prototype.draw=function(){};MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var n=0,t;t=this.sizes[n];n++)this.styles_.push({url:this.imagePath_+(n+1)+"."+this.imageExtension_,height:t,width:t})};MarkerClusterer.prototype.fitMapToMarkers=function(){for(var r=this.getMarkers(),n=new google.maps.LatLngBounds,t=0,i;i=r[t];t++)n.extend(i.getPosition());this.map_.fitBounds(n)};MarkerClusterer.prototype.setStyles=function(n){this.styles_=n};MarkerClusterer.prototype.getStyles=function(){return this.styles_};MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_};MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_};MarkerClusterer.prototype.getMarkers=function(){return this.markers_};MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length};MarkerClusterer.prototype.setMaxZoom=function(n){this.maxZoom_=n};MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_};MarkerClusterer.prototype.calculator_=function(n,t){for(var i=0,u=n.length,r=u;r!==0;)r=parseInt(r/10,10),i++;return i=Math.min(i,t),{text:u,index:i}};MarkerClusterer.prototype.setCalculator=function(n){this.calculator_=n};MarkerClusterer.prototype.getCalculator=function(){return this.calculator_};MarkerClusterer.prototype.addMarkers=function(n,t){var r,i;if(n.length)for(r=0;i=n[r];r++)this.pushMarkerTo_(i);else if(Object.keys(n).length)for(i in n)this.pushMarkerTo_(n[i]);t||this.redraw()};MarkerClusterer.prototype.pushMarkerTo_=function(n){if(n.isAdded=!1,n.draggable){var t=this;google.maps.event.addListener(n,"dragend",function(){n.isAdded=!1;t.repaint()})}this.markers_.push(n)};MarkerClusterer.prototype.addMarker=function(n,t){this.pushMarkerTo_(n);t||this.redraw()};MarkerClusterer.prototype.removeMarker_=function(n){var t=-1,i,r;if(this.markers_.indexOf)t=this.markers_.indexOf(n);else for(i=0;r=this.markers_[i];i++)if(r==n){t=i;break}return t==-1?!1:(n.setMap(null),this.markers_.splice(t,1),!0)};MarkerClusterer.prototype.removeMarker=function(n,t){var i=this.removeMarker_(n);return!t&&i?(this.resetViewport(),this.redraw(),!0):!1};MarkerClusterer.prototype.removeMarkers=function(n,t){for(var f,i=!1,r=0,u;u=n[r];r++)f=this.removeMarker_(u),i=i||f;if(!t&&i)return this.resetViewport(),this.redraw(),!0};MarkerClusterer.prototype.setReady_=function(n){this.ready_||(this.ready_=n,this.createClusters_())};MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length};MarkerClusterer.prototype.getMap=function(){return this.map_};MarkerClusterer.prototype.setMap=function(n){this.map_=n};MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_};MarkerClusterer.prototype.setGridSize=function(n){this.gridSize_=n};MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_};MarkerClusterer.prototype.setMinClusterSize=function(n){this.minClusterSize_=n};MarkerClusterer.prototype.getExtendedBounds=function(n){var t=this.getProjection(),e=new google.maps.LatLng(n.getNorthEast().lat(),n.getNorthEast().lng()),o=new google.maps.LatLng(n.getSouthWest().lat(),n.getSouthWest().lng()),r=t.fromLatLngToDivPixel(e),i,u,f;return r.x+=this.gridSize_,r.y-=this.gridSize_,i=t.fromLatLngToDivPixel(o),i.x-=this.gridSize_,i.y+=this.gridSize_,u=t.fromDivPixelToLatLng(r),f=t.fromDivPixelToLatLng(i),n.extend(u),n.extend(f),n};MarkerClusterer.prototype.isMarkerInBounds_=function(n,t){return t.contains(n.getPosition())};MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0);this.markers_=[]};MarkerClusterer.prototype.resetViewport=function(n){for(var r,i,t=0;r=this.clusters_[t];t++)r.remove();for(t=0;i=this.markers_[t];t++)i.isAdded=!1,n&&i.setMap(null);this.clusters_=[]};MarkerClusterer.prototype.repaint=function(){var n=this.clusters_.slice();this.clusters_.length=0;this.resetViewport();this.redraw();window.setTimeout(function(){for(var t=0,i;i=n[t];t++)i.remove()},0)};MarkerClusterer.prototype.redraw=function(){this.createClusters_()};MarkerClusterer.prototype.distanceBetweenPoints_=function(n,t){if(!n||!t)return 0;var i=(t.lat()-n.lat())*Math.PI/180,r=(t.lng()-n.lng())*Math.PI/180,u=Math.sin(i/2)*Math.sin(i/2)+Math.cos(n.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),f=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*f};MarkerClusterer.prototype.addToClosestCluster_=function(n){for(var r,u,t,f=4e4,i=null,o=n.getPosition(),e=0;t=this.clusters_[e];e++)r=t.getCenter(),r&&(u=this.distanceBetweenPoints_(r,n.getPosition()),u<f&&(f=u,i=t));i&&i.isMarkerInClusterBounds(n)?i.addMarker(n):(t=new Cluster(this),t.addMarker(n),this.clusters_.push(t))};MarkerClusterer.prototype.createClusters_=function(){var i,r,t,n;if(this.ready_)for(i=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),r=this.getExtendedBounds(i),t=0;n=this.markers_[t];t++)!n.isAdded&&this.isMarkerInBounds_(n,r)&&this.addToClosestCluster_(n)};Cluster.prototype.isMarkerAlreadyAdded=function(n){if(this.markers_.indexOf)return this.markers_.indexOf(n)!=-1;for(var t=0,i;i=this.markers_[t];t++)if(i==n)return!0;return!1};Cluster.prototype.addMarker=function(n){var t,r;if(this.isMarkerAlreadyAdded(n))return!1;if(this.center_){if(this.averageCenter_){var i=this.markers_.length+1,u=(this.center_.lat()*(i-1)+n.getPosition().lat())/i,f=(this.center_.lng()*(i-1)+n.getPosition().lng())/i;this.center_=new google.maps.LatLng(u,f);this.calculateBounds_()}}else this.center_=n.getPosition(),this.calculateBounds_();if(n.isAdded=!0,this.markers_.push(n),t=this.markers_.length,t<this.minClusterSize_&&n.getMap()!=this.map_&&n.setMap(this.map_),t==this.minClusterSize_)for(r=0;r<t;r++)this.markers_[r].setMap(null);return t>=this.minClusterSize_&&n.setMap(null),this.updateIcon(),!0};Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_};Cluster.prototype.getBounds=function(){for(var n=new google.maps.LatLngBounds(this.center_,this.center_),r=this.getMarkers(),t=0,i;i=r[t];t++)n.extend(i.getPosition());return n};Cluster.prototype.remove=function(){this.clusterIcon_.remove();this.markers_.length=0;delete this.markers_};Cluster.prototype.getSize=function(){return this.markers_.length};Cluster.prototype.getMarkers=function(){return this.markers_};Cluster.prototype.getCenter=function(){return this.center_};Cluster.prototype.calculateBounds_=function(){var n=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(n)};Cluster.prototype.isMarkerInClusterBounds=function(n){return this.bounds_.contains(n.getPosition())};Cluster.prototype.getMap=function(){return this.map_};Cluster.prototype.updateIcon=function(){var f=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom(),n,i,r,u;if(t&&f>t){for(n=0;i=this.markers_[n];n++)i.setMap(this.map_);return}if(this.markers_.length<this.minClusterSize_){this.clusterIcon_.hide();return}r=this.markerClusterer_.getStyles().length;u=this.markerClusterer_.getCalculator()(this.markers_,r);this.clusterIcon_.setCenter(this.center_);this.clusterIcon_.setSums(u);this.clusterIcon_.show()};ClusterIcon.prototype.triggerClusterClick=function(){var n=this.cluster_.getMarkerClusterer();google.maps.event.trigger(n,"clusterclick",this.cluster_);n.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())};ClusterIcon.prototype.onAdd=function(){var n,t,i;this.div_=document.createElement("DIV");this.visible_&&(n=this.getPosFromLatLng_(this.center_),this.div_.style.cssText=this.createCss(n),this.div_.innerHTML=this.sums_.text);t=this.getPanes();t.overlayMouseTarget.appendChild(this.div_);i=this;google.maps.event.addDomListener(this.div_,"click",function(){i.triggerClusterClick()})};ClusterIcon.prototype.getPosFromLatLng_=function(n){var t=this.getProjection().fromLatLngToDivPixel(n);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t};ClusterIcon.prototype.draw=function(){if(this.visible_){var n=this.getPosFromLatLng_(this.center_);this.div_.style.top=n.y+"px";this.div_.style.left=n.x+"px"}};ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none");this.visible_=!1};ClusterIcon.prototype.show=function(){if(this.div_){var n=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(n);this.div_.style.display=""}this.visible_=!0};ClusterIcon.prototype.remove=function(){this.setMap(null)};ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)};ClusterIcon.prototype.setSums=function(n){this.sums_=n;this.text_=n.text;this.index_=n.index;this.div_&&(this.div_.innerHTML=n.text);this.useStyle()};ClusterIcon.prototype.useStyle=function(){var t=Math.max(0,this.sums_.index-1),n;t=Math.min(this.styles_.length-1,t);n=this.styles_[t];this.url_=n.url;this.height_=n.height;this.width_=n.width;this.textColor_=n.textColor;this.anchor_=n.anchor;this.textSize_=n.textSize;this.backgroundPosition_=n.backgroundPosition};ClusterIcon.prototype.setCenter=function(n){this.center_=n};ClusterIcon.prototype.createCss=function(n){var t=[],i,r,u;return t.push("background-image:url("+this.url_+");"),i=this.backgroundPosition_?this.backgroundPosition_:"0 0",t.push("background-position:"+i+";"),typeof this.anchor_=="object"?(typeof this.anchor_[0]=="number"&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),typeof this.anchor_[1]=="number"&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;"),r=this.textColor_?this.textColor_:"black",u=this.textSize_?this.textSize_:11,t.push("cursor:pointer; top:"+n.y+"px; left:"+n.x+"px; color:"+r+"; position:absolute; font-size:"+u+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")};window.MarkerClusterer=MarkerClusterer;MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker;MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers;MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers;MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers;MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator;MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize;MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds;MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap;MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers;MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom;MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles;MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters;MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers;MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw;MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker;MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers;MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport;MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint;MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator;MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize;MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom;MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd;MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw;Cluster.prototype.getCenter=Cluster.prototype.getCenter;Cluster.prototype.getSize=Cluster.prototype.getSize;Cluster.prototype.getMarkers=Cluster.prototype.getMarkers;ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd;ClusterIcon.prototype.draw=ClusterIcon.prototype.draw;ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove;Object.keys=Object.keys||function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t};CSPhotoSelector=function(n,t){var tt,w,it,rt,ut,b,ft,i,u,f,s,h,r,c,l,o,et,p,ot,a,v,k,y,d,st,ht,ct,g,lt,e,nt;return tt=function(n){i={speed:100,debug:!1,disabledClass:"CSPhotoSelector_disabled",albumSelectedClass:"CSPhotoSelector_photoSelected",albumDisabledClass:"CSPhotoSelector_photoDisabled",photoFilteredClass:"CSPhotoSelector_photoFiltered",containerSelector:"#CSPhotoSelector",albumsContainerSelector:".CSAlbum_container",photosContainerSelector:".CSPhoto_container",photosWrapperSelector:".CSPhotoSelector_wrapper",selectedPhotoCountSelector:".CSPhotoSelector_selectedPhotoCount",selectedPhotoCountMaxSelector:".CSPhotoSelector_selectedPhotoCountMax",pageNumberSelector:"#CSPhotoSelector_pageNumber",pageNumberTotalSelector:"#CSPhotoSelector_pageNumberTotal",pagePrevSelector:"#CSPhotoSelector_pagePrev",pageNextSelector:"#CSPhotoSelector_pageNext",buttonBackToAlbumsSelector:"#CSPhotoSelector_backToAlbums",buttonCloseSelector:"#CSPhotoSelector_buttonClose",buttonOKSelector:"#CSPhotoSelector_buttonOK",buttonCancelSelector:"#CSPhotoSelector_buttonCancel",loader:"#CSPhotoSelector_loader",pagination:".CSPhotoSelector_pageNumberContainer, #CSPhotoSelector_pagePrev, #CSPhotoSelector_pageNext"};t.extend(i,n);r=t(i.containerSelector);c=r.find(i.albumsContainerSelector);l=r.find(i.photosContainerSelector);$photosWrapper=r.find(i.photosWrapperSelector);o=r.find(i.selectedPhotoCountSelector);et=r.find(i.selectedPhotoCountMaxSelector);p=r.find(i.pageNumberSelector);ot=r.find(i.pageNumberTotalSelector);a=r.find(i.pagePrevSelector);v=r.find(i.pageNextSelector);$backToAlbums=r.find(i.buttonBackToAlbumsSelector);k=r.find(i.buttonCloseSelector);y=r.find(i.buttonOKSelector);d=r.find(i.buttonCancelSelector);$loader=r.find(i.loader);$pagination=r.find(i.pagination)},w=function(n){var t;if(n&&n.length!==0)for(n=Array.prototype.slice.call(n),n=n.sort(lt),u=[],t=0;t<n.length;t++)n[t].count&&(u[u.length]=n[t])},it=function(){return u},b=function(n){n&&n.length!==0&&(n=Array.prototype.slice.call(n),f=n)},getPhotos=function(){return f},rt=function(n){var t,i;for(n=n.toString(),t=0,i=u.length;t<i;t+=1)if(u[t].id===n)return u[t];return null},ut=function(n){var t,i;for(n=n.toString(),t=0,i=f.length;t<i;t+=1)if(f[t].id===n)return f[t];return null},ft=function(n){var ft,lt,at,tt,vt,yt,pt,wt,w,nt=[],b=[],rt=[],bt,kt,ut,dt,it,gt,ni;return i?(w={maxSelection:1,albumsPerPage:6,photosPerPage:10,autoDeselection:!1,callbackAlbumSelected:null,callbackAlbumUnselected:null,callbackPhotoSelected:null,callbackPhotoUnselected:null,callbackMaxSelection:null,callbackSubmit:null},t.extend(w,n),ft=function(n,f){var o,h;if(e("CSPhotoSelector - show Albums"),s){for(bt(),s.removeClass(i.albumSelectedClass+" "+i.albumDisabledClass+" "+i.photoFilteredClass),o=0,h=u.length;o<h;o+=1)t.inArray(u[o].id,nt)!==-1&&t(s[o]).addClass(i.albumSelectedClass),t.inArray(u[o].id,rt)!==-1&&t(s[o]).addClass(i.albumDisabledClass);ut(1);it(1);r.fadeIn(100);typeof f=="function"&&f()}else return ct(n,function(){ft(n,f)})},lt=function(n,u){var s,c;if(e("CSPhotoSelector - show Photos"),$loader.show(),!h||u)return g(function(){lt(n)},u);for(h.removeClass(i.albumSelectedClass+" "+i.albumDisabledClass+" "+i.photoFilteredClass),s=0,c=f.length;s<c;s+=1)t.inArray(f[s].id,b)!==-1&&t(h[s]).addClass(i.albumSelectedClass),t.inArray(f[s].id,rt)!==-1&&t(h[s]).addClass(i.albumDisabledClass);o.html(b.length);et.html(w.maxSelection);dt(1);r.fadeIn(100);typeof n=="function"&&n()},at=function(){$photosWrapper.removeClass("CSPhoto_container_active")},tt=function(){kt();r.fadeOut(100)},vt=function(){return nt},yt=function(){return b},pt=function(n){rt=n},wt=function(){u&&u.length!==0&&($photosWrapper.removeClass("CSPhoto_container_active"),y.hide(),c.empty(),l.empty(),nt=[],b=[],s=null,o.html("0"),rt=[],it(1))},bt=function(){k.bind("click",function(n){n.preventDefault();tt()});d.bind("click",function(n){n.preventDefault();tt()});y.bind("click",function(n){n.preventDefault();tt();typeof w.callbackSubmit=="function"&&w.callbackSubmit(b)});$backToAlbums.bind("click",function(n){n.preventDefault();$pagination.show();y.hide();at()});a.bind("click",function(n){var t=parseInt(p.text(),10)-1;(n.preventDefault(),t<1)||(ut(t),it(t))});v.bind("click",function(n){var r=parseInt(p.text(),10)+1;(n.preventDefault(),t(this).hasClass(i.disabledClass))||(ut(r),it(r))});t(window).bind("keydown",function(n){n.which===27&&(n.preventDefault(),n.stopPropagation(),tt())})},kt=function(){k.unbind("click");y.unbind("click");d.unbind("click");c.children().unbind("click");l.children().unbind("click");a.unbind("click");v.unbind("click");t(window).unbind("keydown")},ut=function(n){var r,u;r=(n-1)*w.albumsPerPage;u=n*w.albumsPerPage;c.html(s.not("."+i.photoFilteredClass).slice(r,u));c.children().bind("click",function(n){n.preventDefault();gt(t(this))})},dt=function(n){var r,u;r=(n-1)*w.photosPerPage;u=n*w.photosPerPage;l.html(h.not("."+i.photoFilteredClass).slice(r,u));l.children().bind("click",function(n){n.preventDefault();ni(t(this))})},it=function(n){var t=Math.ceil(u.length/w.albumsPerPage);p.html(n);ot.html(t);n===1||t===1?a.addClass(i.disabledClass):a.removeClass(i.disabledClass);n===t||t===1?v.addClass(i.disabledClass):v.removeClass(i.disabledClass)},gt=function(n){var r,u,f,s;if(r=n.attr("data-id"),!n.hasClass(i.albumDisabledClass)){if(n.hasClass(i.albumSelectedClass)){for(u=0,f=nt.length;u<f;u+=1)if(nt[u]===r)return nt.splice(u,1),n.removeClass(i.albumSelectedClass),o.html(nt.length),typeof w.callbackAlbumUnselected=="function"&&w.callbackAlbumUnselected(r),!1}else w.autoDeselection&&nt.length===w.maxSelection&&(s=nt.splice(0,1),st(s).removeClass(i.albumSelectedClass),o.html(nt.length)),nt.length<w.maxSelection&&(t.inArray(r,nt)===-1?(nt.push(r),n.addClass(i.albumSelectedClass),o.html(nt.length),e("CSPhotoSelector - newInstance - selectAlbum - selected IDs: ",nt),typeof w.callbackAlbumSelected=="function"&&w.callbackAlbumSelected(r)):e("CSPhotoSelector - newInstance - selectAlbum - ID already stored"));nt.length===w.maxSelection&&typeof w.callbackMaxSelection=="function"&&w.callbackMaxSelection()}},ni=function(n){var r,u,f,s;if(r=n.attr("data-id"),!n.hasClass(i.albumDisabledClass)){if(n.hasClass(i.albumSelectedClass)){for(u=0,f=b.length;u<f;u+=1)if(b[u]===r)return b.splice(u,1),n.removeClass(i.albumSelectedClass),o.html(b.length),typeof w.callbackPhotoUnselected=="function"&&w.callbackPhotoUnselected(r),!1}else w.autoDeselection&&b.length===w.maxSelection&&(s=b.splice(0,1),ht(s).removeClass(i.albumSelectedClass),o.html(b.length)),b.length<w.maxSelection&&(t.inArray(r,b)===-1?(b.push(r),n.addClass(i.albumSelectedClass),o.html(b.length),e("CSPhotoSelector - newInstance - selectPhoto - selected IDs: ",b),typeof w.callbackPhotoSelected=="function"&&w.callbackPhotoSelected(r)):e("CSPhotoSelector - newInstance - selectPhoto - ID already stored"));b.length===w.maxSelection&&typeof w.callbackMaxSelection=="function"&&w.callbackMaxSelection()}},{showAlbumSelector:ft,showPhotoSelector:lt,hidePhotoSelector:at,hideAlbumSelector:tt,getselectedAlbumIds:vt,getselectedPhotoIds:yt,setDisabledPhotoIds:pt,reset:wt}):(e("Cannot create a new instance of CSPhotoSelector because the plugin not initialised."),!1)},st=function(n){var i,r;for(n=n.toString(),i=0,r=u.length;i<r;i+=1)if(u[i].id===n)return t(s[i]);return t("")},ht=function(n){var i,r;for(n=n.toString(),i=0,r=f.length;i<r;i+=1)if(f[i].id===n)return t(h[i]);return t("")},ct=function(n,i){var r,f;if(e("buildAlbumSelector"),$pagination.show(),!FB)return e("The Facebook SDK must be initialised before showing the photo selector"),!1;FB.getLoginStatus(function(t){if(t.status==="connected"){var u=t.authResponse.accessToken;FB.api("/"+n+"/albums",function(n){if(n.data.length)w(n.data),r(u),typeof i=="function"&&i();else return alert("Sorry, your friend won't let us look through their photos"),e("CSPhotoSelector - buildAlbumSelector - No albums returned"),!1})}else return e("CSPhotoSelector - buildAlbumSelector - User is not logged in to Facebook"),!1});r=function(n){for(var e="",i=0,r=u.length;i<r;i+=1)e+=f(u[i],n);s=t(e)};f=function(n,t){return'<a href="#" class="CSPhotoSelector_album" data-id="'+n.id+'"><div class="CSPhotoSelector_albumWrap"><div><img src="https://graph.facebook.com/'+n.id+"/picture?type=album&access_token="+t+'" alt="'+nt(n.name)+'" class="CSPhotoSelector_photoAvatar" /><\/div><\/div><div class="CSPhotoSelector_photoName">'+nt(n.name)+"<\/div><\/a>"}},g=function(n,i){var r,u;e("buildPhotoSelector");f=[];FB.api("/"+i+"/photos?fields=id,picture,source,height,width,images&limit=500",function(t){if(t.data)b(t.data),r(),typeof n=="function"&&(n(),$loader.hide(),$pagination.hide(),$photosWrapper.addClass("CSPhoto_container_active"));else return e("CSPhotoSelector - showPhotoSelector - No photos returned"),!1});r=function(){var n,r,e="";for(f||g(null,i),n=0,r=f.length;n<r;n+=1)e+=u(f[n]);h=t(e)};u=function(n){return'<a href="#" class="CSPhotoSelector_photo CSPhotoSelector_clearfix" data-id="'+n.id+'"><span><img src="'+n.picture+'" alt="" class="CSPhotoSelector_photoAvatar" /><\/span><\/a>'}},lt=function(n,t){return n.upperCaseName===t.upperCaseName?0:n.upperCaseName>t.upperCaseName?1:n.upperCaseName<t.upperCaseName?-1:void 0},e=function(){i&&i.debug&&window.console&&console.log(Array.prototype.slice.call(arguments))},nt=function(n){return n?String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},{init:tt,setAlbums:w,getAlbums:it,getAlbumById:rt,setPhotos:b,getPhotos:getPhotos,getPhotoById:ut,newInstance:ft}}(CSPhotoSelector||{},jQuery),function(n,t){typeof define=="function"&&define.amd?define("pluggins/dragdealer",t):typeof module=="object"&&module.exports?module.exports.Dragdealer=t():n.Dragdealer=t()}(this,function(){function l(n){var i="Webkit Moz ms O".split(" "),r=document.documentElement.style,t;if(r[n]!==undefined)return n;for(n=n.charAt(0).toUpperCase()+n.substr(1),t=0;t<i.length;t++)if(r[i[t]+n]!==undefined)return i[t]+n}function y(n){f.backfaceVisibility&&f.perspective&&(n.style[f.perspective]="1000px",n.style[f.backfaceVisibility]="hidden")}var v=function(n,t){(this.options=this.applyDefaults(t||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(n),this.wrapper)&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle)&&(this.init(),this.bindEventListeners())},e;v.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&y(this.handle);this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]};this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]};this.dragStartPosition={x:0,y:0};this.change=[0,0];this.stepRatios=this.calculateStepRatios();this.activity=!1;this.dragging=!1;this.tapping=!1;this.reflow();this.options.disabled&&this.disable()},applyDefaults:function(n){for(var t in this.defaults)n.hasOwnProperty(t)||(n[t]=this.defaults[t]);return n},getWrapperElement:function(n){return typeof n=="string"?document.getElementById(n):n},getHandleElement:function(n,t){var i,u,r;if(n.getElementsByClassName){if(i=n.getElementsByClassName(t),i.length>0)return i[0]}else for(u=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=n.getElementsByTagName("*"),r=0;r<i.length;r++)if(u.test(i[r].className))return i[r]},calculateStepRatios:function(){var t=[],n;if(this.options.steps>=1)for(n=0;n<=this.options.steps-1;n++)t[n]=this.options.steps>1?n/(this.options.steps-1):0;return t},setWrapperOffset:function(){this.offset.wrapper=c.get(this.wrapper)},calculateBounds:function(){var n={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return n.availWidth=n.right-n.left-this.handle.offsetWidth,n.availHeight=n.bottom-n.top-this.handle.offsetHeight,n},calculateValuePrecision:function(){var n=this.options.xPrecision||Math.abs(this.bounds.availWidth),t=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[n?1/n:0,t?1/t:0]},bindMethods:function(){this.requestAnimationFrame=typeof this.options.customRequestAnimationFrame=="function"?t(this.options.customRequestAnimationFrame,window):t(o,window);this.cancelAnimationFrame=typeof this.options.customCancelAnimationFrame=="function"?t(this.options.customCancelAnimationFrame,window):t(a,window);this.animateWithRequestAnimationFrame=t(this.animateWithRequestAnimationFrame,this);this.animate=t(this.animate,this);this.onHandleMouseDown=t(this.onHandleMouseDown,this);this.onHandleTouchStart=t(this.onHandleTouchStart,this);this.onDocumentMouseMove=t(this.onDocumentMouseMove,this);this.onWrapperTouchMove=t(this.onWrapperTouchMove,this);this.onWrapperMouseDown=t(this.onWrapperMouseDown,this);this.onWrapperTouchStart=t(this.onWrapperTouchStart,this);this.onDocumentMouseUp=t(this.onDocumentMouseUp,this);this.onDocumentTouchEnd=t(this.onDocumentTouchEnd,this);this.onHandleClick=t(this.onHandleClick,this);this.onWindowResize=t(this.onWindowResize,this)},bindEventListeners:function(){i(this.handle,"mousedown",this.onHandleMouseDown);i(this.handle,"touchstart",this.onHandleTouchStart);i(document,"mousemove",this.onDocumentMouseMove);i(this.wrapper,"touchmove",this.onWrapperTouchMove);i(this.wrapper,"mousedown",this.onWrapperMouseDown);i(this.wrapper,"touchstart",this.onWrapperTouchStart);i(document,"mouseup",this.onDocumentMouseUp);i(document,"touchend",this.onDocumentTouchEnd);i(this.handle,"click",this.onHandleClick);i(window,"resize",this.onWindowResize);this.animate(!1,!0);this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){r(this.handle,"mousedown",this.onHandleMouseDown);r(this.handle,"touchstart",this.onHandleTouchStart);r(document,"mousemove",this.onDocumentMouseMove);r(this.wrapper,"touchmove",this.onWrapperTouchMove);r(this.wrapper,"mousedown",this.onWrapperMouseDown);r(this.wrapper,"touchstart",this.onWrapperTouchStart);r(document,"mouseup",this.onDocumentMouseUp);r(document,"touchend",this.onDocumentTouchEnd);r(this.handle,"click",this.onHandleClick);r(window,"resize",this.onWindowResize);this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){n.refresh(t);u(t);h(t);this.activity=!1;this.startDrag()},onHandleTouchStart:function(t){n.refresh(t);h(t);this.activity=!1;this.startDrag()},onDocumentMouseMove:function(t){(t.clientX-this.dragStartPosition.x!=0||t.clientY-this.dragStartPosition.y!=0)&&(n.refresh(t),this.dragging&&(this.activity=!0,u(t)))},onWrapperTouchMove:function(t){if(n.refresh(t),!this.activity&&this.draggingOnDisabledAxis()){this.dragging&&this.stopDrag();return}u(t);this.activity=!0},onWrapperMouseDown:function(t){n.refresh(t);u(t);this.startTap()},onWrapperTouchStart:function(t){n.refresh(t);u(t);this.startTap()},onDocumentMouseUp:function(){this.stopDrag();this.stopTap()},onDocumentTouchEnd:function(){this.stopDrag();this.stopTap()},onHandleClick:function(n){this.activity&&(u(n),h(n))},onWindowResize:function(){this.reflow()},enable:function(){this.disabled=!1;this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0;this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset();this.bounds=this.calculateBounds();this.valuePrecision=this.calculateValuePrecision();this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return Math.abs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(n,t,i){this.setValue(this.options.steps&&n>1?(n-1)/(this.options.steps-1):0,this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,i)},setValue:function(n,t,i){this.setTargetValue([n,t||0]);i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([n.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,n.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:n.x,y:n.y},this.offset.mouse=[n.x-c.get(this.handle)[0],n.y-c.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){var i;if(!this.disabled&&this.dragging){this.dragging=!1;var r=this.bounds.availWidth===0?0:(n.x-this.dragStartPosition.x)/this.bounds.availWidth,u=this.bounds.availHeight===0?0:(n.y-this.dragStartPosition.y)/this.bounds.availHeight,f=[r,u],t=this.groupClone(this.value.current);this.options.slide&&(i=this.change,t[0]+=i[0]*4,t[1]+=i[1]*4);this.setTargetValue(t);this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,"");this.callDragStopCallback(f)}},callAnimationCallback:function(){var n=this.value.current;this.options.snap&&this.options.steps>1&&(n=this.getClosestSteps(n));this.groupCompare(n,this.value.prev)||(typeof this.options.animationCallback=="function"&&this.options.animationCallback.call(this,n[0],n[1]),this.groupCopy(this.value.prev,n))},callTargetCallback:function(){typeof this.options.callback=="function"&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){typeof this.options.dragStartCallback=="function"&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(n){typeof this.options.dragStopCallback=="function"&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],n)},animateWithRequestAnimationFrame:function(n){n?(this.timeOffset=this.timeStamp?n-this.timeStamp:0,this.timeStamp=n):this.timeOffset=25;this.animate();this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,i){if(!t||this.dragging){if(this.dragging){var r=this.groupClone(this.value.target),u=[n.x-this.offset.wrapper[0]-this.offset.mouse[0],n.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(u,this.options.loose);this.change=[this.value.target[0]-r[0],this.value.target[1]-r[1]]}(this.dragging||i)&&this.groupCopy(this.value.current,this.value.target);(this.dragging||this.glide()||i)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var n=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return!n[0]&&!n[1]?!1:(Math.abs(n[0])>this.valuePrecision[0]||Math.abs(n[1])>this.valuePrecision[1]?(this.value.current[0]+=n[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=n[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0)},updateOffsetFromValue:function(){this.offset.current=this.options.snap?this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.getOffsetsByRatios(this.value.current);this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var n="";if(this.options.css3&&f.transform){this.options.horizontal&&(n+="translateX("+this.offset.current[0]+"px)");this.options.vertical&&(n+=" translateY("+this.offset.current[1]+"px)");this.handle.style[f.transform]=n;return}this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px");this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")},setTargetValue:function(n,t){var i=t?this.getLooseValue(n):this.getProperValue(n);this.groupCopy(this.value.target,i);this.offset.target=this.getOffsetsByRatios(i);this.callTargetCallback()},setTargetValueByOffset:function(n,t){var i=this.getRatiosByOffsets(n),r=t?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,r);this.offset.target=this.getOffsetsByRatios(r)},getLooseValue:function(n){var t=this.getProperValue(n);return[t[0]+(n[0]-t[0])/4,t[1]+(n[1]-t[1])/4]},getProperValue:function(n){var t=this.groupClone(n);return t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0),t[0]=Math.min(t[0],1),t[1]=Math.min(t[1],1),(this.dragging||this.tapping)&&!this.options.snap||this.options.steps>1&&(t=this.getClosestSteps(t)),t},getRatiosByOffsets:function(n){return[this.getRatioByOffset(n[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(n[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(n,t,i){return t?(n-i)/t:0},getOffsetsByRatios:function(n){return[this.getOffsetByRatio(n[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(n[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(n,t,i){return Math.round(n*t)+i},getStepNumber:function(n){return this.getClosestStep(n)*(this.options.steps-1)+1},getClosestSteps:function(n){return[this.getClosestStep(n[0]),this.getClosestStep(n[1])]},getClosestStep:function(n){for(var i=0,r=1,t=0;t<=this.options.steps-1;t++)Math.abs(this.stepRatios[t]-n)<r&&(r=Math.abs(this.stepRatios[t]-n),i=t);return this.stepRatios[i]},groupCompare:function(n,t){return n[0]==t[0]&&n[1]==t[1]},groupCopy:function(n,t){n[0]=t[0];n[1]=t[1]},groupClone:function(n){return[n[0],n[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&n.xDiff>n.yDiff||!this.options.vertical&&n.yDiff>n.xDiff}};var t=function(n,t){return function(){return n.apply(t,arguments)}},i=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},r=function(n,t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.detachEvent&&n.detachEvent("on"+t,i)},u=function(n){n||(n=window.event);n.preventDefault&&n.preventDefault();n.returnValue=!1},h=function(n){n||(n=window.event);n.stopPropagation&&n.stopPropagation();n.cancelBubble=!0},n={x:0,y:0,xDiff:0,yDiff:0,refresh:function(n){n||(n=window.event);n.type=="mousemove"?this.set(n):n.touches&&this.set(n.touches[0])},set:function(n){var t=this.x,i=this.y;n.clientX||n.clientY?(this.x=n.clientX,this.y=n.clientY):(n.pageX||n.pageY)&&(this.x=n.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=n.pageY-document.body.scrollTop-document.documentElement.scrollTop);this.xDiff=Math.abs(this.x-t);this.yDiff=Math.abs(this.y-i)}},c={get:function(n){var t={left:0,top:0};return n.getBoundingClientRect!==undefined&&(t=n.getBoundingClientRect()),[t.left,t.top]}},f={transform:l("transform"),perspective:l("perspective"),backfaceVisibility:l("backfaceVisibility")};var s=["webkit","moz"],o=window.requestAnimationFrame,a=window.cancelAnimationFrame;for(e=0;e<s.length&&!o;++e)o=window[s[e]+"RequestAnimationFrame"],a=window[s[e]+"CancelAnimationFrame"]||window[s[e]+"CancelRequestAnimationFrame"];return o||(o=function(n){return setTimeout(n,25)},a=clearTimeout),v});define("pluggins/jquery-private",[],function(){return jQuery}),function(n){function y(t,i){var y=n.extend({},n.fn.countdowntimer.defaults,i),t=t,nt,w;t.addClass("style");var b="",k="",d="",g="";if(b=y.size,k=y.borderColor,d=y.fontColor,g=y.backgroundColor,i.regexpMatchFormat!=undefined&&i.regexpReplaceWith!=undefined&&i.timeSeparator==undefined&&(window["regexpMatchFormat_"+t.attr("id")]=i.regexpMatchFormat,window["regexpReplaceWith_"+t.attr("id")]=i.regexpReplaceWith),i.borderColor!=undefined||i.fontColor!=undefined||i.backgroundColor!=undefined?(nt={background:g,color:d,"border-color":k},t.css(nt)):t.addClass("colorDefinition"),i.size!=undefined)switch(b){case"xl":t.addClass("size_xl");break;case"lg":t.addClass("size_lg");break;case"md":t.addClass("size_md");break;case"sm":t.addClass("size_sm");break;case"xs":t.addClass("size_xs")}else b=="sm"&&t.addClass("size_sm");if(i.startDate==undefined&&i.dateAndTime==undefined&&i.currentTime==undefined&&(i.hours!=undefined||i.minutes!=undefined||i.seconds!=undefined))i.hours!=undefined&&i.minutes==undefined&&i.seconds==undefined?(hours_H="",minutes_H="",seconds_H="",timer_H="",window["hours_H"+t.attr("id")]=y.hours,window["minutes_H"+t.attr("id")]=y.minutes,window["seconds_H"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"H",y,f),i.stopButton!=undefined&&u(t,"H",y,f),f(t,y),window["timer_H"+t.attr("id")]=setInterval(function(){f(t,y)},y.tickInterval*1e3)):i.hours==undefined&&i.minutes!=undefined&&i.seconds==undefined?(hours_M="",minutes_M="",seconds_M="",timer_M="",window["hours_M"+t.attr("id")]=y.hours,window["minutes_M"+t.attr("id")]=y.minutes,window["seconds_M"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"M",y,e),i.stopButton!=undefined&&u(t,"M",y,e),e(t,y),window["timer_M"+t.attr("id")]=setInterval(function(){e(t,y)},y.tickInterval*1e3)):i.hours==undefined&&i.minutes==undefined&&i.seconds!=undefined?(hours_S="",minutes_S="",seconds_S="",timer_S="",window["hours_S"+t.attr("id")]=y.hours,window["minutes_S"+t.attr("id")]=y.minutes,window["seconds_S"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"S",y,o),i.stopButton!=undefined&&u(t,"S",y,o),o(t,y),window["timer_S"+t.attr("id")]=setInterval(function(){o(t,y)},y.tickInterval*1e3)):i.hours!=undefined&&i.minutes!=undefined&&i.seconds==undefined?(hours_HM="",minutes_HM="",seconds_HM="",timer_HM="",window["hours_HM"+t.attr("id")]=y.hours,window["minutes_HM"+t.attr("id")]=y.minutes,window["seconds_HM"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"HM",y,s),i.stopButton!=undefined&&u(t,"HM",y,s),s(t,y),window["timer_HM"+t.attr("id")]=setInterval(function(){s(t,y)},y.tickInterval*1e3)):i.hours==undefined&&i.minutes!=undefined&&i.seconds!=undefined?(hours_MS="",minutes_MS="",seconds_MS="",timer_MS="",window["hours_MS"+t.attr("id")]=y.hours,window["minutes_MS"+t.attr("id")]=y.minutes,window["seconds_MS"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"MS",y,h),i.stopButton!=undefined&&u(t,"MS",y,h),h(t,y),window["timer_MS"+t.attr("id")]=setInterval(function(){h(t,y)},y.tickInterval*1e3)):i.hours!=undefined&&i.minutes==undefined&&i.seconds!=undefined?(hours_HS="",minutes_HS="",seconds_HS="",timer_HS="",window["hours_HS"+t.attr("id")]=y.hours,window["minutes_HS"+t.attr("id")]=y.minutes,window["seconds_HS"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"HS",y,c),i.stopButton!=undefined&&u(t,"HS",y,c),c(t,y),window["timer_HS"+t.attr("id")]=setInterval(function(){c(t,y)},y.tickInterval*1e3)):i.hours!=undefined&&i.minutes!=undefined&&i.seconds!=undefined&&(hours_HMS="",minutes_HMS="",seconds_HMS="",timer_HMS="",window["hours_HMS"+t.attr("id")]=y.hours,window["minutes_HMS"+t.attr("id")]=y.minutes,window["seconds_HMS"+t.attr("id")]=y.seconds,i.pauseButton!=undefined&&r(t,"HMS",y,l),i.stopButton!=undefined&&u(t,"HMS",y,l),l(t,y),window["timer_HMS"+t.attr("id")]=setInterval(function(){l(t,y)},y.tickInterval*1e3));else if(i.startDate!=undefined&&i.dateAndTime!=undefined&&i.currentTime==undefined)startDate="",endDate="",timer_startDate="",window["startDate"+t.attr("id")]=new Date(y.startDate),window["endDate"+t.attr("id")]=new Date(y.dateAndTime),w="withStart",a(t,y,w),window["timer_startDate"+t.attr("id")]=setInterval(function(){a(t,y,w)},y.tickInterval*1e3);else if(i.startDate==undefined&&i.dateAndTime!=undefined&&i.currentTime==undefined){startTime="";dateTime="";timer_givenDate="";var tt=y.startDate.getHours()<10?"0"+y.startDate.getHours():y.startDate.getHours(),it=y.startDate.getMinutes()<10?"0"+y.startDate.getMinutes():y.startDate.getMinutes(),rt=y.startDate.getSeconds()<10?"0"+y.startDate.getSeconds():y.startDate.getSeconds(),ut=y.startDate.getMonth()+1<10?"0"+(y.startDate.getMonth()+1):y.startDate.getMonth()+1,ft=y.startDate.getDate()<10?"0"+y.startDate.getDate():y.startDate.getDate(),et=y.startDate.getFullYear();window["startTime"+t.attr("id")]=new Date(et+"/"+ut+"/"+ft+" "+tt+":"+it+":"+rt);window["dateTime"+t.attr("id")]=new Date(y.dateAndTime);w="withnoStart";a(t,y,w);window["timer_givenDate"+t.attr("id")]=setInterval(function(){a(t,y,w)},y.tickInterval*1e3)}else i.currentTime!=undefined?(currentTime="",timer_currentDate="",window["currentTime"+t.attr("id")]=y.currentTime,v(t,y),window["timer_currentDate"+t.attr("id")]=setInterval(function(){v(t,y)},y.tickInterval*1e3)):(countSeconds="",timer_secondsTimer="",window["countSeconds"+t.attr("id")]=y.seconds,window["timer_secondsTimer"+t.attr("id")]=setInterval(function(){p(t)},1e3))}function f(n,r){var u=n.attr("id");window["minutes_H"+u]==r.minutes&&window["seconds_H"+u]==r.seconds&&window["hours_H"+u]==r.hours?(window["hours_H"+u].toString().length<2&&(window["hours_H"+u]="0"+window["hours_H"+u]),t(n,window["hours_H"+u]+r.timeSeparator+"00"+r.timeSeparator+"00"),window["seconds_H"+u]=60-r.tickInterval,window["minutes_H"+u]=59,window["hours_H"+u]!=0?window["hours_H"+u]--:(delete window["hours_H"+u],delete window["minutes_H"+u],delete window["seconds_H"+u],clearInterval(window["timer_H"+u]),i(n,r))):(window["hours_H"+u].toString().length<2&&(window["hours_H"+u]="0"+window["hours_H"+u]),window["minutes_H"+u].toString().length<2&&(window["minutes_H"+u]="0"+window["minutes_H"+u]),window["seconds_H"+u].toString().length<2&&(window["seconds_H"+u]="0"+window["seconds_H"+u]),t(n,window["hours_H"+u]+r.timeSeparator+window["minutes_H"+u]+r.timeSeparator+window["seconds_H"+u]),window["seconds_H"+u]-=r.tickInterval,window["minutes_H"+u]!=0&&window["seconds_H"+u]<0&&(window["minutes_H"+u]--,window["seconds_H"+u]=60-r.tickInterval),window["minutes_H"+u]==0&&window["seconds_H"+u]<0&&window["hours_H"+u]!=0&&(window["hours_H"+u]--,window["minutes_H"+u]=59,window["seconds_H"+u]=60-r.tickInterval),window["minutes_H"+u]==0&&window["seconds_H"+u]<0&&window["hours_H"+u]==0&&(delete window["hours_H"+u],delete window["minutes_H"+u],delete window["seconds_H"+u],clearInterval(window["timer_H"+u]),i(n,r)));u=null}function e(n,r){var u=n.attr("id");window["minutes_M"+u]==r.minutes&&window["seconds_M"+u]==r.seconds?(window["minutes_M"+u].toString().length<2&&(window["minutes_M"+u]="0"+window["minutes_M"+u]),t(n,window["minutes_M"+u]+r.timeSeparator+"00"),window["seconds_M"+u]=60-r.tickInterval,window["minutes_M"+u]!=0?window["minutes_M"+u]--:(delete window["hours_M"+u],delete window["minutes_M"+u],delete window["seconds_M"+u],clearInterval(window["timer_M"+u]),i(n,r))):(window["minutes_M"+u].toString().length<2&&(window["minutes_M"+u]="0"+window["minutes_M"+u]),window["seconds_M"+u].toString().length<2&&(window["seconds_M"+u]="0"+window["seconds_M"+u]),t(n,window["minutes_M"+u]+r.timeSeparator+window["seconds_M"+u]),window["seconds_M"+u]-=r.tickInterval,window["minutes_M"+u]!=0&&window["seconds_M"+u]<0&&(window["minutes_M"+u]--,window["seconds_M"+u]=60-r.tickInterval),window["minutes_M"+u]==0&&window["seconds_M"+u]<0&&(delete window["hours_M"+u],delete window["minutes_M"+u],delete window["seconds_M"+u],clearInterval(window["timer_M"+u]),i(n,r)));u=null}function o(n,r){var u=n.attr("id");window["seconds_S"+u].toString().length<2&&(window["seconds_S"+u]="0"+window["seconds_S"+u]);t(n,window["seconds_S"+u]+" sec");window["seconds_S"+u]-=r.tickInterval;window["seconds_S"+u]<0&&(delete window["hours_S"+u],delete window["minutes_S"+u],delete window["seconds_S"+u],clearInterval(window["timer_S"+u]),i(n,r));u=null}function s(n,r){var u=n.attr("id");window["minutes_HM"+u]==r.minutes&&window["hours_HM"+u]==r.hours?(window["hours_HM"+u].toString().length<2&&(window["hours_HM"+u]="0"+window["hours_HM"+u]),window["minutes_HM"+u].toString().length<2&&(window["minutes_HM"+u]="0"+window["minutes_HM"+u]),t(n,window["hours_HM"+u]+r.timeSeparator+window["minutes_HM"+u]+r.timeSeparator+"00"),window["hours_HM"+u]!=0&&window["minutes_HM"+u]==0?(window["hours_HM"+u]--,window["minutes_HM"+u]=59,window["seconds_HM"+u]=60-r.tickInterval):window["hours_HM"+u]==0&&window["minutes_HM"+u]!=0?(window["seconds_HM"+u]=60-r.tickInterval,window["minutes_HM"+u]--):(window["seconds_HM"+u]=60-r.tickInterval,window["minutes_HM"+u]--),window["hours_HM"+u]==0&&window["minutes_HM"+u]==0&&window["seconds_HM"+u]==60&&(delete window["hours_HM"+u],delete window["minutes_HM"+u],delete window["seconds_HM"+u],clearInterval(window["timer_HM"+u]),i(n,r))):(window["hours_HM"+u].toString().length<2&&(window["hours_HM"+u]="0"+window["hours_HM"+u]),window["minutes_HM"+u].toString().length<2&&(window["minutes_HM"+u]="0"+window["minutes_HM"+u]),window["seconds_HM"+u].toString().length<2&&(window["seconds_HM"+u]="0"+window["seconds_HM"+u]),t(n,window["hours_HM"+u]+r.timeSeparator+window["minutes_HM"+u]+r.timeSeparator+window["seconds_HM"+u]),window["seconds_HM"+u]-=r.tickInterval,window["minutes_HM"+u]!=0&&window["seconds_HM"+u]<0&&(window["minutes_HM"+u]--,window["seconds_HM"+u]=60-r.tickInterval),window["minutes_HM"+u]==0&&window["seconds_HM"+u]<0&&window["hours_HM"+u]!=0&&(window["hours_HM"+u]--,window["minutes_HM"+u]=59,window["seconds_HM"+u]=60-r.tickInterval),window["minutes_HM"+u]==0&&window["seconds_HM"+u]<0&&window["hours_HM"+u]==0&&(delete window["hours_HM"+u],delete window["minutes_HM"+u],delete window["seconds_HM"+u],clearInterval(window["timer_HM"+u]),i(n,r)));u=null}function h(n,r){var u=n.attr("id");window["minutes_MS"+u]==r.minutes&&window["seconds_MS"+u]==r.seconds?(window["minutes_MS"+u].toString().length<2&&(window["minutes_MS"+u]="0"+window["minutes_MS"+u]),window["seconds_MS"+u].toString().length<2&&(window["seconds_MS"+u]="0"+window["seconds_MS"+u]),t(n,window["minutes_MS"+u]+r.timeSeparator+window["seconds_MS"+u]),window["minutes_MS"+u]!=0&&window["seconds_MS"+u]==0?(window["minutes_MS"+u]--,window["seconds_MS"+u]=60-r.tickInterval):window["minutes_MS"+u]==0&&window["seconds_MS"+u]==0?(delete window["hours_MS"+u],delete window["minutes_MS"+u],delete window["seconds_MS"+u],clearInterval(window["timer_MS"+u]),i(n,r)):window["seconds_MS"+u]-=r.tickInterval):(window["minutes_MS"+u].toString().length<2&&(window["minutes_MS"+u]="0"+window["minutes_MS"+u]),window["seconds_MS"+u].toString().length<2&&(window["seconds_MS"+u]="0"+window["seconds_MS"+u]),t(n,window["minutes_MS"+u]+r.timeSeparator+window["seconds_MS"+u]),window["seconds_MS"+u]-=r.tickInterval,window["minutes_MS"+u]!=0&&window["seconds_MS"+u]<0&&(window["minutes_MS"+u]--,window["seconds_MS"+u]=60-r.tickInterval),window["minutes_MS"+u]==0&&window["seconds_MS"+u]<0&&(delete window["hours_MS"+u],delete window["minutes_MS"+u],delete window["seconds_MS"+u],clearInterval(window["timer_MS"+u]),i(n,r)));u=null}function c(n,r){var u=n.attr("id");window["seconds_HS"+u]==r.seconds&&window["hours_HS"+u]==r.hours?(window["hours_HS"+u].toString().length<2&&(window["hours_HS"+u]="0"+window["hours_HS"+u]),window["seconds_HS"+u].toString().length<2&&(window["seconds_HS"+u]="0"+window["seconds_HS"+u]),t(n,window["hours_HS"+u]+r.timeSeparator+"00"+r.timeSeparator+window["seconds_HS"+u]),window["hours_HS"+u]==0&&window["seconds_HS"+u]==0?(delete window["hours_HS"+u],delete window["minutes_HS"+u],delete window["seconds_HS"+u],clearInterval(window["timer_HS"+u]),i(n,r)):window["hours_HS"+u]!=0&&window["seconds_HS"+u]==0?(window["hours_HS"+u]--,window["minutes_HS"+u]=59,window["seconds_HS"+u]=60-r.tickInterval):window["seconds_HS"+u]-=r.tickInterval):(window["hours_HS"+u].toString().length<2&&(window["hours_HS"+u]="0"+window["hours_HS"+u]),window["minutes_HS"+u].toString().length<2&&(window["minutes_HS"+u]="0"+window["minutes_HS"+u]),window["seconds_HS"+u].toString().length<2&&(window["seconds_HS"+u]="0"+window["seconds_HS"+u]),t(n,window["hours_HS"+u]+r.timeSeparator+window["minutes_HS"+u]+r.timeSeparator+window["seconds_HS"+u]),window["seconds_HS"+u]-=r.tickInterval,window["minutes_HS"+u]!=0&&window["seconds_HS"+u]<0&&(window["minutes_HS"+u]--,window["seconds_HS"+u]=60-r.tickInterval),window["minutes_HS"+u]==0&&window["seconds_HS"+u]<0&&window["hours_HS"+u]!=0&&(window["hours_HS"+u]--,window["minutes_HS"+u]=59,window["seconds_HS"+u]=60-r.tickInterval),window["minutes_HS"+u]==0&&window["seconds_HS"+u]<0&&window["hours_HS"+u]==0&&(delete window["hours_HS"+u],delete window["minutes_HS"+u],delete window["seconds_HS"+u],clearInterval(window["timer_HS"+u]),i(n,r)));u=null}function l(n,r){var u=n.attr("id");window["minutes_HMS"+u]==r.minutes&&window["seconds_HMS"+u]==r.seconds&&window["hours_HMS"+u]==r.hours?(window["hours_HMS"+u].toString().length<2&&(window["hours_HMS"+u]="0"+window["hours_HMS"+u]),window["minutes_HMS"+u].toString().length<2&&(window["minutes_HMS"+u]="0"+window["minutes_HMS"+u]),window["seconds_HMS"+u].toString().length<2&&(window["seconds_HMS"+u]="0"+window["seconds_HMS"+u]),t(n,window["hours_HMS"+u]+r.timeSeparator+window["minutes_HMS"+u]+r.timeSeparator+window["seconds_HMS"+u]),window["hours_HMS"+u]==0&&window["minutes_HMS"+u]==0&&window["seconds_HMS"+u]==0?(delete window["hours_HMS"+u],delete window["minutes_HMS"+u],delete window["seconds_HMS"+u],clearInterval(window["timer_HMS"+u]),i(n,r)):window["hours_HMS"+u]!=0&&window["minutes_HMS"+u]==0&&window["seconds_HMS"+u]==0?(window["hours_HMS"+u]--,window["minutes_HMS"+u]=59,window["seconds_HMS"+u]=60-r.tickInterval):window["hours_HMS"+u]==0&&window["minutes_HMS"+u]!=0&&window["seconds_HMS"+u]==0?(window["minutes_HMS"+u]--,window["seconds_HMS"+u]=60-r.tickInterval):window["hours_HMS"+u]!=0&&window["minutes_HMS"+u]!=0&&window["seconds_HMS"+u]==0?(window["minutes_HMS"+u]--,window["seconds_HMS"+u]=60-r.tickInterval):window["seconds_HMS"+u]-=r.tickInterval):(window["hours_HMS"+u].toString().length<2&&(window["hours_HMS"+u]="0"+window["hours_HMS"+u]),window["minutes_HMS"+u].toString().length<2&&(window["minutes_HMS"+u]="0"+window["minutes_HMS"+u]),window["seconds_HMS"+u].toString().length<2&&(window["seconds_HMS"+u]="0"+window["seconds_HMS"+u]),t(n,window["hours_HMS"+u]+r.timeSeparator+window["minutes_HMS"+u]+r.timeSeparator+window["seconds_HMS"+u]),window["seconds_HMS"+u]-=r.tickInterval,window["minutes_HMS"+u]!=0&&window["seconds_HMS"+u]<0&&(window["minutes_HMS"+u]--,window["seconds_HMS"+u]=60-r.tickInterval),window["minutes_HMS"+u]==0&&window["seconds_HMS"+u]<0&&window["hours_HMS"+u]!=0&&(window["hours_HMS"+u]--,window["minutes_HMS"+u]=59,window["seconds_HMS"+u]=60-r.tickInterval),window["minutes_HMS"+u]==0&&window["seconds_HMS"+u]<0&&window["hours_HMS"+u]==0&&(delete window["hours_HMS"+u],delete window["minutes_HMS"+u],delete window["seconds_HMS"+u],clearInterval(window["timer_HMS"+u]),i(n,r)));u=null}function a(n,r,u){var f=n.attr("id"),e=u=="withnoStart"?window["dateTime"+f]:window["endDate"+f],o=u=="withnoStart"?window["startTime"+f]:window["startDate"+f],s=Math.floor((e-o)/864e5),h=Math.floor((e-o)%864e5/36e5),c=Math.floor((e-o)%864e5/6e4)%60,l=Math.floor((e-o)%864e5/1e3)%60%60;e-o>0?(s.toString().length<2&&(s="0"+s),h.toString().length<2&&(h="0"+h),c.toString().length<2&&(c="0"+c),l.toString().length<2&&(l="0"+l),t(n,s+r.timeSeparator+h+r.timeSeparator+c+r.timeSeparator+l),u=="withnoStart"?window["startTime"+f].setSeconds(window["startTime"+f].getSeconds()+r.tickInterval):window["startDate"+f].setSeconds(window["startDate"+f].getSeconds()+r.tickInterval)):(t(n,"00"+r.timeSeparator+"00"+r.timeSeparator+"00"+r.timeSeparator+"00"),u=="withnoStart"?(delete window["dateTime"+f],delete window["startTime"+f],clearInterval(window["timer_givenDate"+f])):u=="withStart"&&(delete window["startDate"+f],delete window["endDate"+f],clearInterval(window["timer_startDate"+f])),i(n,r));f=null}function v(n,i){if(window["currentTime"+n.attr("id")]==!0){var e=new Date,r=e.getHours(),u=e.getMinutes(),f=e.getSeconds();r.toString().length<2&&(r="0"+r);u.toString().length<2&&(u="0"+u);f.toString().length<2&&(f="0"+f);t(n,r+i.timeSeparator+u+i.timeSeparator+f)}else alert("Set Current Time option.")}function p(n){var i=n.attr("id");window["countSeconds"+i].toString().length<2&&(window["countSeconds"+i]="0"+window["countSeconds"+i]);t(n,window["countSeconds"+i]+" sec");window["countSeconds"+i]--;window["countSeconds"+i]==-1&&(delete window["countSeconds"+i],clearInterval(window["timer_secondsTimer"+i]));i=null}function i(t,i){i.timeUp!=null&&n.isFunction(i.timeUp)==!0&&i.timeUp.apply(t,[]);i.expiryUrl!=null&&(window.location=i.expiryUrl)}function t(n,t){var i=t,r;typeof window["regexpMatchFormat_"+n.attr("id")]!="undefined"&&typeof window["regexpReplaceWith_"+n.attr("id")]!="undefined"&&(r=new RegExp(window["regexpMatchFormat_"+n.attr("id")]),i=t.replace(r,window["regexpReplaceWith_"+n.attr("id")]));n.html(i)}function r(t,i,r,u){n("#"+r.pauseButton).click(function(){n(this).val()!="resume"?(n("#"+r.pauseButton).val("resume").text("Resume"),clearInterval(window["timer_"+i+t.attr("id")])):n(this).val()=="resume"&&(n("#"+r.pauseButton).val("pause").text("Pause"),window["timer_"+i+t.attr("id")]=setInterval(function(){u(t,r)},r.tickInterval*1e3))})}function u(t,i,r,u){n("#"+r.stopButton).click(function(){n(this).val()!="start"?(n("#"+r.stopButton).val("start").text("Start"),clearInterval(window["timer_"+i+t.attr("id")]),window["hours_"+i+t.attr("id")]=r.hours,window["minutes_"+i+t.attr("id")]=r.minutes,window["seconds_"+i+t.attr("id")]=r.seconds,u(t,r)):n(this).val()=="start"&&(n("#"+r.stopButton).val("stop").text("Stop"),window["timer_"+i+t.attr("id")]=setInterval(function(){u(t,r)},r.tickInterval*1e3))})}n.fn.countdowntimer=function(t){return this.each(function(){y(n(this),t)})};n.fn.countdowntimer.defaults={hours:0,minutes:0,seconds:60,startDate:new Date,dateAndTime:new Date("0000/00/00 00:00:00"),currentTime:!1,size:"sm",borderColor:"#F0068E",fontColor:"#FFFFFF",backgroundColor:"#000000",timeSeparator:":",tickInterval:1,timeUp:null,expiryUrl:null,regexpMatchFormat:null,regexpReplaceWith:null,pauseButton:null,stopButton:null}}(jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(n){"use strict";typeof define=="function"&&define.amd?define("pluggins/jquery.form",["jquery"],n):n(typeof jQuery!="undefined"?jQuery:window.Zepto)})(function(n){"use strict";function u(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).ajaxSubmit(i))}function f(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),f.length===0)return;r=f[0]}i=this;i.clk=r;r.type=="image"&&(t.offsetX!==undefined?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var i={},r;i.fileapi=n("<input type='file'/>").get(0).files!==undefined;i.formdata=window.FormData!==undefined;r=!!n.fn.prop;n.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||typeof n=="string"?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(u){function ot(t){for(var r=n.param(t,u.traditional).split("&"),o=r.length,e=[],f,i=0;i<o;i++)r[i]=r[i].replace(/\+/g," "),f=r[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function st(t){for(var f,r,s,o=new FormData,i=0;i<t.length;i++)o.append(t[i].name,t[i].value);if(u.extraData)for(f=ot(u.extraData),i=0;i<f.length;i++)f[i]&&o.append(f[i][0],f[i][1]);return u.data=null,r=n.extend(!0,{},n.ajaxSettings,u,{contentType:!1,processData:!1,cache:!1,type:e||"POST"}),u.uploadProgress&&(r.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,r=n.total;n.lengthComputable&&(t=Math.ceil(i/r*100));u.uploadProgress(n,i,r,t)},!1),t}),r.data=null,s=r.beforeSend,r.beforeSend=function(n,t){t.data=u.formData?u.formData:o;s&&s.call(this,n,t)},n.ajax(r)}function ft(i){function ot(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function st(){function h(){try{var n=ot(a).readyState;t("state = "+n);n&&n.toLowerCase()=="uninitialized"&&setTimeout(h,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(tt);g&&clearTimeout(g);g=undefined}}var u=f.attr2("target"),s=f.attr2("action"),y=f.attr("enctype")||f.attr("encoding")||"multipart/form-data",r,i,c;l.setAttribute("target",d);(!e||/post/i.test(e))&&l.setAttribute("method","POST");s!=o.url&&l.setAttribute("action",o.url);o.skipEncodingOverride||e&&!/post/i.test(e)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});o.timeout&&(g=setTimeout(function(){rt=!0;b(ut)},o.timeout));r=[];try{if(o.extraData)for(i in o.extraData)o.extraData.hasOwnProperty(i)&&(n.isPlainObject(o.extraData[i])&&o.extraData[i].hasOwnProperty("name")&&o.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+o.extraData[i].name+'">').val(o.extraData[i].value).appendTo(l)[0]):r.push(n('<input type="hidden" name="'+i+'">').val(o.extraData[i]).appendTo(l)[0]));o.iframeTarget||v.appendTo("body");a.attachEvent?a.attachEvent("onload",b):a.addEventListener("load",b,!1);setTimeout(h,15);try{l.submit()}catch(p){c=document.createElement("form").submit;c.apply(l)}}finally{l.setAttribute("action",s);l.setAttribute("enctype",y);u?l.setAttribute("target",u):f.removeAttr("target");n(r).remove()}}function b(i){var r,u,w,f,k,d,e,c,l;if(!s.aborted&&!lt){if(h=ot(a),h||(t("cannot access response document"),i=tt),i===ut&&s){s.abort("timeout");y.reject(s,"timeout");return}if(i==tt&&s){s.abort("server abort");y.reject(s,"error","server abort");return}if(h&&h.location.href!=o.iframeSrc||rt){a.detachEvent?a.detachEvent("onload",b):a.removeEventListener("load",b,!1);r="success";try{if(rt)throw"timeout";if(w=o.dataType=="xml"||h.XMLDocument||n.isXMLDoc(h),t("isXml="+w),!w&&window.opera&&(h.body===null||!h.body.innerHTML)&&--ct){t("requeing onLoad callback, DOM not available");setTimeout(b,250);return}f=h.body?h.body:h.documentElement;s.responseText=f?f.innerHTML:null;s.responseXML=h.XMLDocument?h.XMLDocument:h;w&&(o.dataType="xml");s.getResponseHeader=function(n){var t={"content-type":o.dataType};return t[n.toLowerCase()]};f&&(s.status=Number(f.getAttribute("status"))||s.status,s.statusText=f.getAttribute("statusText")||s.statusText);k=(o.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||o.textarea?(e=h.getElementsByTagName("textarea")[0],e?(s.responseText=e.value,s.status=Number(e.getAttribute("status"))||s.status,s.statusText=e.getAttribute("statusText")||s.statusText):d&&(c=h.getElementsByTagName("pre")[0],l=h.getElementsByTagName("body")[0],c?s.responseText=c.textContent?c.textContent:c.innerText:l&&(s.responseText=l.textContent?l.textContent:l.innerText))):k=="xml"&&!s.responseXML&&s.responseText&&(s.responseXML=at(s.responseText));try{ht=yt(s,k,o)}catch(nt){r="parsererror";s.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";s.error=u=nt||r}s.aborted&&(t("upload aborted"),r=null);s.status&&(r=s.status>=200&&s.status<300||s.status===304?"success":"error");r==="success"?(o.success&&o.success.call(o.context,ht,"success",s),y.resolve(s.responseText,"success",s),p&&n.event.trigger("ajaxSuccess",[s,o])):r&&(u===undefined&&(u=s.statusText),o.error&&o.error.call(o.context,s,r,u),y.reject(s,"error",u),p&&n.event.trigger("ajaxError",[s,o,u]));p&&n.event.trigger("ajaxComplete",[s,o]);p&&!--n.active&&n.event.trigger("ajaxStop");o.complete&&o.complete.call(o.context,s,r);lt=!0;o.timeout&&clearTimeout(g);setTimeout(function(){o.iframeTarget?v.attr("src",o.iframeSrc):v.remove();s.responseXML=null},100)}}}var l=f[0],it,nt,o,p,d,v,a,s,k,w,rt,g,y=n.Deferred(),ut,tt,ft,et,ht,h,ct,lt;if(y.abort=function(n){s.abort(n)},i)for(nt=0;nt<c.length;nt++)it=n(c[nt]),r?it.prop("disabled",!1):it.removeAttr("disabled");if(o=n.extend(!0,{},n.ajaxSettings,u),o.context=o.context||o,d="jqFormIO"+(new Date).getTime(),o.iframeTarget?(v=n(o.iframeTarget),w=v.attr2("name"),w?d=w:v.attr2("name",d)):(v=n('<iframe name="'+d+'" src="'+o.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),a=v[0],s={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{a.contentWindow.document.execCommand&&a.contentWindow.document.execCommand("Stop")}catch(u){}v.attr("src",o.iframeSrc);s.error=r;o.error&&o.error.call(o.context,s,r,i);p&&n.event.trigger("ajaxError",[s,o,r]);o.complete&&o.complete.call(o.context,s,r)}},p=o.global,p&&0==n.active++&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[s,o]),o.beforeSend&&o.beforeSend.call(o.context,s,o)===!1)return o.global&&n.active--,y.reject(),y;if(s.aborted)return y.reject(),y;k=l.clk;k&&(w=k.name,w&&!k.disabled&&(o.extraData=o.extraData||{},o.extraData[w]=k.value,k.type=="image"&&(o.extraData[w+".x"]=l.clk_x,o.extraData[w+".y"]=l.clk_y)));ut=1;tt=2;ft=n("meta[name=csrf-token]").attr("content");et=n("meta[name=csrf-param]").attr("content");et&&ft&&(o.extraData=o.extraData||{},o.extraData[et]=ft);o.forceSync?st():setTimeout(st,10);ct=50;var at=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null},vt=n.parseJSON||function(n){return window.eval("("+n+")")},yt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=i==="xml"||!i&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&(i==="json"||!i&&f.indexOf("json")>=0?u=vt(u):(i==="script"||!i&&f.indexOf("javascript")>=0)&&n.globalEval(u)),u};return y}var e,b,o,f,a,v,c,y,s,l,h,d,g,nt,ut,p,w;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(f=this,typeof u=="function"?u={success:u}:u===undefined&&(u={}),e=u.type||this.attr2("method"),b=u.url||this.attr2("action"),o=typeof b=="string"?n.trim(b):"",o=o||window.location.href||"",o&&(o=(o.match(/^([^#]+)/)||[])[1]),u=n.extend(!0,{url:o,success:n.ajaxSettings.success,type:e||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u),a={},this.trigger("form-pre-serialize",[this,u,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(u.beforeSerialize&&u.beforeSerialize(this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(v=u.traditional,v===undefined&&(v=n.ajaxSettings.traditional),c=[],s=this.formToArray(u.semantic,c),u.data&&(u.extraData=u.data,y=n.param(u.data,v)),u.beforeSubmit&&u.beforeSubmit(s,this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[s,this,u,a]),a.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;l=n.param(s,v);y&&(l=l?l+"&"+y:y);u.type.toUpperCase()=="GET"?(u.url+=(u.url.indexOf("?")>=0?"&":"?")+l,u.data=null):u.data=l;h=[];u.resetForm&&h.push(function(){f.resetForm()});u.clearForm&&h.push(function(){f.clearForm(u.includeHidden)});!u.dataType&&u.target?(d=u.success||function(){},h.push(function(t){var i=u.replaceTarget?"replaceWith":"html";n(u.target)[i](t).each(d,arguments)})):u.success&&h.push(u.success);u.success=function(n,t,i){for(var e=u.context||this,r=0,o=h.length;r<o;r++)h[r].apply(e,[n,t,i||f,f])};u.error&&(g=u.error,u.error=function(n,t,i){var r=u.context||this;g.apply(r,[n,t,i,f])});u.complete&&(nt=u.complete,u.complete=function(n,t){var i=u.context||this;nt.apply(i,[n,t,f])});var et=n("input[type=file]:enabled",this).filter(function(){return n(this).val()!==""}),tt=et.length>0,it="multipart/form-data",rt=f.attr("enctype")==it||f.attr("encoding")==it,k=i.fileapi&&i.formdata;for(t("fileAPI :"+k),ut=(tt||rt)&&!k,u.iframe!==!1&&(u.iframe||ut)?u.closeKeepAlive?n.get(u.closeKeepAlive,function(){p=ft(s)}):p=ft(s):p=(tt||rt)&&k?st(s):n.ajax(u),f.removeData("jqxhr").data("jqxhr",p),w=0;w<c.length;w++)c[w]=null;return this.trigger("form-submit-notify",[this,u]),this};n.fn.ajaxForm=function(i){if(i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var r={s:this.selector,c:this.context};return!n.isReady&&r.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(r.s,r.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,u).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,i,u).on("click.form-plugin",this.selector,i,f);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",i,u).bind("click.form-plugin",i,f)};n.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r){var e=[],l,h,f,c,u,b,k,a,p,v;if(this.length===0)return e;var o=this[0],w=this.attr("id"),s=t?o.getElementsByTagName("*"):o.elements,y;if(s&&!/MSIE [678]/.test(navigator.userAgent)&&(s=n(s).get()),w&&(y=n(':input[form="'+w+'"]').get(),y.length&&(s=(s||[]).concat(y))),!s||!s.length)return e;for(l=0,b=s.length;l<b;l++)if(u=s[l],f=u.name,f&&!u.disabled){if(t&&o.clk&&u.type=="image"){o.clk==u&&(e.push({name:f,value:n(u).val(),type:u.type}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));continue}if(c=n.fieldValue(u,!0),c&&c.constructor==Array)for(r&&r.push(u),h=0,k=c.length;h<k;h++)e.push({name:f,value:c[h]});else if(i.fileapi&&u.type=="file")if(r&&r.push(u),a=u.files,a.length)for(h=0;h<a.length;h++)e.push({name:f,value:a[h],type:u.type});else e.push({name:f,value:"",type:u.type});else c!==null&&typeof c!="undefined"&&(r&&r.push(u),e.push({name:f,value:c,type:u.type,required:u.required}))}return!t&&o.clk&&(p=n(o.clk),v=p[0],f=v.name,f&&!v.disabled&&v.type=="image"&&(e.push({name:f,value:p.val()}),e.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))),e};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor==Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!=Array||i.length))&&(i.constructor==Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var a=t.name,u=t.type,h=t.tagName.toLowerCase(),e,o,r,f;if(i===undefined&&(i=!0),i&&(!a||t.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!t.checked||(u=="submit"||u=="image")&&t.form&&t.form.clk!=t||h=="select"&&t.selectedIndex==-1))return null;if(h=="select"){if(e=t.selectedIndex,e<0)return null;var c=[],l=t.options,s=u=="select-one",v=s?e+1:l.length;for(o=s?e:0;o<v;o++)if(r=l[o],r.selected){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),s)return f;c.push(f)}return c}return n(t).val()};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u=="textarea"?this.value="":r=="checkbox"||r=="radio"?this.checked=!1:u=="select"?this.selectedIndex=-1:r=="file"?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset()})};n.fn.enable=function(n){return n===undefined&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return t===undefined&&(t=!0),this.each(function(){var r=this.type,i;r=="checkbox"||r=="radio"?this.checked=t:this.tagName.toLowerCase()=="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1}),function(n){window.console=window.console||function(){var n={};return n.log=n.warn=n.debug=n.info=n.error=n.time=n.dir=n.profile=n.clear=n.exception=n.trace=n.assert=function(){},n}();n.fn.extend(n.easing,{def:"easeInOutExpo",easeInOutExpo:function(n,t,i,r,u){return t===0?i:t===u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i}});n.fn.gridderExpander=function(t){var i=n.extend({},n.fn.gridderExpander.defaults,t);return this.each(function(){function e(r){i.scroll&&n("html, body").animate({scrollTop:r.find(".selectedItem").offset().top-i.scrollOffset},{duration:200,easing:i.animationEasing});t.removeClass("hasSelectedItem");u=!1;r.find(".selectedItem").removeClass("selectedItem");r.find(".gridder-show").slideUp(i.animationSpeed,i.animationEasing,function(){r.find(".gridder-show").remove();i.onClosed(r)})}function o(n){i.openExpanderFunction==null?s(n):i.openExpanderFunction(n)}function s(u){if(u.hasClass("selectedItem")){e(t,i);return}t.find(".selectedItem").removeClass("selectedItem");u.addClass("selectedItem");t.find(".gridder-show").remove();t.hasClass("hasSelectedItem")||t.addClass("hasSelectedItem");var f=n('<div class="gridder-show loading"><\/div>');r=f.insertAfter(u);i.getContent==null?h(u):i.getContent(u)}function h(t){var i="";t.data("griddercontent").indexOf("#")===0?(i=n(t.data("griddercontent")).html(),f(t,i)):n.ajax({type:"POST",url:t.data("griddercontent"),success:function(n){i=n;f(t,i)},error:function(n){i=n.responseText;f(t,i)}})}function f(t,f){var e='<div class="gridder-padding">',o,s,h;i.showNav&&(o=n(".selectedItem").prev(),s=n(".selectedItem").next().next(),e+='<div class="gridder-navigation">',e+='<a href="#" class="gridder-close">'+i.closeText+"<\/a>",e+='<a href="#" class="gridder-nav prev '+(o.length?"":"disabled")+'">'+i.prevText+"<\/a>",e+='<a href="#" class="gridder-nav next '+(s.length?"":"disabled")+'">'+i.nextText+"<\/a>",e+="<\/div>");e+='<div class="gridder-expanded-content">';e+=f;e+="<\/div>";e+="<\/div>";u?(r.html(e),r.find(".gridder-padding").fadeIn(i.animationSpeed,i.animationEasing,function(){if(u=!0,n.isFunction(i.onContent))i.onContent(r)})):r.hide().append(e).slideDown(i.animationSpeed,i.animationEasing,function(){if(u=!0,n.isFunction(i.onContent))i.onContent(r)});i.scroll&&(h=i.scrollTo==="panel"?t.offset().top+t.height()-i.scrollOffset:t.offset().top-i.scrollOffset,n("html, body").animate({scrollTop:h},{duration:i.animationSpeed,easing:i.animationEasing}));r.removeClass("loading")}var r,t=n(this),u=!1;i.onStart(t);t.find(".gridder-list:not(.external-link)").on("click",function(){var r=n(this);return i.clickItemFunction==null?o(r):i.clickItemFunction(t,this)})})};n.fn.gridderExpander.defaults={scroll:!0,scrollOffset:30,scrollTo:"panel",animationSpeed:400,animationEasing:"easeInOutExpo",showNav:!0,nextText:"Next",prevText:"Previous",closeText:"Close",getContent:null,openExpanderFunction:null,nextButtonFunction:null,closeButtonFunction:null,previousButtonFunction:null,clickItemFunction:null,onStart:function(){},onContent:function(){},onClosed:function(){}}}(jQuery),function(n){var t=function(t,i){var u=n.extend({},n.fn.nivoSlider.defaults,i),r={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},f=n(t),e,s,v,o,h,l;if(f.data("nivo:vars",r).addClass("nivoSlider"),e=f.children(),e.each(function(){var t=n(this),i="",u,f;t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),i=t),t=t.find("img:first"));u=u===0?t.attr("width"):t.width();f=f===0?t.attr("height"):t.height();i!==""&&i.css("display","none");t.css("display","none");r.totalSlides++}),u.randomStart&&(u.startSlide=Math.floor(Math.random()*r.totalSlides)),u.startSlide>0&&(u.startSlide>=r.totalSlides&&(u.startSlide=r.totalSlides-1),r.currentSlide=u.startSlide),r.currentImage=n(e[r.currentSlide]).is("img")?n(e[r.currentSlide]):n(e[r.currentSlide]).find("img:first"),n(e[r.currentSlide]).is("a")&&n(e[r.currentSlide]).css("display","block"),s=n("<img/>").addClass("nivo-main-image"),s.attr("src",r.currentImage.attr("src")).show(),f.append(s),n(window).resize(function(){f.children("img").width(f.width());s.attr("src",r.currentImage.attr("src"));s.stop().height("auto");n(".nivo-slice").remove();n(".nivo-box").remove()}),f.append(n('<div class="nivo-caption"><\/div>')),v=function(t){var u=n(".nivo-caption",f),i;r.currentImage.attr("title")!=""&&r.currentImage.attr("title")!=undefined?(i=r.currentImage.attr("title"),i.substr(0,1)=="#"&&(i=n(i).html()),u.css("display")=="block"?setTimeout(function(){u.html(i)},t.animSpeed):(u.html(i),u.stop().fadeIn(t.animSpeed))):u.stop().fadeOut(t.animSpeed)},v(u),o=0,!u.manualAdvance&&e.length>1&&(o=setInterval(function(){a(f,e,u,!1)},u.pauseTime)),u.directionNav){f.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+u.prevText+'<\/a><a class="nivo-nextNav">'+u.nextText+"<\/a><\/div>");n(f).on("click","a.nivo-prevNav",function(){if(r.running)return!1;clearInterval(o);o="";r.currentSlide-=2;a(f,e,u,"prev")});n(f).on("click","a.nivo-nextNav",function(){if(r.running)return!1;clearInterval(o);o="";a(f,e,u,"next")})}if(u.controlNav){for(r.controlNavEl=n('<div class="nivo-controlNav"><\/div>'),f.after(r.controlNavEl),h=0;h<e.length;h++)u.controlNavThumbs?(r.controlNavEl.addClass("nivo-thumbs-enabled"),l=e.eq(h),l.is("img")||(l=l.find("img:first")),l.attr("data-thumb")&&r.controlNavEl.append('<a class="nivo-control" rel="'+h+'"><img src="'+l.attr("data-thumb")+'" alt="" /><\/a>')):r.controlNavEl.append('<a class="nivo-control" rel="'+h+'">'+(h+1)+"<\/a>");n("a:eq("+r.currentSlide+")",r.controlNavEl).addClass("active");n("a",r.controlNavEl).bind("click",function(){if(r.running||n(this).hasClass("active"))return!1;clearInterval(o);o="";s.attr("src",r.currentImage.attr("src"));r.currentSlide=n(this).attr("rel")-1;a(f,e,u,"control")})}u.pauseOnHover&&f.hover(function(){r.paused=!0;clearInterval(o);o=""},function(){r.paused=!1;o!==""||u.manualAdvance||(o=setInterval(function(){a(f,e,u,!1)},u.pauseTime))});f.bind("nivo:animFinished",function(){s.attr("src",r.currentImage.attr("src"));r.running=!1;n(e).each(function(){n(this).is("a")&&n(this).css("display","none")});n(e[r.currentSlide]).is("a")&&n(e[r.currentSlide]).css("display","block");o!==""||r.paused||u.manualAdvance||(o=setInterval(function(){a(f,e,u,!1)},u.pauseTime));u.afterChange.call(this)});var c=function(t,i,r){var e,u,f;for(n(r.currentImage).parent().is("a")&&n(r.currentImage).parent().css("display","block"),n('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show(),e=n('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?n('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():n('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height(),u=0;u<i.slices;u++)f=Math.round(t.width()/i.slices),u===i.slices-1?t.append(n('<div class="nivo-slice" name="'+u+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(f+u*f-f)+'px;" /><\/div>').css({left:f*u+"px",width:t.width()-f*u+"px",height:e+"px",opacity:"0",overflow:"hidden"})):t.append(n('<div class="nivo-slice" name="'+u+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(f+u*f-f)+'px;" /><\/div>').css({left:f*u+"px",width:f+"px",height:e+"px",opacity:"0",overflow:"hidden"}));n(".nivo-slice",t).height(e);s.stop().animate({height:n(r.currentImage).height()},i.animSpeed)},y=function(t,i,r){var e,o,f,u;for(n(r.currentImage).parent().is("a")&&n(r.currentImage).parent().css("display","block"),n('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show(),e=Math.round(t.width()/i.boxCols),o=Math.round(n('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/i.boxRows),f=0;f<i.boxRows;f++)for(u=0;u<i.boxCols;u++)u===i.boxCols-1?(t.append(n('<div class="nivo-box" name="'+u+'" rel="'+f+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+o*f+"px; left:-"+e*u+'px;" /><\/div>').css({opacity:0,left:e*u+"px",top:o*f+"px",width:t.width()-e*u+"px"})),n('.nivo-box[name="'+u+'"]',t).height(n('.nivo-box[name="'+u+'"] img',t).height()+"px")):(t.append(n('<div class="nivo-box" name="'+u+'" rel="'+f+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+o*f+"px; left:-"+e*u+'px;" /><\/div>').css({opacity:0,left:e*u+"px",top:o*f+"px",width:e+"px"})),n('.nivo-box[name="'+u+'"]',t).height(n('.nivo-box[name="'+u+'"] img',t).height()+"px"));s.stop().animate({height:n(r.currentImage).height()},i.animSpeed)},a=function(t,i,r,u){var f=t.data("nivo:vars"),e,p,ut,it,k,rt;if(f&&f.currentSlide===f.totalSlides-1&&r.lastSlide.call(this),(!f||f.stop)&&!u)return!1;r.beforeChange.call(this);u?(u==="prev"&&s.attr("src",f.currentImage.attr("src")),u==="next"&&s.attr("src",f.currentImage.attr("src"))):s.attr("src",f.currentImage.attr("src"));f.currentSlide++;f.currentSlide===f.totalSlides&&(f.currentSlide=0,r.slideshowEnd.call(this));f.currentSlide<0&&(f.currentSlide=f.totalSlides-1);f.currentImage=n(i[f.currentSlide]).is("img")?n(i[f.currentSlide]):n(i[f.currentSlide]).find("img:first");r.controlNav&&(n("a",f.controlNavEl).removeClass("active"),n("a:eq("+f.currentSlide+")",f.controlNavEl).addClass("active"));v(r);n(".nivo-slice",t).remove();n(".nivo-box",t).remove();e=r.effect;p="";r.effect==="random"&&(p=["sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"],e=p[Math.floor(Math.random()*(p.length+1))],e===undefined&&(e="fade"));r.effect.indexOf(",")!==-1&&(p=r.effect.split(","),e=p[Math.floor(Math.random()*p.length)],e===undefined&&(e="fade"));f.currentImage.attr("data-transition")&&(e=f.currentImage.attr("data-transition"));f.running=!0;var o=0,h=0,a="",l="",d="",b="";if(e==="sliceDown"||e==="sliceDownRight"||e==="sliceDownLeft")c(t,r,f),o=0,h=0,a=n(".nivo-slice",t),e==="sliceDownLeft"&&(a=n(".nivo-slice",t)._reverse()),a.each(function(){var i=n(this);i.css({top:"0px"});h===r.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+o):setTimeout(function(){i.animate({opacity:"1.0"},r.animSpeed)},100+o);o+=50;h++});else if(e==="sliceUp"||e==="sliceUpRight"||e==="sliceUpLeft")c(t,r,f),o=0,h=0,a=n(".nivo-slice",t),e==="sliceUpLeft"&&(a=n(".nivo-slice",t)._reverse()),a.each(function(){var i=n(this);i.css({bottom:"0px"});h===r.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+o):setTimeout(function(){i.animate({opacity:"1.0"},r.animSpeed)},100+o);o+=50;h++});else if(e==="sliceUpDown"||e==="sliceUpDownRight"||e==="sliceUpDownLeft")c(t,r,f),o=0,h=0,ut=0,a=n(".nivo-slice",t),e==="sliceUpDownLeft"&&(a=n(".nivo-slice",t)._reverse()),a.each(function(){var i=n(this);h===0?(i.css("top","0px"),h++):(i.css("bottom","0px"),h=0);ut===r.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+o):setTimeout(function(){i.animate({opacity:"1.0"},r.animSpeed)},100+o);o+=50;ut++});else if(e==="fold")c(t,r,f),o=0,h=0,n(".nivo-slice",t).each(function(){var i=n(this),u=i.width();i.css({top:"0px",width:"0px"});h===r.slices-1?setTimeout(function(){i.animate({width:u,opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+o):setTimeout(function(){i.animate({width:u,opacity:"1.0"},r.animSpeed)},100+o);o+=50;h++});else if(e==="fade")c(t,r,f),l=n(".nivo-slice:first",t),l.css({width:t.width()+"px"}),l.animate({opacity:"1.0"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")});else if(e==="slideInRight")c(t,r,f),l=n(".nivo-slice:first",t),l.css({width:"0px",opacity:"1"}),l.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")});else if(e==="slideInLeft")c(t,r,f),l=n(".nivo-slice:first",t),l.css({width:"0px",opacity:"1",left:"",right:"0px"}),l.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){l.css({left:"0px",right:""});t.trigger("nivo:animFinished")});else if(e==="boxRandom")y(t,r,f),d=r.boxCols*r.boxRows,h=0,o=0,b=w(n(".nivo-box",t)),b.each(function(){var i=n(this);h===d-1?setTimeout(function(){i.animate({opacity:"1"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+o):setTimeout(function(){i.animate({opacity:"1"},r.animSpeed)},100+o);o+=20;h++});else if(e==="boxRain"||e==="boxRainReverse"||e==="boxRainGrow"||e==="boxRainGrowReverse"){y(t,r,f);d=r.boxCols*r.boxRows;h=0;o=0;var g=0,nt=0,tt=[];for(tt[g]=[],b=n(".nivo-box",t),(e==="boxRainReverse"||e==="boxRainGrowReverse")&&(b=n(".nivo-box",t)._reverse()),b.each(function(){tt[g][nt]=n(this);nt++;nt===r.boxCols&&(g++,nt=0,tt[g]=[])}),it=0;it<r.boxCols*2;it++){for(k=it,rt=0;rt<r.boxRows;rt++)k>=0&&k<r.boxCols&&(function(i,u,f,o,s){var h=n(tt[i][u]),c=h.width(),l=h.height();(e==="boxRainGrow"||e==="boxRainGrowReverse")&&h.width(0).height(0);o===s-1?setTimeout(function(){h.animate({opacity:"1",width:c,height:l},r.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+f):setTimeout(function(){h.animate({opacity:"1",width:c,height:l},r.animSpeed/1.3)},100+f)}(rt,k,o,h,d),h++),k--;o+=100}}},w=function(n){for(var i,r,t=n.length;t;i=parseInt(Math.random()*t,10),r=n[--t],n[t]=n[i],n[i]=r);return n},p=function(n){this.console&&typeof console.log!="undefined"&&console.log(n)};return this.stop=function(){n(t).data("nivo:vars").stop||(n(t).data("nivo:vars").stop=!0,p("Stop Slider"))},this.start=function(){n(t).data("nivo:vars").stop&&(n(t).data("nivo:vars").stop=!1,p("Start Slider"))},u.afterLoad.call(this),this};n.fn.nivoSlider=function(i){return this.each(function(){var r=n(this),u;if(r.data("nivoslider"))return r.data("nivoslider");u=new t(this,i);r.data("nivoslider",u)})};n.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};n.fn._reverse=[].reverse}(jQuery),function(n){var t={init:function(i){var r=n.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,useAnchors:!0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(){},onInit:function(){}},i||{}),u=this;return r.pages=r.pages?r.pages:Math.ceil(r.items/r.itemsOnPage)?Math.ceil(r.items/r.itemsOnPage):1,r.currentPage=r.currentPage?r.currentPage-1:r.invertPageOrder?r.pages-1:0,r.halfDisplayed=r.displayedPages/2,this.each(function(){u.addClass(r.cssStyle+" simple-pagination").data("pagination",r);t._draw.call(u)}),r.onInit(),this},selectPage:function(n){return t._selectPage.call(this,n-1),this},prevPage:function(){var n=this.data("pagination");return n.invertPageOrder?n.currentPage<n.pages-1&&t._selectPage.call(this,n.currentPage+1):n.currentPage>0&&t._selectPage.call(this,n.currentPage-1),this},nextPage:function(){var n=this.data("pagination");return n.invertPageOrder?n.currentPage>0&&t._selectPage.call(this,n.currentPage-1):n.currentPage<n.pages-1&&t._selectPage.call(this,n.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(n){this.data("pagination").pages=n},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(n){var i=this.data("pagination");return i.currentPage=n-1,this.data("pagination",i),t._draw.call(this),this},redraw:function(){return t._draw.call(this),this},disable:function(){var n=this.data("pagination");return n.disabled=!0,this.data("pagination",n),t._draw.call(this),this},enable:function(){var n=this.data("pagination");return n.disabled=!1,this.data("pagination",n),t._draw.call(this),this},updateItems:function(n){var i=this.data("pagination");i.items=n;i.pages=t._getPages(i);this.data("pagination",i);t._draw.call(this)},updateItemsOnPage:function(n){var i=this.data("pagination");return i.itemsOnPage=n,i.pages=t._getPages(i),this.data("pagination",i),t._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var i=this.data("pagination"),r=t._getInterval(i),u,s,f,o,e;if(t.destroy.call(this),s=typeof this.prop=="function"?this.prop("tagName"):this.attr("tagName"),f=s==="UL"?this:n("<ul"+(i.listStyle?' class="'+i.listStyle+'"':"")+"><\/ul>").appendTo(this),i.prevText&&t._appendItem.call(this,i.invertPageOrder?i.currentPage+1:i.currentPage-1,{text:i.prevText,classes:"prev"}),i.nextText&&i.nextAtFront&&t._appendItem.call(this,i.invertPageOrder?i.currentPage-1:i.currentPage+1,{text:i.nextText,classes:"next"}),i.invertPageOrder){if(r.end<i.pages&&i.edges>0){if(i.useStartEdge)for(o=Math.max(i.pages-i.edges,r.end),u=i.pages-1;u>=o;u--)t._appendItem.call(this,u);i.pages-i.edges>r.end&&i.pages-i.edges-r.end!=1?f.append('<li class="disabled" aria-label="Ellipse des pages"><span class="ellipse">'+i.ellipseText+"<\/span><\/li>"):i.pages-i.edges-r.end==1&&t._appendItem.call(this,r.end)}}else if(r.start>0&&i.edges>0){if(i.useStartEdge)for(e=Math.min(i.edges,r.start),u=0;u<e;u++)t._appendItem.call(this,u);i.edges<r.start&&r.start-i.edges!=1?f.append('<li class="disabled" aria-label="Ellipse des pages"><span class="ellipse">'+i.ellipseText+"<\/span><\/li>"):r.start-i.edges==1&&t._appendItem.call(this,i.edges)}if(i.invertPageOrder)for(u=r.end-1;u>=r.start;u--)t._appendItem.call(this,u);else for(u=r.start;u<r.end;u++)t._appendItem.call(this,u);if(i.invertPageOrder){if(r.start>0&&i.edges>0&&(i.edges<r.start&&r.start-i.edges!=1?f.append('<li class="disabled" aria-label="Ellipse des pages"><span class="ellipse">'+i.ellipseText+"<\/span><\/li>"):r.start-i.edges==1&&t._appendItem.call(this,i.edges),i.useEndEdge))for(e=Math.min(i.edges,r.start),u=e-1;u>=0;u--)t._appendItem.call(this,u)}else if(r.end<i.pages&&i.edges>0&&(i.pages-i.edges>r.end&&i.pages-i.edges-r.end!=1?f.append('<li class="disabled" aria-label="Ellipse des pages"><span class="ellipse">'+i.ellipseText+"<\/span><\/li>"):i.pages-i.edges-r.end==1&&t._appendItem.call(this,r.end),i.useEndEdge))for(o=Math.max(i.pages-i.edges,r.end),u=o;u<i.pages;u++)t._appendItem.call(this,u);i.nextText&&!i.nextAtFront&&t._appendItem.call(this,i.invertPageOrder?i.currentPage-1:i.currentPage+1,{text:i.nextText,classes:"next"});i.ellipsePageSet&&!i.disabled&&t._ellipseClick.call(this,f)},_getPages:function(n){var t=Math.ceil(n.items/n.itemsOnPage);return t||1},_getInterval:function(n){return{start:Math.ceil(n.currentPage>n.halfDisplayed?Math.max(Math.min(n.currentPage-n.halfDisplayed,n.pages-n.displayedPages),0):0),end:Math.ceil(n.currentPage>n.halfDisplayed?Math.min(n.currentPage+n.halfDisplayed,n.pages):Math.min(n.displayedPages,n.pages))}},_appendItem:function(i,r){var s=this,u,o,f=s.data("pagination"),e=n("<li><\/li>"),h=s.find("ul");i=i<0?0:i<f.pages?i:f.pages-1;u={text:i+1,classes:""};f.labelMap.length&&f.labelMap[i]&&(u.text=f.labelMap[i]);u=n.extend(u,r||{});i==f.currentPage||f.disabled?(f.disabled||u.classes==="prev"||u.classes==="next"?(e.addClass("disabled"),e.addClass("disabled-arrow")):e.addClass("active"),o=n('<span class="current" aria-label="Vous êtes actuellement sur la page '+(i+1)+'">'+u.text+"<\/span>")):(o=f.useAnchors?n('<a href="'+f.hrefTextPrefix+(i+1)+f.hrefTextSuffix+'" class="page-link" title="Aller &agrave; la page '+(i+1)+'" aria-label="Aller &agrave; la page '+(i+1)+'">'+u.text+"<\/a>"):n("<span >"+u.text+"<\/span>"),o.click(function(n){return t._selectPage.call(s,i,n)}));u.classes&&o.addClass(u.classes);e.append(o);h.length?h.append(e):s.append(e)},_selectPage:function(n,i){var r=this.data("pagination");r.currentPage=n;r.selectOnClick&&t._draw.call(this);return r.onPageClick(n+1,i)},_ellipseClick:function(i){var f=this,r=this.data("pagination"),u=i.find(".ellipse");u.addClass("clickable").parent().removeClass("disabled");u.click(function(){if(!r.disable){var i=n(this),e=(parseInt(i.parent().prev().text(),10)||0)+1;i.html('<input type="number" min="1" max="'+r.pages+'" step="1" value="'+e+'">').find("input").focus().click(function(n){n.stopPropagation()}).keyup(function(i){var e=n(this).val();i.which===13&&e!==""?e>0&&e<=r.pages&&t._selectPage.call(f,e-1):i.which===27&&u.empty().html(r.ellipseText)}).bind("blur",function(){var i=n(this).val();return i!==""&&t._selectPage.call(f,i-1),u.empty().html(r.ellipseText),!1})}return!1})}};n.fn.pagination=function(i){if(t[i]&&i.charAt(0)!="_")return t[i].apply(this,Array.prototype.slice.call(arguments,1));if(typeof i!="object"&&i)n.error("Method "+i+" does not exist on jQuery.pagination");else return t.init.apply(this,arguments)}}(jQuery);
/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
(function(n){typeof define=="function"&&define.amd?define("pluggins/picker.date",["picker","jquery"],n):typeof exports=="object"?module.exports=n(require("./picker.js"),require("jquery")):n(Picker,jQuery)})(function(n,t){function r(n,t){var i=this,r=n.$node[0],o=r.value,u=n.$node.data("value"),f=u||o,s=u?t.formatSubmit:t.format,e=function(){return r.currentStyle?r.currentStyle.direction=="rtl":getComputedStyle(n.$root[0]).direction=="rtl"};i.settings=t;i.$node=n.$node;i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"};i.item={};i.item.clear=null;i.item.disable=(t.disable||[]).slice(0);i.item.enable=-function(n){return n[0]===!0?n.shift():-1}(i.item.disable);i.set("min",t.min).set("max",t.max).set("now");f?i.set("select",f,{format:s,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now);i.key={40:7,38:-7,39:function(){return e()?-1:1},37:function(){return e()?1:-1},go:function(n){var t=i.item.highlight,r=new Date(t.year,t.month,t.date+n);i.set("highlight",r,{interval:n});this.render()}};n.on("render",function(){n.$root.find("."+t.klass.selectMonth).on("change",function(){var i=this.value;i&&(n.set("highlight",[n.get("view").year,i,n.get("highlight").date]),n.$root.find("."+t.klass.selectMonth).trigger("focus"))});n.$root.find("."+t.klass.selectYear).on("change",function(){var i=this.value;i&&(n.set("highlight",[i,n.get("view").month,n.get("highlight").date]),n.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var r="";i.disabled(i.get("now"))&&(r=":not(."+t.klass.buttonToday+")");n.$root.find("button"+r+", select").attr("disabled",!1)},1).on("close",function(){n.$root.find("button, select").attr("disabled",!0)},1)}var u=7,f=6,i=n._;r.prototype.set=function(n,t,i){var r=this,u=r.item;return t===null?(n=="clear"&&(n="select"),u[n]=t,r):(u[n=="enable"?"disable":n=="flip"?"enable":n]=r.queue[n].split(" ").map(function(u){return t=r[u](n,t,i)}).pop(),n=="select"?r.set("highlight",u.select,i):n=="highlight"?r.set("view",u.highlight,i):n.match(/^(flip|min|max|disable|enable)$/)&&(u.select&&r.disabled(u.select)&&r.set("select",u.select,i),u.highlight&&r.disabled(u.highlight)&&r.set("highlight",u.highlight,i)),r)};r.prototype.get=function(n){return this.item[n]};r.prototype.create=function(n,r,u){var f,e=this;return r=r===undefined?n:r,r==-Infinity||r==Infinity?f=r:t.isPlainObject(r)&&i.isInteger(r.pick)?r=r.obj:t.isArray(r)?(r=new Date(r[0],r[1],r[2]),r=i.isDate(r)?r:e.create().obj):r=i.isInteger(r)||i.isDate(r)?e.normalize(new Date(r),u):e.now(n,r,u),{year:f||r.getFullYear(),month:f||r.getMonth(),date:f||r.getDate(),day:f||r.getDay(),obj:f||r,pick:f||r.getTime()}};r.prototype.createRange=function(n,r){var f=this,u=function(n){return n===!0||t.isArray(n)||i.isDate(n)?f.create(n):n};return i.isInteger(n)||(n=u(n)),i.isInteger(r)||(r=u(r)),i.isInteger(n)&&t.isPlainObject(r)?n=[r.year,r.month,r.date+n]:i.isInteger(r)&&t.isPlainObject(n)&&(r=[n.year,n.month,n.date+r]),{from:u(n),to:u(r)}};r.prototype.withinRange=function(n,t){return n=this.createRange(n.from,n.to),t.pick>=n.from.pick&&t.pick<=n.to.pick};r.prototype.overlapRanges=function(n,t){var i=this;return n=i.createRange(n.from,n.to),t=i.createRange(t.from,t.to),i.withinRange(n,t.from)||i.withinRange(n,t.to)||i.withinRange(t,n.from)||i.withinRange(t,n.to)};r.prototype.now=function(n,t,i){return t=new Date,i&&i.rel&&t.setDate(t.getDate()+i.rel),this.normalize(t,i)};r.prototype.navigate=function(n,i,r){var s,f,u,e,c=t.isArray(i),h=t.isPlainObject(i),o=this.item.view;if(c||h){for(h?(f=i.year,u=i.month,e=i.date):(f=+i[0],u=+i[1],e=+i[2]),r&&r.nav&&o&&o.month!==u&&(f=o.year,u=o.month),s=new Date(f,u+(r&&r.nav?r.nav:0),1),f=s.getFullYear(),u=s.getMonth();new Date(f,u,e).getMonth()!==u;)e-=1;i=[f,u,e]}return i};r.prototype.normalize=function(n){return n.setHours(0,0,0,0),n};r.prototype.measure=function(n,t){var r=this;return t?typeof t=="string"?t=r.parse(n,t):i.isInteger(t)&&(t=r.now(n,t,{rel:t})):t=n=="min"?-Infinity:Infinity,t};r.prototype.viewset=function(n,t){return this.create([t.year,t.month,1])};r.prototype.validate=function(n,r,u){var f=this,c=r,e=u&&u.interval?u.interval:1,h=f.item.enable===-1,l,a,o=f.item.min,s=f.item.max,v,y,p=h&&f.item.disable.filter(function(n){if(t.isArray(n)){var u=f.create(n).pick;u<r.pick?l=!0:u>r.pick&&(a=!0)}return i.isInteger(n)}).length;if((!u||!u.nav&&!u.defaultValue)&&(!h&&f.disabled(r)||h&&f.disabled(r)&&(p||l||a)||!h&&(r.pick<=o.pick||r.pick>=s.pick)))for(h&&!p&&(!a&&e>0||!l&&e<0)&&(e*=-1);f.disabled(r);){if(Math.abs(e)>1&&(r.month<c.month||r.month>c.month)&&(r=c,e=e>0?1:-1),r.pick<=o.pick?(v=!0,e=1,r=f.create([o.year,o.month,o.date+(r.pick===o.pick?0:-1)])):r.pick>=s.pick&&(y=!0,e=-1,r=f.create([s.year,s.month,s.date+(r.pick===s.pick?0:1)])),v&&y)break;r=f.create([r.year,r.month,r.date+e])}return r};r.prototype.disabled=function(n){var r=this,u=r.item.disable.filter(function(u){return i.isInteger(u)?n.day===(r.settings.firstDay?u:u-1)%7:t.isArray(u)||i.isDate(u)?n.pick===r.create(u).pick:t.isPlainObject(u)?r.withinRange(u,n):void 0});return u=u.length&&!u.filter(function(n){return t.isArray(n)&&n[3]=="inverted"||t.isPlainObject(n)&&n.inverted}).length,r.item.enable===-1?!u:u||n.pick<r.item.min.pick||n.pick>r.item.max.pick};r.prototype.parse=function(n,t,r){var f=this,u={};return!t||typeof t!="string"?t:(r&&r.format||(r=r||{},r.format=f.settings.format),f.formats.toArray(r.format).map(function(n){var r=f.formats[n],e=r?i.trigger(r,f,[t,u]):n.replace(/^!/,"").length;r&&(u[n]=t.substr(0,e));t=t.substr(e)}),[u.yyyy||u.yy,+(u.mm||u.m)-1,u.dd||u.d])};r.prototype.formats=function(){function n(n,t,i){var r=n.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=t.indexOf(r)+1),r.length}function t(n){return n.match(/\w+/)[0].length}return{d:function(n,t){return n?i.digits(n):t.date},dd:function(n,t){return n?2:i.lead(t.date)},ddd:function(n,i){return n?t(n):this.settings.weekdaysShort[i.day]},dddd:function(n,i){return n?t(n):this.settings.weekdaysFull[i.day]},m:function(n,t){return n?i.digits(n):t.month+1},mm:function(n,t){return n?2:i.lead(t.month+1)},mmm:function(t,i){var r=this.settings.monthsShort;return t?n(t,r,i):r[i.month]},mmmm:function(t,i){var r=this.settings.monthsFull;return t?n(t,r,i):r[i.month]},yy:function(n,t){return n?2:(""+t.year).slice(2)},yyyy:function(n,t){return n?4:t.year},toArray:function(n){return n.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(n,t){var r=this;return r.formats.toArray(n).map(function(n){return i.trigger(r.formats[n],r,[0,t])||n.replace(/^!/,"")}).join("")}}}();r.prototype.isDateExact=function(n,r){var u=this;return i.isInteger(n)&&i.isInteger(r)||typeof n=="boolean"&&typeof r=="boolean"?n===r:(i.isDate(n)||t.isArray(n))&&(i.isDate(r)||t.isArray(r))?u.create(n).pick===u.create(r).pick:t.isPlainObject(n)&&t.isPlainObject(r)?u.isDateExact(n.from,r.from)&&u.isDateExact(n.to,r.to):!1};r.prototype.isDateOverlap=function(n,r){var u=this,f=u.settings.firstDay?1:0;return i.isInteger(n)&&(i.isDate(r)||t.isArray(r))?(n=n%7+f,n===u.create(r).day+1):i.isInteger(r)&&(i.isDate(n)||t.isArray(n))?(r=r%7+f,r===u.create(n).day+1):t.isPlainObject(n)&&t.isPlainObject(r)?u.overlapRanges(n,r):!1};r.prototype.flipEnable=function(n){var t=this.item;t.enable=n||(t.enable==-1?1:-1)};r.prototype.deactivate=function(n,r){var f=this,u=f.item.disable.slice(0);return r=="flip"?f.flipEnable():r===!1?(f.flipEnable(1),u=[]):r===!0?(f.flipEnable(-1),u=[]):r.map(function(n){for(var e,r=0;r<u.length;r+=1)if(f.isDateExact(n,u[r])){e=!0;break}e||(i.isInteger(n)||i.isDate(n)||t.isArray(n)||t.isPlainObject(n)&&n.from&&n.to)&&u.push(n)}),u};r.prototype.activate=function(n,r){var f=this,u=f.item.disable,e=u.length;return r=="flip"?f.flipEnable():r===!0?(f.flipEnable(1),u=[]):r===!1?(f.flipEnable(-1),u=[]):r.map(function(n){for(var o,s,h,r=0;r<e;r+=1)if(s=u[r],f.isDateExact(s,n)){o=u[r]=null;h=!0;break}else if(f.isDateOverlap(s,n)){t.isPlainObject(n)?(n.inverted=!0,o=n):t.isArray(n)?(o=n,o[3]||o.push("inverted")):i.isDate(n)&&(o=[n.getFullYear(),n.getMonth(),n.getDate(),"inverted"]);break}if(o)for(r=0;r<e;r+=1)if(f.isDateExact(u[r],n)){u[r]=null;break}if(h)for(r=0;r<e;r+=1)if(f.isDateOverlap(u[r],n)){u[r]=null;break}o&&u.push(o)}),u.filter(function(n){return n!=null})};r.prototype.nodes=function(n){var r=this,t=r.settings,o=r.item,c=o.now,l=o.select,a=o.highlight,e=o.view,w=o.disable,s=o.min,h=o.max,b=function(n,r){return t.firstDay&&(n.push(n.shift()),r.push(r.shift())),i.node("thead",i.node("tr",i.group({min:0,max:u-1,i:1,node:"th",item:function(i){return[n[i],t.klass.weekdays,'scope=col title="'+r[i]+'"']}})))}((t.showWeekdaysFull?t.weekdaysFull:t.weekdaysShort).slice(0),t.weekdaysFull.slice(0)),v=function(n){return i.node("div"," ",t.klass["nav"+(n?"Next":"Prev")]+(n&&e.year>=h.year&&e.month>=h.month||!n&&e.year<=s.year&&e.month<=s.month?" "+t.klass.navDisabled:""),"data-nav="+(n||-1)+" "+i.ariaAttr({role:"button",controls:r.$node[0].id+"_table"})+' title="'+(n?t.labelMonthNext:t.labelMonthPrev)+'"')},y=function(){var u=t.showMonthsShort?t.monthsShort:t.monthsFull;return t.selectMonths?i.node("select",i.group({min:0,max:11,i:1,node:"option",item:function(n){return[u[n],0,"value="+n+(e.month==n?" selected":"")+(e.year==s.year&&n<s.month||e.year==h.year&&n>h.month?" disabled":"")]}}),t.klass.selectMonth,(n?"":"disabled")+" "+i.ariaAttr({controls:r.$node[0].id+"_table"})+' title="'+t.labelMonthSelect+'"'):i.node("div",u[e.month],t.klass.month)},p=function(){var o=e.year,l=t.selectYears===!0?5:~~(t.selectYears/2),v,y;if(l){var c=s.year,a=h.year,u=o-l,f=o+l;return c>u&&(f+=c-u,u=c),a<f&&(v=u-c,y=f-a,u-=v>y?y:v,f=a),i.node("select",i.group({min:u,max:f,i:1,node:"option",item:function(n){return[n,0,"value="+n+(o==n?" selected":"")]}}),t.klass.selectYear,(n?"":"disabled")+" "+i.ariaAttr({controls:r.$node[0].id+"_table"})+' title="'+t.labelYearSelect+'"')}return i.node("div",o,t.klass.year)};return i.node("div",(t.selectYears?p()+y():y()+p())+v()+v(1),t.klass.header)+i.node("table",b+i.node("tbody",i.group({min:0,max:f-1,i:1,node:"tr",item:function(n){var f=t.firstDay&&r.create([e.year,e.month,1]).day===0?-7:0;return[i.group({min:u*n-e.day+f+1,max:function(){return this.min+u-1},i:1,node:"td",item:function(n){n=r.create([e.year,e.month,n+(t.firstDay?1:0)]);var u=l&&l.pick==n.pick,f=a&&a.pick==n.pick,o=w&&r.disabled(n)||n.pick<s.pick||n.pick>h.pick,v=i.trigger(r.formats.toString,r,[t.format,n]);return[i.node("div",n.date,function(i){return i.push(e.month==n.month?t.klass.infocus:t.klass.outfocus),c.pick==n.pick&&i.push(t.klass.now),u&&i.push(t.klass.selected),f&&i.push(t.klass.highlighted),o&&i.push(t.klass.disabled),i.join(" ")}([t.klass.day]),"data-pick="+n.pick+" "+i.ariaAttr({role:"gridcell",label:v,selected:u&&r.$node.val()===v?!0:null,activedescendant:f?!0:null,disabled:o?!0:null})),"",i.ariaAttr({role:"presentation"})]}})]}})),t.klass.table,'id="'+r.$node[0].id+'_table" '+i.ariaAttr({role:"grid",controls:r.$node[0].id,readonly:!0}))+i.node("div",i.node("button",t.today,t.klass.buttonToday,"type=button data-pick="+c.pick+(n&&!r.disabled(c)?"":" disabled")+" "+i.ariaAttr({controls:r.$node[0].id}))+i.node("button",t.clear,t.klass.buttonClear,"type=button data-clear=1"+(n?"":" disabled")+" "+i.ariaAttr({controls:r.$node[0].id}))+i.node("button",t.close,t.klass.buttonClose,"type=button data-close=true "+(n?"":" disabled")+" "+i.ariaAttr({controls:r.$node[0].id})),t.klass.footer)};r.defaults=function(n){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:n+"table",header:n+"header",navPrev:n+"nav--prev",navNext:n+"nav--next",navDisabled:n+"nav--disabled",month:n+"month",year:n+"year",selectMonth:n+"select--month",selectYear:n+"select--year",weekdays:n+"weekday",day:n+"day",disabled:n+"day--disabled",selected:n+"day--selected",highlighted:n+"day--highlighted",now:n+"day--today",infocus:n+"day--infocus",outfocus:n+"day--outfocus",footer:n+"footer",buttonClear:n+"button--clear",buttonToday:n+"button--today",buttonClose:n+"button--close"}}}(n.klasses().picker+"__");n.extend("pickadate",r)});
/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
(function(n){typeof define=="function"&&define.amd?define("pluggins/picker","picker",["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):this.Picker=n(jQuery)})(function(n){function t(e,s,l,a){function g(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",v.component.nodes(y.open),w.box),w.wrap),w.frame),w.holder,'tabindex="-1"')}function rt(){if(b.data(s,v).addClass(w.input).val(b.data("value")?v.get("select",p.format):e.value),!p.editable)b.on("focus."+y.id+" click."+y.id,function(n){n.preventDefault();v.open()}).on("keydown."+y.id,it);i(e,{haspopup:!0,expanded:!1,readonly:!1,owns:e.id+"_root"})}function ut(){i(v.$root[0],"hidden",!0)}function nt(){v.$holder.on({keydown:it,"focus.toOpen":tt,blur:function(){b.removeClass(w.target)},focusin:function(n){v.$root.removeClass(w.focused);n.stopPropagation()},"mousedown click":function(t){var i=t.target;i!=v.$holder[0]&&(t.stopPropagation(),t.type!="mousedown"||n(i).is("input, select, textarea, button, option")||(t.preventDefault(),v.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var r=n(this),t=r.data(),u=r.hasClass(w.navDisabled)||r.hasClass(w.disabled),i=o();i=i&&(i.type||i.href);(u||i&&!n.contains(v.$root[0],i))&&v.$holder[0].focus();!u&&t.nav?v.set("highlight",v.component.item.highlight,{nav:t.nav}):!u&&"pick"in t?(v.set("select",t.pick),p.closeOnSelect&&v.close(!0)):t.clear?(v.clear(),p.closeOnClear&&v.close(!0)):t.close&&v.close(!0)})}function ft(){var t;p.hiddenName===!0?(t=e.name,e.name=""):(t=[typeof p.hiddenPrefix=="string"?p.hiddenPrefix:"",typeof p.hiddenSuffix=="string"?p.hiddenSuffix:"_submit"],t=t[0]+e.name+t[1]);v._hidden=n('<input type=hidden name="'+t+'"'+(b.data("value")||e.value?' value="'+v.get("select",p.formatSubmit)+'"':"")+">")[0];b.on("change."+y.id,function(){v._hidden.value=e.value?v.get("select",p.formatSubmit):""})}function et(){if(k&&h)v.$holder.find("."+w.frame).one("transitionend",function(){v.$holder[0].focus()});else v.$holder[0].focus()}function tt(n){n.stopPropagation();b.addClass(w.target);v.$root.addClass(w.focused);v.open()}function it(n){var t=n.keyCode,i=/^(8|46)$/.test(t);if(t==27)return v.close(!0),!1;(t==32||i||!y.open&&v.component.key[t])&&(n.preventDefault(),n.stopPropagation(),i?v.clear().close():v.open())}if(!e)return t;var k=!1,y={id:e.id||"P"+Math.abs(~~(Math.random()*new Date))},p=l?n.extend(!0,{},l.defaults,a):a||{},w=n.extend({},t.klasses(),p.klass),b=n(e),d=function(){return this.start()},v=d.prototype={constructor:d,$node:b,start:function(){if(y&&y.start)return v;y.methods={};y.start=!0;y.open=!1;y.type=e.type;e.autofocus=e==o();e.readOnly=!p.editable;e.id=e.id||y.id;e.type!="text"&&(e.type="text");v.component=new l(v,p);v.$root=n('<div class="'+w.picker+'" id="'+e.id+'_root" />');ut();v.$holder=n(g()).appendTo(v.$root);nt();p.formatSubmit&&ft();rt();p.containerHidden?n(p.containerHidden).append(v._hidden):b.after(v._hidden);p.container?n(p.container).append(v.$root):b.after(v.$root);v.on({start:v.component.onStart,render:v.component.onRender,stop:v.component.onStop,open:v.component.onOpen,close:v.component.onClose,set:v.component.onSet}).on({start:p.onStart,render:p.onRender,stop:p.onStop,open:p.onOpen,close:p.onClose,set:p.onSet});return k=c(v.$holder[0]),e.autofocus&&v.open(),v.trigger("start").trigger("render")},render:function(t){return t?(v.$holder=n(g()),nt(),v.$root.html(v.$holder)):v.$root.find("."+w.box).html(v.component.nodes(y.open)),v.trigger("render")},stop:function(){return y.start?(v.close(),v._hidden&&v._hidden.parentNode.removeChild(v._hidden),v.$root.remove(),b.removeClass(w.input).removeData(s),setTimeout(function(){b.off("."+y.id)},0),e.type=y.type,e.readOnly=!1,v.trigger("stop"),y.methods={},y.start=!1,v):v},open:function(o){if(y.open)return v.close(),v;if(b.addClass(w.active),i(e,"expanded",!0),setTimeout(function(){v.$root.addClass(w.opened);i(v.$root[0],"hidden",!1)},0),o!==!1){y.open=!0;k&&r.css("overflow","hidden").css("padding-right","+="+f());et();u.on("click."+y.id+" focusin."+y.id,function(n){var t=n.target;t!=e&&t!=document&&n.which!=3&&v.close(t===v.$holder[0])}).on("keydown."+y.id,function(i){var r=i.keyCode,u=v.component.key[r],f=i.target;r==27?v.close(!0):f==v.$holder[0]&&(u||r==13)?(i.preventDefault(),u?t._.trigger(v.component.key.go,v,[t._.trigger(u)]):v.$root.find("."+w.highlighted).hasClass(w.disabled)||(v.set("select",v.component.item.highlight),p.closeOnSelect&&v.close(!0))):n.contains(v.$root[0],f)&&r==13&&(i.preventDefault(),f.click())})}return v.trigger("open")},close:function(n){return(n&&(p.editable?e.focus():(v.$holder.off("focus.toOpen").focus(),setTimeout(function(){v.$holder.on("focus.toOpen",tt)},0))),b.removeClass(w.active),i(e,"expanded",!1),setTimeout(function(){v.$root.removeClass(w.opened+" "+w.focused);i(v.$root[0],"hidden",!0)},0),!y.open)?v:(y.open=!1,k&&r.css("overflow","").css("padding-right","-="+f()),u.off("."+y.id),v.trigger("close"))},clear:function(n){return v.set("clear",null,n)},set:function(t,i,r){var u,f,o=n.isPlainObject(t),e=o?t:{};if(r=o&&n.isPlainObject(i)?i:r||{},t){o||(e[t]=i);for(u in e)f=e[u],u in v.component.item&&(f===undefined&&(f=null),v.component.set(u,f,r)),(u=="select"||u=="clear")&&b.val(u=="clear"?"":v.get(u,p.format)).trigger("change");v.render()}return r.muted?v:v.trigger("set",e)},get:function(n,i){if(n=n||"value",y[n]!=null)return y[n];if(n=="valueSubmit"){if(v._hidden)return v._hidden.value;n="value"}if(n=="value")return e.value;if(n in v.component.item){if(typeof i=="string"){var r=v.component.get(n);return r?t._.trigger(v.component.formats.toString,v.component,[i,r]):""}return v.component.get(n)}},on:function(t,i,r){var u,e,o=n.isPlainObject(t),f=o?t:{};if(t){o||(f[t]=i);for(u in f)e=f[u],r&&(u="_"+u),y.methods[u]=y.methods[u]||[],y.methods[u].push(e)}return v},off:function(){var n,t,i=arguments;for(n=0,namesCount=i.length;n<namesCount;n+=1)t=i[n],t in y.methods&&delete y.methods[t];return v},trigger:function(n,i){var r=function(n){var r=y.methods[n];r&&r.map(function(n){t._.trigger(n,v,[i])})};return r("_"+n),r(n),v}};return new d}function c(n){var t,i="position";return n.currentStyle?t=n.currentStyle[i]:window.getComputedStyle&&(t=getComputedStyle(n)[i]),t=="fixed"}function f(){var t,i,u,f;return r.height()<=s.height()?0:(t=n('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=t[0].offsetWidth,t.css("overflow","scroll"),u=n('<div style="width:100%" />').appendTo(t),f=u[0].offsetWidth,t.remove(),i-f)}function i(t,i,r){if(n.isPlainObject(i))for(var u in i)e(t,u,i[u]);else e(t,i,r)}function e(n,t,i){n.setAttribute((t=="role"?"":"aria-")+t,i)}function l(t,i){var r,u,f;n.isPlainObject(t)||(t={attribute:i});i="";for(r in t)u=(r=="role"?"":"aria-")+r,f=t[r],i+=f==null?"":u+'="'+t[r]+'"';return i}function o(){try{return document.activeElement}catch(n){}}var s=n(window),u=n(document),r=n(document.documentElement),h=document.documentElement.style.transition!=null;return t.klasses=function(n){return n=n||"picker",{picker:n,opened:n+"--opened",focused:n+"--focused",input:n+"__input",active:n+"__input--active",target:n+"__input--target",holder:n+"__holder",frame:n+"__frame",wrap:n+"__wrap",box:n+"__box"}},t._={group:function(n){for(var i,u="",r=t._.trigger(n.min,n);r<=t._.trigger(n.max,n,[r]);r+=n.i)i=t._.trigger(n.item,n,[r]),u+=t._.node(n.node,i[0],i[1],i[2]);return u},node:function(t,i,r,u){return i?(i=n.isArray(i)?i.join(""):i,r=r?' class="'+r+'"':"",u=u?" "+u:"","<"+t+r+u+">"+i+"<\/"+t+">"):""},lead:function(n){return(n<10?"0":"")+n},trigger:function(n,t,i){return typeof n=="function"?n.apply(t,i||[]):n},digits:function(n){return/\d/.test(n[1])?2:1},isDate:function(n){return{}.toString.call(n).indexOf("Date")>-1&&this.isInteger(n.getDate())},isInteger:function(n){return{}.toString.call(n).indexOf("Number")>-1&&n%1==0},ariaAttr:l},t.extend=function(i,r){n.fn[i]=function(u,f){var e=this.data(i);return u=="picker"?e:e&&typeof u=="string"?t._.trigger(e[u],e,[f]):this.each(function(){var f=n(this);f.data(i)||new t(this,i,r,u)})};n.fn[i].defaults=r.defaults},t}),function(n,t){typeof define=="function"&&define.amd?define("pluggins/rc.oauth2.client-2.0.1",["module"],function(n){var i=t;return n.config().hasOwnProperty("settings")&&i.init(n.config().clientId,n.config().context,n.config().settings,n.config().debug),i}):n.rcOAuth2Client=t}(this,function(n){n.idHost=n.idHost||"services.radio-canada.ca";var l=!1,s,r={accessToken:"access_token",expiresIn:"expires_in",tokenType:"token_type",state:"state",scope:"scope",error:"error",vfsession:"vfsession"},o={accessToken:"at",userInfo:"ui",vfSession:"VfSess"},f={clientId:"",responseType:"token",context:1},i={domain:n.idHost,authorizePath:"/auth/oauth/v2/authorize",logoutPath:"/auth/oauth/v2/logout",userInfoPath:"/openid/connect/v1/userinfo",redirectUri:"",scope:"",state:"",persistUserInfo:!1,cookieMode:!1,cookieDomain:undefined,vfDependant:!1},u={vfDependant:!1,done:null,fail:null,cookieMode:!1,cookieDomain:undefined},t=function(n){l===!0&&console&&console.log("rcOauth2Client: "+n)},e=function(n){return typeof n=="function"},w=function(n,t){var i,r;for(i in n)for(r in t)if(i==r){n[i]=t[r];break}},a=function(i,r,u,f){t("setCookie");var e=i+"="+escape(r)+"; expires="+u+"; path=/"+(f?"; domain="+f:"");n.document.cookie=e;t(">> "+e)},b=function(t){var i=n.document.cookie,r=i.indexOf(" "+t+"="),u;return r==-1&&(r=i.indexOf(t+"=")),r==-1?i=null:(r=i.indexOf("=",r)+1,u=i.indexOf(";",r),u==-1&&(u=i.length),i=unescape(i.substring(r,u))),i},v=function(i,r){t("deleteCookie");var u=i+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"+(r?"; domain="+r:"");n.document.cookie=u;t(">> "+u)},h=function(){var n,t;if(s===undefined&&(s=f.context===1&&i.cookieMode===!1||f.context===2&&u.cookieMode===!1,s))try{n=new Date;localStorage.setItem(n,n);t=localStorage.getItem(n)==n;localStorage.removeItem(n);s=t&&localStorage}catch(r){s=!1}return s},tt=function(t){var i,r,e,f,o,u;for(f=["protocol","hostname","port","pathname","search","hash","host"],r=n.document.createElement("A"),r.setAttribute("href",t),e=r.host===""&&r.protocol!=="file:",e&&(i=n.document.createElement("DIV"),i.innerHTML='<a href="'+t+'"><\/a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),n.document.body.appendChild(i)),o={},u=0;u<f.length;u++)o[f[u]]=r[f[u]];return e&&n.document.body.removeChild(i),o},it=function(t){var i;XMLHttpRequest||(n.XMLHttpRequest=function(){try{return new n.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new n.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(i){}try{return new n.ActiveXObject("Msxml2.XMLHTTP")}catch(r){}throw new Error("This browser does not support XMLHttpRequest.");});i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===4&&(i.status===200||i.status===401?t.done(i.status,i.responseText):t.fail(i.status,i.statusText,"client: ajax onreadystatechange"))};try{i.open(t.method,t.url,t.async===!1?!1:!0);typeof t.bearerToken=="string"&&(i.setRequestHeader("Authorization","Bearer "+t.bearerToken),i.setRequestHeader("Content-Type","application/json;charset=utf-8"));t.withCredentials&&(i.withCredentials=!0)}catch(r){t.fail(i.status,r,"onconnectionopen");return}try{i.send()}catch(r){t.fail(i.status,r,"client: ajax onsend")}},k=function(){return u.vfDependant===!0||i.vfDependant===!0},d=function(t){var i=t;try{n.btoa&&t&&t!=" "&&(i=n.btoa(t))}catch(r){}return i},y=function(t){var i=t;try{n.atob&&t&&t!=" "&&(i=n.atob(t))}catch(r){}return i},rt=function(n,r,e,o){if(o===!0&&(l=!0),t("init"),!n||n==" ")throw new Error("clientId parameter: Please provide a valid client id.");if(f.clientId=n,f.context=r,f.context==1)w(i,e);else if(f.context==2)w(u,e),ut();else throw new Error("context parameter: Please provide a valid context.");},ut=function(){var o=tt(n.document.location.href),i=g(o.hash),f=g(o.search),t,s;typeof i[r.accessToken]=="string"?(s=et(i),t=decodeURIComponent(i[r.state]).toString(),s?e(u.done)&&u.done(t):e(u.fail)&&u.fail("access token could not be persisted",t)):(t=decodeURIComponent(f[r.state]).toString(),typeof f[r.error]=="string"&&e(u.fail)&&u.fail(f[r.error],t))},c=function(n){return"rcoac."+f.clientId+"."+n},g=function(n){var f={},t=n.substring(1),i,e,u;if(t=typeof t=="string"?t.split("&"):[],t.length>=1&&t[0]!="")for(i in t)for(e in r)u=r[e],t[i].indexOf(u)>=0&&(f[u]=t[i].split("=")[1]);return f},ft=function(n){var t="https://"+i.domain+i.authorizePath;return t+="?client_id="+f.clientId,t+="&redirect_uri="+encodeURIComponent(i.redirectUri),t+="&response_type="+f.responseType,t+="&scope="+i.scope.replace(/\s/gi,"+"),typeof i.state=="string"&&(t+="&state="+encodeURIComponent(document.URL)),t+("&lang="+(n==="en"?"en":"fr"))},p=function(){t("getAccessToken");var u=c(o.accessToken),n,r="",f,i;return h()?(n=localStorage.getItem(u),n=y(n),n&&n!=" "&&(n=JSON.parse(n),f=new Date,n&&Date.parse(n.expires)>f&&(r=n.token))):(i=b(u),i=y(i),i&&typeof i=="string"&&i!=" "&&(n=JSON.parse(i),n&&(r=n.token))),r},et=function(n){t("tryPersistAccessToken");var e=n[r.accessToken],l=n[r.expiresIn],v=n[r.scope],y=n[r.vfsession],s,i,f;return typeof e=="string"&&e!=""&&e!=" "&&typeof l=="string"&&typeof v=="string"?(s=c(o.accessToken),i=new Date,i.setSeconds(parseInt(l)),i=i.toUTCString(),f=JSON.stringify({token:e,expires:i}),f=d(f),h()?(t(">> set localStorage item: "+s),localStorage.setItem(s,f)):a(s,f,i,u.cookieDomain),k()&&a(o.vfSession,y,i,u.cookieDomain),!0):!1},nt=function(n){t("deletePersistedAccessToken");var r=c(o.accessToken);n===401&&(h()?(t(">> remove localStorage item: "+r),localStorage.removeItem(r)):v(r,i.cookieDomain),k()&&v(o.vfSession,i.cookieDomain))},ot=function(n){t("getUserInfo");n=n||{};var r=n.done,u=n.fail,f=n.forceRefresh||!1,s=p(),o;s?(t(">> forceRefresh="+f),f!==!0&&(o=st()),o?e(r)&&r(200,o):(n.method="GET",n.url="https://"+i.domain+i.userInfoPath+(f===!0?"?forceRefresh=true":""),n.bearerToken=s,n.withCredentials=!1,n.async=n.async===!1?!1:!0,n.done=function(n,t){return function(i,r){r&&r!=" "&&(r=JSON.parse(r));r||(r={});i==200&&ht(r);t&&n(i,r)}}(r,e(r)),n.fail=function(n,t){return function(i,r,u){nt(i);t&&n(i,r,u)}}(u,e(u)),it(n))):e(u)&&u(401,"No valid access token found","client: getUserInfo")},st=function(){t("getPersistedUserInfo");var n,i="",r=c(o.userInfo);return n=h()?sessionStorage.getItem(r):b(r),n=y(n),n&&n!=" "&&(i=JSON.parse(n)),i},ht=function(n){t("tryPersistUserInfo");var u,r;return n&&i.persistUserInfo?(u=c(o.userInfo),r=typeof n!="string"?JSON.stringify(n):n,r=d(r),h()?(t(">> set localStorage item: "+u),sessionStorage.setItem(u,r)):a(u,r,"",i.cookieDomain),!0):!1},ct=function(n){t("deletePersistedUserInfo");var r=c(o.userInfo);n===401&&(h()?(t(" >> remove localStorage item: "+r),sessionStorage.removeItem(r)):v(r,i.cookieDomain))},lt=function(n,i){t("login");var r=ft(i);e(n)?n(r):document.location.href=r},at=function(n){t("logout");var u=p(),r;nt(401);ct(401);r=document.createElement("iframe");l||(r.style.display="none");r.height="1px";r.width="1px";r.onload=function(n,t,i){return function(){setTimeout(function(){document.body.removeChild(n);n=null},2e3);i&&t(200,{result:"ok"})}}(r,n,e(n));r.src="https://"+i.domain+i.logoutPath+"?access_token="+u;document.body.appendChild(r)};return{init:rt,getAccessToken:p,getUserInfo:ot,login:lt,logout:at}}(window)),function(n,t){typeof define=="function"&&define.amd?define("pluggins/rc.oauth2.loginbar-2.0.1",["module","pluggins/rc.oauth2.client-2.0.1"],function(n,i){var r=t;return n.config().hasOwnProperty("settings")&&r.init(i,n.config().settings,n.config().debug),r}):n.rcOAuth2LoginBar=t}(this,function(n){"use strict";var a=!1,f,o,i={id:{container:"rc-oauth2-loginbar",dropMenuContainer:"widgetLogin_containerSousMenu",dropMenuItems:"widgetLogin_DropMenuItems",dropMenuToggler:"widgetLogin_DropMenuToggler",loginWidget:"widgetLogin",loginLink:"rc-oauth2-login-link",logoutLink:"rc-oauth2-logout-link"},className:{userName:"wgt_userName",arrowIcon:"wgt_iconeFleche",arrowContainer:"wgt_containerIconeFleche"}},t={locale:"fr",i18n:{},forceLogin:!1,vfDependant:!1,modalMode:!1,dropMenuItems:[],loginComplete:null,logoutComplete:null},u=function(t){var i=o||n.document;return t.indexOf(".")===0?i.getElementsByClassName(t.split(".")[1]):t.indexOf("#")===0?n.document.getElementById(t.split("#")[1]):i.getElementsByTagName(t)},r=function(n){a===!0&&console&&console.log("rcOAuth2LoginBar: "+n)},e=function(n){return typeof n=="function"},s=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},g=function(n){n instanceof Event&&(n.preventDefault?(n.preventDefault(),n.stopPropagation()):event&&(event.returnValue=!1))},nt=function(n,t){var i,r;for(i in n)for(r in t)if(i==r){n[i]=t[r];break}},tt=function(n,t){if(n){var u=1,f=8,i=function(){var r=0,e=u,o=f;n.style&&n.style.height?r=parseInt(n.style.height.split("px")[0]):n.style.height="0px";r<t?(r>=t*.9&&(e=10,o=1),n.style.height=r+o+"px",setTimeout(i,e)):(n.style.overflow="",n.style.height="",n.style.display="block")},e=function(){n.style.display="none"};n.style.display=="none"?(n.style.overflow="hidden",n.style.display="block",i()):e()}else r("toggleSlide: element is undefined")},h=function(n,t){return new RegExp(" "+t+" ").test(" "+n.className+" ")},it=function(n,t){h(n,t)||(n.className+=" "+t)},v=function(n,t){var i=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(h(n,t)){while(i.indexOf(" "+t+" ")>=0)i=i.replace(" "+t+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")}},rt=function(n,t){n&&(h(n,t)?v(n,t):it(n,t))},y=function(n,t,i,r){if(n){var u=n.getAttribute(t);u===i?n.setAttribute(t,r):u===r&&n.setAttribute(t,i)}},ut=function(){return t.vfDependant===!0&&n.viafoura},ft=function(){t.i18n=t.i18n||{};t.i18n.fr||(t.i18n.fr={});t.i18n.fr.loginWidgetAriaLabel="Barre de connexion au centre des membres";t.i18n.fr.loginLinkLabel="Connexion";t.i18n.fr.loginLinkTitle="Connexion au centre des membres";t.i18n.fr.logoutLinkLabel="Déconnexion";t.i18n.fr.logoutLinkTitle="Déconnexion du centre des membres";t.i18n.fr.dropMenuTogglerLabel="Ouvrez le menu d'options de compte";t.i18n.fr.dropMenuContainerAriaLabel="Menu d'options de compte";t.i18n.fr.profileImgAlt="Avatar d'utilisateur";t.i18n.fr.targetBlankText="(nouvelle fenêtre)";t.i18n.fr.loggedInMessage||(t.i18n.fr.loggedInMessage="{0}");t.i18n.en||(t.i18n.en={});t.i18n.en.loginWidgetAriaLabel="Members Center account information";t.i18n.en.loginLinkLabel="Sign-in";t.i18n.en.loginLinkTitle="Sign-in to the members center";t.i18n.en.logoutLinkLabel="Sign-out";t.i18n.en.logoutLinkTitle="Sign-out of the members center";t.i18n.en.dropMenuTogglerLabel="Expand the account options menu";t.i18n.en.dropMenuContainerAriaLabel="Account options menu";t.i18n.en.profileImgAlt="User profile picture";t.i18n.en.targetBlankText="(new window)";t.i18n.en.loggedInMessage||(t.i18n.en.loggedInMessage="{0}")},et=function(n,e,s){if(f=n,s===!0&&(a=!0,r("init")),o=u("#"+i.id.container),o==null)throw new Error("Please ensure that you have defined a container element with id "+i.id.container);nt(t,e);ft();at()},p=function(){var n=t.locale,r=t.i18n;return'<div id="widgetLogin_btnLogin" aria-label="'+r[n].loginWidgetAriaLabel+'"><button type="button" id="'+i.id.loginLink+'"  title="'+r[n].loginLinkTitle+'">'+r[n].loginLinkLabel+"<\/button><\/div>"},c=function(){o.innerHTML=p();s(u("#"+i.id.loginLink),"click",l)},ot=function(n){var r=t.locale,u=t.i18n,f='<div id="'+i.id.loginWidget+'" aria-label="'+u[r].loginWidgetAriaLabel+'"><div id="widgetLogin_MainContainer"><div id="widgetLogin_containerUserInfo"><button type="button" id="'+i.id.dropMenuToggler+'" aria-controls="'+i.id.dropMenuContainer+'" aria-expanded="false"><span class="wgt_userImg">     <span class="wgt_userProfileImage">';return f+=n.picture&&n.picture!=" "&&n.picture.indexOf("avatar_default")==-1?'<img id="smallProfilPict" class="smallCircular" width="37" alt="'+u[r].profileImgAlt+" "+n.name+'" src="'+n.picture+'"/>':'<span class="icon-avatar_default"><\/span>',f+('<\/span>     <\/span><span class="'+i.className.userName+'">'+w(n)+'<\/span><span class="wgt_label">'+u[r].dropMenuTogglerLabel+'<\/span><span class="'+i.className.arrowContainer+'" ><span class="'+i.className.arrowIcon+'"><\/span><\/span><\/button><\/div><div id="'+i.id.dropMenuContainer+'" aria-label="'+u[r].dropMenuContainerAriaLabel+'"><div class="wgt_sousMenuWrapper"><ul id="'+i.id.dropMenuItems+'" role="menu"><li role="menuitem"><button type="button" id ="'+i.id.logoutLink+'"  title="'+u[r].logoutLinkTitle+'">'+u[r].logoutLinkLabel+"<\/button><\/li><\/ul><\/div><\/div><\/div><\/div>")},st=function(n){o.innerHTML=ot(n);ht();s(u("#"+i.id.logoutLink),"click",k);lt()},ht=function(){var y=t.dropMenuItems,k=y.length-1,o=0,p=u("#"+i.id.dropMenuItems),c=t.i18n,l=t.locale,f,h,r,w;for(o;o<=k;o++){f=y[o];h=document.createElement("LI");h.setAttribute("role","menuitem");e(f.action)?(r=document.createElement("BUTTON"),s(r,"click",f.action),r.setAttribute("type","button")):typeof f.action=="string"&&(r=document.createElement("A"),r.setAttribute("href",f.action));w=n.document.createTextNode(c[l][f.label]);r.appendChild(w);var a=c[l][f.title],v=f.target,b=c[l].targetBlankText;a&&(v&&(r.setAttribute("target",v),b&&v=="_blank"&&(a+=" "+b)),r.setAttribute("title",a));h.appendChild(r);p.insertBefore(h,p.lastElementChild)}},w=function(n){var i=t.locale,r=t.i18n;return r[i].loggedInMessage.replace(/\{0\}/gi,n.given_name?n.given_name:n.name?n.name.split(" ")[0]:"")},ct=function(n){var t=u("."+i.className.userName)[0];t.innerHTML=w(n)},lt=function(){var r=u("#"+i.id.dropMenuToggler),t=u("#"+i.id.dropMenuContainer),f=u("."+i.className.arrowIcon)[0],e;t.style.display="block";e=t.clientHeight;t.style.display="none";t.style.height="0px";s(r,"click",function(n){g(n);tt(t,e);rt(f,"flecheToggleRotate");y(this,"aria-expanded","true","false")});s(n.document,"click",function(){t.style.display="none";v(f,"flecheToggleRotate");y(r,"aria-expanded","true","false")})},at=function(){f.getUserInfo({forceRefresh:t.forceLogin,done:vt,fail:b})},vt=function(n,i){if(r("getUserInfoDone"),n===200){if(r(">> status="+n),st(i),e(t.loginComplete)){var u=f.getAccessToken();t.loginComplete(u,i)}}else b(n,"getUserInfoDone called with a 4xx/5xx HTTP status","loginbar: getUserInfoDone")},b=function(n,i,u){r("getUserInfoFail");r(">> status= "+n+", text= "+i+", case= "+u);t.forceLogin===!0&&l();c()},l=function(){t.modalMode?f.login(yt,t.locale):f.login(null,t.locale)},yt=function(t){n.open(t,"pop","scrollbars=yes,resizable=yes,,width=600,height=800")},k=function(){f.logout(pt)},pt=function(i,u){if(r("logout"),r(">> httpStatus="+i+", result:"+u.result),u)var f=u.result;ut()&&n.viafoura.session.logout();c(p());e(t.logoutComplete)&&t.logoutComplete()},wt=function(n){n=n||{};r("refresh");u("."+i.className.userName)[0]?f.getUserInfo({forceRefresh:!0,done:function(n){return function(t,i){bt(t,i,n)}}(n),fail:function(n){return function(t,i,r){d(t,i,r,n)}}(n)}):e(n.fail)&&n.fail(403,"user is not logged in; refresh call not applicable","loginbar: refresh")},bt=function(n,t,i){r("refreshDone");r(">> status = "+n);n===200?(ct(t),i&&e(i.done)&&i.done(n,t)):d(n,"refreshDone called with a 4xx/5xx HTTP status","loginbar: refreshDone",i)},d=function(n,i,u,f){r("refreshFail");r(">> status = "+n+", text= "+i+", case= "+u);f&&e(f.fail)&&f.fail(n,i,u);c();t.forceLogin===!0&&l()};return{init:et,refresh:wt,logout:k}}(window)),function(n){"use strict";typeof define=="function"&&define.amd?define("pluggins/slick",["jquery"],n):typeof exports!="undefined"?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var t=window.Slick||{};t=function(){function i(i,r){var u=this,f;u.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:n(i),appendDots:n(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous<\/button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next<\/button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(n,t){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(t+1)+"<\/button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3};u.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1};n.extend(u,u.initials);u.activeBreakpoint=null;u.animType=null;u.animProp=null;u.breakpoints=[];u.breakpointSettings=[];u.cssTransitions=!1;u.hidden="hidden";u.paused=!1;u.positionProp=null;u.respondTo=null;u.rowCount=1;u.shouldClick=!0;u.$slider=n(i);u.$slidesCache=null;u.transformType=null;u.transitionType=null;u.visibilityChange="visibilitychange";u.windowWidth=0;u.windowTimer=null;f=n(i).data("slick")||{};u.options=n.extend({},u.defaults,f,r);u.currentSlide=u.options.initialSlide;u.originalSettings=u.options;typeof document.mozHidden!="undefined"?(u.hidden="mozHidden",u.visibilityChange="mozvisibilitychange"):typeof document.webkitHidden!="undefined"&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange");u.autoPlay=n.proxy(u.autoPlay,u);u.autoPlayClear=n.proxy(u.autoPlayClear,u);u.changeSlide=n.proxy(u.changeSlide,u);u.clickHandler=n.proxy(u.clickHandler,u);u.selectHandler=n.proxy(u.selectHandler,u);u.setPosition=n.proxy(u.setPosition,u);u.swipeHandler=n.proxy(u.swipeHandler,u);u.dragHandler=n.proxy(u.dragHandler,u);u.keyHandler=n.proxy(u.keyHandler,u);u.autoPlayIterator=n.proxy(u.autoPlayIterator,u);u.instanceUid=t++;u.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;u.registerBreakpoints();u.init(!0);u.checkResponsive(!0)}var t=0;return i}();t.prototype.addSlide=t.prototype.slickAdd=function(t,i,r){var u=this;if(typeof i=="boolean")r=i,i=null;else if(i<0||i>=u.slideCount)return!1;u.unload();typeof i=="number"?i===0&&u.$slides.length===0?n(t).appendTo(u.$slideTrack):r?n(t).insertBefore(u.$slides.eq(i)):n(t).insertAfter(u.$slides.eq(i)):r===!0?n(t).prependTo(u.$slideTrack):n(t).appendTo(u.$slideTrack);u.$slides=u.$slideTrack.children(this.options.slide);u.$slideTrack.children(this.options.slide).detach();u.$slideTrack.append(u.$slides);u.$slides.each(function(t,i){n(i).attr("data-slick-index",t)});u.$slidesCache=u.$slides;u.reinit()};t.prototype.animateHeight=function(){var n=this,t;n.options.slidesToShow===1&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.animate({height:t},n.options.speed))};t.prototype.animateSlide=function(t,i){var u={},r=this;r.animateHeight();r.options.rtl===!0&&r.options.vertical===!1&&(t=-t);r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?(r.options.rtl===!0&&(r.currentLeft=-r.currentLeft),n({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(n){n=Math.ceil(n);r.options.vertical===!1?(u[r.animType]="translate("+n+"px, 0px)",r.$slideTrack.css(u)):(u[r.animType]="translate(0px,"+n+"px)",r.$slideTrack.css(u))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),u[r.animType]=r.options.vertical===!1?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(u),i&&setTimeout(function(){r.disableTransition();i.call()},r.options.speed))};t.prototype.asNavFor=function(t){var r=this,i=r.options.asNavFor;i&&i!==null&&(i=n(i).not(r.$slider));i!==null&&typeof i=="object"&&i.each(function(){var i=n(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})};t.prototype.applyTransition=function(n){var t=this,i={};i[t.transitionType]=t.options.fade===!1?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase;t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)};t.prototype.autoPlay=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer);n.slideCount>n.options.slidesToShow&&n.paused!==!0&&(n.autoPlayTimer=setInterval(n.autoPlayIterator,n.options.autoplaySpeed))};t.prototype.autoPlayClear=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer)};t.prototype.autoPlayIterator=function(){var n=this;n.options.infinite===!1?n.direction===1?(n.currentSlide+1===n.slideCount-1&&(n.direction=0),n.slideHandler(n.currentSlide+n.options.slidesToScroll)):(n.currentSlide-1==0&&(n.direction=1),n.slideHandler(n.currentSlide-n.options.slidesToScroll)):n.slideHandler(n.currentSlide+n.options.slidesToScroll)};t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=n(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=n(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))};t.prototype.buildDots=function(){var t=this,i,r;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow){for(r='<ul class="'+t.options.dotsClass+'">',i=0;i<=t.getDotCount();i+=1)r+="<li>"+t.options.customPaging.call(this,t,i)+"<\/li>";r+="<\/ul>";t.$dots=n(r).appendTo(t.options.appendDots);t.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}};t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide");t.slideCount=t.$slides.length;t.$slides.each(function(t,i){n(i).attr("data-slick-index",t).data("originalStyling",n(i).attr("style")||"")});t.$slider.addClass("slick-slider");t.$slideTrack=t.slideCount===0?n('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent();t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent();t.$slideTrack.css("opacity",0);(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1);n("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading");t.setupInfinite();t.buildArrows();t.buildDots();t.updateDots();t.setSlideClasses(typeof t.currentSlide=="number"?t.currentSlide:0);t.options.draggable===!0&&t.$list.addClass("draggable")};t.prototype.buildRows=function(){var n=this,t,i,r,f,c,u,e,o,s,h;if(f=document.createDocumentFragment(),u=n.$slider.children(),n.options.rows>1){for(e=n.options.slidesPerRow*n.options.rows,c=Math.ceil(u.length/e),t=0;t<c;t++){for(o=document.createElement("div"),i=0;i<n.options.rows;i++){for(s=document.createElement("div"),r=0;r<n.options.slidesPerRow;r++)h=t*e+(i*n.options.slidesPerRow+r),u.get(h)&&s.appendChild(u.get(h));o.appendChild(s)}f.appendChild(o)}n.$slider.html(f);n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}};t.prototype.checkResponsive=function(t,i){var r=this,f,u,e,o=!1,s=r.$slider.width(),h=window.innerWidth||n(window).width();if(r.respondTo==="window"?e=h:r.respondTo==="slider"?e=s:r.respondTo==="min"&&(e=Math.min(h,s)),r.options.responsive&&r.options.responsive.length&&r.options.responsive!==null){u=null;for(f in r.breakpoints)r.breakpoints.hasOwnProperty(f)&&(r.originalSettings.mobileFirst===!1?e<r.breakpoints[f]&&(u=r.breakpoints[f]):e>r.breakpoints[f]&&(u=r.breakpoints[f]));u!==null?r.activeBreakpoint!==null?(u!==r.activeBreakpoint||i)&&(r.activeBreakpoint=u,r.breakpointSettings[u]==="unslick"?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):(r.activeBreakpoint=u,r.breakpointSettings[u]==="unslick"?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):r.activeBreakpoint!==null&&(r.activeBreakpoint=null,r.options=r.originalSettings,t===!0&&(r.currentSlide=r.options.initialSlide),r.refresh(t),o=u);t||o===!1||r.$slider.trigger("breakpoint",[r,o])}};t.prototype.changeSlide=function(t,i){var r=this,u=n(t.target),f,e,o,s;u.is("a")&&t.preventDefault();u.is("li")||(u=u.closest("li"));o=r.slideCount%r.options.slidesToScroll!=0;f=o?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll;switch(t.data.message){case"previous":e=f===0?r.options.slidesToScroll:r.options.slidesToShow-f;r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-e,!1,i);break;case"next":e=f===0?r.options.slidesToScroll:f;r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+e,!1,i);break;case"index":s=t.data.index===0?0:t.data.index||u.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(s),!1,i);u.children().trigger("focus");break;default:return}};t.prototype.checkNavigable=function(n){var u=this,t,i,r;if(t=u.getNavigableIndexes(),i=0,n>t[t.length-1])n=t[t.length-1];else for(r in t){if(n<t[r]){n=i;break}i=t[r]}return n};t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&t.$dots!==null&&(n("li",t.$dots).off("click.slick",t.changeSlide),t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0&&n("li",t.$dots).off("mouseenter.slick",n.proxy(t.setPaused,t,!0)).off("mouseleave.slick",n.proxy(t.setPaused,t,!1)));t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide));t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler);t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler);t.$list.off("touchend.slick mouseup.slick",t.swipeHandler);t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler);t.$list.off("click.slick",t.clickHandler);n(document).off(t.visibilityChange,t.visibility);t.$list.off("mouseenter.slick",n.proxy(t.setPaused,t,!0));t.$list.off("mouseleave.slick",n.proxy(t.setPaused,t,!1));t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler);t.options.focusOnSelect===!0&&n(t.$slideTrack).children().off("click.slick",t.selectHandler);n(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange);n(window).off("resize.slick.slick-"+t.instanceUid,t.resize);n("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault);n(window).off("load.slick.slick-"+t.instanceUid,t.setPosition);n(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)};t.prototype.cleanUpRows=function(){var n=this,t;n.options.rows>1&&(t=n.$slides.children().children(),t.removeAttr("style"),n.$slider.html(t))};t.prototype.clickHandler=function(n){var t=this;t.shouldClick===!1&&(n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault())};t.prototype.destroy=function(t){var i=this;i.autoPlayClear();i.touchObject={};i.cleanUpEvents();n(".slick-cloned",i.$slider).detach();i.$dots&&i.$dots.remove();i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove());i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove());i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){n(this).attr("style",n(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides));i.cleanUpRows();i.$slider.removeClass("slick-slider");i.$slider.removeClass("slick-initialized");i.unslicked=!0;t||i.$slider.trigger("destroy",[i])};t.prototype.disableTransition=function(n){var t=this,i={};i[t.transitionType]="";t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(n).css(i)};t.prototype.fadeSlide=function(n,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(n).css({zIndex:i.options.zIndex}),i.$slides.eq(n).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(n),i.$slides.eq(n).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(n);t.call()},i.options.speed))};t.prototype.fadeSlideOut=function(n){var t=this;t.cssTransitions===!1?t.$slides.eq(n).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(n),t.$slides.eq(n).css({opacity:0,zIndex:t.options.zIndex-2}))};t.prototype.filterSlides=t.prototype.slickFilter=function(n){var t=this;n!==null&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(n).appendTo(t.$slideTrack),t.reinit())};t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var n=this;return n.currentSlide};t.prototype.getDotCount=function(){var n=this,t=0,i=0,r=0;if(n.options.infinite===!0)while(t<n.slideCount)++r,t=i+n.options.slidesToScroll,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else if(n.options.centerMode===!0)r=n.slideCount;else while(t<n.slideCount)++r,t=i+n.options.slidesToScroll,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return r-1};t.prototype.getLeft=function(n){var t=this,f,r,u=0,i;return t.slideOffset=0,r=t.$slides.first().outerHeight(!0),t.options.infinite===!0?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideWidth*t.options.slidesToShow*-1,u=r*t.options.slidesToShow*-1),t.slideCount%t.options.slidesToScroll!=0&&n+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(n>t.slideCount?(t.slideOffset=(t.options.slidesToShow-(n-t.slideCount))*t.slideWidth*-1,u=(t.options.slidesToShow-(n-t.slideCount))*r*-1):(t.slideOffset=t.slideCount%t.options.slidesToScroll*t.slideWidth*-1,u=t.slideCount%t.options.slidesToScroll*r*-1))):n+t.options.slidesToShow>t.slideCount&&(t.slideOffset=(n+t.options.slidesToShow-t.slideCount)*t.slideWidth,u=(n+t.options.slidesToShow-t.slideCount)*r),t.slideCount<=t.options.slidesToShow&&(t.slideOffset=0,u=0),t.options.centerMode===!0&&t.options.infinite===!0?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:t.options.centerMode===!0&&(t.slideOffset=0,t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),f=t.options.vertical===!1?n*t.slideWidth*-1+t.slideOffset:n*r*-1+u,t.options.variableWidth===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow),f=t.options.rtl===!0?i[0]?(t.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,t.options.centerMode===!0&&(i=t.slideCount<=t.options.slidesToShow||t.options.infinite===!1?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow+1),f=(t.options.rtl===!0?i[0]?(t.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0)+(t.$list.width()-i.outerWidth())/2)),f};t.prototype.getOption=t.prototype.slickGetOption=function(n){var t=this;return t.options[n]};t.prototype.getNavigableIndexes=function(){var n=this,t=0,i=0,u=[],r;for(n.options.infinite===!1?r=n.slideCount:(t=n.options.slidesToScroll*-1,i=n.options.slidesToScroll*-1,r=n.slideCount*2);t<r;)u.push(t),t=i+n.options.slidesToScroll,i+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return u};t.prototype.getSlick=function(){return this};t.prototype.getSlideCount=function(){var t=this,i,r;return r=t.options.centerMode===!0?t.slideWidth*Math.floor(t.options.slidesToShow/2):0,t.options.swipeToSlide===!0?(t.$slideTrack.find(".slick-slide").each(function(u,f){if(f.offsetLeft-r+n(f).outerWidth()/2>t.swipeLeft*-1)return i=f,!1}),Math.abs(n(i).attr("data-slick-index")-t.currentSlide)||1):t.options.slidesToScroll};t.prototype.goTo=t.prototype.slickGoTo=function(n,t){var i=this;i.changeSlide({data:{message:"index",index:parseInt(n)}},t)};t.prototype.init=function(t){var i=this;n(i.$slider).hasClass("slick-initialized")||(n(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots());t&&i.$slider.trigger("init",[i]);i.options.accessibility===!0&&i.initADA()};t.prototype.initArrowEvents=function(){var n=this;if(n.options.arrows===!0&&n.slideCount>n.options.slidesToShow){n.$prevArrow.on("click.slick",{message:"previous"},n.changeSlide);n.$nextArrow.on("click.slick",{message:"next"},n.changeSlide)}};t.prototype.initDotEvents=function(){var t=this;if(t.options.dots===!0&&t.slideCount>t.options.slidesToShow)n("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide);if(t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&t.options.autoplay===!0)n("li",t.$dots).on("mouseenter.slick",n.proxy(t.setPaused,t,!0)).on("mouseleave.slick",n.proxy(t.setPaused,t,!1))};t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents();t.initDotEvents();t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler);t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler);t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler);t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler);t.$list.on("click.slick",t.clickHandler);n(document).on(t.visibilityChange,n.proxy(t.visibility,t));t.$list.on("mouseenter.slick",n.proxy(t.setPaused,t,!0));t.$list.on("mouseleave.slick",n.proxy(t.setPaused,t,!1));if(t.options.accessibility===!0)t.$list.on("keydown.slick",t.keyHandler);if(t.options.focusOnSelect===!0)n(t.$slideTrack).children().on("click.slick",t.selectHandler);n(window).on("orientationchange.slick.slick-"+t.instanceUid,n.proxy(t.orientationChange,t));n(window).on("resize.slick.slick-"+t.instanceUid,n.proxy(t.resize,t));n("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault);n(window).on("load.slick.slick-"+t.instanceUid,t.setPosition);n(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)};t.prototype.initUI=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.show(),n.$nextArrow.show());n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.show();n.options.autoplay===!0&&n.autoPlay()};t.prototype.keyHandler=function(n){var t=this;n.target.tagName.match("TEXTAREA|INPUT|SELECT")||(n.keyCode===37&&t.options.accessibility===!0?t.changeSlide({data:{message:"previous"}}):n.keyCode===39&&t.options.accessibility===!0&&t.changeSlide({data:{message:"next"}}))};t.prototype.lazyLoad=function(){function f(t){n("img[data-lazy]",t).each(function(){var t=n(this),i=n(this).attr("data-lazy"),r=document.createElement("img");r.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")})})};r.src=i})}var t=this,e,r,i,u;t.options.centerMode===!0?t.options.infinite===!0?(i=t.currentSlide+(t.options.slidesToShow/2+1),u=i+t.options.slidesToShow+2):(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),u=2+(t.options.slidesToShow/2+1)+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,u=i+t.options.slidesToShow,t.options.fade===!0&&(i>0&&i--,u<=t.slideCount&&u++));e=t.$slider.find(".slick-slide").slice(i,u);f(e);t.slideCount<=t.options.slidesToShow?(r=t.$slider.find(".slick-slide"),f(r)):t.currentSlide>=t.slideCount-t.options.slidesToShow?(r=t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow),f(r)):t.currentSlide===0&&(r=t.$slider.find(".slick-cloned").slice(t.options.slidesToShow*-1),f(r))};t.prototype.loadSlider=function(){var n=this;n.setPosition();n.$slideTrack.css({opacity:1});n.$slider.removeClass("slick-loading");n.initUI();n.options.lazyLoad==="progressive"&&n.progressiveLazyLoad()};t.prototype.next=t.prototype.slickNext=function(){var n=this;n.changeSlide({data:{message:"next"}})};t.prototype.orientationChange=function(){var n=this;n.checkResponsive();n.setPosition()};t.prototype.pause=t.prototype.slickPause=function(){var n=this;n.autoPlayClear();n.paused=!0};t.prototype.play=t.prototype.slickPlay=function(){var n=this;n.paused=!1;n.autoPlay()};t.prototype.postSlide=function(n){var t=this;t.$slider.trigger("afterChange",[t,n]);t.animating=!1;t.setPosition();t.swipeLeft=null;t.options.autoplay===!0&&t.paused===!1&&t.autoPlay();t.options.accessibility===!0&&t.initADA()};t.prototype.prev=t.prototype.slickPrev=function(){var n=this;n.changeSlide({data:{message:"previous"}})};t.prototype.preventDefault=function(n){n.preventDefault()};t.prototype.progressiveLazyLoad=function(){var t=this,r,i;r=n("img[data-lazy]",t.$slider).length;r>0&&(i=n("img[data-lazy]",t.$slider).first(),i.attr("src",null),i.attr("src",i.attr("data-lazy")).removeClass("slick-loading").load(function(){i.removeAttr("data-lazy");t.progressiveLazyLoad();t.options.adaptiveHeight===!0&&t.setPosition()}).error(function(){i.removeAttr("data-lazy");t.progressiveLazyLoad()}))};t.prototype.refresh=function(t){var i=this,r,u;u=i.slideCount-i.options.slidesToShow;i.options.infinite||(i.slideCount<=i.options.slidesToShow?i.currentSlide=0:i.currentSlide>u&&(i.currentSlide=u));r=i.currentSlide;i.destroy(!0);n.extend(i,i.initials,{currentSlide:r});i.init();t||i.changeSlide({data:{message:"index",index:r}},!1)};t.prototype.registerBreakpoints=function(){var t=this,u,f,i,r=t.options.responsive||null;if(n.type(r)==="array"&&r.length){t.respondTo=t.options.respondTo||"window";for(u in r)if(i=t.breakpoints.length-1,f=r[u].breakpoint,r.hasOwnProperty(u)){while(i>=0)t.breakpoints[i]&&t.breakpoints[i]===f&&t.breakpoints.splice(i,1),i--;t.breakpoints.push(f);t.breakpointSettings[f]=r[u].settings}t.breakpoints.sort(function(n,i){return t.options.mobileFirst?n-i:i-n})}};t.prototype.reinit=function(){var t=this;if(t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&t.currentSlide!==0&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0)n(t.$slideTrack).children().on("click.slick",t.selectHandler);t.setSlideClasses(0);t.setPosition();t.$slider.trigger("reInit",[t]);t.options.autoplay===!0&&t.focusHandler()};t.prototype.resize=function(){var t=this;n(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=n(window).width();t.checkResponsive();t.unslicked||t.setPosition()},50))};t.prototype.removeSlide=t.prototype.slickRemove=function(n,t,i){var r=this;if(typeof n=="boolean"?(t=n,n=t===!0?0:r.slideCount-1):n=t===!0?--n:n,r.slideCount<1||n<0||n>r.slideCount-1)return!1;r.unload();i===!0?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(n).remove();r.$slides=r.$slideTrack.children(this.options.slide);r.$slideTrack.children(this.options.slide).detach();r.$slideTrack.append(r.$slides);r.$slidesCache=r.$slides;r.reinit()};t.prototype.setCSS=function(n){var t=this,i={},r,u;t.options.rtl===!0&&(n=-n);r=t.positionProp=="left"?Math.ceil(n)+"px":"0px";u=t.positionProp=="top"?Math.ceil(n)+"px":"0px";i[t.positionProp]=n;t.transformsEnabled===!1?t.$slideTrack.css(i):(i={},t.cssTransitions===!1?(i[t.animType]="translate("+r+", "+u+")",t.$slideTrack.css(i)):(i[t.animType]="translate3d("+r+", "+u+", 0px)",t.$slideTrack.css(i)))};t.prototype.setDimensions=function(){var n=this,t;n.options.vertical===!1?n.options.centerMode===!0&&n.$list.css({padding:"0px "+n.options.centerPadding}):(n.$list.height(n.$slides.first().outerHeight(!0)*n.options.slidesToShow),n.options.centerMode===!0&&n.$list.css({padding:n.options.centerPadding+" 0px"}));n.listWidth=n.$list.width();n.listHeight=n.$list.height();n.options.vertical===!1&&n.options.variableWidth===!1?(n.slideWidth=Math.ceil(n.listWidth/n.options.slidesToShow),n.$slideTrack.width(Math.ceil(n.slideWidth*n.$slideTrack.children(".slick-slide").length))):n.options.variableWidth===!0?n.$slideTrack.width(5e3*n.slideCount):(n.slideWidth=Math.ceil(n.listWidth),n.$slideTrack.height(Math.ceil(n.$slides.first().outerHeight(!0)*n.$slideTrack.children(".slick-slide").length)));t=n.$slides.first().outerWidth(!0)-n.$slides.first().width();n.options.variableWidth===!1&&n.$slideTrack.children(".slick-slide").width(n.slideWidth-t)};t.prototype.setFade=function(){var t=this,i;t.$slides.each(function(r,u){i=t.slideWidth*r*-1;t.options.rtl===!0?n(u).css({position:"relative",right:i,top:0,zIndex:t.options.zIndex-2,opacity:0}):n(u).css({position:"relative",left:i,top:0,zIndex:t.options.zIndex-2,opacity:0})});t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})};t.prototype.setHeight=function(){var n=this,t;n.options.slidesToShow===1&&n.options.adaptiveHeight===!0&&n.options.vertical===!1&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.css("height",t))};t.prototype.setOption=t.prototype.slickSetOption=function(t,i,r){var u=this,f,e;if(t==="responsive"&&n.type(i)==="array")for(e in i)if(n.type(u.options.responsive)!=="array")u.options.responsive=[i[e]];else{for(f=u.options.responsive.length-1;f>=0;)u.options.responsive[f].breakpoint===i[e].breakpoint&&u.options.responsive.splice(f,1),f--;u.options.responsive.push(i[e])}else u.options[t]=i;r===!0&&(u.unload(),u.reinit())};t.prototype.setPosition=function(){var n=this;n.setDimensions();n.setHeight();n.options.fade===!1?n.setCSS(n.getLeft(n.currentSlide)):n.setFade();n.$slider.trigger("setPosition",[n])};t.prototype.setProps=function(){var n=this,t=document.body.style;n.positionProp=n.options.vertical===!0?"top":"left";n.positionProp==="top"?n.$slider.addClass("slick-vertical"):n.$slider.removeClass("slick-vertical");(t.WebkitTransition!==undefined||t.MozTransition!==undefined||t.msTransition!==undefined)&&n.options.useCSS===!0&&(n.cssTransitions=!0);n.options.fade&&(typeof n.options.zIndex=="number"?n.options.zIndex<3&&(n.options.zIndex=3):n.options.zIndex=n.defaults.zIndex);t.OTransform!==undefined&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(n.animType=!1));t.MozTransform!==undefined&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition",t.perspectiveProperty===undefined&&t.MozPerspective===undefined&&(n.animType=!1));t.webkitTransform!==undefined&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition",t.perspectiveProperty===undefined&&t.webkitPerspective===undefined&&(n.animType=!1));t.msTransform!==undefined&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition",t.msTransform===undefined&&(n.animType=!1));t.transform!==undefined&&n.animType!==!1&&(n.animType="transform",n.transformType="transform",n.transitionType="transition");n.transformsEnabled=n.options.useTransform&&n.animType!==null&&n.animType!==!1};t.prototype.setSlideClasses=function(n){var t=this,u,i,r,f;i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");t.$slides.eq(n).addClass("slick-current");t.options.centerMode===!0?(u=Math.floor(t.options.slidesToShow/2),t.options.infinite===!0&&(n>=u&&n<=t.slideCount-1-u?t.$slides.slice(n-u,n+u+1).addClass("slick-active").attr("aria-hidden","false"):(r=t.options.slidesToShow+n,i.slice(r-u+1,r+u+2).addClass("slick-active").attr("aria-hidden","false")),n===0?i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center"):n===t.slideCount-1&&i.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(n).addClass("slick-center")):n>=0&&n<=t.slideCount-t.options.slidesToShow?t.$slides.slice(n,n+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=t.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(f=t.slideCount%t.options.slidesToShow,r=t.options.infinite===!0?t.options.slidesToShow+n:n,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-n<t.options.slidesToShow?i.slice(r-(t.options.slidesToShow-f),r+f).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));t.options.lazyLoad==="ondemand"&&t.lazyLoad()};t.prototype.setupInfinite=function(){var t=this,i,r,u;if(t.options.fade===!0&&(t.options.centerMode=!1),t.options.infinite===!0&&t.options.fade===!1&&(r=null,t.slideCount>t.options.slidesToShow)){for(u=t.options.centerMode===!0?t.options.slidesToShow+1:t.options.slidesToShow,i=t.slideCount;i>t.slideCount-u;i-=1)r=i-1,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r-t.slideCount).prependTo(t.$slideTrack).addClass("slick-cloned");for(i=0;i<u;i+=1)r=i,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r+t.slideCount).appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){n(this).attr("id","")})}};t.prototype.setPaused=function(n){var t=this;t.options.autoplay===!0&&t.options.pauseOnHover===!0&&(t.paused=n,n?t.autoPlayClear():t.autoPlay())};t.prototype.selectHandler=function(t){var i=this,u=n(t.target).is(".slick-slide")?n(t.target):n(t.target).parents(".slick-slide"),r=parseInt(u.attr("data-slick-index"));if(r||(r=0),i.slideCount<=i.options.slidesToShow){i.setSlideClasses(r);i.asNavFor(r);return}i.slideHandler(r)};t.prototype.slideHandler=function(n,t,i){var u,f,o,e,s=null,r=this;if((t=t||!1,r.animating!==!0||r.options.waitForAnimate!==!0)&&(r.options.fade!==!0||r.currentSlide!==n)&&!(r.slideCount<=r.options.slidesToShow)){if(t===!1&&r.asNavFor(n),u=n,s=r.getLeft(u),e=r.getLeft(r.currentSlide),r.currentLeft=r.swipeLeft===null?e:r.swipeLeft,r.options.infinite===!1&&r.options.centerMode===!1&&(n<0||n>r.getDotCount()*r.options.slidesToScroll)){r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u));return}if(r.options.infinite===!1&&r.options.centerMode===!0&&(n<0||n>r.slideCount-r.options.slidesToScroll)){r.options.fade===!1&&(u=r.currentSlide,i!==!0?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u));return}if(r.options.autoplay===!0&&clearInterval(r.autoPlayTimer),f=u<0?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+u:u>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:u-r.slideCount:u,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,f]),o=r.currentSlide,r.currentSlide=f,r.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),r.options.fade===!0){i!==!0?(r.fadeSlideOut(o),r.fadeSlide(f,function(){r.postSlide(f)})):r.postSlide(f);r.animateHeight();return}i!==!0?r.animateSlide(s,function(){r.postSlide(f)}):r.postSlide(f)}};t.prototype.startLoad=function(){var n=this;n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.hide(),n.$nextArrow.hide());n.options.dots===!0&&n.slideCount>n.options.slidesToShow&&n.$dots.hide();n.$slider.addClass("slick-loading")};t.prototype.swipeDirection=function(){var i,r,u,n,t=this;return(i=t.touchObject.startX-t.touchObject.curX,r=t.touchObject.startY-t.touchObject.curY,u=Math.atan2(r,i),n=Math.round(u*180/Math.PI),n<0&&(n=360-Math.abs(n)),n<=45&&n>=0)?t.options.rtl===!1?"left":"right":n<=360&&n>=315?t.options.rtl===!1?"left":"right":n>=135&&n<=225?t.options.rtl===!1?"right":"left":t.options.verticalSwiping===!0?n>=35&&n<=135?"left":"right":"vertical"};t.prototype.swipeEnd=function(){var n=this,t;if(n.dragging=!1,n.shouldClick=n.touchObject.swipeLength>10?!1:!0,n.touchObject.curX===undefined)return!1;if(n.touchObject.edgeHit===!0&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe)switch(n.swipeDirection()){case"left":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount();n.slideHandler(t);n.currentDirection=0;n.touchObject={};n.$slider.trigger("swipe",[n,"left"]);break;case"right":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount();n.slideHandler(t);n.currentDirection=1;n.touchObject={};n.$slider.trigger("swipe",[n,"right"])}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})};t.prototype.swipeHandler=function(n){var t=this;if(t.options.swipe!==!1&&(!("ontouchend"in document)||t.options.swipe!==!1)&&(t.options.draggable!==!1||n.type.indexOf("mouse")===-1)){t.touchObject.fingerCount=n.originalEvent&&n.originalEvent.touches!==undefined?n.originalEvent.touches.length:1;t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold;t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold);switch(n.data.action){case"start":t.swipeStart(n);break;case"move":t.swipeMove(n);break;case"end":t.swipeEnd(n)}}};t.prototype.swipeMove=function(n){var t=this,f,e,r,u,i;if(i=n.originalEvent!==undefined?n.originalEvent.touches:null,!t.dragging||i&&i.length!==1)return!1;if(f=t.getLeft(t.currentSlide),t.touchObject.curX=i!==undefined?i[0].pageX:n.clientX,t.touchObject.curY=i!==undefined?i[0].pageY:n.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),t.options.verticalSwiping===!0&&(t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2)))),e=t.swipeDirection(),e!=="vertical"){if(n.originalEvent!==undefined&&t.touchObject.swipeLength>4&&n.preventDefault(),u=(t.options.rtl===!1?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1),t.options.verticalSwiping===!0&&(u=t.touchObject.curY>t.touchObject.startY?1:-1),r=t.touchObject.swipeLength,t.touchObject.edgeHit=!1,t.options.infinite===!1&&(t.currentSlide===0&&e==="right"||t.currentSlide>=t.getDotCount()&&e==="left")&&(r=t.touchObject.swipeLength*t.options.edgeFriction,t.touchObject.edgeHit=!0),t.swipeLeft=t.options.vertical===!1?f+r*u:f+r*(t.$list.height()/t.listWidth)*u,t.options.verticalSwiping===!0&&(t.swipeLeft=f+r*u),t.options.fade===!0||t.options.touchMove===!1)return!1;if(t.animating===!0)return t.swipeLeft=null,!1;t.setCSS(t.swipeLeft)}};t.prototype.swipeStart=function(n){var t=this,i;if(t.touchObject.fingerCount!==1||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;n.originalEvent!==undefined&&n.originalEvent.touches!==undefined&&(i=n.originalEvent.touches[0]);t.touchObject.startX=t.touchObject.curX=i!==undefined?i.pageX:n.clientX;t.touchObject.startY=t.touchObject.curY=i!==undefined?i.pageY:n.clientY;t.dragging=!0};t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var n=this;n.$slidesCache!==null&&(n.unload(),n.$slideTrack.children(this.options.slide).detach(),n.$slidesCache.appendTo(n.$slideTrack),n.reinit())};t.prototype.unload=function(){var t=this;n(".slick-cloned",t.$slider).remove();t.$dots&&t.$dots.remove();t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove();t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove();t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")};t.prototype.unslick=function(n){var t=this;t.$slider.trigger("unslick",[t,n]);t.destroy()};t.prototype.updateArrows=function(){var n=this,t;t=Math.floor(n.options.slidesToShow/2);n.options.arrows===!0&&n.slideCount>n.options.slidesToShow&&!n.options.infinite&&(n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.currentSlide===0?(n.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-n.options.slidesToShow&&n.options.centerMode===!1?(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-1&&n.options.centerMode===!0&&(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))};t.prototype.updateDots=function(){var n=this;n.$dots!==null&&(n.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),n.$dots.find("li").eq(Math.floor(n.currentSlide/n.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))};t.prototype.visibility=function(){var n=this;document[n.hidden]?(n.paused=!0,n.autoPlayClear()):n.options.autoplay===!0&&(n.paused=!1,n.autoPlay())};t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"});t.$slideTrack.attr("role","listbox");t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){n(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i+""})});t.$dots!==null&&t.$dots.attr("role","tablist").find("li").each(function(i){n(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i+"",id:"slick-slide"+t.instanceUid+i+""})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar");t.activateADA()};t.prototype.activateADA=function(){var n=this;n.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})};t.prototype.focusHandler=function(){var t=this;t.$slider.on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var r=n(this);setTimeout(function(){t.isPlay&&(r.is(":focus")?(t.autoPlayClear(),t.paused=!0):(t.paused=!1,t.autoPlay()))},0)})};n.fn.slick=function(){for(var i=this,r=arguments[0],f=Array.prototype.slice.call(arguments,1),e=i.length,u,n=0;n<e;n++)if(typeof r=="object"||typeof r=="undefined"?i[n].slick=new t(i[n],r):u=i[n].slick[r].apply(i[n].slick,f),typeof u!="undefined")return u;return i}}),function(n,t){typeof define=="function"&&define.amd?define("pluggins/rc-oauth2-client/views/v2/rc.oauth2.loginbar.view",["module"],function(n){var i=t;return n.config().hasOwnProperty("settings")&&i.init(n.config().settings,n.config().debug),i}):n.rcOAuth2LoginBarView=t}(this,function(n){"use strict";var s=!1,r,u,t={locale:"fr",i18n:{}},i={id:{container:"rc-oauth2-loginbar",loginLink:"rc-oauth2-login-link",logoutLink:"rc-oauth2-logout-link",connectedLink:"rc-oauth2-connected-link",username:"rc-oauth2-username"},className:{}},f=function(t,i){if(t.indexOf("#")===0)return n.document.getElementById(t.split("#")[1]);var u=i||r||n.document;return t.indexOf(".")===0?u.getElementsByClassName(t.split(".")[1]):u.getElementsByTagName(t)},e=function(n){s===!0&&console&&console.log("rcOAuth2LoginBarView: "+n)},nt=function(n){return typeof n=="function"},h=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},tt=function(n){n instanceof Event&&(n.preventDefault?(n.preventDefault(),n.stopPropagation()):event&&(event.returnValue=!1))},l=function(n,t){var i,r;for(i in n)for(r in t)if(i==r){n[i]=t[r];break}},o=function(n,t){return new RegExp(" "+t+" ").test(" "+n.className+" ")},a=function(n,t){o(n,t)||(n.className+=" "+t)},v=function(n,t){var i=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(o(n,t)){while(i.indexOf(" "+t+" ")>=0)i=i.replace(" "+t+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")}},it=function(n,t){n&&(o(n,t)?v(n,t):a(n,t))},rt=function(n,t,i,r){if(n){var u=n.getAttribute(t);u===i?n.setAttribute(t,r):u===r&&n.setAttribute(t,i)}},y=function(){t.i18n=t.i18n||{};t.i18n.fr||(t.i18n.fr={});t.i18n.fr.loginLinkLabel="Connexion";t.i18n.fr.loginLinkAriaLabel="Connexion au centre des membres";t.i18n.fr.logoutLinkLabel="Déconnexion";t.i18n.fr.logoutLinkAriaLabel="Déconnexion du centre des membres";t.i18n.fr.profileImgAlt="Avatar d'utilisateur";t.i18n.fr.myAccountLinkLabel||(t.i18n.fr.myAccountLinkLabel="Mon espace");t.i18n.fr.myAccountLink||(t.i18n.fr.myAccountLink="https://lcl-bunker.radio-canada.ca/mon-espace/mon-profil");t.i18n.fr.loggedInMessage||(t.i18n.fr.loggedInMessage="{0}");t.i18n.en||(t.i18n.en={});t.i18n.en.loginLinkLabel="Sign-in";t.i18n.en.loginLinkAriaLabel="Sign-in to the members center";t.i18n.en.logoutLinkLabel="Sign-out";t.i18n.en.logoutLinkAriaLabel="Sign-out of the members center";t.i18n.en.profileImgAlt="User profile picture";t.i18n.en.myAccountLinkLabel||(t.i18n.en.myAccountLinkLabel="My Account");t.i18n.en.myAccountLink||(t.i18n.en.myAccountLink="https://ici.radio-canada.ca/mon-espace/");t.i18n.en.loggedInMessage||(t.i18n.en.loggedInMessage="{0}")},p=function(n,o){if(o===!0&&(s=!0),e("init"),r=f("#"+i.id.container),u=f("#"+i.id.container+"-logout"),r==null)throw new Error("Please ensure that you have defined a container element with id "+i.id.container);r.setAttribute("aria-live","assertive");l(t,n);y()},w=function(){var n=t.locale,r=t.i18n;return'<button type="button" id="'+i.id.loginLink+'" class="cdm-button cbcrc-icon-profile" aria-label="'+r[n].loginLinkAriaLabel+'">'+r[n].loginLinkLabel+"<\/button>"},b=function(){var n=t.locale,r=t.i18n;return'<button type="button" id="'+i.id.logoutLink+'" class="cdm-button logout-link cbcrc-icon-exit" aria-label="'+r[n].logoutLinkAriaLabel+'">'+r[n].logoutLinkLabel+"<\/button>"},c=function(n){var r=t.locale,u=t.i18n,e=u[r].loggedInMessage.replace(/\{0\}/gi,n.given_name?n.given_name:n.name?n.name.split(" ")[0]:""),f='<a href="'+u[r].myAccountLink+'" class="cdm-button login-link" id="'+i.id.connectedLink+'"><span class="wgt-connected-content">';return f+=n.picture&&n.picture!=" "&&n.picture.indexOf("avatar_default")==-1?'<span class="wgt_userAvatar"><img alt="'+u[r].profileImgAlt+" "+n.name+'" src="'+n.picture+'"/><\/span>':'<span class="wgt_userAvatar cbcrc-icon-profile"><\/span>',f+('<strong class="wgt_userName">'+e+'<\/strong><span class="wgt_MySpace">'+u[r].myAccountLinkLabel+"<\/span><\/span><\/a>")},k=function(n){e("injectLoginMarkup");r.innerHTML=w();h(f("#"+i.id.loginLink),"click",n);u!=null&&(u.innerHTML="")},d=function(n,t){e("injectLoggedInMarkup");r.innerHTML=c(n);u!=null&&(u.innerHTML=b(),h(f("#"+i.id.logoutLink),"click",t))},g=function(n){e("updateLoggedInMarkup");r.innerHTML=c(n)};return{init:p,injectLoginMarkup:k,injectLoggedInMarkup:d,updateLoggedInMarkup:g}}(window)),function(n,t){typeof define=="function"&&define.amd?define("pluggins/rc-oauth2-client/rc.oauth2.loginbar",["module","pluggins/rc-oauth2-client/rc.oauth2.client","pluggins/rc-oauth2-client/rc.oauth2.loginbar","pluggins/rc-oauth2-client/views/v2/rc.oauth2.loginbar.view"],function(n,i,r){var u=t;return n.config().hasOwnProperty("settings")&&u.init(i,r,n.config().settings,n.config().debug),u}):n.rcOAuth2LoginBar=t}(this,function(n){"use strict";var h=!1,r,u,e=!1,i={forceLogin:!1,vfDependant:!1,modalMode:!1,loginComplete:null,logoutComplete:null},t=function(n){h===!0&&console&&console.log("rcOAuth2LoginBar: "+n)},f=function(n){return typeof n=="function"},y=function(n,t){var i,r;for(i in n)for(r in t)if(i==r){n[i]=t[r];break}},p=function(){return i.vfDependant===!0&&n.viafoura},w=function(n,f,e,o){if(r=n,o===!0&&(h=!0),t("init"),u=f,u==null)throw new Error("Please ensure that you have defined the login bar views to be used");y(i,e);k()},o=function(){t("injectLoginMarkup");u.injectLoginMarkup(s)},c=function(n){t("injectLoggedInMarkup");u.injectLoggedInMarkup(n,a)},b=function(n){t("updateLoggedInMarkup");u.updateLoggedInMarkup(n)},k=function(){r.getUserInfo({forceRefresh:i.forceLogin,done:d,fail:l})},d=function(n,u){if(t("getUserInfoDone"),n===200){if(t(">> status="+n),e=!0,c(u),f(i.loginComplete)){var o=r.getAccessToken();i.loginComplete(o,u)}}else l(n,"getUserInfoDone called with a 4xx/5xx HTTP status","loginbar: getUserInfoDone")},l=function(n,r,u){t("getUserInfoFail");t(">> status= "+n+", text= "+r+", case= "+u);i.forceLogin===!0&&s();o()},s=function(){i.modalMode?r.login(g,i.locale):r.login(null,i.locale)},g=function(t){n.open(t,"pop","scrollbars=yes,resizable=yes,,width=600,height=800")},a=function(){r.logout(nt)},nt=function(r,u){t("logout");t(">> httpStatus="+r+", result:"+u.result);p()&&n.viafoura.session.logout();e=!1;o();f(i.logoutComplete)&&i.logoutComplete()},tt=function(n){n=n||{};t("refresh");e?r.getUserInfo({forceRefresh:!0,done:function(n){return function(t,i){it(t,i,n)}}(n),fail:function(n){return function(t,i,r){v(t,i,r,n)}}(n)}):f(n.fail)&&n.fail(403,"user is not logged in; refresh call not applicable","loginbar: refresh")},it=function(n,i,r){t("refreshDone");t(">> status = "+n);n===200?(b(i),c(i),r&&f(r.done)&&r.done(n,i)):v(n,"refreshDone called with a 4xx/5xx HTTP status","loginbar: refreshDone",r)},v=function(n,r,u,e){t("refreshFail");t(">> status = "+n+", text= "+r+", case= "+u);e&&f(e.fail)&&e.fail(n,r,u);o();i.forceLogin===!0&&s()};return{init:w,refresh:tt,logout:a}}(window)),function(n,t){typeof define=="function"&&define.amd?define("pluggins/rc-oauth2-client/views/v1/rc.oauth2.loginbar.view",["module"],function(n){var i=t;return n.config().hasOwnProperty("settings")&&i.init(n.config().settings,n.config().debug),i}):n.rcOAuth2LoginBarView=t}(this,function(n){"use strict";var s=!1,u,t={locale:"fr",i18n:{},dropMenuItems:[]},i={id:{container:"rc-oauth2-loginbar",dropMenuContainer:"widgetLogin_containerSousMenu",dropMenuItems:"widgetLogin_DropMenuItems",dropMenuToggler:"widgetLogin_DropMenuToggler",loginWidget:"widgetLogin",loginLink:"rc-oauth2-login-link",logoutLink:"rc-oauth2-logout-link",username:"rc-oauth2-username"},className:{arrowIcon:"wgt_iconeFleche",arrowContainer:"wgt_containerIconeFleche"}},r=function(t){var i=u||n.document;return t.indexOf(".")===0?i.getElementsByClassName(t.split(".")[1]):t.indexOf("#")===0?n.document.getElementById(t.split("#")[1]):i.getElementsByTagName(t)},f=function(n){s===!0&&console&&console.log("rcOAuth2LoginBarView: "+n)},a=function(n){return typeof n=="function"},e=function(n,t,i){n.addEventListener?n.addEventListener(t,i,!1):n.attachEvent&&n.attachEvent("on"+t,i)},v=function(n){n instanceof Event&&(n.preventDefault?(n.preventDefault(),n.stopPropagation()):event&&(event.returnValue=!1))},y=function(n,t){var i,r;for(i in n)for(r in t)if(i==r){n[i]=t[r];break}},p=function(n,t){if(n){var r=1,u=8,i=function(){var f=0,e=r,o=u;n.style&&n.style.height?f=parseInt(n.style.height.split("px")[0]):n.style.height="0px";f<t?(f>=t*.9&&(e=10,o=1),n.style.height=f+o+"px",setTimeout(i,e)):(n.style.overflow="",n.style.height="",n.style.display="block")},e=function(){n.style.display="none"};n.style.display=="none"?(n.style.overflow="hidden",n.style.display="block",i()):e()}else f("toggleSlide: element is undefined")},o=function(n,t){return new RegExp(" "+t+" ").test(" "+n.className+" ")},w=function(n,t){o(n,t)||(n.className+=" "+t)},h=function(n,t){var i=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(o(n,t)){while(i.indexOf(" "+t+" ")>=0)i=i.replace(" "+t+" "," ");n.className=i.replace(/^\s+|\s+$/g,"")}},b=function(n,t){n&&(o(n,t)?h(n,t):w(n,t))},c=function(n,t,i,r){if(n){var u=n.getAttribute(t);u===i?n.setAttribute(t,r):u===r&&n.setAttribute(t,i)}},k=function(){t.i18n=t.i18n||{};t.i18n.fr||(t.i18n.fr={});t.i18n.fr.loginWidgetAriaLabel="Barre de connexion au centre des membres";t.i18n.fr.loginLinkLabel="Connexion";t.i18n.fr.loginLinkTitle="Connexion au centre des membres";t.i18n.fr.logoutLinkLabel="Déconnexion";t.i18n.fr.logoutLinkTitle="Déconnexion du centre des membres";t.i18n.fr.dropMenuTogglerLabel="Ouvrez le menu d'options de compte";t.i18n.fr.dropMenuContainerAriaLabel="Menu d'options de compte";t.i18n.fr.profileImgAlt="Avatar d'utilisateur";t.i18n.fr.targetBlankText="(nouvelle fenêtre)";t.i18n.fr.loggedInMessage||(t.i18n.fr.loggedInMessage="{0}");t.i18n.en||(t.i18n.en={});t.i18n.en.loginWidgetAriaLabel="Members Center account information";t.i18n.en.loginLinkLabel="Sign-in";t.i18n.en.loginLinkTitle="Sign-in to the members center";t.i18n.en.logoutLinkLabel="Sign-out";t.i18n.en.logoutLinkTitle="Sign-out of the members center";t.i18n.en.dropMenuTogglerLabel="Expand the account options menu";t.i18n.en.dropMenuContainerAriaLabel="Account options menu";t.i18n.en.profileImgAlt="User profile picture";t.i18n.en.targetBlankText="(new window)";t.i18n.en.loggedInMessage||(t.i18n.en.loggedInMessage="{0}")},d=function(n,e){if(e===!0&&(s=!0),f("init"),u=r("#"+i.id.container),u==null)throw new Error("Please ensure that you have defined a container element with id "+i.id.container);u.setAttribute("aria-live","assertive");y(t,n);k()},g=function(){var n=t.locale,r=t.i18n;return'<div id="widgetLogin_btnLogin" aria-label="'+r[n].loginWidgetAriaLabel+'"><button type="button" id="'+i.id.loginLink+'"  title="'+r[n].loginLinkTitle+'">'+r[n].loginLinkLabel+"<\/button><\/div>"},nt=function(n){var r=t.locale,u=t.i18n,f='<div id="'+i.id.loginWidget+'" aria-label="'+u[r].loginWidgetAriaLabel+'"><div id="widgetLogin_MainContainer"><div id="widgetLogin_containerUserInfo"><button type="button" id="'+i.id.dropMenuToggler+'" aria-controls="'+i.id.dropMenuContainer+'" aria-expanded="false"><span class="wgt_userImg">     <span class="wgt_userProfileImage">';return f+=n.picture&&n.picture!=" "&&n.picture.indexOf("avatar_default")==-1?'<img id="smallProfilPict" class="smallCircular" width="37" alt="'+u[r].profileImgAlt+" "+n.name+'" src="'+n.picture+'"/>':'<span class="icon-avatar_default"><\/span>',f+('<\/span>     <\/span><span id="'+i.id.username+'" class="wgt_userName">'+l(n)+'<\/span><span class="wgt_label">'+u[r].dropMenuTogglerLabel+'<\/span><span class="'+i.className.arrowContainer+'" ><span class="'+i.className.arrowIcon+'"><\/span><\/span><\/button><\/div><div id="'+i.id.dropMenuContainer+'" aria-label="'+u[r].dropMenuContainerAriaLabel+'"><div class="wgt_sousMenuWrapper"><ul id="'+i.id.dropMenuItems+'" role="menu"><li role="menuitem"><button type="button" id ="'+i.id.logoutLink+'"  title="'+u[r].logoutLinkTitle+'">'+u[r].logoutLinkLabel+"<\/button><\/li><\/ul><\/div><\/div><\/div><\/div>")},l=function(n){var i=t.locale,r=t.i18n;return r[i].loggedInMessage.replace(/\{0\}/gi,n.given_name?n.given_name:n.name?n.name.split(" ")[0]:"")},tt=function(n){f("injectLoginMarkup");u.innerHTML=g();e(r("#"+i.id.loginLink),"click",n)},it=function(n,t){f("injectLoggedInMarkup");u.innerHTML=nt(n);e(r("#"+i.id.logoutLink),"click",t);rt();ut()},rt=function(){var y=t.dropMenuItems,k=y.length-1,o=0,p=r("#"+i.id.dropMenuItems),h=t.i18n,c=t.locale,f,s,u,w;for(o;o<=k;o++){f=y[o];s=document.createElement("LI");s.setAttribute("role","menuitem");a(f.action)?(u=document.createElement("BUTTON"),e(u,"click",f.action),u.setAttribute("type","button")):typeof f.action=="string"&&(u=document.createElement("A"),u.setAttribute("href",f.action));w=n.document.createTextNode(h[c][f.label]);u.appendChild(w);var l=h[c][f.title],v=f.target,b=h[c].targetBlankText;l&&(v&&(u.setAttribute("target",v),b&&v=="_blank"&&(l+=" "+b)),u.setAttribute("title",l));s.appendChild(u);p.insertBefore(s,p.lastElementChild)}},ut=function(){var u=r("#"+i.id.dropMenuToggler),t=r("#"+i.id.dropMenuContainer),f=r("."+i.className.arrowIcon)[0],o;t.style.display="block";o=t.clientHeight;t.style.display="none";t.style.height="0px";e(u,"click",function(n){v(n);p(t,o);b(f,"flecheToggleRotate");c(this,"aria-expanded","true","false")});e(n.document,"click",function(){t.style.display="none";h(f,"flecheToggleRotate");c(u,"aria-expanded","true","false")})},ft=function(n){f("updateLoggedInMarkup");var t=r("#"+i.id.username);t.innerHTML=l(n)};return{init:d,injectLoginMarkup:tt,injectLoggedInMarkup:it,updateLoggedInMarkup:ft}}(window));define("services/commonDataService",[],function(){window.RadioCanada=window.RadioCanada||{};window.RadioCanada.Stats=window.RadioCanada.Stats||{};window.RadioCanada.Stats.Omniture=window.RadioCanada.Stats.Omniture||{};window.RadioCanada.Stats.Omniture.Init=window.RadioCanada.Stats.Omniture.Init||{};window.RadioCanada.Stats.Omniture.Init.simulerPageLoad=window.RadioCanada.Stats.Omniture.Init.simulerPageLoad||function(){};var n=!1;return{searchNavFooterUrl:"http://ici.radio-canada.ca/apropos/aide/outil/TemplatedLineUp.asp",webTrends:function(){!n&&window.RadioCanada.Stats.WebTrends&&(window.RadioCanada.Stats.WebTrends.Initialize(),n=!0)},webTrendsStatsToClick:window.statsToClics,authenticationLogonHref:"https://inscription.radio-canada.ca/SSOAuthenticationDomain.ashx?mode=login&amp;redirecturl=",authenticationLogoffHref:"https://mesabonnements.radio-canada.ca/logout.aspx?redirecturl=",omnitureSimulatePageLoad:window.RadioCanada.Stats.Omniture.Init.simulerPageLoad,viafoura:window.RadioCanada.Viafoura}});define("services/cookieService",[],function(){return{setValue:function(n,t){var i=new Date;i.setMonth(i.getMonth()+12);document.cookie=n+"="+encodeURIComponent(t)+";expires="+i.toUTCString()+";domain=.radio-canada.ca;path=/"},updateValue:function(n,t){document.cookie=n+"="+t},getValue:function(n){var u=document.cookie,i,t;if(u==="")return!1;for(i=u.split("; "),t=0;t<i.length;t++){var r=i[t],f=r.indexOf("="),e=r.substring(0,f),o=r.substring(f+1);if(e==e.match(n))return decodeURIComponent(o)}return!1}}});define("services/httpService",[],function(){return{getValue:function(n,t){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(t);return i==null?null:decodeURIComponent(i[1].replace(/\+/g," "))}}});define("services/imageResolverService",["jquery"],function(n){var t=[{ratio:"16:9",listWidth:[48,96,112,144,160,208,240,304,320,352,448,480,640,1264],listHeight:[27,54,63,81,90,117,135,171,180,198,252,270,360,711]},{ratio:"4:3",listWidth:[80,100,180,300,316,400,500],listHeight:[60,75,135,225,237,300,375]},{ratio:"2:3",listWidth:[50,212,238,300,380,400,470,636,536,960],listHeight:[75,318,357,450,570,600,705,954,804,1440]},{ratio:"17:6",listWidth:[1003,1241,1700],listHeight:[354,438,600]},{ratio:"1:1",listWidth:[53,100,180,200,325,400,500,600,800,1e3],listHeight:[53,100,180,200,325,400,500,600,800,1e3]},{ratio:"perso",listWidth:[500,800]}];return{getImage:function(t,i,r,u){if(u=typeof u!="undefined"?u:"16:9",t&&t.length>0){var f=n.grep(t,function(n){return n.width==i&&n.height==r});return f.length==0&&(f=n.grep(t,function(n){return n.width>i&&n.height>r&&n.dimensionRatio==u}),f.length==0)?(f=n.grep(t,function(n){return n.dimensionRatio==u}),f.length>0)?f[f.length-1]:t[0]:f[0]}return null},getImagePicto:function(n,i,r){if(r=typeof r!="undefined"?r:"16:9",i=typeof i!="undefined"?i:"300",n.length===0||n===undefined||n===null)return"";var u=t.filter(function(n){return n.ratio===r})[0].listWidth,f=u.filter(function(n){return n>=i}).sort(function(n,t){return n-t})[0],e=n.filter(function(n){return n.dimensionRatio===r})[0].mediaLink.href;return e.replace("/v1","/w_"+f+"/v1")}}});define("services/jeunesseMediaService",[],function(){var n=!1;return locationHistory=[],ko.postbox.subscribe("jeunesseOverlayStatus",function(t){n=t}),{generageVideoPlayerOverlayUrl:function(n){return"/jeunesse/overlay/video-media/"+n},showOverlay:function(n){ko.postbox.publish("showJeunesseOverlay",n)},hideOverlay:function(){ko.postbox.publish("hideJeunesseOverlay")},isOverlayVisible:function(){return n},publishVignetteImages:function(n,t){ko.postbox.publish(n,t)}}});define("services/localstoreService",[],function(){return function(n,t){function r(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="; expires="+r.toGMTString();document.cookie=n+"="+t+u+"; path=/"}function u(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0,f=u.length;i<f;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return null}var i=!1;if(localStorage&&(i=!0),typeof t!="undefined"&&t!==null)if(typeof t=="object"&&(t=JSON.stringify(t)),i)try{localStorage.setItem(n,t)}catch(f){r(n,t,30)}else r(n,t,30);if(typeof t=="undefined"){data=i?localStorage.getItem(n):u(n);try{data=JSON.parse(data)}catch(f){data=data}return data}t===null&&(i?localStorage.removeItem(n):r(n,"",-1))}});define("services/lockService",["jquery"],function(n){function r(){if(!t){t=!0;var n=i.pop();if(n==null){t=!1;return}n.cb().then(function(i){t=!1;n.df.resolve(i);r()})}}var t=!1,i=[];return{lockingFunction:function(t){var u=n.Deferred();return i.push({cb:t,df:u}),r(),u.promise()}}});define("services/meteoService",["underscore","jquery"],function(n,t){function u(n){var r=t.Deferred();return i?r.resolve(i):t.ajax({url:(window.appHost||"")+"/api/Meteo?cityCode="+n,dataType:"json",cache:!0,async:!0}).error(function(){r.resolve(null)}).done(function(n){i=n;r.resolve(i)}),r.promise()}var r={forcast:u},i=null;return r});
/*!
 * modernizr v3.3.1
 * Build https://modernizr.com/download?-picture-dontmin
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera
 * MIT License
 */
(function(n){function e(n,t){return typeof n===t}function o(){var u,n,o,s,h,c,r;for(var l in i)if(i.hasOwnProperty(l)){if(u=[],n=i[l],n.name&&(u.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(o=0;o<n.options.aliases.length;o++)u.push(n.options.aliases[o].toLowerCase());for(s=e(n.fn,"function")?n.fn():n.fn,h=0;h<u.length;h++)c=u[h],r=c.split("."),r.length===1?t[r[0]]=s:(!t[r[0]]||t[r[0]]instanceof Boolean||(t[r[0]]=new Boolean(t[r[0]])),t[r[0]][r[1]]=s),f.push((s?"":"no-")+r.join("-"))}}var i=[],u={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(n,t){var i=this;setTimeout(function(){t(i[n])},0)},addTest:function(n,t,r){i.push({name:n,fn:t,options:r})},addAsyncTest:function(n){i.push({name:null,fn:n})}},t=function(){},f,r;t.prototype=u;t=new t;
/*!
{
  "name": "picture Element",
  "property": "picture",
  "tags": ["elem"],
  "authors": ["Scott Jehl", "Mat Marquis"],
  "notes": [{
    "name": "Specification",
    "href": "http://picture.responsiveimages.org"
  },{
    "name": "Relevant spec issue",
    "href": "https://github.com/ResponsiveImagesCG/picture-element/issues/87"
  }]
}
!*/
for(t.addTest("picture","HTMLPictureElement"in n),f=[],o(),delete u.addTest,delete u.addAsyncTest,r=0;r<t._q.length;r++)t._q[r]();n.Modernizr=t})(window,document);define("services/newsWithMediaService",["jquery"],function(n){return function(){function t(n){return{appCode:n.data("media-appcode")||"",id:n.data("media-id")||"",teaser:n.data("media-embeddedVideoImage")||"",uniqueId:n.data("media-uniqueid")||"",isAutoPlay:n.data("media-isautoplay")&&n.data("media-isautoplay").toLowerCase()||""}}function i(i){n(i).find(".medianet-content").click(function(i){var u=n(i.delegateTarget),r=t(u);r.appCode!=""&&r.id!=""&&(i.preventDefault(),window.location="/audio-video/media-"+r.id+"/a?isAutoPlay="+r.isAutoPlay)})}function r(t){n(t).find(".play").each(function(){var i=this,t=n('<div class="play hover"><\/div>').insertAfter(this);n(i).hasClass("medium")?n(t).addClass("medium"):n(i).hasClass("small")?n(t).addClass("small"):n(t).addClass("x-small");n(t).hide();n(i).css("z-index",999);n(t).css("z-index",998);n(i).hover(function(){n(i).fadeTo(150,.01);n(t).stop().fadeTo(150,1)},function(){n(i).stop().fadeTo(150,1);n(t).fadeTo(150,0)})})}var u=this;this.init=function(n){r(n);i(n)}}});define("services/pageZoneService",[],function(){return{isInfo:function(n){return n=n||window.location.pathname,n.match(/\/info.*/i)||n.match(/\/rdi.*/i)},isPremiere:function(n){return(n=n||window.location.pathname,n.match(/\/premiere.*/i))?!0:!1},isTele:function(){return!1}}});define("services/plusLineupService",["jquery","services/anchorsModifierService"],function(n,t){return function(){function c(){var s=i.itemsByRow*i.itemsByCol,h=i.isItemInserted?1:0,f=(u-1)*i.itemsByRow*i.itemsByCol+h,t,o;i.itemsByCol>1&&r-f<s?(o=r-f,t=n(i.container).outerHeight()+Math.ceil(o/i.itemsByRow)*i.articleHeight):t=n(i.container).outerHeight()+i.originHeight;n(i.container).animate({height:t},{duration:400});a();e=!1}function l(){return n(f).find(i.itemSelector).length}function a(){var n=i.isItemInserted?1:0;r<=u*i.itemsByRow*i.itemsByCol+n&&o.moreVisible(!1)}var o=this,f={},s=1,u=1,r=0,e=!1,h=0,i={};this.init=function(t,u){f=t;ko.applyBindings(this,f);r=u.itemsCount;h=u.lineupId;r>0&&(i={originHeight:n(t).find(u.classContainerSelector).outerHeight(),originWidth:n(t).find(u.classContainerSelector).outerWidth(),articleHeight:n(t).find(u.itemSelector+":first").outerHeight(),articleWidth:n(t).find(u.itemSelector+":first").outerWidth(),imageWidth:n(t).find(u.mediaSelector+":first").outerWidth(),imageHeight:n(t).find(u.mediaSelector+":first").outerHeight(),container:n(t).find(u.classContainerSelector),itemSelector:u.itemSelector,mediaSelector:u.mediaSelector,componentUrl:u.componentUrl,newsTagComponentName:u.newsTagComponentName,isItemInserted:u.hasPartenaire?u.hasPartenaire=="True"?!0:!1:!1},u.hasPartenaire=="True"&&n(i.container).height(n(i.container).height()+i.articleHeight),i.itemsByRow=Math.floor(i.originWidth/i.articleWidth),i.itemsByCol=Math.floor(i.originHeight/i.articleHeight));a();n(document).ready(function(){$(window).resize(function(){o.resize()})})};this.resize=function(){i.originWidth=n(i.container).outerWidth();i.originHeight=n(i.container).outerHeight();i.articleWidth=n(i.itemSelector+":first").outerWidth();i.articleHeight=n(i.itemSelector+":first").outerHeight();i.imageWidth=n(i.mediaSelector+":first").outerWidth();i.imageHeight=n(i.mediaSelector+":first").outerHeight()};this.moreItem=function(){if(!e){u++;var f=i.isItemInserted?1:0,o=u*i.itemsByRow*i.itemsByCol+f;l()<o&&l()<r?(e=!0,n.ajax({url:i.componentUrl,data:{lineUpId:h,newsTagComponentName:i.newsTagComponentName,imageWidth:i.imageWidth,imageHeight:i.imageHeight,pageIndex:s+1}}).done(function(r){s++;t.addTargetBlankExtLink(r);n(i.container).append(r);c()})):c()}};this.moreVisible=ko.observable(!0)}});define("services/regionLocalisationService",["underscore","services/cookieService","services/httpService","services/lockService","jquery"],function(n,t,i,r,u){function a(){var n=u.Deferred();return r.lockingFunction(function(){return b(function(n){f?n.resolve():u.ajax({url:window.appRouteBunker+"/api/RegionBySection",dataType:"json",cache:!0,async:!0}).done(function(t){f=t;var i=e();s(i).then(function(){n.resolve()})})})}).then(function(){n.resolve(f)}),n.promise()}function s(t){var i=u.Deferred(),r=function(t){var i,r,u;if(f.SectionEdition.localCurrentRegionId=t.editionregionid,f.SectionEdition.getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]},f.SectionInfoRegional.localCurrentRegionId=t.inforegionid,f.SectionInfoRegional.getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]},f.SectionStation.localCurrentRegionId=t.stationregionid,f.SectionStation.getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]},f.SectionTelevision.localCurrentRegionId=t.tvregionid,f.SectionTelevision.getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]},f.SectionEspaceMusique.localCurrentRegionId=t.emregionid,f.SectionEspaceMusique.getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]},f.SectionPremiere.localCurrentRegionId=t.radioregionid,f.SectionPremiere.getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]},i=h(),i!=null)for(r=0;r<i.length;r++)if(Array.isArray(i[r].value))for(f[i[r].name]=[],u=0;u<i[r].value.length;u++)f[i[r].name].push({}),f[i[r].name][u].localCurrentRegionId=i[r].value[u].value,f[i[r].name][u].getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]};else f[i[r].name]={},f[i[r].name].localCurrentRegionId=i[r].value,f[i[r].name].getLocalCurrentRegion=function(){return n.where(this.Regions,{Id:parseInt(this.localCurrentRegionId)})[0]};f.SectionMeteo.localCurrentCityCode=t.citycode;f.SectionMeteo.getLocalCurrentRegion=function(){var t=this;return n.find(this.Regions,function(i){return n.find(i.Cities,function(n){return n.Code==t.localCurrentCityCode})})};f.SectionMeteo.getRegion=function(t){var i=this;return n.find(this.Regions,function(i){return n.find(i.Cities,function(n){return n.Code==t})})}};return t=o(t||{},{}),i.resolve(r(t)),i.promise()}function h(){var n=[],i;return n.push({name:"RC_CDM_REGION",value:t.getValue("RC_CDM_REGION")}),n.push({name:"RC_CDM_REGION_MUSIQUE",value:t.getValue("RC_CDM_REGION_MUSIQUE")}),n.push({name:"RC_CDM_REGION_PREMIERE",value:t.getValue("RC_CDM_REGION_PREMIERE")}),n.push({name:"RC_CDM_REGION_TELE",value:t.getValue("RC_CDM_REGION_TELE")}),i=[],null}function e(){var r=t.getValue("RC_CDM_REGION"),f=t.getValue("RC_CDM_REGION_MUSIQUE"),e=t.getValue("RC_CDM_REGION_PREMIERE"),s=t.getValue("RC_CDM_REGION_TELE"),n=t.getValue("RCID"),i;n=n?p(u.parseJSON(n)):{};r&&(n.editionregionid=r);f&&(n.emregionid=f);e&&(n.radioregionid=e);s&&(n.tvregionid=s);try{i=y(t.getValue("at"));i&&(n.thindataid=i.u,n.email=i.e,n.username=i.a)}catch(h){}return o(n,{})}function v(n){var r=e()||{},i=r;n=n||{};i=o(n,i);s(i).then(function(){t.setValue("RCID",JSON.stringify(w(i)))})}function o(n,t){return u.extend(t,{rcid:0,email:"",username:"",confirmed:!0,releasegroups:[],editionregionid:8,inforegionid:8,citycode:"YUL",tvregionid:8,radioregionid:8,emregionid:8,stationregionid:8,allowcookie:{},emregiondiohrid:{},medianetid:{}},n)}function y(n){var e={},u,i,t,o,f,r;if(typeof n!="undefined"&&n!=null)for(u=n.split("&"),i=0;i<u.length;i++)if(t=u[i].split("="),t.length>1){for(o=t[0],f="",r=1;r<t.length;r++)f+=t[r];e[o]=f}return e}function c(n){var i,t;if(null==n||"object"!=typeof n)return n;i={};for(t in n)n.hasOwnProperty(t)&&(i[t]=c(n[t]));return i}function p(t){return t.editionregionid==2&&(t.editionregionid=51),t.editionregionid==5&&(t.editionregionid=71),t.editionregionid==10&&(t.editionregionid=61),t.inforegionid==10&&(t.inforegionid=27),t.inforegionid==5&&(t.inforegionid=20),n.isUndefined(t.editionregionid)||n.isUndefined(n.find(f.SectionEdition.Regions,function(n){return n.LegacyId==t.editionregionid}))||(t.editionregionid=n.find(f.SectionEdition.Regions,function(n){return n.LegacyId==t.editionregionid}).Id),n.isUndefined(t.tvregionid)||n.isUndefined(n.find(f.SectionTelevision.Regions,function(n){return n.LegacyId==t.tvregionid}))||(t.tvregionid=n.find(f.SectionTelevision.Regions,function(n){return n.LegacyId==t.tvregionid}).Id),n.isUndefined(t.emregionid)||n.isUndefined(n.find(f.SectionEspaceMusique.Regions,function(n){return n.LegacyId==t.emregionid}))||(t.emregionid=n.find(f.SectionEspaceMusique.Regions,function(n){return n.LegacyId==t.emregionid}).Id),n.isUndefined(t.radioregionid)||n.isUndefined(n.find(f.SectionPremiere.Regions,function(n){return n.LegacyId==t.radioregionid}))||(t.radioregionid=n.find(f.SectionPremiere.Regions,function(n){return n.LegacyId==t.radioregionid}).Id),n.isUndefined(t.inforegionid)||n.isUndefined(n.find(f.SectionInfoRegional.Regions,function(n){return n.LegacyId==t.inforegionid}))||(t.inforegionid=n.find(f.SectionInfoRegional.Regions,function(n){return n.LegacyId==t.inforegionid}).Id),t}function w(t){var i,r;return t=t||{},i=c(t),n.isUndefined(i.editionregionid)||(i.editionregionid=n.find(f.SectionEdition.Regions,function(n){return n.Id==i.editionregionid}).LegacyId),n.isUndefined(i.tvregionid)||(i.tvregionid=n.find(f.SectionTelevision.Regions,function(n){return n.Id==i.tvregionid}).LegacyId),n.isUndefined(i.emregionid)||(r=n.find(f.SectionEspaceMusique.Regions,function(n){return n.Id==i.emregionid}),i.emregionid=r.LegacyId,i.emregiondiohrid=r.GuideLegacyId),n.isUndefined(i.radioregionid)||(i.radioregionid=n.find(f.SectionPremiere.Regions,function(n){return n.Id==i.radioregionid}).LegacyId),n.isUndefined(i.inforegionid)||(i.inforegionid=n.find(f.SectionInfoRegional.Regions,function(n){return n.Id==i.inforegionid}).LegacyId),i}function b(n){return u.Deferred(n)}var l={RcSection:a,RcProfile:e,RcSaveConfiguration:v,RcNewProfile:h},f=null;return l});define("services/scrollableNews",["jquery","underscore","externals/components/AdGoogleTagInclude/main"],function(n,t){return function(){var f=this,i={},r=0,u=!1;customScrollBy=null;this.init=function(n,f,e,o){t.isUndefined(f)&&(f=!0);customScrollBy=r;i=n;u=e;f&&ko.cleanNode(i);o!=!0&&ko.applyBindings(this,i);this.setBoutonState()};this.initWithoutBinding=function(t){i=t;r=n(i).find(".scrollable-viewport").height();this.setBoutonState()};this.moreItem=function(u,f,e){var o=0,s=n(i).find(".scrollable-viewport").scrollTop();f!=null&&t.isNumber(f)?o=f:(r=n(i).find(".scrollable-viewport").height(),o=customScrollBy==null?r:customScrollBy());n(i).find(".scrollable-viewport").animate({scrollTop:s+o+"px"},600).promise().done(function(){t.isUndefined(e)||typeof e!="function"||e(!1)})};this.lessItem=function(u,f,e){var s,o;o=0;s=n(i).find(".scrollable-viewport").scrollTop();f!=null&&t.isNumber(f)?o=f:(r=n(i).find(".scrollable-viewport").height(),o=customScrollBy==null?r:customScrollBy);n(i).find(".scrollable-viewport").animate({scrollTop:s-o+"px"},600).promise().done(function(){t.isUndefined(e)||typeof e!="function"||e(!1)})};this.setBoutonState=function(){var u=n(i).find(".scrollable-viewport"),f,t;u.length!=0&&(r=n(i).find(".scrollable-viewport").height(),f=u[0].scrollHeight,t=n(i).find(".scrollable-viewport").scrollTop(),t+r>=f-50?n(i).find(".scrollable-nav .more-item").addClass("inactif"):n(i).find(".scrollable-nav .more-item").removeClass("inactif"),t==0?n(i).find(".scrollable-nav .less-item").addClass("inactif"):n(i).find(".scrollable-nav .less-item").removeClass("inactif"))}}});define("services/timezoneDatetimeService",["jquery"],function(n){var t={datetimeByRegionForArticleHeader:function(n,t){var r=t,i=0;return i=getOffset(),i!=0&&(d=new Date(n.substring(0,4),n.substring(5,7)-1,n.substring(8,10),n.substring(11,13),n.substring(14,16),n.substring(17,19)),utc=d.getTime(),nd=new Date(utc+36e5*i),r=StringFormat("<strong>{0} h {1}<\/strong> | <strong>{2} {3} {4} {5}<\/strong>",[nd.getHours(),formatNumber(nd.getMinutes()),getDayLabel(nd.getDay(),!1),nd.getDate(),getMonthLabel(nd.getMonth(),!1),nd.getFullYear()])),r},datetimeByRegionForTweets:function(n,t){var r=t,i=0;return i=getDatetimeOffsetFromRCRegionName(getRegionPath()),i!=0&&(d=new Date(n.substring(0,4),n.substring(5,7)-1,n.substring(8,10),n.substring(11,13),n.substring(14,16),n.substring(17,19)),utc=d.getTime(),nd=new Date(utc+36e5*i),r=StringFormat("{0}:{1} - {2} {3} {4}",[nd.getHours(),formatNumber(nd.getMinutes()),nd.getDate(),getMonthLabel(nd.getMonth(),!0),nd.getFullYear()])),r}};return getOffset=function(){return getDatetimeOffsetFromRCRegionName(getRegionPath())},getTimeOffsetFromServer=function(){n.ajax({url:window.appHost+"/api/FeedStateDatetimeTimezone/"+_.last(self.feedLineups()).LastPublicationDate.replace(/[A-Za-z$-/:]/g,""),data:config}).done(function(){})},getDayLabel=function(n,t){return t?["dim","lun","mar","mer","jeu","ven","sam"][n]:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"][n]},getMonthLabel=function(n,t){return t?["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Déc"][n]:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"][n]},formatNumber=function(n){return n<10?"0"+n:n},getDatetimeOffsetFromRCRegionName=function(n){var t=0;switch(n){case"acadie":t=-4;break;case"alberta":t=-7;break;case"colombie-britannique-et-yukon":case"colombiebritanniqueetyukon":case"colombiebritannique":t=-8;break;case"manitoba":t=-6;break;case"saskatchewan":t=-6}return t},getRegionPath=function(){var n=window.location.href.replace(window.appHost,"").toLowerCase();return n=n.indexOf("?")>0?n.substring(0,n.indexOf("?")):n,n.replace("/","")},StringFormat=function(n,t){var i;for(n=n.length>0?n:"{0}:{1} - {2} {3} {4}",i=0;i<t.length;i++)n=n.replace("{"+i+"}",t[i]);return n},t});define("services/touchService",[],function(){function r(i){n=i.touches[0].clientX;t=i.touches[0].clientY}function u(r){if(n&&t){var e=r.touches[0].clientX,o=r.touches[0].clientY,u=n-e,f=t-o;Math.abs(u)>Math.abs(f)?u>0&&i!=null&&i():f>0;n=null;t=null}}var n=null,t=null,i=null;return{init:function(n){document.addEventListener&&(document.addEventListener("touchstart",r,!1),document.addEventListener("touchmove",u,!1));i=n}}});define("services/validationService",["underscore","services/knockoutService"],function(n,t){return{validate:function(n){return t.traverse(n(),function(n,t){ko.validation.utils.isValidatable(t)&&t.isModified(!0)}),n.isValid()}}});define("services/xmlService",[],function(){var n=function(){function p(){n.escapeMode===undefined&&(n.escapeMode=!0);n.attributePrefix=n.attributePrefix||"_";n.arrayAccessForm=n.arrayAccessForm||"none";n.emptyNodeForm=n.emptyNodeForm||"text";n.enableToStringFunc===undefined&&(n.enableToStringFunc=!0);n.arrayAccessFormPaths=n.arrayAccessFormPaths||[];n.skipEmptyTextNodesForObj===undefined&&(n.skipEmptyTextNodesForObj=!0);n.stripWhitespaces===undefined&&(n.stripWhitespaces=!0);n.datetimeAccessFormPaths=n.datetimeAccessFormPaths||[]}function w(){function n(n){var t=String(n);return t.length===1&&(t="0"+t),t}typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")});typeof Date.prototype.toISOString!="function"&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function o(n){var t=n.localName;return t==null&&(t=n.baseName),(t==null||t=="")&&(t=n.nodeName),t}function b(n){return n.prefix}function f(n){return typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):n}function k(n){return n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(t,i,r){var f,u;switch(n.arrayAccessForm){case"property":t[i+"_asArray"]=t[i]instanceof Array?t[i]:[t[i]]}if(!(t[i]instanceof Array)&&n.arrayAccessFormPaths.length>0){for(f=0;f<n.arrayAccessFormPaths.length;f++)if(u=n.arrayAccessFormPaths[f],typeof u=="string"){if(u==r)break}else if(u instanceof RegExp){if(u.test(r))break}else if(typeof u=="function"&&u(t,i,r))break;f!=n.arrayAccessFormPaths.length&&(t[i]=[t[i]])}}function h(n){var i=n.split(/[-T:+Z]/g),t=new Date(i[0],i[1]-1,i[2]),u=i[5].split("."),r,f;return t.setHours(i[3],i[4],u[0]),u.length>1&&t.setMilliseconds(u[1]),i[6]&&i[7]?(r=i[6]*60+Number(i[7]),f=/\d\d-\d\d:\d\d$/.test(n)?"-":"+",r=0+(f=="-"?-1*r:r),t.setMinutes(t.getMinutes()-r-t.getTimezoneOffset())):n.indexOf("Z",n.length-1)!==-1&&(t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))),t}function d(t,i,r){var e,f,u;if(n.datetimeAccessFormPaths.length>0){for(e=r.split(".#")[0],f=0;f<n.datetimeAccessFormPaths.length;f++)if(u=n.datetimeAccessFormPaths[f],typeof u=="string"){if(u==e)break}else if(u instanceof RegExp){if(u.test(e))break}else if(typeof u=="function"&&u(obj,i,e))break;return f!=n.datetimeAccessFormPaths.length?h(t):t}return t}function r(i,u){var f,l,c,h,e,a,y,v;if(i.nodeType==t.DOCUMENT_NODE){for(f={},l=i.childNodes,c=0;c<l.length;c++)h=l.item(c),h.nodeType==t.ELEMENT_NODE&&(e=o(h),f[e]=r(h,e));return f}if(i.nodeType==t.ELEMENT_NODE){for(f={},f.__cnt=0,l=i.childNodes,c=0;c<l.length;c++)h=l.item(c),e=o(h),h.nodeType!=t.COMMENT_NODE&&(f.__cnt++,f[e]==null?(f[e]=r(h,u+"."+e),s(f,e,u+"."+e)):(f[e]!=null&&(f[e]instanceof Array||(f[e]=[f[e]],s(f,e,u+"."+e))),f[e][f[e].length]=r(h,u+"."+e)));for(a=0;a<i.attributes.length;a++)y=i.attributes.item(a),f.__cnt++,f[n.attributePrefix+y.name]=y.value;return v=b(i),v!=null&&v!=""&&(f.__cnt++,f.__prefix=v),f["#text"]!=null&&(f.__text=f["#text"],f.__text instanceof Array&&(f.__text=f.__text.join("\n")),n.escapeMode&&(f.__text=k(f.__text)),n.stripWhitespaces&&(f.__text=f.__text.trim()),delete f["#text"],n.arrayAccessForm=="property"&&delete f["#text_asArray"],f.__text=d(f.__text,e,u+"."+e)),f["#cdata-section"]!=null&&(f.__cdata=f["#cdata-section"],delete f["#cdata-section"],n.arrayAccessForm=="property"&&delete f["#cdata-section_asArray"]),f.__cnt==1&&f.__text!=null?f=f.__text:f.__cnt==0&&n.emptyNodeForm=="text"?f="":f.__cnt>1&&f.__text!=null&&n.skipEmptyTextNodesForObj&&(n.stripWhitespaces&&f.__text==""||f.__text.trim()=="")&&delete f.__text,delete f.__cnt,n.enableToStringFunc&&(f.__text!=null||f.__cdata!=null)&&(f.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),f}if(i.nodeType==t.TEXT_NODE||i.nodeType==t.CDATA_SECTION_NODE)return i.nodeValue}function i(t,i,r,u){var h="<"+(t!=null&&t.__prefix!=null?t.__prefix+":":"")+i,e,s,o;if(r!=null)for(e=0;e<r.length;e++)s=r[e],o=t[s],n.escapeMode&&(o=f(o)),h+=" "+s.substr(n.attributePrefix.length)+"='"+o+"'";return h+(u?"/>":">")}function u(n,t){return"<\/"+(n.__prefix!=null?n.__prefix+":":"")+t+">"}function g(n,t){return n.indexOf(t,n.length-t.length)!==-1}function c(t,i){return n.arrayAccessForm=="property"&&g(i.toString(),"_asArray")||i.toString().indexOf(n.attributePrefix)==0||i.toString().indexOf("__")==0||t[i]instanceof Function?!0:!1}function l(n){var t=0,i;if(n instanceof Object)for(i in n)c(n,i)||t++;return t}function a(t){var r=[],i;if(t instanceof Object)for(i in t)i.toString().indexOf("__")==-1&&i.toString().indexOf(n.attributePrefix)==0&&r.push(i);return r}function nt(t){var i="";return t.__cdata!=null&&(i+="<![CDATA["+t.__cdata+"]\]>"),t.__text!=null&&(i+=n.escapeMode?f(t.__text):t.__text),i}function v(t){var i="";return t instanceof Object?i+=nt(t):t!=null&&(i+=n.escapeMode?f(t):t),i}function tt(n,t,r){var o="",f;if(n.length==0)o+=i(n,t,r,!0);else for(f=0;f<n.length;f++)o+=i(n[f],t,a(n[f]),!1),o+=e(n[f]),o+=u(n[f],t);return o}function e(n){var r="",h=l(n),f,t,o,s;if(h>0)for(f in n)c(n,f)||(t=n[f],o=a(t),t==null||t==undefined?r+=i(t,f,o,!0):t instanceof Object?t instanceof Array?r+=tt(t,f,o):t instanceof Date?(r+=i(t,f,o,!1),r+=t.toISOString(),r+=u(t,f)):(s=l(t),s>0||t.__text!=null||t.__cdata!=null?(r+=i(t,f,o,!1),r+=e(t),r+=u(t,f)):r+=i(t,f,o,!0)):(r+=i(t,f,o,!1),r+=v(t),r+=u(t,f)));return r+v(n)}var y="1.1.5",n={},t;p();w();t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(n){var u=window.ActiveXObject||"ActiveXObject"in window,t,r,i;if(n===undefined)return null;if(window.DOMParser){if(r=new window.DOMParser,i=null,!u)try{i=r.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(f){i=null}try{t=r.parseFromString(n,"text/xml");i!=null&&t.getElementsByTagNameNS(i,"parsererror").length>0&&(t=null)}catch(f){t=null}}else n.indexOf("<?")==0&&(n=n.substr(n.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n);return t};this.asArray=function(n){return n instanceof Array?n:[n]};this.toXmlDateTime=function(n){return n instanceof Date?n.toISOString():typeof n=="number"?new Date(n).toISOString():null};this.asDateTime=function(n){return typeof n=="string"?h(n):n};this.xml2json=function(n){return r(n)};this.xml_str2json=function(n){var t=this.parseXmlString(n);return t!=null?this.xml2json(t):null};this.json2xml_str=function(n){return e(n)};this.json2xml=function(n){var t=this.json2xml_str(n);return this.parseXmlString(t)};this.getVersion=function(){return y}};return new n});define("services/document/dateTimePublishedServiceTest",["jquery","services/document/dateTimePublishedService","moment"],function(n,t,i){function r(){var n=i().subtract(30,"seconds");console.log(t.getPublishedDateTimeFormatted(n))}function u(){var n=i().subtract(100,"seconds");console.log(t.getPublishedDateTimeFormatted(n))}function f(){var n=i().subtract(3,"minutes");console.log(t.getPublishedDateTimeFormatted(n))}function e(){var n=i().subtract(59,"minutes");console.log(t.getPublishedDateTimeFormatted(n))}function o(){var n=i().subtract(1,"hours");console.log(t.getPublishedDateTimeFormatted(n))}function s(){var n=i().subtract(1,"months");console.log(t.getPublishedDateTimeFormatted(n))}function h(){var n=i().subtract(1,"years");console.log(t.getPublishedDateTimeFormatted(n))}function c(){var n=i().subtract(3,"days");console.log(t.getPublishedDateTimeFormatted(n))}function l(){var n=i().subtract(1,"days"),r=i().subtract(1,"hours");console.log(t.getPublishedDateTimeFormatted(n,r))}function a(){var n=i().subtract(1,"days"),r=i().subtract(1,"minutes");console.log(t.getPublishedDateTimeFormatted(n,r))}return{runTests:function(){r();u();f();e();o();s();h();c();l();a()}}});define("services/document/dateTimePublishedService",["jquery","moment","underscore"],function(n,t,i){function u(n,i){var u="Publié ",f=t();return i.diff(n,"day")<1?u+r(n,!0,!0)+" <span>Mis à jour "+r(i,!1,!0)+"<\/span>":u+r(n,!0,!1)+" <span>Mis à jour "+r(i,!0,!1)+"<\/span>"}function r(n,i,r){var u="",e=t(),o=t().startOf("day"),s=t(n).startOf("day"),f=e.diff(n,"minutes"),h=e.diff(n,"hours"),c=o.diff(s,"day");return f<2?u=u+" il y a 1 minute":f>=1&&f<60?u=u+" il y a "+f+" minutes":f>=60&&c<1?u+=i?"aujourd'hui"+n.format(" [à] H [h] mm"):n.format(" [à] H [h] mm"):(u=i?n.format(" [le] dddd D MMMM YYYY"):n.format(" [le] D MMMM YYYY"),(h<48||r)&&(u=u+n.format(" [à] H [h] mm"))),u}return{getPublishedDateTimeFormatted:function(n,f){var e=null,o=null;return e=t.isMoment(n)?n:t(n),o=i.isUndefined(f)?e:t.isMoment(f)?f:t(f),e._i!=o._i?u(e,o):"Publié "+r(e,!0)}}});define("services/sports/formattingService",["jquery"],function(){function n(n){return n<10?"0"+n:n}function i(n,i){return t.formatLeagueName(n)==="lnh"?i==="1"?i+"<sup>re<\/sup> Période":i===""?"":i+"<sup>e<\/sup> Période":t.formatLeagueName(n)==="mls"?i==="1"?i+"<sup>re<\/sup> demie":i===""?"":i+"<sup>e<\/sup> demie":t.formatLeagueName(n)==="lcf"?i==="1"?i+"<sup>re<\/sup> quart":i===""?"":i+"<sup>e<\/sup> quart":void 0}var t={formatLeagueName:function(n){n=n.toLowerCase();switch(n){case"nhl":return"lnh";case"mls":return"mls";case"cfl":return"lcf";default:return""}},getDayFormatted:function(n){var t=new Date,i=new Date(n.getTime());if(i.setHours(0,0,0,0)==t.setHours(0,0,0,0))return n.getHours()>16?"ce soir ":n.getHours()>11?"après-midi ":"ce matin ";switch(n.getDay()){case 0:return"dimanche";case 1:return"lundi";case 2:return"mardi";case 3:return"mercredi";case 4:return"jeudi";case 5:return"vendredi";case 6:return"samedi";default:return""}},getHourFormatted:function(t){var i="";return n(t.getMinutes())!="00"&&(i="&nbsp"+n(t.getMinutes())),n(t.getHours())+"&nbsp;H"+i},getPeriodFormated:function(n){return n.IsFinal?n.IsOverTime?n.IsShootOut?"Final (TB)":"Final (P)":"Final":n.IsOverTime?n.IsShootOut?"Tirs de barrage":"Prolongation":i(n.LeagueName,n.Period)},getDayOfMonth:function(t){return n(t.getDate())},getMonth:function(t){return n(t.getMonth()+1)}};return t});define("services/sports/dataService",["jquery","underscore","services/sports/formattingService","moment"],function(n,t){function i(n){return t.isUndefined(n)||n==""?"":n}function e(i){u=!0;setTimeout(function(){f.getGamesByNumberOfDayFromNowAsync(1,1,null,null,i).then(function(i){n.each(r,function(n,r){var u=t.find(i,function(n){return n.GameCode===r.game.GameCode});if(u!=null)r.onUpdateReceive(r.game,u)})}).fail(function(n,t,i){console.log(t+" "+i)}).always(function(){e(i)})},6e4)}var r=[],u=!1,f={subscribeUpdate:function(n,t,i){r.push({game:n,onUpdateReceive:t});u||e(i)},unsubscribeUpdate:function(n){this.handlers=this.handlers.filter(function(t){return t.game.GameCode!==n.GameCode?t:null})},getGameAsync:function(t,r,u,f){var e=n.Deferred();return n.ajax(i(f)+"/games/get/"+u).done(function(n){e.resolve(n)}).fail(function(n,t,i){e.reject(t,i)}),e.promise()},getGamesByPriorityAsync:function(t,r,u){var f=n.Deferred();return n.ajax(i(u)+"/games/PriorityFromXml?sport="+t+"&urlPriorityXml="+r).done(function(t){var i=[];n.each(t,function(n,t){i.push(t)});f.resolve(i)}).fail(function(n,t,i){f.reject(t,i)}),f.promise()},getGamesByNumberOfDayFromNowAsync:function(t,r,u,f,e){var o=n.Deferred(),s="",h="";return u!=null&&(s="&league="+u),f!=null&&(h="&teamAbbr="+f),n.ajax(i(e)+"/games/NumberOfDayFromNow?dayBeforeNow="+t+"&dayAfterNow="+r+s+h).done(function(t){var i=[];n.each(t,function(n,t){i.push(t)});o.resolve(i)}).fail(function(n,t,i){o.reject(t,i)}),o.promise()},getGamesBySeasonAndNumberOfDayAsync:function(t,r,u,f,e){var o=n.Deferred();return n.ajax(i(e)+"/games/NumberOfDayfromSeason?numberOfSeasonFromNow=0&numberOfDays="+r+"&fromSeasonBegins="+u+"&league="+f).done(function(t){var i=[];n.each(t,function(n,t){i.push(t)});o.resolve(i)}).fail(function(n,t,i){o.reject(t,i)}),o.promise()},getGamesTest:function(){var n=[];return n[0]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",Class:"result-nhl visible result-item",TeamHome:"Maple Leafs",TeamVisitor:"Bruins",TeamHomeAbreviation:"TOR",TeamVisitorAbreviation:"BOS",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",GameCode:"1443272",ScoreTeamHome:"2",ScoreTeamVisitor:"1",SportName:"Hockey",LeagueName:"NHL",EventTime:"2014-11-23T01:00:00Z",Round:null,Period:"4",IsPreGame:!1,IsInProgress:!0,IsFinal:!0,IsOverTime:!0,IsShootOut:!0},n[1]={CompetitionType:"Avant-saison",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!0,IsInEditorialContext:!1,IsInProgress:!1,IsOverTime:!1,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"3",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[2]={CompetitionType:"Saison",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!0,IsOverTime:!1,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"3",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[3]={CompetitionType:"Avant-saison",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!0,IsOverTime:!1,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"",Round:null,ScoreTeamHome:"",ScoreTeamVisitor:"",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[4]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!0,IsOverTime:!1,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"2",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[5]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!0,IsOverTime:!0,IsPreGame:!1,IsShootOut:!0,LeagueName:"NHL",Period:"4",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[6]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!0,IsInEditorialContext:!1,IsInProgress:!1,IsOverTime:!1,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"2",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[7]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!1,IsOverTime:!1,IsPreGame:!0,IsShootOut:!1,LeagueName:"NHL",Period:"2",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[8]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!0,IsOverTime:!0,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"7",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n[9]={CompetitionType:"Séries éliminatoires",EventTime:"2017-09-17T21:00:00Z",GameCode:"117839",ImageUrlTeamHome:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/van.png",ImageUrlTeamHomeBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/26.png",ImageUrlTeamVisitor:"http://s.radio-canada.ca/sports/_img/logo/Hockey/NHL/teams/68x22/vgk.png",ImageUrlTeamVisitorBeta:"http://images.sports.gracenote.com/hockey/nhl/team/logos/60x60/269.png",IsFinal:!1,IsInEditorialContext:!1,IsInProgress:!0,IsOverTime:!1,IsPreGame:!1,IsShootOut:!1,LeagueName:"NHL",Period:"1",Round:null,ScoreTeamHome:"4",ScoreTeamVisitor:"9",SportName:"Hockey",TeamHome:"Canucks de Vancouver",TeamHomeAbreviation:"VAN",TeamVisitor:"Golden Knights de Vegas",TeamVisitorAbreviation:"VGK"},n}};return f});define("externals/components/ADTTrackAction/main",["jquery","services/cookieService"],function(n,t){var i=function(){var n=this;n.projectName=function(){return t.getValue("RCtest_id")};n.trackAction=function(t,i,r,u,f){analytics_trackAction(n.projectName(),t,i,r,u,f)};n.participantId=function(){return t.getValue("RCtest_participantId")}};return new i});define("externals/components/AdBox/adBoxes",["jquery","underscore"],function(n,t){var i=function(){function u(i){var u=[],e=n('div[data-component-name="AdBox"]'),f,r;return t.each(i,function(t){u.push({position:n.inArray(t.getDomElement(),e),element:t})}),f=t.sortBy(u,function(n){return n.position}),r=[],t.each(f,function(n){r.push(n.element)}),r}var i=this,r=[];i.subscribeAddEvent=function(n){var i=t.uniqueId("pushListener");return r.push({id:i,cb:n}),i};i.unsubscribeAddEvent=function(n){var i=t.findIndex(r,function(t){return t.id==n});i>-1&&r.splice(i,1)};i.ads=[];i.add=function(n){i.ads.push(n);t.each(r,function(t){t.cb(n)})};i.remove=function(n){var r=t.find(i.ads,function(t){return t.domElementId==n});r&&i.ads.splice(i.ads.indexOf(r),1)};i.get=function(n){return t.find(i.ads,function(t){return t.domElementId==n})};i.getByAdId=function(n){return t.find(i.ads,function(t){return t.adId==n||t.loadInlineId==n})};i.getAll=function(){return u(i.ads)};i.getNextSequence=function(n){var u=[],r=1,f=i.getByType(n);for(t.each(f,function(n){n.hasSequence()&&u.push(n.getSequence())});;)if(t.find(u,function(n){return n==r}))r++;else break;return r};i.getByType=function(n){var r=t.filter(i.ads,function(t){return t.getAdType()===n});return u(r)}};return new i});define("externals/components/AdBox/main",["jquery","externals/components/AdBox/adBoxes","services/viewportService","externals/components/RetargetingService/main","externals/components/AdSizeMappingService/main","externals/components/AdTypeService/main","externals/components/AdGoogleTagInclude/main","externals/components/ViewabilityService/main","underscore","externals/components/AdsManager/slotrenderservice"],function(n,t,i,r,u,f,e,o,s,h){return function(){function c(){return n(l).children('div[data-adbox="true"]')}function b(){var t=e.get(),f=null,o,a,v;i.loadInline&&(o=n(l).data("load-inline-id"),s=window[o+"slot"],f=window[o+"slot-render"],s&&f&&h.slotrendered(i,f));t&&(s!=null?(a=i.isActiveBrowserTab(),v=i.isActiveWindow(),s.refresh==-1?s.refresh=0:a&&v?(s.refresh=s.refresh+1,s.refresh<=4&&!c().hasClass("no-refresh")&&(s.setTargeting("refresh","true"),t.pubads().refresh([s],{changeCorrelator:!1}),f&&h.slotrendered(i,f))):(i.resetRefreshCount(),i.startRefreshCount())):i.loadInline||t.cmd.push(function(){var e=i.getAdType();p=u.getSizeMapping(i.sizemapping,e);var f=c().attr("id"),n=RadioCanada.Publicite.getMediaId(),o=RadioCanada.Publicite.getAdUnit();s=t.defineSlot(o,[300,250],f).defineSizeMapping(p).addService(t.pubads()).setCollapseEmptyDiv(!0,!0);s.refresh=0;i.companion===!0&&(s.addService(t.companionAds()),t.companionAds().setRefreshUnfilledSlots(!0));i.position&&i.position!=""?s.setTargeting("pos",i.position):s.setTargeting("pos",i.getSequence());r.Retargeting()!==undefined&&t.pubads().setTargeting("retargeting",r.Retargeting());t.pubads().setTargeting("site",RadioCanada.Publicite.site());t.pubads().setTargeting("inUrl",RadioCanada.Publicite.inUrl());t.pubads().setTargeting("audienceList",RadioCanada.Publicite.getAudienceList());n&&n!=""&&t.pubads().setTargeting("dID",n);t.enableServices();t.display(f)}))}var i=this,l={};i.domElementId="";i.adId="";i.sequence=null;i.initialized=!1;i.position="";i.sizemapping="";var p,a,w=3e4,v=0,y=0,s=null;this.init=function(r){l=r;var u=n(l);i.domElementId=u.attr("id");i.adId=u.data("id");i.loadInline=u.data("load-inline");i.loadInlineId=u.data("load-inline-id");i.sequence=i.getSequence();i.position=u.data("position");i.companion=u.data("companion");i.delayOfViewabilityCheckFromDomReady=u.data("delay-of-viewability-check-from-dom-ready");i.sizemapping=u.data("size-mapping");i.hasUniqueId&&!i.loadInline&&i.regenerateUniqueId();ko.utils.domNodeDisposal.addDisposeCallback(l,function(){t.remove(i.domElementId);i.resetRefreshCount();i.idEventListenerOnViewEvent&&o.unsubscribeOnViewOnceEvent(i.idEventListenerOnViewEvent);i.idEventListenerOnViewEventForRefresh&&o.unsubscribeOnViewOnceEvent(i.idEventListenerOnViewEventForRefresh);i.idEventListenerOnHideEvent&&o.unsubscribeOnHideEvent(i.idEventListenerOnHideEvent)});i.initialized=!0;c().get(0)!==undefined&&(ko.applyBindings(i,c().get(0)),t.add(i))};i.isActiveWindow=function(){return document.hasFocus()?!0:!1};i.isActiveBrowserTab=function(){var n,t,i={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(n in i)if(n in document){t=i[n];break}return function(i){return i&&document.addEventListener(t,i),!document[n]}}();i.getAdType=function(){return/expando/i.test(i.adId)?f.Expando:/halfpage/i.test(i.adId)?f.HalfPage:/billboard/i.test(i.adId)?f.Billboard:/bigbox/i.test(i.adId)?f.BigBox:/leaderboard/i.test(i.adId)?f.Leaderboard:f.Unknow};i.getDomElement=function(){return l};i.positionTop=function(){return n(l).offset().top};i.hasSequence=function(){return/_\d+$/.test(i.adId)};i.hasUniqueId=function(){return!0};i.regenerateUniqueId=function(){var r,t,u,f;return i.hasUniqueId()&&!i.loadInline&&(r=/(\d+)_(\d+)*$/,t=r.exec(i.adId),t!=null&&t.length>1&&(u=t[1],f=parseInt(Math.random()*1e9,10),i.adId=i.adId.replace(u,f),n(l).data("id",i.adId))),i.adId};i.getSequence=function(){return i.hasSequence()?/\d+$/.exec(i.adId)[0]:null};i.setSequence=function(n){if(!i.loadInline){i.hasSequence()&&(i.adId=i.adId.replace(/\d+$/,""));/_$/.test(i.adId)||(i.adId=i.adId+"_");i.sequence=n;var t=parseInt(Math.random()*1e9,10),r=t.toString()+"_";i.adId=i.adId+r+n;c().attr("id",i.adId)}};i.managerLoad=function(){};i.setEnable=function(n){n?(c().hasClass("disabled_srcPubZone")&&c().removeClass("disabled_srcPubZone"),c().addClass("srcPubZone")):(c().hasClass("srcPubZone")&&c().removeClass("srcPubZone"),c().addClass("disabled_srcPubZone"))};i.isEnabled=function(){return!c().hasClass("disabled_srcPubZone")};i.loadAd=function(){b()};i.isLoaded=function(){return!c().is(":empty")};i.destroy=function(){var r=n(l);t.remove(i.domElementId);r.empty();i.adId=r.data("id");s=null};i.recreate=function(){var u=n(l),f,r;i.hasUniqueId()&&i.regenerateUniqueId();f="";u.data("cssclass")!==""&&(f=" "+u.data("cssclass"));r=i.adId;i.hasSequence()||(r=r+i.sequence);u.append("<div class='srcPubZone"+f+"' id='"+r+"' data-adbox='true'><\/div>");t.add(i)};i.refreshFunction=function(){i.loadAd()};i.startRefreshCount=function(){c().hasClass("no-refresh")||(y=(new Date).getTime(),a=setTimeout(i.refreshFunction,w-v))};i.stopRefreshCount=function(){v=(new Date).getTime()-y;clearInterval(a)};i.resetRefreshCount=function(){clearInterval(a);v=0;y=0}}});define("externals/components/AdsManager/main",["jquery","services/componentsService","externals/components/AdBox/adBoxes","underscore","externals/components/MetaTags/main","externals/components/AdTypeService/main","externals/components/AdGoogleTagInclude/main","externals/components/ViewabilityService/main","externals/components/ViewportService/main","externals/components/AdsManager/slotrenderservice"],function(n,t,i,r,u,f,e,o,s,h){var c=function(){function l(n){var t=e.get();n.current!==n.previous&&n.current!="ExtraBig"&&n.previous!="ExtraBig"&&t.pubads().refresh()}var c={},n=this;this.initialized=!1;this.isProcessInitDone=!1;this.rcSection=null;this.rcGroupeSection=null;this.rcEmission=null;this.rcSegment=null;this.rcPageSegment=null;this.fullRefresh=function(){n.resetAllAds();n.manageAdsByType(f.Banner,!0);n.manageAdsByType(f.Billboard,!0);n.manageAdsByType(f.Slim,!0);n.manageAdsByType(f.PromotionalSpace,!0);n.manageAdsByType(f.Expando,!0);n.manageAdsByType(f.HalfPage,!0);n.manageAdsByType(f.BigBox,!0);n.manageAdsByType(f.Leaderboard,!0)};this.partialRefresh=function(t){t||(t=!1);n.manageAdsByType(f.Banner,t);n.manageAdsByType(f.Billboard,t);n.manageAdsByType(f.Slim,t);n.manageAdsByType(f.PromotionalSpace,t);n.manageAdsByType(f.Expando,t);n.manageAdsByType(f.HalfPage,t);n.manageAdsByType(f.BigBox,t);n.manageAdsByType(f.Leaderboard,t)};this.manageAdsByType=function(n,t){var f=i.getByType(n),u=1;r.each(f,function(r){r.idEventListenerOnViewEvent&&o.unsubscribeOnViewOnceEvent(r.idEventListenerOnViewEvent);r.idEventListenerOnViewEventForRefresh&&o.unsubscribeOnViewOnceEvent(r.idEventListenerOnViewEventForRefresh);r.idEventListenerOnHideEvent&&o.unsubscribeOnHideEvent(r.idEventListenerOnHideEvent);var f=function(){r.hasSequence()||r.loadInline||(u=i.getNextSequence(n),r.setSequence(u),u++);(!r.isLoaded()||t)&&r.loadAd()},s=function(){r.startRefreshCount()},e=function(){r.stopRefreshCount();r.idEventListenerOnViewEventForRefresh=o.subscribeOnViewOnceEvent(r.getDomElement(),s,25,300)};r.refreshFunction=function(){o.subscribeOnViewOnceEvent(r.getDomElement(),function(){f()},50)};r.delayOfViewabilityCheckFromDomReady>0?setTimeout(function(){r.idEventListenerOnViewEvent=o.subscribeOnViewOnceEvent(r.getDomElement(),f,25,300);r.idEventListenerOnHideEvent=o.subscribeOnHideEvent(r.getDomElement(),e)},r.delayOfViewabilityCheckFromDomReady):(r.idEventListenerOnViewEvent=o.subscribeOnViewOnceEvent(r.getDomElement(),f,25,300),r.idEventListenerOnHideEvent=o.subscribeOnHideEvent(r.getDomElement(),e))})};this.resetAllAds=function(){var n=i.getAll();r.each(n,function(n){n.isLoaded()&&!n.loadInline&&(n.destroy(),n.recreate())})};this.resetFirstBanner=function(){var t=i.getByType(adType.Banner),n=r.find(t,function(n){return n.getSequence()==1&&n.isEnabled()});n&&(n.destroy(),n.recreate(),n.setSequence(1))};this.metaTagsChangedCallback=function(t){var i=t.getContentByName("rc.section"),u=t.getContentByName("rc.groupeSection"),f=t.getContentByName("rc.emission"),e=t.getContentByName("rc.segment"),o=t.getContentByName("rc.pageSegment");n.rcSection!==i||n.rcGroupeSection!==u||n.rcEmission!==f||n.rcSegment!==e||n.rcPageSegment!==o?(n.setMetaTags(),r.delay(n.fullRefresh,500)):r.delay(n.partialRefresh,500)};this.addAdBoxCallback=function(n){n.showonlywhenview||n.managerLoad()};this.setMetaTags=function(){this.rcSection=u.getContentByName("rc.section");this.rcGroupeSection=u.getContentByName("rc.groupeSection");this.rcEmission=u.getContentByName("rc.emission");this.rcSegment=u.getContentByName("rc.segment");this.rcPageSegment=u.getContentByName("rc.pageSegment")};this.processInit=function(){n.isProcessInitDone||(n.manageAdsByType(f.Banner,!0),n.manageAdsByType(f.Billboard,!0),n.manageAdsByType(f.Slim,!0),n.manageAdsByType(f.PromotionalSpace,!0),n.manageAdsByType(f.Expando,!0),n.manageAdsByType(f.HalfPage,!0),n.manageAdsByType(f.BigBox,!0),n.manageAdsByType(f.Leaderboard,!0),i.subscribeAddEvent(n.addAdBoxCallback),n.setMetaTags(),n.isProcessInitDone=!0)};this.init=function(i){(c=i,this.initialized)||(t.finalized(function(){n.processInit()}),this.initialized=!0,e.addEventListener("slotrenderended",h.slotrendered),s.registerBreakpointReached(l))};this.updateAds=function(){n.metaTagsChangedCallback(u)}};return new c});define("externals/components/AdsManager/slotrenderservice",["jquery","externals/components/ViewportService/main"],function(n,t){var i=function(){var i=this;i.slotrendered=function(i,r){var o,u,c,l,a,s;try{if(!i){console.log("Ads warning: adbox is null");return}i.resetRefreshCount();i.startRefreshCount();var f="300",e="250",h=r.isEmpty;h||(f=r.size[0],e=r.size[1]);o="ad-size-";u=n(i.getDomElement());u.removeClass(function(n,t){return(t.match(new RegExp(o+".*","gi"))||[]).join(" ")});adClassName=o+f+"x"+e;u.addClass(adClassName);h!=!0?(u.find(".srcPubZone").addClass("trailer-column-gutter"),u.parent(".bigbox-contour-blanc").addClass("ad-filled").find(".srcPubZone").removeClass("trailer-column-gutter")):u.parent(".bigbox-contour-blanc").removeClass("ad-filled");c=f===1&&e===1;l=f===240&&e===262;u.find("div.tag-pub").length>0&&u.find("div.tag-pub").remove();u.find(".srcPubZone").prepend('<div class="tag-pub">Publicit&#233;<\/div>');a=i.adId;t.getViewport().current!="ExtraSmall"&&adClassName.indexOf("1920")>=0&&(s=$("."+adClassName).width(),iframeMinHeight=s/4,iframeMaxHeight=s/2,u.find("iframe").css({"min-height":iframeMinHeight,"max-height":iframeMaxHeight}))}catch(v){console.log(v)}}};return new i});define("externals/components/AutopromoDocument/main",["jquery","externals/components/AdGoogleTagInclude/main"],function(n,t){return function(){var u=this,i={},r=function(){var t=n(i).parent().find("[data-component-name='AdFormatBigBox']")[0],r=n(t).find(".adbox")[0];n(r).width()<50?(n(t).height(0),n(t).width(0)):(n(t).height("inherit"),n(t).width(300),n(i).hasClass("offset-sm-1")&&n(i).removeClass("offset-sm-1"))};this.init=function(n){i=n;ko.applyBindings(u,i);r();t&&t.addEventListener&&(t.addEventListener("slotrenderended",r),ko.utils.domNodeDisposal.addDisposeCallback(i,function(){t.removeEventListener("slotrenderended",r)}))}}});define("externals/components/AutopromoUne/main",["jquery","externals/components/AdGoogleTagInclude/main","services/imageResolverService","externals/components/ViewportService/main","underscore"],function(n,t,i,r,u){return function(){var f=this,e={};f.height=ko.observable("");f.imageLongue=ko.observable(null);f.imageCourte=ko.observable(null);f.imageToShow=ko.observable("imageCourte");f.ALaUnePubFirstHeight=ko.observable(43);f.ALaUnePubSecondHeight=ko.observable(43);f.pathImage=ko.observable("");f.imageHeight=ko.observable(0);f.imageAlt=ko.observable("");f.imageUrl=ko.observable("");f.isSmallView=ko.observable(r.getViewport().isSmallView);f.randomID;f.mobile=ko.observable(r.getViewport().isMobileDevice);f.tablet=ko.observable(r.getViewport().isTabletMdDevice||r.getViewport().isTabletLgDevice);f.parentHeight=0;f.maxHeight=0;var c,o=0,s=null,a=function(){f.imageHeight()+f.height>f.parentHeight&&f.imageHeight(0);h()},h=function(){var c;if(f.ALaUnePubFirstHeight(43),f.ALaUnePubSecondHeight(43),n(e).find(".publicite-une").each(function(t,i){n(i).height()>0&&n(i).hasClass("hide")?n(i).removeClass("hide"):n(i).height()<43&&n(i).addClass("hide")}),n(e).find(".ALaUnePubSecond").hasClass("hide-publicite")&&n(e).find(".ALaUnePubSecond").removeClass("hide-publicite"),f.pathImage(""),f.imageHeight(0),f.parentHeight=n(e).height(),f.ALaUnePubFirstHeight(n(e).find(".ALaUnePubFirst").outerHeight()),f.ALaUnePubSecondHeight(n(e).find(".ALaUnePubSecond").outerHeight()),s!=null){c=r.getViewport();f.height=0;var h=0,t=n(e).parent()!=null?n(e).parent().width():n(e).width(),v,u,a,o=0;c.isSmall||c.isExtraSmall?c.isSmall?(h=n(e).find(".ALaUnePubSecond").outerHeight(),diffHeight=f.parentHeight,t=n(e).find(".ALaUnePubSecond").outerWidth(),h<=50&&(n(e).find(".ALaUnePubSecond").hasClass("hide-publicite")||n(e).find(".ALaUnePubSecond").addClass("hide-publicite"),u="4:3",v=t-diffHeight,a=t-t*3/4,o=t*3/4,f.pathImage(i.getImagePicto(s,t,u)),f.imageHeight(o+"px"))):c.isExtraSmall?(h=n(e).find(".ALaUnePubFirst").outerHeight(),h<=0&&(u="16:9",o=t*9/16),f.pathImage(i.getImagePicto(s,t,u)),f.imageHeight(o+"px")):(f.pathImage(""),f.imageHeight(0)):(h=n(e).find(".ALaUnePubFirst").outerHeight()+n(e).find(".ALaUnePubSecond").outerHeight(),diffHeight=f.parentHeight-h<650?f.parentHeight-h:650,diffHeight>200&&(t>diffHeight?(u="4:3",v=t-diffHeight,a=t-t*3/4,o=t*3/4):(v=diffHeight-t,u="2:3",o=t*3/2,a=diffHeight*2/3,a<t&&(u="1:1",o=t)),f.pathImage(i.getImagePicto(s,t,u)),f.imageHeight(o+"px")))}else l()},l=function(){clearTimeout(c);n.ajax({type:"GET",url:window.neuroHost+"/future/lineups/"+o,contentType:"text/plain",xhrFields:{withCredentials:!1},beforeSend:function(n){window.neuroHostKey&&window.neuroHostKey!=""&&n.setRequestHeader("Authorization","Client-Key "+window.neuroHostKey)},success:function(n){if(n!=null&&n.pagedList!=null&&n.pagedList.items.length>0&&n.pagedList.items[0]!=null&&n.pagedList.items[0].summaryMultimediaItem!=null){s=n.pagedList.items[0].summaryMultimediaItem.concreteImages;f.imageAlt(n.pagedList.items[0].summaryMultimediaItem.alt);n.pagedList.items[0].canonicalWebLink!=null&&f.imageUrl(n.pagedList.items[0].canonicalWebLink.href);h();return}}})},y=function(){n.ajax({type:"GET",url:window.neuroHost+"/future/lineups/"+o,contentType:"text/plain",xhrFields:{withCredentials:!1},beforeSend:function(n){window.neuroHostKey&&window.neuroHostKey!=""&&n.setRequestHeader("Authorization","Client-Key "+window.neuroHostKey)},success:function(n){n!=null&&n.pagedList!=null&&n.pagedList.items.length>0&&n.pagedList.items[0]!=null&&n.pagedList.items[0].summaryMultimediaItem!=null&&(s=n.pagedList.items[0].summaryMultimediaItem.concreteImages,f.imageAlt(n.pagedList.items[0].summaryMultimediaItem.alt),n.pagedList.items[0].canonicalWebLink!=null&&f.imageUrl(n.pagedList.items[0].canonicalWebLink.href),h())},error:function(){}})},v=function(){f.imageHeight(0);f.pathImage("");f.parentHeight=n(e).height();h()};this.init=function(i){e=i;ko.applyBindings(f,e);o=n(e).data("lineupidprincipal");lineupIdGlobal=n(e).data("lineupidglobal");o=o==0?lineupIdGlobal:o;o!=0&&(f.randomID=n(e).data("randomid"),c=setTimeout(l,2e3),f.parentHeight=n(e).height(),f.imageHeight(0),f.height=0,n(window).resize(u.debounce(v,500)),t&&t.addEventListener&&t.addEventListener("slotrenderended",a))}}});define("externals/components/AutopromoUneV2/main",["jquery","externals/components/AdGoogleTagInclude/main","externals/components/ViewportService/main","underscore"],function(n,t,i,r){return function(){var u=this,e={},f,s=0,h,o;u.backgroundImage=ko.observable("");u.isNoPub=ko.observable(!1);u.grosseUne=ko.observable(!1);h=!0;o=function(){var h;s=0;u.backgroundImage("");h=n(e).find(".adbox");n.each(h,function(t,i){var r=n(n(i).find(".srcPubZone")).css("display")!="none"?n(i).height():0;s+=r});s==0?u.isNoPub(!0):u.isNoPub(!1);var o=(n(e).height()-s)/n(e).width(),r=i.getViewport(),t=!1;o>3?f.urlImageRatioPerso!=null?(u.backgroundImage(f.urlImageRatioPerso),u.grosseUne(!0)):t=!0:o>953/635?f.urlImageRatioPerso!=null?(u.backgroundImage(f.urlImageRatioPerso),u.grosseUne(!1)):t=!0:o>=1?f.urlImageRatio1X1!=null?(u.backgroundImage(f.urlImageRatio1X1),u.grosseUne(!1)):t=!0:r.isExtraSmall||r.isSmall?f.urlImageRatio1X1!=null?(u.backgroundImage(f.urlImageRatio1X1),u.grosseUne(!1)):t=!0:r.isExtraSmall414px?f.urlImageRatioXS414px!=null?(u.backgroundImage(f.urlImageRatioXS414px),u.grosseUne(!1)):t=!0:r.isExtraSmall375px?f.urlImageRatioXS375px!=null&&(u.backgroundImage(f.urlImageRatioXS375px),u.grosseUne(!1)):r.isExtraSmall320px&&(f.urlImageRatioXS320px?(u.backgroundImage(f.urlImageRatioXS320px),u.grosseUne(!1)):t=!0);s==0&&t&&n(e).hide()};this.unbindAll=function(){t.removeEventListener("slotrenderended",o)};this.init=function(i){e=i;ko.applyBindings(u,e);f=n(i).data("itempromo");n(window).resize(r.debounce(o,500));setTimeout(o,1e3);t&&t.addEventListener&&(t.addEventListener("slotrenderended",o),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){t.removeEventListener("slotrenderended",o)}))}}});define("externals/components/Parallax/main",["jquery","externals/components/ViewportService/main"],function(n,t){return function(){var i=this,r={},u=t.getViewport();this.init=function(u){i.parentElement=u;r=n(u).find(".parallax-container")[0];i.isMobile=i.mobilecheck();i.isTablet=i.tabletcheck();i.isMobile?(n(u).addClass("parallax-mobile"),n(r).css("backgroundImage","url("+n(r).data("pattern-xsmall")+")"),t.ensureResolveViewport(),i.handleBreakpointReached(t.getViewport()),t.registerBreakpointReached(i.handleBreakpointReached)):i.isTablet&&(n(u).addClass("parallax-mobile"),n(r).css("backgroundImage","url("+n(r).data("pattern-small")+")"),t.ensureResolveViewport(),i.handleBreakpointReached(t.getViewport()),t.registerBreakpointReached(i.handleBreakpointReached))};i.handleBreakpointReached=function(t){t.isExtraSmall?(n(i.parentElement).removeClass("parallax-sm"),n(i.parentElement).removeClass("parallax-md"),n(i.parentElement).removeClass("parallax-lg")):t.isSmall?(n(i.parentElement).addClass("parallax-sm"),n(i.parentElement).removeClass("parallax-md"),n(i.parentElement).removeClass("parallax-lg")):t.isMedium?(n(i.parentElement).addClass("parallax-md"),n(i.parentElement).removeClass("parallax-sm"),n(i.parentElement).removeClass("parallax-lg")):(n(i.parentElement).addClass("parallax-lg"),n(i.parentElement).removeClass("parallax-sm"),n(i.parentElement).removeClass("parallax-md"))};i.mobilecheck=function(){return/Mobile/i.test(navigator.userAgent)?!0:!1};i.tabletcheck=function(){return/ipad/i.test(navigator.userAgent)?!0:!1}}});define("externals/components/Parallax/parallaxes",["jquery","underscore","externals/components/ViewportService/main"],function(n,t,i){var r=function(){function c(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?!0:!1}function o(t,i){var r=n(t.mainElement);t.elemWidth=r.width();t.elemTop=r.offset().top;t.elemHeight=r.height();t.winHeight=window.innerHeight;i.width<=480?(t.imgRatio=3/2,t.imgPlacement="center ",t.mainElement.style.background="url("+r.data("pattern-xsmall")+")",t.mainElement.style.backgroundRepeat="no-repeat",t.mainElement.style.backgroundSize="100% auto"):i.width>=480.01&&i.width<=960?t.mainElement.style.background="url("+r.data("pattern-small")+")":(t.imgRatio=9/16,t.imgPlacement=(t.elemWidth/-10).toFixed(2)+"px ",t.mainElement.style.background="url("+r.data("pattern")+")",t.mainElement.style.backgroundRepeat="no-repeat",t.mainElement.style.backgroundSize="110% auto")}function l(n){t.each(u,function(t){o(t,n)})}function s(n,t){if(t+n.winHeight>=n.elemTop){var r=t+n.winHeight-n.mainElement.offsetWidth*n.imgRatio,i=((n.elemTop-r)*-1).toFixed(2);i>0&&(i=0);window.requestAnimationFrame(function(){n.mainElement.style.backgroundPosition=n.imgPlacement+i+"px"})}}function h(n){return n!==undefined?n:(document.documentElement||document.body.parentNode||document.body).scrollTop}function f(){var n=window.pageYOffset,i=h(n);t.each(u,function(n){s(n,i)})}function a(){if(!e){var r=t.throttle(function(){f()},3),n=t.throttle(function(n){l(n)},100);i.registerViewportChanged(function(t){n(t)});window.document.addEventListener("touchmove",function(){f()});window.document.addEventListener("scroll",function(){f()});e=!0}}var r=this,u=[],e=!1;r.add=function(n){var t={mainElement:n},r,f,e;u.push(t);r=c();r&&(o(t,i.getViewport()),t.mainElement.style.height="100%",t.mainElement.style.position="relative",f=window.pageYOffset,e=h(f),s(t,e),a())};r.remove=function(n){var i=t.find(r.parallaxes,function(t){return t.id==n});i&&r.parallaxes.splice(r.parallaxes.indexOf(i),1)};r.get=function(n){return t.find(r.parallaxes,function(t){return t.domElementId==n})}};return new r});define("externals/components/AudioVideoSpotLightWithInfiniteTrayV2/main",["jquery","externals/components/AudioVideoViewingArea/main"],function(n,t){return function(){function u(n,t){i.currentId(t)}function f(){}var i=this,r={};i.lineupid=0;i.nextPageNumber=2;i.pageSize=0;i.moreVisible=ko.observable(!0);i.moreContentProcess=ko.observable(!1);i.currentId=ko.observable();i.isAudio=ko.observable(!1);t.registerOnViewAreaLoaded(u);t.registerOnViewAreaDescriptionLoaded(f);window._audioVideoViewingArea=window._audioVideoViewingArea||{};window._audioVideoViewingArea.changeCurrentMedia=function(n,t,r,u,f,e,o){u===-1&&(u=i.getCurrentPageNumber());i.spotLightClick(n,t,r,u,f,e,o)};i.getCurrentPageNumber=function(){return i.nextPageNumber-1};i.spotLightClick=function(){};i.moreItem=function(){i.moreContentProcess(!0);n.ajax(window.appRouteBunker+"/component/AudioVideoSpotLightWithInfiniteTrayV2/Items?lineupId="+i.lineupid+"&pageNumber="+i.nextPageNumber+"&pageSize="+i.pageSize).done(function(t){var r=n(t).insertBefore(".show-more-content"),u=r.sort();n.each(u,function(n,t){try{ko.applyBindings(i,t)}catch(r){console.log(r)}});i.nextPageNumber++;i.moreVisible(i.nextPageNumber<=i.totalPages)}).complete(function(){i.moreContentProcess(!1)}).error(function(n,t){console.log("Error during more spotlight loading:"+t)})};this.init=function(f){r=f;i.lineupid=n(r).data("lineupid");i.totalPages=n(r).data("totalpages");i.moreVisible(i.nextPageNumber<=i.totalPages);i.pageSize=n(r).data("pagesize");u(t.codeApp,t.idMedia,t.idLineUp,t.pageSizeLineUp)}}});define("externals/components/AudioVideoViewingArea/main",["jquery","services/regionLocalisationService","services/httpService","services/componentsService","externals/components/AudioVideoViewingAreaWrapper/main","moment"],function(n,t,i,r,u,f){var e=function(){function e(){var i=window.appRouteBunker+"/component/AudioVideoViewingAreaDescription/Index?codeApp="+t.codeApp+"&idMedia="+t.idMedia+"&idNetwork="+t.idNetwork+"&idStation="+t.idStation+"&idLineUp="+t.idLineUp+"&pageNumberLineUp="+t.pageNumberLineUp+"&pageSizeLineUp="+t.pageSizeLineUp+"&isNetworkLive="+t.isNetworkLive+"&isNetLive="+t.isNetLive;n.ajax({type:"GET",url:i,dataType:"html",data:{textColor:t.textColor,backgroundColor:t.backgroundColor},success:function(t){var r=n(".viewing-area-description"),u,i,e,s,o;r.html(t);u=r.children(":first").data("broadcast");i=u.broadcastStartsAt;i!=null&&(i=f(i),e=r.find(".live-since"),u.isNetworkLive?e.html("en ondes depuis "+i.format("H [H] mm")):(s=i.year()==f().year(),o="[Le] dddd D MMMM",s||(o+=" YYYY"),e.html(i.format(o))))}})}function s(i,r,u,f,h,c,l,a,v,y){var p,w,k,b;o?(p=n(".Main-Player-Console"),w="-console-container",p&&(p=p.first(),p&&p.attr("id",u+w)),p.attr("id")&&(w=p.attr("id")),k={info:{appCode:i,idMedia:u,params:{autoPlay:!0,share:!0}},active:!1},b=new RadioCanada.player(w,k.info),b.addEventListener(RadioCanada.player.events.META_LOADED,function(n){b.metas=n;var t=window._cbv||(window._cbv=[]);t.push(b)}),t.codeApp=i,t.idMedia=u,t.idNetwork=r,t.idStation=f,t.idLineUp=a,t.pageNumberLineUp=v,t.pageSizeLineUp=y,t.isNetworkLive=h,t.isNetLive=c,e(),t.triggerOnViewAreaLoaded(i,u,a,y)):setTimeout(function(){s(i,r,u,f,h,c,l,a,v,y)},100)}var t=this,i={},h=12e4,o=!1,r,u;t.codeApp="network";t.idMedia="1";t.idNetwork="1";t.idStation="1";t.idLineUp="0";t.pageNumberLineUp="1";t.pageSizeLineUp="12";t.isNetLive=!1;t.isNetworkLive=!1;t.textColor="#FFF";t.backgroundColor="#333";t.onViewAreaDescriptionLoaded=[];t.loadViewAreaDescriptionInProgress=!1;t.onViewAreaLoaded=[];t.loadViewAreaInProgress=!1;t.registerOnViewAreaDescriptionLoaded=function(n){t.onViewAreaDescriptionLoaded.push(n)};t.triggerOnViewAreaDescriptionLoaded=function(i,r,u,f){n.each(t.onViewAreaDescriptionLoaded,function(n,t){t(i,r,u,f)})};t.registerOnViewAreaLoaded=function(n){t.onViewAreaLoaded.push(n)};t.triggerOnViewAreaLoaded=function(i,r,u,f){n.each(t.onViewAreaLoaded,function(n,t){t(i,r,u,f)})};t.init=function(u){i=u;t.codeApp=n(i).data("codeapp");t.idMedia=n(i).data("idmedia");t.idNetwork=n(i).data("idnetwork");t.idStation=n(i).data("idstation");t.idLineUp=n(i).data("idlineup");t.pageNumberLineUp=n(i).data("pagenumberlineup");t.pageSizeLineUp=n(i).data("pagesizelineup");t.isNetworkLive=n(i).data("isnetworklive");t.isNetLive=n(i).data("isnetlive");t.textColor=n(i).data("textcolor");t.backgroundColor=n(i).data("backgroundcolor");r();e();t.isNetworkLive==!0&&setInterval(e,h);t.triggerOnViewAreaLoaded(t.codeApp,t.idMedia,t.idLineUp,t.pageSizeLineUp)};t.loadViewArea=function(n,t,i,r,u,f,e,o,h,c){s(n,t,i,r,u,f,e,o,h,c)};t.getPosition=function(){return n(i).parent().position().top};r=function(){window.srcPlayer!=undefined?(window._console_player=u,u()):setTimeout(function(){r()},10)};u=function(){o=!0}};return new e});define("externals/components/AudioVideoViewingAreaWrapper/main",["jquery","underscore","services/componentsService"],function(){var n={},t=function(){this.init=function(t){n=t}};return new t});define("externals/components/CallbackMemberCenter/main",["jquery","underscore","pluggins/rc.oauth2.client-2.0.1","pluggins/rc.oauth2.loginbar-2.0.1","services/regionLocalisationService"],function(n,t,i,r,u){var f=function(){function h(){(f.QueryString.state==undefined||f.QueryString.state=="")&&(document.location.href="http://ici.radio-canada.ca/");document.location.href=f.QueryString.state}function v(){t.defer(function(){t.each(o,function(n){n.cb(s)})})}function e(){return window.idHost!=a}var f=this,y,c="5dc5dcc3-893b-497b-b0c5-4df0f89f368e",l="5e77384a-7053-4bef-8519-002d0502c6e4",o=[],s,a="services.radio-canada.ca";f.state="";window.idHost=window.idHost||a;f.COOKIE_RCID="RCID";f.QueryString=function(){for(var n,u,t={},f=window.location.hash.substring(1),r=f.split("&"),i=0;i<r.length;i++)n=r[i].split("="),typeof t[n[0]]=="undefined"?t[n[0]]=decodeURIComponent(n[1]):typeof t[n[0]]=="string"?(u=[t[n[0]],decodeURIComponent(n[1])],t[n[0]]=u):t[n[0]].push(decodeURIComponent(n[1]));return t}();this.init=function(){i.init(e()?l:c,2,{vfDependant:!0,done:function(t){n.getJSON(window.ProfilageApiUrl+"jsonp?access_token="+i.getAccessToken(),function(n){f.updateRegion(n.data).done(h())}).fail(function(){console.log("Une erreur est survenue lors du chargement de la page. Veuillez réessayer");h()});f.state=t},fail:function(n,t){console.log(n+" | "+t);h()},cookieMode:!0,cookieDomain:e()?window.location.host:".radio-canada.ca"},e())};f.InitRegionsList=function(n){f.regions=[];f.regionsAll=[];f.regionsTele=[];f.regionsPremiere=[];f.regionsMusique=[];f.RegionsLegacy=[];f.RegionsTeleLegacy=[];f.RegionsPremiereLegacy=[];f.RegionsMusiqueLegacy=[];f.RegionsInfoLegacy=[];n.SectionEdition.Regions.forEach(function(n){n.Id!=17&&n.Id!=0&&n.Id!=18&&n.Id!=11&&(f.regions.push({id:n.DefaultMapping.InfoRegionalRegionId,title:n.Name,meteoCityCode:n.DefaultMapping.MeteoCityCode,regionStationId:n.DefaultMapping.StationRegionId,televisionBroadcastingStationId:n.DefaultMapping.TelevisionRegionId,premiereChaineBroadcastingStationId:n.DefaultMapping.PremiereRegionId,espaceMusiqueBroadcastingStationId:n.DefaultMapping.EspaceMusiqueRegionId}),f.regionsAll.push({id:n.DefaultMapping.InfoRegionalRegionId,title:n.Name,meteoCityCode:n.DefaultMapping.MeteoCityCode,regionStationId:n.DefaultMapping.StationRegionId,televisionBroadcastingStationId:n.DefaultMapping.TelevisionRegionId,premiereChaineBroadcastingStationId:n.DefaultMapping.PremiereRegionId,espaceMusiqueBroadcastingStationId:n.DefaultMapping.EspaceMusiqueRegionId}),n.LegacyId==72?n.LegacyId=53:n.LegacyId==53&&(n.LegacyId=72),f.RegionsLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name}))});n.SectionTelevision.Regions.forEach(function(n){f.regionsTele.push({id:n.Id,title:n.Name});f.RegionsTeleLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});n.SectionPremiere.Regions.forEach(function(n){f.regionsPremiere.push({id:n.Id,title:n.Name});f.RegionsPremiereLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});n.SectionEspaceMusique.Regions.forEach(function(n){f.regionsMusique.push({id:n.Id,title:n.Name,guideLegacyId:n.GuideLegacyId});f.RegionsMusiqueLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});n.SectionInfoRegional.Regions.forEach(function(n){f.RegionsInfoLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});f.regionEdition=ko.observableArray(this.regions);f.RegionsRadioCanada=ko.observableArray(this.regionsTele);f.RegionsPremiere=ko.observableArray(this.regionsPremiere);f.RegionsMusique=ko.observableArray(this.regionsMusique)};f.GetCookie=function(n){for(var r,u,i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),u=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==n)return unescape(u)};f.SetCookie=function(n,t){var i,r,u;path="/";domain="radio-canada.ca";secondes=12096e5;i=new Date;i.setTime(i.getTime());r=new Date(i.getTime()+secondes);u="";document.cookie=n+"="+t+(r?";expires="+r.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(u?";secure":"")};this.updateRegion=function(t){var i=n.Deferred();return t.forEach(function(n){f[n.namespaceKeysValue]=n.value}),u.RcSection().then(function(n){f.InitRegionsList(n,y);f["centredesmembres.regions.premiere"]!=undefined&&f["centredesmembres.regions.premiere"]!=""&&(f.SetLegacyCookieForRegionPremiere(f["centredesmembres.regions.premiere"]),f.SetCookie("RC_CDM_REGION_PREMIERE",f["centredesmembres.regions.premiere"]));f["centredesmembres.regions.tele"]!=undefined&&f["centredesmembres.regions.tele"]!=""&&(f.SetLegacyCookieForRegionTele(f["centredesmembres.regions.tele"]),f.SetCookie("RC_CDM_REGION_TELE",f["centredesmembres.regions.tele"]));f["centredesmembres.regions.principale"]!=undefined&&f["centredesmembres.regions.principale"]!=""&&(f.SetLegacyCookieForRegionPrincipale(f["centredesmembres.regions.principale"]),f.SetCookie("RC_CDM_REGION",f["centredesmembres.regions.principale"]));f["centredesmembres.regions.musique"]!=undefined&&f["centredesmembres.regions.musique"]!=""&&(f.SetLegacyCookieForRegionMusique(f["centredesmembres.regions.musique"]),f.SetCookie("RC_CDM_REGION_MUSIQUE",f["centredesmembres.regions.musique"]));i.resolve()}),i.promise()};f.SetLegacyCookieForRegionPremiere=function(n){var i=!1,t,r,u;this.RegionsPremiereLegacy.forEach(function(t){t.regionId!=n||i||(n=t.legacyRegionId,i=!0)});f.GetCookie(f.COOKIE_RCID)!=undefined&&(t=JSON.parse(f.GetCookie(f.COOKIE_RCID)),t.radioregionid=n,r=f.COOKIE_RCID,u=encodeURI(JSON.stringify(t)),f.SetCookie(r,u))};f.SetLegacyCookieForRegionPrincipale=function(n){var t,i,r;regionIdLegacy=-1;regionStationId=-1;meteoCityCode=-1;infoRegionIdLegacy=-1;this.RegionsLegacy.forEach(function(t){t.regionId==n&&(regionIdLegacy=t.legacyRegionId)});this.regions.forEach(function(t){t.id==n&&(regionStationId=t.regionStationId)});this.regions.forEach(function(t){t.id==n&&(meteoCityCode=t.meteoCityCode)});this.RegionsInfoLegacy.forEach(function(t){t.regionId==n&&(infoRegionIdLegacy=t.legacyRegionId)});t=f.GetCookie(f.COOKIE_RCID)!=undefined?JSON.parse(f.GetCookie(f.COOKIE_RCID)):{};t.editionregionid=regionIdLegacy;t.inforegionid=infoRegionIdLegacy;t.stationregionid=regionStationId;t.citycode=meteoCityCode;i=f.COOKIE_RCID;r=encodeURI(JSON.stringify(t));f.SetCookie(i,r)};f.SetLegacyCookieForRegionTele=function(n){var i=!1,t,r,u;this.RegionsTeleLegacy.forEach(function(t){t.regionId!=n||i||(n=t.legacyRegionId,i=!0)});f.GetCookie(f.COOKIE_RCID)!=undefined&&(t=JSON.parse(f.GetCookie(f.COOKIE_RCID)),t.tvregionid=n,r=f.COOKIE_RCID,u=encodeURI(JSON.stringify(t)),f.SetCookie(r,u))};f.SetLegacyCookieForRegionMusique=function(n){var t=!1,i,r,u;this.RegionsMusiqueLegacy.forEach(function(i){i.regionId!=n||t||(regionIdLegacy=i.legacyRegionId,t=!0)});f.GetCookie(f.COOKIE_RCID)!=undefined&&(regionHrId=-1,t=!1,this.regionsMusique.forEach(function(i){i.id!=n||t||(regionHrId=i.guideLegacyId,t=!0)}),i=JSON.parse(f.GetCookie(f.COOKIE_RCID)),i.emregionid=regionIdLegacy,i.emregiondiohrid=regionHrId,r=f.COOKIE_RCID,u=encodeURI(JSON.stringify(i)),f.SetCookie(r,u))};this.initDefaultConnectionHandler=function(){var n=window.idHost,t="https://"+window.document.location.hostname+"/callback/membercenter";i.init(e()?l:c,1,{domain:n,redirectUri:t,scope:"openid profile email id.write",state:document.URL,cookieMode:!0,cookieDomain:e()?window.location.host:".radio-canada.ca",persistUserInfo:!1},e());r.init(i,{locale:"fr",i18n:{fr:{loggedInMessage:"{0}",myprofile:"Mon espace",myprofileTitle:"Options pour modifier mon espace Radio-Canada."}},forceLogin:!1,modalMode:!1,vfDependant:!0,dropMenuItems:[{label:"myprofile",title:"myprofileTitle",action:e()?"http://dev-rli-ici.radio-canada.ca/mon-espace":"http://ici.radio-canada.ca/mon-espace",target:"_blank"}],loginComplete:function(n,t){t&&n&&(s={token:n,userInfo:t});v()},logoutComplete:function(){s=null;v()}},e())};this.subscribeConnectionState=function(n){var i=t.uniqueId("pushListener");return n(s),o.push({id:i,cb:n}),i};this.unsubscribeConnectionState=function(n){var i=t.findIndex(o,function(t){return t.id==n});i>-1&&o.splice(i,1)};this.login=function(){i.login()};this.logout=function(){i.logout(function(){window.location.href=window.location.href})};this.getBaseAddress=function(){return"https://"+window.idHost+"/"}};return new f});define("externals/components/CallbackMemberCenter/main.v2",["underscore","pluggins/rc-oauth2-client/rc.oauth2.client","pluggins/rc-oauth2-client/views/v2/rc.oauth2.loginbar.view","pluggins/rc-oauth2-client/rc.oauth2.loginbar"],function(n,t,i,r){var u=function(){function l(){n.defer(function(){n.each(f,function(n){n.cb(e)})})}function u(){return window.idHost!=c}var a=this,s="5dc5dcc3-893b-497b-b0c5-4df0f89f368e",h="5e77384a-7053-4bef-8519-002d0502c6e4",f=[],e,c="services.radio-canada.ca",o;window.idHost=window.idHost||c;o=function(){for(var n,u,t={},f=window.location.search.substring(1),r=f.split("&"),i=0;i<r.length;i++)n=r[i].split("="),typeof t[n[0]]=="undefined"?t[n[0]]=decodeURIComponent(n[1]):typeof t[n[0]]=="string"?(u=[t[n[0]],decodeURIComponent(n[1])],t[n[0]]=u):t[n[0]].push(decodeURIComponent(n[1]));return t}();this.init=function(){(o.state==undefined||o.state=="")&&(document.location.href="http://ici.radio-canada.ca/");t.init(u()?h:s,2,{vfDependant:!0,done:function(n){document.location.href=n},fail:function(n,t){console.log(n+" | "+t)},cookieMode:!0,cookieDomain:u()?window.location.host:".radio-canada.ca"},u())};this.refreshLoginBar=function(){r.refresh()};this.initDefaultConnectionHandler=function(){var n=window.idHost,f="https://"+window.document.location.hostname+"/callback/membercenter";t.init(u()?h:s,1,{domain:n,redirectUri:f,scope:"openid profile email id.write",state:document.URL,cookieMode:!0,cookieDomain:u()?window.location.host:".radio-canada.ca",persistUserInfo:!1,forceRefresh:!0},u());i.init({locale:"fr",i18n:{fr:{myAccountLink:"/mon-espace/mon-profil",loggedInMessage:"{0}",myprofile:"Mon espace",myprofileTitle:"Options pour modifier mon espace Radio-Canada."}},myAccountUrl:"http://lcl-bunker.radio-canada.ca/mon-espace/mon-profil/"},u());r.init(t,i,{forceLogin:!1,modalMode:!1,vfDependant:!0,loginComplete:function(n,t){t&&n&&(e={token:n,userInfo:t});l()},logoutComplete:function(){e=null;l()}},u())};this.subscribeConnectionState=function(t){var i=n.uniqueId("pushListener");return t(e),f.push({id:i,cb:t}),i};this.unsubscribeConnectionState=function(t){var i=n.findIndex(f,function(n){return n.id==t});i>-1&&f.splice(i,1)};this.login=function(){t.login()};this.logout=function(){t.logout(function(){window.location.href=window.location.href})};this.getBaseAddress=function(){return"https://"+window.idHost+"/"}};return new u});define("externals/components/AdditionalInfosCard/main",["jquery","externals/components/ADTTrackAction/main"],function(n,t){return function(){var i=this,r={};i.anchorClick=function(){};this.init=function(u){r=u;var f=n(u).data("track-action");f&&(f.trackActionActivityMapEnabled&&n(u).find("a").click(function(){s_objectID="tuile"+f.trackActionPosition}),f.trackActionEnabled&&n(u).find("a").click(function(){var i="bloc"+f.trackActionBlockPosition+"tuile"+f.trackActionPosition,r="click,visitWithClick,visitorWithClick:UTreg"+t.participantId()+"tClk",u={blocName:f.trackActionBlockName,blocPosition:f.trackActionBlockPosition,tuilePosition:f.trackActionPosition,contenuRegion:f.trackActionRegion,contenuTheme:f.trackActionTheme,contenuUrl:n(this).attr("href"),contenuSlug:n(this).attr("href").match(/[^/]*(?=(\/)?$)/)[0]},e={elementAction:"tuile-click",contenuTheme:f.trackActionTheme};t.trackAction(i,r,u,e,{tuileClickPerVisitor:"+1"})}));ko.applyBindings(i,r)}}});define("externals/components/FullCard/main",["jquery","externals/components/ADTTrackAction/main"],function(n,t){return function(){var i=this,r={};i.anchorClick=function(){};this.init=function(u){r=u;var f=n(u).data("track-action");f&&(f.trackActionActivityMapEnabled&&n(u).find("a").click(function(){s_objectID="tuile"+f.trackActionPosition}),f.trackActionEnabled&&n(u).find("a").click(function(){var i="bloc"+f.trackActionBlockPosition+"tuile"+f.trackActionPosition,r="click,visitWithClick,visitorWithClick:UTreg"+t.participantId()+"tClk",u={blocName:f.trackActionBlockName,blocPosition:f.trackActionBlockPosition,tuilePosition:f.trackActionPosition,contenuRegion:f.trackActionRegion,contenuTheme:f.trackActionTheme,contenuUrl:n(this).attr("href"),contenuSlug:n(this).attr("href").match(/[^/]*(?=(\/)?$)/)[0]},e={elementAction:"tuile-click",contenuTheme:f.trackActionTheme};t.trackAction(i,r,u,e,{tuileClickPerVisitor:"+1"})}));ko.applyBindings(i,r)}}});define("externals/components/FullCardFlex/main",["jquery","externals/components/ADTTrackAction/main"],function(n,t){return function(){var i=this,r={};i.anchorClick=function(){};this.init=function(u){r=u;var f=n(u).data("track-action");f&&(f.trackActionActivityMapEnabled&&n(u).find("a").click(function(){s_objectID="tuile"+f.trackActionPosition}),f.trackActionEnabled&&n(u).find("a").click(function(){var i="bloc"+f.trackActionBlockPosition+"tuile"+f.trackActionPosition,r="click,visitWithClick,visitorWithClick:UTreg"+t.participantId()+"tClk",u={blocName:f.trackActionBlockName,blocPosition:f.trackActionBlockPosition,tuilePosition:f.trackActionPosition,contenuRegion:f.trackActionRegion,contenuTheme:f.trackActionTheme,contenuUrl:n(this).attr("href"),contenuSlug:n(this).attr("href").match(/[^/]*(?=(\/)?$)/)[0]},e={elementAction:"tuile-click",contenuTheme:f.trackActionTheme};t.trackAction(i,r,u,e,{tuileClickPerVisitor:"+1"})}));ko.applyBindings(i,r)}}});define("externals/components/ImageTitleCard/main",["jquery","externals/components/ADTTrackAction/main"],function(n,t){return function(){var i=this,r={};i.anchorClick=function(){};this.init=function(u){r=u;var f=n(u).data("track-action");f&&(f.trackActionActivityMapEnabled&&n(u).find("a").click(function(){s_objectID="tuile"+f.trackActionPosition}),f.trackActionEnabled&&n(u).find("a").click(function(){var i="bloc"+f.trackActionBlockPosition+"tuile"+f.trackActionPosition,r="click,visitWithClick,visitorWithClick:UTreg"+t.participantId()+"tClk",u={blocName:f.trackActionBlockName,blocPosition:f.trackActionBlockPosition,tuilePosition:f.trackActionPosition,contenuRegion:f.trackActionRegion,contenuTheme:f.trackActionTheme,contenuUrl:n(this).attr("href"),contenuSlug:n(this).attr("href").match(/[^/]*(?=(\/)?$)/)[0]},e={elementAction:"tuile-click",contenuTheme:f.trackActionTheme};t.trackAction(i,r,u,e,{tuileClickPerVisitor:"+1"})}));ko.applyBindings(i,r)}}});define("externals/components/ImageTitleFixedRatio1x1Card/main",["jquery","externals/components/ADTTrackAction/main"],function(n,t){return function(){var i=this,r={};i.anchorClick=function(){};this.init=function(u){r=u;var f=n(u).data("track-action");f&&(f.trackActionActivityMapEnabled&&n(u).find("a").click(function(){s_objectID="tuile"+f.trackActionPosition}),f.trackActionEnabled&&n(u).find("a").click(function(){var i="bloc"+f.trackActionBlockPosition+"tuile"+f.trackActionPosition,r="click,visitWithClick,visitorWithClick:UTreg"+t.participantId()+"tClk",u={blocName:f.trackActionBlockName,blocPosition:f.trackActionBlockPosition,tuilePosition:f.trackActionPosition,contenuRegion:f.trackActionRegion,contenuTheme:f.trackActionTheme,contenuUrl:n(this).attr("href"),contenuSlug:n(this).attr("href").match(/[^/]*(?=(\/)?$)/)[0]},e={elementAction:"tuile-click",contenuTheme:f.trackActionTheme};t.trackAction(i,r,u,e,{tuileClickPerVisitor:"+1"})}));ko.applyBindings(i,r)}}});define("externals/components/SearchResultCard/main",["jquery","services/document/dateTimePublishedService"],function(n,t){return function(){var r=this,i={};this.init=function(u){i=u;var f=n(i).find("time"),e=f.attr("datetime");f.html(t.getPublishedDateTimeFormatted(moment(e),undefined));ko.applyBindings(r,i)}}});define("externals/components/ShowCard/main",["jquery","externals/components/ADTTrackAction/main"],function(n,t){return function(){var i=this,r={};i.anchorClick=function(){};this.init=function(u){r=u;var f=n(u).data("track-action");f&&(f.trackActionActivityMapEnabled&&n(u).find("a").click(function(){s_objectID="tuile"+f.trackActionPosition}),f.trackActionEnabled&&n(u).find("a").click(function(){var i="bloc"+f.trackActionBlockPosition+"tuile"+f.trackActionPosition,r="click,visitWithClick,visitorWithClick:UTreg"+t.participantId()+"tClk",u={blocName:f.trackActionBlockName,blocPosition:f.trackActionBlockPosition,tuilePosition:f.trackActionPosition,contenuRegion:f.trackActionRegion,contenuTheme:f.trackActionTheme,contenuUrl:n(this).attr("href"),contenuSlug:n(this).attr("href").match(/[^/]*(?=(\/)?$)/)[0]},e={elementAction:"tuile-click",contenuTheme:f.trackActionTheme};t.trackAction(i,r,u,e,{tuileClickPerVisitor:"+1"})}));ko.applyBindings(i,r)}}});define("externals/components/CentreDesMembreMaRegion/main",["jquery","pluggins/rc-oauth2-client/rc.oauth2.loginbar","services/regionLocalisationService","externals/components/AppStateService/appStateService","externals/components/PushStateControl/loaderStateService"],function(n,t,i,r,u){var f=function(){var f=this,e={},t,o;this.COOKIE_RC_CDM_REGION="RC_CDM_REGION";this.COOKIE_RC_CDM_REGION_MUSIQUE="RC_CDM_REGION_MUSIQUE";this.COOKIE_RC_CDM_REGION_PREMIERE="RC_CDM_REGION_PREMIERE";this.COOKIE_RC_CDM_REGION_TELE="RC_CDM_REGION_TELE";this.COOKIE_RCID="RCID";this.Message=ko.observable("");this.regions={};this.regionsAll={};this.RegionMusiqueSelection=ko.observable();this.RegionPremiereSelection=ko.observable();this.RegionPrincipaleSelection=ko.observable();this.RegionTeleSelection=ko.observable();this.RegionsFromCookie=[];this.RegionsInfoLegacy;this.RegionsLegacy=[];this.RegionsMusique={};this.RegionsMusiqueLegacy=[];this.RegionsPremiere={};this.RegionsPremiereLegacy=[];this.RegionsRadioCanada={};this.RegionsTeleLegacy=[];f.showSaveCancelButton=ko.observable(!1);f.ShowTeaserMembership=ko.observable(!0);this.user={};this.UserConnected=ko.observable(!1);t=this;o={};this.ChangeClassGridContent=function(){this.UserConnected()?(n(".middle-placeholder").removeClass("offset-lg-1"),n(".middle-placeholder").addClass("offset-lg-1"),n(".middle-placeholder").removeClass("offset-xl-2"),n(".middle-placeholder").addClass("offset-xl-4"),n(".middle-placeholder").addClass("col-xl-12"),n(".middle-placeholder").removeClass("col-xl-16")):(n(".middle-placeholder").removeClass("offset-lg-1"),n(".middle-placeholder").addClass("offset-lg-1"),n(".middle-placeholder").removeClass("offset-xl-4"),n(".middle-placeholder").addClass("offset-xl-2"),n(".middle-placeholder").removeClass("col-xl-12"),n(".middle-placeholder").addClass("col-xl-16"))};this.init=function(r){e=r;document.referrer?n(".submit-form-message .button-back").attr("href",document.referrer):n(".submit-form-message .button-back").attr("href","/").html("Aller &agrave; la page d'accueil");this.SetScreenReaderSettings();this.SetKeydownSettings();this.ChangeClassGridContent();i.RcSection().then(function(n){f.InitRegionsList(n,e);t.callbackRGSVC()})};this.callbackRGSVC=function(){if(window.loginApi){var n=window.loginApi.subscribeConnectionState(function(n){t.UserConnected(n.connected);n&&n.connected||(t.user.rcid=undefined)});ko.applyBindings(f,e);t.LoadUserInfo()}else setTimeout(function(){t.callbackRGSVC()},300)};this.LoadUserInfo=function(){window.loginApi?window.loginApi.getUserInfo().then(function(n){n.connected?t.GetUserInfoDone(200,n):t.GetUserInfoFail()}):setTimeout(function(){t.LoadUserInfo()},300)};this.CloseMessage=function(){n(".submit-form-message").removeClass("success");f.Message("")};this.EditionRegionalPrincipalChanged=function(n,t){var i=this.RegionPrincipaleSelection();t.isTrigger==undefined&&(this.regionsAll.forEach(function(t){t.id==i&&(n.RegionTeleSelection(t.televisionBroadcastingStationId),n.RegionPremiereSelection(t.premiereChaineBroadcastingStationId),n.RegionMusiqueSelection(t.espaceMusiqueBroadcastingStationId))}),this.SaveRegions())};this.GetCookie=function(n){for(var r,u,i=document.cookie.split(";"),t=0;t<i.length;t++)if(r=i[t].substr(0,i[t].indexOf("=")),u=i[t].substr(i[t].indexOf("=")+1),r=r.replace(/^\s+|\s+$/g,""),r==n)return unescape(u)};this.GetRegionMusiqueProfileInfo=function(n){return{NamespaceNode:"Profile",NamespaceKeys:"centredesmembres.regions.musique",Value:n,UserId:this.user.rcid,Platform:"radiocanadaca",Type:"1"}};this.GetRegionPremiereProfileInfo=function(n){return{NamespaceNode:"Profile",NamespaceKeys:"centredesmembres.regions.premiere",Value:n,UserId:this.user.rcid,Platform:"radiocanadaca",Type:"1"}};this.GetRegionPrincipaleProfileInfo=function(n){return{NamespaceNode:"Profile",NamespaceKeys:"centredesmembres.regions.principale",Value:n,UserId:this.user.rcid,Platform:"radiocanadaca",Type:"1"}};this.GetRegionTeleProfileInfo=function(n){return{NamespaceNode:"Profile",NamespaceKeys:"centredesmembres.regions.tele",Value:n,UserId:this.user.rcid,Platform:"radiocanadaca",Type:"1"}};this.GetSavedRegionMusique=function(n){var u=!1,t,f,r,i,e,o;if(n!=undefined&&n.data!=undefined&&n.data.forEach(function(n){n!=undefined&&n.namespaceKeysValue!=undefined&&n.namespaceKeysValue=="centredesmembres.regions.musique"&&n.value!=undefined&&(t=n.value,u=!0)}),u)e=this.COOKIE_RC_CDM_REGION_MUSIQUE,o=t,this.SetCookie(e,o);else try{this.GetCookie(this.COOKIE_RC_CDM_REGION_MUSIQUE)!=undefined||this.GetCookie(this.COOKIE_RCID)!=undefined?(t=this.GetCookie(this.COOKIE_RC_CDM_REGION_MUSIQUE),(t==undefined||t=="")&&(f=JSON.parse(this.GetCookie(this.COOKIE_RCID)),r=!1,this.RegionsMusiqueLegacy.forEach(function(n){n.legacyRegionId==f.emregionid&&(t=n.regionId,r=!0)}),r||(i=window.geoip_region_info(),t=i.espaceMusiqueRegionId)),this.RegionMusiqueExist(t)?this.RegionsFromCookie.push(this.GetRegionMusiqueProfileInfo(t)):(i=window.geoip_region_info(),t=i.espaceMusiqueRegionId)):(i=window.geoip_region_info(),t=i.espaceMusiqueRegionId)}catch(s){}this.RegionMusiqueSelection(t)};this.GetSavedRegionPremiere=function(n){var u=!1,t,f,r,i,e,o;if(n!=undefined&&n.data!=undefined&&n.data.forEach(function(n){n!=undefined&&n.namespaceKeysValue!=undefined&&n.namespaceKeysValue=="centredesmembres.regions.premiere"&&n.value!=undefined&&(t=n.value,u=!0)}),u)e=this.COOKIE_RC_CDM_REGION_PREMIERE,o=t,this.SetCookie(e,o);else try{this.GetCookie(this.COOKIE_RC_CDM_REGION_PREMIERE)!=undefined||this.GetCookie(this.COOKIE_RCID)!=undefined?(t=this.GetCookie(this.COOKIE_RC_CDM_REGION_PREMIERE),(t==undefined||t=="")&&(f=JSON.parse(this.GetCookie(this.COOKIE_RCID)),r=!1,this.RegionsPremiereLegacy.forEach(function(n){n.legacyRegionId==f.radioregionid&&(t=n.regionId,r=!0)}),r||(i=window.geoip_region_info(),t=i.radioRegionId)),this.RegionPremiereExist(t)?this.RegionsFromCookie.push(this.GetRegionPremiereProfileInfo(t)):(i=window.geoip_region_info(),t=i.radioRegionId)):(i=window.geoip_region_info(),t=i.radioRegionId)}catch(s){}this.RegionPremiereSelection(t)};this.GetSavedRegionPrincipale=function(n){var u=!1,t,f,r,i,e,o;if(n!=undefined&&n.data!=undefined&&n.data.forEach(function(n){n!=undefined&&n.namespaceKeysValue!=undefined&&n.namespaceKeysValue=="centredesmembres.regions.principale"&&n.value!=undefined&&(t=n.value,u=!0)}),u)e=this.COOKIE_RC_CDM_REGION,o=t,this.SetCookie(e,o);else{if(t=this.GetCookie(this.COOKIE_RC_CDM_REGION),t==undefined||t=="")try{this.GetCookie(this.COOKIE_RCID)!=undefined?(f=JSON.parse(this.GetCookie(this.COOKIE_RCID)),r=!1,this.RegionsLegacy.forEach(function(n){n.legacyRegionId==f.editionregionid&&(t=n.regionId,r=!0)}),r||(i=window.geoip_region_info(),t=i.editionRegionId)):(i=window.geoip_region_info(),t=i.editionRegionId)}catch(s){}this.RegionExist(t)?this.RegionsFromCookie.push(this.GetRegionPrincipaleProfileInfo(t)):(i=window.geoip_region_info(),t=i.editionRegionId)}return t};this.GetSavedRegionTele=function(n){var u=!1,t,f,r,i,e,o;if(n!=undefined&&n.data!=undefined&&n.data.forEach(function(n){n!=undefined&&n.namespaceKeysValue!=undefined&&n.namespaceKeysValue=="centredesmembres.regions.tele"&&n.value!=undefined&&(t=n.value,u=!0)}),u)e=this.COOKIE_RC_CDM_REGION_TELE,o=t,this.SetCookie(e,o);else try{this.GetCookie(this.COOKIE_RC_CDM_REGION_TELE)!=undefined||this.GetCookie(this.COOKIE_RCID)!=undefined?(t=this.GetCookie(this.COOKIE_RC_CDM_REGION_TELE),(t==undefined||t=="")&&(f=JSON.parse(this.GetCookie(this.COOKIE_RCID)),r=!1,this.RegionsTeleLegacy.forEach(function(n){n.legacyRegionId==f.tvregionid&&(t=n.regionId,r=!0)}),r||(i=window.geoip_region_info(),t=i.televisionRegionId)),this.RegionTeleExist(t)?this.RegionsFromCookie.push(this.GetRegionTeleProfileInfo(t)):(i=window.geoip_region_info(),t=i.televisionRegionId)):(i=window.geoip_region_info(),t=i.televisionRegionId)}catch(s){}this.RegionTeleSelection(t)};this.GetUserInfoDone=function(n,i){n==200?i.ban_level=="login"?window.loginApi.logout(function(){t.LoadOfflineValue();t.UserConnected(!1);t.ChangeClassGridContent()}):(t.user=i,t.InitSavedInfo(),t.UserConnected(!0),t.ChangeClassGridContent()):(t.LoadOfflineValue(),t.UserConnected(!1),t.ChangeClassGridContent());t.SetLogOutCallback()};this.GetUserInfoFail=function(){t.LoadOfflineValue();t.UserConnected(!1);t.ChangeClassGridContent()};this.InitRegionsList=function(n){this.regions=[];this.regionsAll=[];this.regionsTele=[];this.regionsPremiere=[];this.regionsMusique=[];this.RegionsLegacy=[];this.RegionsTeleLegacy=[];this.RegionsPremiereLegacy=[];this.RegionsMusiqueLegacy=[];this.RegionsInfoLegacy=[];n.SectionEdition.Regions.forEach(function(n){n.Id!=17&&n.Id!=0&&n.Id!=18&&n.Id!=11&&(t.regions.push({id:n.DefaultMapping.InfoRegionalRegionId,title:n.Name,meteoCityCode:n.DefaultMapping.MeteoCityCode,regionStationId:n.DefaultMapping.StationRegionId,televisionBroadcastingStationId:n.DefaultMapping.TelevisionRegionId,premiereChaineBroadcastingStationId:n.DefaultMapping.PremiereRegionId,espaceMusiqueBroadcastingStationId:n.DefaultMapping.EspaceMusiqueRegionId}),t.regionsAll.push({id:n.DefaultMapping.InfoRegionalRegionId,title:n.Name,meteoCityCode:n.DefaultMapping.MeteoCityCode,regionStationId:n.DefaultMapping.StationRegionId,televisionBroadcastingStationId:n.DefaultMapping.TelevisionRegionId,premiereChaineBroadcastingStationId:n.DefaultMapping.PremiereRegionId,espaceMusiqueBroadcastingStationId:n.DefaultMapping.EspaceMusiqueRegionId}),t.RegionsLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name}))});n.SectionTelevision.Regions.forEach(function(n){t.regionsTele.push({id:n.Id,title:n.Name});t.RegionsTeleLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});n.SectionPremiere.Regions.forEach(function(n){t.regionsPremiere.push({id:n.Id,title:n.Name});t.RegionsPremiereLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});n.SectionEspaceMusique.Regions.forEach(function(n){t.regionsMusique.push({id:n.Id,title:n.Name,guideLegacyId:n.GuideLegacyId});t.RegionsMusiqueLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});n.SectionInfoRegional.Regions.forEach(function(n){t.RegionsInfoLegacy.push({legacyRegionId:n.LegacyId,regionId:n.Id,title:n.Name})});this.regionEdition=ko.observableArray(this.regions);this.RegionsRadioCanada=ko.observableArray(this.regionsTele);this.RegionsPremiere=ko.observableArray(this.regionsPremiere);this.RegionsMusique=ko.observableArray(this.regionsMusique)};this.InitSavedInfo=function(){n.getJSON(window.ProfilageApiUrl+"jsonp?access_token="+window.loginApi.getAccessToken(),function(n){t.LoadInfo(n)}).fail(function(){t.Message("Une erreur est survenue lors du chargement de la page. Veuillez réessayer")})};this.LoadInfo=function(i){var r=t.GetSavedRegionPrincipale(i);t.RegionPrincipaleSelection(r);t.GetSavedRegionTele(i);t.GetSavedRegionPremiere(i);t.GetSavedRegionMusique(i);t.UserConnected()&&t.RegionsFromCookie.length>0&&(dataToSend={Elements:t.RegionsFromCookie},jQuery.ajax({url:window.ProfilageApiUrl+"NamespaceValues?access_token="+window.loginApi.getAccessToken(),type:"POST",data:JSON.stringify(dataToSend),crossDomain:!0,contentType:"application/json",success:function(){},error:function(){t.Message("Une erreur est survenue lors du chargement de la page. Veuillez réessayer")}}),t.RegionsFromCookie=[]);n("select").change(function(){f.showSaveCancelButton(!0)});this.SetAllSelectedOptions();$(".secondary-region").show()};this.LoadOfflineValue=function(){data=undefined;this.LoadInfo(data)};this.RegionExist=function(n){var t=!1;return this.regions.forEach(function(i){i.id==n&&(t=!0)}),t};this.RegionMusiqueChanged=function(n,t){t.isTrigger==undefined&&this.SaveRegions()};this.RegionMusiqueExist=function(n){var t=!1;return this.regionsMusique.forEach(function(i){i.id==n&&(t=!0)}),t};this.RegionPremiereChanged=function(n,t){t.isTrigger==undefined&&this.SaveRegions()};this.RegionPremiereExist=function(n){var t=!1;return this.regionsPremiere.forEach(function(i){i.id==n&&(t=!0)}),t};this.RegionTeleChanged=function(n,t){t.isTrigger==undefined&&this.SaveRegions()};this.RegionTeleExist=function(n){var t=!1;return this.regionsTele.forEach(function(i){i.id==n&&(t=!0)}),t};this.RegionTeleLegacyExist=function(n){for(var t=0;t<this.RegionsMusiqueLegacy.length;t++)if(this.RegionsMusiqueLegacy[t].legacyRegionId==n)return!0;return!1};this.SaveRegionMusique=function(){var t=this.COOKIE_RC_CDM_REGION_MUSIQUE,n=this.RegionMusiqueSelection();return this.SetCookie(t,n),this.SetLegacyCookieForRegionMusique(n),this.GetRegionMusiqueProfileInfo(n)};this.SaveRegionPremiere=function(){var t=this.COOKIE_RC_CDM_REGION_PREMIERE,n=this.RegionPremiereSelection();return this.SetCookie(t,n),this.SetLegacyCookieForRegionPremiere(n),this.GetRegionPremiereProfileInfo(n)};this.SaveRegionPrincipale=function(){var n=this.RegionPrincipaleSelection(),i=this.COOKIE_RC_CDM_REGION,t=n;return this.SetCookie(i,t),this.SetLegacyCookieForRegionPrincipale(n),r.updateRegionMain(t),this.GetRegionPrincipaleProfileInfo(n)};this.SaveRegions=function(){var n=[];n.push(this.SaveRegionPrincipale());n.push(this.SaveRegionTele());n.push(this.SaveRegionPremiere());n.push(this.SaveRegionMusique());dataToSend={Elements:n};t.UserConnected()&&jQuery.ajax({url:window.ProfilageApiUrl+"NamespaceValues?access_token="+window.loginApi.getAccessToken(),type:"POST",contentType:"application/json",data:JSON.stringify(dataToSend),crossDomain:!0,success:function(){t.Message("")},error:function(){t.Message("Une erreur est survenue lors de l'enregistrement de vos préférences. Veuillez réessayer")}});this.UpdateNavBar(n);this.SetAllSelectedOptions();u.incrementCacheBuster()};this.SaveRegionTele=function(){var t=this.COOKIE_RC_CDM_REGION_TELE,n=this.RegionTeleSelection();return this.SetCookie(t,n),this.SetLegacyCookieForRegionTele(n),this.GetRegionTeleProfileInfo(n)};this.SetAllSelectedOptions=function(){this.SetSelectedOption("ddlEdition");this.SetSelectedOption("ddlTv");this.SetSelectedOption("ddlEm");this.SetSelectedOption("ddlRadio1")};this.SetCookie=function(n,t){var i,r,u;path="/";domain="radio-canada.ca";secondes=12096e5;i=new Date;i.setTime(i.getTime());r=new Date(i.getTime()+secondes);u="";document.cookie=n+"="+t+(r?";expires="+r.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(u?";secure":"")};this.SetKeydownSettings=function(){n(document).keydown(function(t){t.keyCode==27&&(n(".submit-form-message").removeClass("success"),this.Message(""))})};this.SetLegacyCookieForRegionPremiere=function(n){var i=!1,t,r,u;this.RegionsPremiereLegacy.forEach(function(t){t.regionId!=n||i||(n=t.legacyRegionId,i=!0)});this.GetCookie(this.COOKIE_RCID)!=undefined&&(t=JSON.parse(this.GetCookie(this.COOKIE_RCID)),t.radioregionid=n,r=this.COOKIE_RCID,u=encodeURI(JSON.stringify(t)),this.SetCookie(r,u))};this.SetLegacyCookieForRegionPrincipale=function(n){var t,i,r;regionIdLegacy=-1;regionStationId=-1;meteoCityCode=-1;infoRegionIdLegacy=-1;this.RegionsLegacy.forEach(function(t){t.regionId==n&&(regionIdLegacy=t.legacyRegionId)});this.regions.forEach(function(t){t.id==n&&(regionStationId=t.regionStationId)});this.regions.forEach(function(t){t.id==n&&(meteoCityCode=t.meteoCityCode)});this.RegionsInfoLegacy.forEach(function(t){t.regionId==n&&(infoRegionIdLegacy=t.legacyRegionId)});t=this.GetCookie(this.COOKIE_RCID)!=undefined?JSON.parse(this.GetCookie(this.COOKIE_RCID)):{};t.editionregionid=regionIdLegacy;t.inforegionid=infoRegionIdLegacy;t.stationregionid=regionStationId;t.citycode=meteoCityCode;i=this.COOKIE_RCID;r=encodeURI(JSON.stringify(t));this.SetCookie(i,r)};this.SetLegacyCookieForRegionTele=function(n){var i=!1,t,r,u;this.RegionsTeleLegacy.forEach(function(t){t.regionId!=n||i||(n=t.legacyRegionId,i=!0)});this.GetCookie(this.COOKIE_RCID)!=undefined&&(t=JSON.parse(this.GetCookie(this.COOKIE_RCID)),t.tvregionid=n,r=this.COOKIE_RCID,u=encodeURI(JSON.stringify(t)),this.SetCookie(r,u))};this.SetLegacyCookieForRegionMusique=function(n){var t=!1,i,r,u;this.RegionsMusiqueLegacy.forEach(function(i){i.regionId!=n||t||(regionIdLegacy=i.legacyRegionId,t=!0)});this.GetCookie(this.COOKIE_RCID)!=undefined&&(regionHrId=-1,t=!1,this.regionsMusique.forEach(function(i){i.id!=n||t||(regionHrId=i.guideLegacyId,t=!0)}),i=JSON.parse(this.GetCookie(this.COOKIE_RCID)),i.emregionid=regionIdLegacy,i.emregiondiohrid=regionHrId,r=this.COOKIE_RCID,u=encodeURI(JSON.stringify(i)),this.SetCookie(r,u))};this.SetLogOutCallback=function(){window.loginApi.subscribeConnectionState(function(n){try{t.UserConnected(n.connected);n&&n.connected||t.ChangeClassGridContent()}catch(i){}})};this.SetScreenReaderSettings=function(){n(".submit-form-message #focus-2").on("focus",function(){n(".submit-form-message").focus()});n(".submit-form-message #focus-1").on("focus",function(){n(".submit-form-message .button-close").focus()})};this.SetSelectedOption=function(n){for(var t=0;document.getElementById(n).getElementsByTagName("option")[t]!=undefined;)document.getElementById(n).getElementsByTagName("option")[t].selected?document.getElementById(n).getElementsByTagName("option")[t].setAttribute("selected","selected"):document.getElementById(n).getElementsByTagName("option")[t].removeAttribute("selected"),t++};this.UpdateNavBar=function(){var n;try{n=new Event(eventName,params)}catch(t){n=document.createEvent("CustomEvent");n.initEvent("v5:region:principale:change",!1,!0)}document.dispatchEvent(n)}};return new f});define("externals/components/CentreDesMembresCommentaires/main",["jquery","pluggins/rc-oauth2-client/rc.oauth2.loginbar"],function(){return function(){var t=this,n={};this.Comments=ko.observableArray();this.ShowMainCard=ko.observable(!1);this.UserConnected=ko.observable(!0);this.CommentOffset=0;this.CommentLimit=20;this.MoreCommentsToShow=ko.observable(!1);this.ViafouraId="";this.showMessageNoComment=ko.observable(!1);this.showErrorMessage=ko.observable(!1);this.errorMessage=ko.observable();this.btnLoadClass=ko.observable("loading");this.btnLoadText=ko.observable("Chargement en cours");that=this;this.forceRefreshV5StateData=function(){window.loginApi?window.loginApi.refreshStateData():setTimeout(function(){that.forceRefreshV5StateData()},300)};this.forceRefreshV5StateDataWithUserInfo=function(n){window.loginApi?window.loginApi.refreshStateDataWithUserInfo(n):setTimeout(function(){that.forceRefreshV5StateDataWithUserInfo(n)},300)};this.GetUserInfoDone=function(n,t){t.ban_level=="login"?window.loginApi.logout(function(){that.UserConnected(!1);that.ShowMainCard(!1);that.forceRefreshV5StateData()}):(that.ViafouraId=t.vfid,that.UserConnected(!0),that.LoadComments(),that.ShowMainCard(!0),that.SetLogOutCallback())};this.GetUserInfoFail=function(){that.UserConnected(!1);that.ShowMainCard(!1)};this.init=function(i){n=i;ko.applyBindings(t,n);setTimeout(function(){that.LoadUserInfo()},1)};this.LoadUserInfo=function(){window.loginApi?window.loginApi.getUserInfo().then(function(n){n.connected?that.GetUserInfoDone(200,n):that.GetUserInfoFail()}):setTimeout(function(){that.LoadUserInfo()},300)};this.LoadComments=function(){this.errorMessage("");this.showMessageNoComment(!1);this.btnLoadText("Chargement en cours");this.btnLoadClass("loading");jQuery.ajax({url:window.ProfilageApiUrl+"comments?viafouraId="+that.ViafouraId+"&offset="+that.CommentOffset+"&limit="+that.CommentLimit+"&access_token="+window.loginApi.getAccessToken(),type:"GET",success:function(n){if(n.length==0)that.showMessageNoComment(!0),that.MoreCommentsToShow(!1);else{that.showMessageNoComment(!1);var t=0;n.forEach(function(n){var i=new Date(n.date),r=("0"+i.getDate()).slice(-2),u=("0"+(i.getMonth()+1)).slice(-2),f=i.getFullYear(),e=("0"+i.getHours()).slice(-2),o=("0"+i.getMinutes()).slice(-2);n.date=r+"-"+u+"-"+f+" <span>"+e+"h"+o+"<\/span>";that.Comments.push(n);t++});t<that.CommentLimit?that.MoreCommentsToShow(!1):that.MoreCommentsToShow(!0);that.CommentOffset+=that.CommentLimit}that.btnLoadClass("cbcrc-icon-plus");that.btnLoadText("Afficher plus")},error:function(){that.showErrorMessage(!0);that.errorMessage("Une erreur s'est produite. Nous en sommes désolés, veuillez réessayer.");that.btnLoadClass("");that.btnLoadText("Réessayer");that.MoreCommentsToShow(!0)}})};this.SetLogOutCallback=function(){if(window.loginApi)var n=window.loginApi.subscribeConnectionState(function(n){n&&n.connected||(that.UserConnected(!1),that.ShowMainCard(!1))});else setTimeout(function(){that.SetLogOutCallback()},300)}}});define("externals/components/CentreDesMembresMembershipTeaser/main",["jquery"],function(){return function(){var n=this,t={};this.init=function(i){t=i;ko.applyBindings(n,t)};n.login=function(){return window.loginApi?window.loginApi.login():setTimeout(function(){n.createAccount()},300),!1};n.createAccount=function(){return window.loginApi?window.loginApi.createAccount():setTimeout(function(){n.createAccount()},300),!1}}});define("externals/components/CentreDesMembresMotPasseOublie/main",["jquery","pluggins/rc-oauth2-client/rc.oauth2.client","pluggins/rc-oauth2-client/rc.oauth2.loginbar"],function(n,t){return function(){var i=this,n={};this.Email=ko.observable("");that=this;this.VisibleError=ko.observable(!1);this.VisibleMessage=ko.observable(!1);this.ResetPasswordFormVisible=ko.observable(!0);this.UserConnected=ko.observable(!0);this.init=function(r){n=r;ko.applyBindings(i,n);setTimeout(function(){t.getUserInfo({forceRefresh:!0,done:that.GetUserInfoDone,fail:that.GetUserInfoFail})},1)};this.GetUserInfoDone=function(n,i){i.ban_level=="login"?t.logout(function(){that.ResetPasswordFormVisible(!1);that.UserConnected(!1)}):that.ValidUserInfo(i)?(that.ResetPasswordFormVisible(!0),that.UserConnected(!0)):(that.ResetPasswordFormVisible(!1),that.UserConnected(!1))};this.GetUserInfoFail=function(){that.ResetPasswordFormVisible(!1);that.UserConnected(!1)};this.ResetPassword=function(){jQuery.ajax({url:window.ProfilageApiUrl+"auth/reset-password?email="+that.Email()+"&access_token="+t.getAccessToken(),type:"GET",success:function(){that.VisibleMessage(!0);that.VisibleError(!1)},error:function(){that.VisibleError(!0);that.VisibleMessage(!1)}})};this.ValidUserInfo=function(n){return n==undefined?!1:n.given_name==undefined||n.family_name==undefined||n.email==undefined||n.rcid==undefined?!1:!0}}});define("externals/components/CentreDesMembresProfil/main",["jquery","pluggins/rc-oauth2-client/rc.oauth2.loginbar","jquery.form"],function(n,t){return function(){var r=this,i={};this.Avatar=ko.observable("");this.AvatarErrorMessage=ko.observable("");this.btnPasswordAriaLabel=ko.observable("Modifier mon mot de passe actuel");this.btnPasswordClass=ko.observable("button-action button-secondary");this.btnPasswordClassIcon=ko.observable("cbcrc-icon-edit");this.passwordInputPlaceholder=ko.observable("");this.btnPasswordLabel=ko.observable("Modifier");this.btnProfilClass=ko.observable("button-action button-secondary button-save");this.btnProfilAriaLabel=ko.observable("Modifier les informations d'identité");this.btnProfilClassIcon=ko.observable("cbcrc-icon-edit");this.btnProfilLabel=ko.observable("Modifier");this.CanChangePassword=ko.observable(!0);this.CanEditProfil=ko.observable(!0);this.ChangePasswordStatus=ko.observable(1);this.ConfirmPassword=ko.observable("");this.ConfirmPasswordErrorMessage=ko.observable("");this.ConnectionTeaserVisible=ko.observable(!1);this.CurrentPasswordErrorMessage=ko.observable("");this.EditionStatus=ko.observable(1);this.Email=ko.observable("");this.EmailErrorMessage=ko.observable("");this.FirstName=ko.observable("");this.FirstnameErrorMessage=ko.observable("");this.LastName=ko.observable("");this.LastnameErrorMessage=ko.observable("");this.LblBtnUploadImage=ko.observable("Choisir une nouvelle photo");this.ClassBtnUpload=ko.observable("");this.Message=ko.observable("");this.ModeEdition=ko.observable(!1);this.ModeEditionPassword=ko.observable(!1);this.ModeEditionProfil=!1;this.NeedToVerifyEmail=!1;this.NewAvatar="";this.NewPassword=ko.observable("");this.NewPasswordErrorMessage=ko.observable("");this.OldPassword=ko.observable("motdepasse");this.OrignalEmail="";this.Password=ko.observable("");this.PasswordErrorMessage=ko.observable("");this.ProfilInfoVisible=ko.observable(!1);this.Rcid=ko.observable("");this.UserConnected=ko.observable(!0);that=this;this.forceRefreshV5StateData=function(){window.loginApi?window.loginApi.refreshStateData():setTimeout(function(){that.forceRefreshV5StateData()},300)};this.forceRefreshV5StateDataWithUserInfo=function(n){window.loginApi?window.loginApi.refreshStateDataWithUserInfo(n):setTimeout(function(){that.forceRefreshV5StateDataWithUserInfo(n)},300)};this.CancelEditPassword=function(){this.ModeEditionPassword(!1);this.passwordInputPlaceholder("");this.btnPasswordLabel("Modifier");this.btnPasswordClass("button-action button-secondary button-save");this.btnPasswordAriaLabel("Modifier mon mot de passe actuel");this.ChangePasswordStatus(1);this.ChangeStateButtonSavePassword();this.Message("")};this.CancelProfilModification=function(){this.EditionStatus(1);this.ModeEdition(!1);this.ModeEditionProfil=!1;this.ChangeStateButtonSaveProfil();this.btnProfilAriaLabel("Modifier les informations d'identité");this.ChangeLabelClass();this.Message("");that.NewAvatar!=""&&(that.UserInfo.picture!=""?that.Avatar(that.UserInfo.picture):that.Avatar("/Unit/Content/_images/util/avatar-generique.svg"),that.NewAvatar="",document.getElementById("formUploadAvatar").reset());that.FirstName(that.UserInfo.given_name);that.LastName(that.UserInfo.family_name);that.Email(that.UserInfo.email);that.AvatarErrorMessage("");that.Message("")};this.ChangeAvatar=function(){var r,n,t,i;that.CheckFileSize()?that.IsImage(jQuery("#avatar").get(0).files[0].name)?(that.AvatarErrorMessage(""),r=new FormData(document.getElementById("formUploadAvatar")),that.LblBtnUploadImage("Chargement en cours..."),that.ClassBtnUpload("loading"),n=new FormData,t=jQuery("#avatar").get(0).files,t.length>0&&n.append("avatar",t[0]),i=jQuery.ajax({type:"POST",url:window.ProfilageApiUrl+"avatar/upload-avatar?access_token="+window.loginApi.getAccessToken(),contentType:!1,processData:!1,data:n,success:function(n){that.Avatar(n);that.NewAvatar=n;that.LblBtnUploadImage("Choisir une nouvelle photo");that.ClassBtnUpload("cbcrc-icon-edit")},error:function(){that.AvatarErrorMessage("Erreur lors du téléchargement de la photo. Veuillez réessayer.");that.LblBtnUploadImage("Choisir une nouvelle photo");that.ClassBtnUpload("cbcrc-icon-edit")}}),i.done(function(){})):(that.AvatarErrorMessage("Format de photo invalide."),document.getElementById("formUploadAvatar").reset()):(that.AvatarErrorMessage("La taille de votre photo ne doit pas dépasser 5 Mo"),document.getElementById("formUploadAvatar").reset())};this.ChangeLabelClass=function(){this.ModeEdition()?n("form label").removeClass("disabled"):n("form label").addClass("disabled")};this.ChangeStateButtonSavePassword=function(){this.ChangePasswordStatus()==1&&(this.btnPasswordLabel("Modifier"),this.btnPasswordClassIcon("cbcrc-icon-edit"),this.btnPasswordClass("button-action button-save button-secondary"),this.OldPassword("motdepasse"),this.CanEditProfil(!0));this.ChangePasswordStatus()==2&&(this.btnPasswordLabel("Sauvegarder"),this.btnPasswordClassIcon("cbcrc-icon-save"),this.btnPasswordClass("button-action button-save button-primary"),this.CanEditProfil(!1));this.ChangePasswordStatus()==3&&(this.btnPasswordLabel("En sauvegarde"),this.btnPasswordClassIcon("loading"),this.btnPasswordClass("button-action button-save button-primary"),this.CanEditProfil(!1));this.ChangePasswordStatus()==4&&(this.btnPasswordLabel("Sauvegardé"),this.btnPasswordClassIcon(""),this.btnPasswordClass("button-action button-save button-primary saved"),this.CanEditProfil(!0))};this.ChangeStateButtonSaveProfil=function(){this.EditionStatus()==1&&(this.btnProfilLabel("Modifier"),this.btnProfilAriaLabel("Modifier les informations d'identité"),this.btnProfilClassIcon("cbcrc-icon-edit"),this.btnProfilClass("button-action button-save button-secondary"),this.CanChangePassword(!0));this.EditionStatus()==2&&(this.btnProfilLabel("Sauvegarder"),this.btnProfilAriaLabel("Sauvegarder les informations d'identité"),this.btnProfilClassIcon("cbcrc-icon-save"),this.btnProfilClass("button-action button-save button-primary"),this.CanChangePassword(!1));this.EditionStatus()==3&&(this.btnProfilLabel("En sauvegarde"),this.btnProfilAriaLabel("Informations en sauvegarde"),this.btnProfilClassIcon("loading"),this.btnProfilClass("button-action button-save button-primary"),this.CanChangePassword(!1));this.EditionStatus()==4&&(this.btnProfilLabel("Sauvegardé"),this.btnProfilAriaLabel("Informations sauvegardées"),this.btnProfilClassIcon(""),this.btnProfilClass("button-action button-save button-primary saved"),this.CanChangePassword(!0))};this.CheckFileSize=function(){var n,t;return window.FileReader?(n=document.getElementById("avatar"),t=document.getElementById("maxSize")?document.getElementById("maxSize").value:5e6,n&&n.files&&n.files[0]&&n.files[0].size>t?!1:!0):!0};this.ConfirmProfilSaving=function(){that.ModeEdition(!1);that.ModeEditionProfil=!1;that.OrignalEmail=that.Email();that.EditionStatus(4);that.ChangeStateButtonSaveProfil();that.AvatarErrorMessage("");setTimeout(function(){that.EditionStatus(1);that.ChangeStateButtonSaveProfil()},3e3)};this.EditPassword=function(){if(this.passwordInputPlaceholder("Saisir votre mot de passe actuel"),this.ModeEditionPassword()){this.Message("");this.NewPasswordErrorMessage("");this.CurrentPasswordErrorMessage("");this.ChangePasswordStatus(3);this.ChangeStateButtonSavePassword();var n=new FormData(document.getElementById("formProfil"));dataToSend={Firstname:that.FirstName(),Lastname:that.LastName(),Email:that.Email(),Password:that.Password(),Rcid:that.Rcid()};jQuery.ajax({url:window.ProfilageApiUrl+"auth/modify-password?email="+that.Email()+"&oldPassword="+that.OldPassword()+"&newPassword="+that.NewPassword()+"&confirmNewPassword="+that.ConfirmPassword()+"&access_token="+window.loginApi.getAccessToken(),type:"POST",success:function(){that.ModeEditionPassword(!1);that.btnPasswordLabel("Modifier");that.btnPasswordAriaLabel("Modifier mon mot de passe actuel");that.btnPasswordClass("button-action button-secondary");that.ChangePasswordStatus(4);that.ChangeStateButtonSavePassword();setTimeout(function(){that.ChangePasswordStatus(1);that.ChangeStateButtonSavePassword()},3e3)},error:function(n){that.ChangePasswordError(n);that.ChangePasswordStatus(2);that.ChangeStateButtonSavePassword()}})}else this.ChangePasswordStatus(2),this.ChangeStateButtonSavePassword(),this.ModeEditionPassword(!0),this.btnPasswordLabel("Sauvegarder"),this.btnPasswordAriaLabel("Sauvegarder mon nouveau mot de passe"),this.btnPasswordClass("button-action button-primary"),this.OldPassword("")};this.EditProfil=function(){this.ModeEditionProfil?this.ValidateForm()&&(this.EditionStatus(3),that.ChangeStateButtonSaveProfil(),that.SaveProfil()):(this.PasswordErrorMessage(""),this.ModeEditionProfil=!0,this.ModeEdition(!0),this.ChangeLabelClass(),this.EditionStatus(2),this.ChangeStateButtonSaveProfil())};this.GetExtension=function(n){var t=n.split(".");return t[t.length-1]};this.GetUserInfoDone=function(n,i){i.ban_level=="login"?window.loginApi.logout().then(function(){that.ProfilInfoVisible(!1);that.ConnectionTeaserVisible(!0);that.UserConnected(!1)}):that.ValidUserInfo(i)?(that.UserInfo=i,that.ProfilInfoVisible(!0),that.ConnectionTeaserVisible(!1),that.FirstName(i.given_name),that.LastName(i.family_name),that.Email(i.email),that.OrignalEmail=i.email,i.picture!==""?that.Avatar(i.picture):that.Avatar("/Unit/Content/_images/util/avatar-generique.svg"),that.Rcid(i.rcid),that.UserConnected(!0),that.ChangeLabelClass()):(t.logout(),that.ProfilInfoVisible(!1),that.ConnectionTeaserVisible(!0),that.UserConnected(!1));that.SetLogOutCallback()};this.GetUserInfoFail=function(){that.ProfilInfoVisible(!1);that.ConnectionTeaserVisible(!0);that.UserConnected(!1)};this.init=function(n){i=n;ko.applyBindings(that,i);that.LoadUserInfo()};this.IsImage=function(n){var t=that.GetExtension(n);switch(t.toLowerCase()){case"jpg":case"gif":case"png":return!0}return!1};this.LoadUserInfo=function(){window.loginApi?window.loginApi.getUserInfo().then(function(n){n.connected?that.GetUserInfoDone(200,n):that.GetUserInfoFail()}):setTimeout(function(){that.LoadUserInfo()},300)};this.SaveAvatarAndName=function(){that.NewAvatar!=""?jQuery.ajax({url:window.ProfilageApiUrl+"avatar/save-avatar?filename="+that.NewAvatar+"&email="+that.Email()+"&password="+that.Password()+"&access_token="+window.loginApi.getAccessToken(),type:"POST",success:function(n){that.SaveName();jQuery(document).trigger("profil:change:avatar",n);that.forceRefreshV5StateData()},error:function(n){that.SaveProfilError(n);that.EditionStatus(2);that.ChangeStateButtonSaveProfil()}}):that.SaveName()};this.SaveName=function(){that.FirstName()!=that.UserInfo.given_name||that.LastName()!=that.UserInfo.family_name?jQuery.ajax({url:window.ProfilageApiUrl+"profiles/me?firstname="+that.FirstName()+"&lastname="+that.LastName()+"&password="+that.Password()+"&access_token="+window.loginApi.getAccessToken(),type:"POST",success:function(n){that.NeedToVerifyEmail?window.loginApi.logout().then(function(){that.forceRefreshV5StateDataWithUserInfo(n);window.location="mon-profil/succes?newEmail="+that.Email()}):(that.ConfirmProfilSaving(),that.UserInfo.picture=that.Avatar(),that.UserInfo.given_name=that.FirstName(),that.UserInfo.family_name=that.LastName());jQuery(document).trigger("profil:change:name",n);that.forceRefreshV5StateDataWithUserInfo(n)},error:function(n){that.SaveProfilError(n);that.EditionStatus(2);that.ChangeStateButtonSaveProfil()}}):that.NeedToVerifyEmail?window.loginApi.logout(function(){window.location="mon-profil/succes?newEmail="+that.Email()}):(that.ConfirmProfilSaving(),that.UserInfo.picture=that.Avatar())};this.SaveProfil=function(){that.Message("");that.Email()!=that.OrignalEmail?jQuery.ajax({url:window.ProfilageApiUrl+"auth/modify-email?newEmail="+that.Email()+"&initiator=centre-des-membres-unit&password="+that.Password()+"&access_token="+window.loginApi.getAccessToken(),type:"POST",success:function(n){that.NeedToVerifyEmail=n.needToVerifyEmail;that.UserInfo.email=that.Email();that.SaveAvatarAndName();that.forceRefreshV5StateData()},error:function(n){that.SaveProfilError(n);that.EditionStatus(2);that.ChangeStateButtonSaveProfil()}}):that.SaveAvatarAndName()};this.SaveProfilError=function(n){if(n!=undefined&&n.responseJSON!=undefined&&n.responseJSON.messages!=undefined&&n.responseJSON.messages[0]!=null)if(n.responseJSON.errorResultCode!=undefined)switch(n.responseJSON.errorResultCode){case 7:that.PasswordErrorMessage(n.responseJSON.messages[0]);break;default:that.Message(n.responseJSON.messages[0])}else that.Message(n.responseJSON.messages[0]);else n!=undefined&&n.status!=undefined&&that.Message("Une erreur s'est produite. Nous en sommes désolés, veuillez réessayer.")};this.ChangePasswordError=function(n){if(n!=undefined&&n.responseJSON!=undefined&&n.responseJSON.messages!=undefined&&n.responseJSON.messages[0]!=null)switch(n.responseJSON.errorResultCode){case 4:that.ConfirmPasswordErrorMessage(n.responseJSON.messages[0]);break;default:that.NewPasswordErrorMessage(n.responseJSON.messages[0])}else n.status==401?that.CurrentPasswordErrorMessage("Mot de passe actuel invalide"):n!=undefined&&n.status!=undefined&&that.Message("Une erreur s'est produite. Nous en sommes désolés, veuillez réessayer.")};this.SetLogOutCallback=function(){if(window.loginApi)var n=window.loginApi.subscribeConnectionState(function(n){n&&n.connected||(that.ProfilInfoVisible(!1),that.ConnectionTeaserVisible(!0),that.UserConnected(!1))});else setTimeout(function(){that.SetLogOutCallback()},300)};this.ValidateForm=function(){return(this.EmailErrorMessage(""),this.FirstnameErrorMessage(""),this.LastnameErrorMessage(""),this.PasswordErrorMessage(""),this.FirstName()=="")?(this.FirstnameErrorMessage("Prénom nécessaire"),!1):this.LastName()==""?(this.LastnameErrorMessage("Nom nécessaire"),!1):this.Email()==""?(this.EmailErrorMessage("Courriel nécessaire"),!1):this.Password()==""?(this.PasswordErrorMessage("Mot de passe nécessaire"),!1):!0};this.ValidUserInfo=function(n){return n==undefined?!1:n.given_name==undefined||n.family_name==undefined||n.email==undefined||n.rcid==undefined?!1:!0}}});define("externals/components/CentreDesMembresProfilSucces/main",["jquery"],function(){return function(){var i=this,t={},n;this.PageVisible=ko.observable(!1);this.NewEmailAddress=ko.observable("");n=this;this.init=function(r){if(t=r,ko.applyBindings(i,t),document.referrer.indexOf("/mon-espace/mon-profil")<0)n.NewEmailAddress("votre adresse courriel"),n.ToProfilPage();else{n.PageVisible(!0);var u=n.GetUrlVars();u!=undefined&&u.newEmail!=undefined&&u.newEmail!=""?n.NewEmailAddress(u.newEmail):n.NewEmailAddress("votre adresse courriel")}};this.GetUrlVars=function(){for(var t=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)n=r[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t};this.ToHomePage=function(){window.location="/"};this.ToProfilPage=function(){window.location="/mon-espace/mon-profil"}}});define("externals/components/CentreDesMembresSuppression/main",["jquery","pluggins/rc-oauth2-client/rc.oauth2.client","pluggins/rc-oauth2-client/rc.oauth2.loginbar","externals/components/CallbackMemberCenter/main.v2"],function(n,t,i,r){return function(){var u=this,i={},n;this.btnDeleteClass=ko.observable("");this.BtnDeleteText=ko.observable("Confirmer");this.ConnectionTeaserVisible=ko.observable(!1);this.Email="";this.Message=ko.observable("");this.Password=ko.observable("");this.Rcid="";this.UserConnected=ko.observable(!1);n=this;this.DeleteAccount=function(){n.btnDeleteClass("loading");n.BtnDeleteText("Suppression en cours");jQuery.ajax({url:window.ProfilageApiUrl+"accounts/delete-account?email="+n.Email+"&password="+n.Password()+"&access_token="+t.getAccessToken(),type:"POST",contentType:!1,processData:!1,success:function(){t.logout(function(){window.location="suppression-compte/succes"})},error:function(t){n.BtnDeleteText("Confirmer");n.btnDeleteClass("");n.ShowError(t)}})};this.GetUserInfoDone=function(i,r){r.ban_level=="login"?t.logout(function(){n.UserConnected(!1);n.ConnectionTeaserVisible(!0)}):(n.Email=r.email,n.Rcid=r.rcid,n.UserConnected(!0),n.ConnectionTeaserVisible(!1),n.SetLogOutCallback())};this.GetUserInfoFail=function(){n.UserConnected(!1);n.ConnectionTeaserVisible(!0)};this.init=function(r){i=r;ko.applyBindings(u,i);setTimeout(function(){t.getUserInfo({forceRefresh:!0,done:n.GetUserInfoDone,fail:n.GetUserInfoFail})},1)};this.SetLogOutCallback=function(){r.subscribeConnectionState(function(t){try{t||(n.Message(""),n.UserConnected(!1),n.ConnectionTeaserVisible(!0))}catch(i){}})};this.ShowError=function(t){t!=undefined&&t.responseJSON!=undefined&&t.responseJSON.messages!=undefined&&t.responseJSON.messages[0]!=null?n.Message(t.responseJSON.messages[0]):t!=undefined&&t.status!=undefined&&n.Message("Une erreur s'est produite. Nous en sommes désolés, veuillez réessayer.")}}});define("externals/components/CentreDesMembresSuppressionSucces/main",["jquery"],function(){return function(){var i=this,t={},n=this;this.init=function(r){t=r;ko.applyBindings(i,t);document.referrer.indexOf("/mon-espace/suppression-compte")<0?n.ToProfilPage():(n.ShowDeleteConfirmation(!0),setTimeout(function(){n.ToHomePage()},5e3))};this.ShowDeleteConfirmation=ko.observable(!1);this.ToHomePage=function(){window.location="/"};this.ToProfilPage=function(){window.location="/mon-espace/mon-profil"}}});define("externals/components/Lineup3Wrapper/main",["jquery","services/plusLineupService"],function(n,t){return function(){this.init=function(i){(new t).init(i,{classContainerSelector:".newsContainer",itemSelector:"article",mediaSelector:"img",itemsCount:parseInt(n(i).data("item-count")),lineupId:parseInt(n(i).data("lineupid")),newsTagComponentName:n(i).data("news-tag-component-name"),componentUrl:window.appRouteBunker+"/Component/NewsLineUp/Content/",hasPartenaire:n(i).data("partenaire")})}}});define("externals/components/LineupWrapper/main",["jquery","services/plusLineupService"],function(n,t){return function(){this.init=function(i){(new t).init(i,{classContainerSelector:".newsContainer",itemSelector:"article",mediaSelector:"img",itemsCount:parseInt(n(i).data("item-count")),lineupId:parseInt(n(i).data("lineupid")),newsTagComponentName:n(i).data("news-tag-component-name"),componentUrl:"/Component/NewsLineUp/Content/",hasPartenaire:n(i).data("partenaire")})}}});define("externals/components/MockCardInputWrapper/main",["jquery","services/plusLineupService"],function(n,t){return function(){this.init=function(i){(new t).init(i,{classContainerSelector:".newsContainer",itemSelector:"article",mediaSelector:"img",itemsCount:parseInt(n(i).data("item-count")),lineupId:parseInt(n(i).data("lineupid")),newsTagComponentName:n(i).data("news-tag-component-name"),componentUrl:window.appRouteBunker+"/Component/NewsLineUp/Content/",hasPartenaire:n(i).data("partenaire")})}}});define("externals/components/AMPDocumentNewsStorySignature/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/DocumentLongFormBodyNavigation/main",["jquery","externals/components/PushStateControl/pushStateService"],function(n,t){return function(){var l=this,i={},r,f,e,a=function(){document.removeEventListener("radio-canada.alerts.ticker-changed",o)},o=function(){s()};this.init=function(f){i=f;t.subscribePushEventEnded(a);var e=n(".long-form-navbar");r=e.offset().top;document.addEventListener("radio-canada.alerts.ticker-changed",o);n(window).on("scroll",_.debounce(u,1));n(window).on("resize",_.debounce(s,1));n("a.lf-navbar-item").on("click",function(t){if(this.hash!==""){t.preventDefault();var i=this.hash;n("html, body").animate({scrollTop:n(i).offset().top},800)}});window.addEventListener("load",function(){setTimeout(function(){var t=n(".long-form-navbar");r=t.offset().top},150)},!1);ko.applyBindings(l,i);u()};var u=function(){var f=n(window).scrollTop(),e=n("#StickyTopOnScroll").height(),o=n("#lf-nav").height(),i,u,t;navbar=n(".long-form-navbar");window.pageYOffset>=r?(navbar.addClass("sticky"),i=n.find(".m-ticker-container"),u=55,n(i).css("position")=="fixed"&&(u+=n(i).height()),n(navbar).css("top",u+"px"),y()):(navbar.removeClass("sticky"),n(navbar).css("top",""));n(".lf-navbar-item").data("has-external-url")==="False"?!1||(t=!1,n(n(".lf-navbar-item").get().reverse()).each(function(){var i=n(this).data("anchor-id");if(n(i).offset().top-(f+e+o)<=0)return n(".lf-nav-item").removeClass("actif"),n(this).parent().addClass("actif"),t=!0,!1}),t||n(".lf-nav-item").removeClass("actif")):(t=!1,n(n(".lf-navbar-item").get().reverse()).each(function(){var i=n(this).data("anchor-id");if(i[0]==="#"&&n(i).offset().top-(f+e+o)<=0)return n(".lf-nav-item").removeClass("actif"),n(this).parent().addClass("actif"),t=!0,!1}),t||n(".lf-nav-item").removeClass("actif"))},s=function(){setTimeout(u,600)},h=function(n,t,i){start=n.scrollLeft;e=t-start;f=0;increment=20;c(start,f,e,i,n)},c=function(n,t,i,r,u){t+=increment;var f=v(t,n,i,r);u.scrollLeft=f;t<r&&setTimeout(function(){c(n,t,i,r,u)},increment)},v=function(n,t,i,r){return i*n/r+t},y=function(){var f=window.innerWidth,e=n(i).find("ul.lf-navigation-list"),t,r,u;e.length>0&&(t=e.find(".actif"),t.length>0&&(u=n(t)[0].offsetLeft+n(t)[0].clientWidth/2,u>f/2?(r=n(i).find(".container-scroll")[0],h(r,u-f/2,100)):u<f/2&&(r=n(i).find(".container-scroll")[0],h(r,0,100))))}}});define("externals/components/DocumentNewsStoryArticle/main",["jquery","services/document/dateTimePublishedService"],function(n,t){return function(){var r=this,i={};this.init=function(r){i=r;var u=n(i).find("time"),f=u.attr("datetime");u.html(t.getPublishedDateTimeFormatted(moment(f),moment(u.data("datetimelastpublished"))))}}});define("externals/components/DocumentNewsStoryBody/main",["jquery"],function(n){return function(){var i=this,t={};this.init=function(i){t=i;n("iframe[src^='https://www.facebook.com/plugins/video.php']").each(function(){var t=n(this),i;t.wrap("<div>");i=t.parent("div").addClass("intrinsic-container");t.attr("height")?(i.css({height:t.attr("height")}),t.attr("width")&&i.css("width",t.attr("width"))):i.css({height:"0","padding-bottom":"56.25%"});n(this).parent("div")})}}});define("externals/components/DocumentShortContentArticle/main",["jquery","services/document/dateTimePublishedService"],function(n,t){return function(){var r=this,i={};this.init=function(r){i=r;var u=n(i).find("time"),f=u.attr("datetime");u.html(t.getPublishedDateTimeFormatted(moment(f)))}}});define("externals/components/DocumentTemoinFaute/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/DocumentedComponentList/main",["jquery","underscore"],function(n,t){prettyPrint();var i={components:ko.observableArray([]),loaded:ko.observable(!1),statLoad:ko.observable(!1),folders:ko.observableArray([]),selectedFolder:ko.observable(""),tags:ko.observableArray([]),selectedTag:ko.observable(),filter:ko.observable(""),renderStringHtml:ko.observable(""),filterComponents:function(){var i=this;for(var n in this.components())this.filter()&&this.components()[n].visible(this.components()[n].Id.toLowerCase().indexOf(this.filter().toLowerCase())>-1),this.filter()||this.components()[n].visible(!0),this.selectedFolder()&&this.components()[n].visible()&&this.components()[n].visible(this.components()[n].Folder==this.selectedFolder()),this.selectedTag()&&this.components()[n].visible()&&this.components()[n].visible(t.find(i.components()[n].Tags,function(n){return n.Name==i.selectedTag().Name}))}};return{init:function(r){ko.applyBindings(i,r);n.get("/api/componentdefinitions",function(r){var s=t.uniq(t.flatten(t.map(t.where(r,function(n){return n.Tags.length>0}),function(n){return n.Tags})),function(n){return n.Name}),o;i.tags(s);for(o in r)r[o].useCount=ko.observable(0),r[o].usedByXmls=ko.observableArray([]),r[o].usedByXmlParams=ko.observableArray([]),r[o].invokeInViews=ko.observableArray([]),r[o].invokeInJS=ko.observableArray([]),r[o].invokeInCS=ko.observableArray([]),r[o].includeLess=ko.observable(!0),r[o].visible=ko.observable(!0),r[o].renderHtml=ko.observable("test"),r[o].viewComponent=ko.observable(""),r[o].ViewParameters=ko.observableArray([]),r[o].Mustache=ko.observable(""),i.folders.indexOf(r[o].Folder)==-1&&i.folders.push(r[o].Folder),i.folders().sort(),r[o].toggleLessInclusion=function(n){n.includeLess(!n.includeLess())},r[o].initComponent=function(i){i.useCount.extend({rateLimit:1e3});i.usedByXmls.extend({rateLimit:1e3});i.usedByXmlParams.extend({rateLimit:1e3});i.invokeInViews.extend({rateLimit:1e3});i.invokeInJS.extend({rateLimit:1e3});i.invokeInCS.extend({rateLimit:1e3});var o={includeLess:!0};i.Parameters.forEach(function(n){var t={};for(var r in n)t[r]=ko.observable(n[r]);o[n.Name]=n.DefaultValue;t.Value=ko.observable(n.DefaultValue);i.ViewParameters.push(t)});n.get("/version/components",function(n){var u=t.find(r,function(n){return n.Id==i.Id});u&&(u.invokeInJS(t.map(t.groupBy(n.Components[u.Id].InvokeInJS,function(n){return n}),function(n){return n[0]})),u.invokeInViews(t.map(t.groupBy(n.Components[u.Id].InvokeInViews,function(n){return n}),function(n){return n[0]})),u.usedByXmls(t.map(t.groupBy(n.Components[u.Id].UsedByXmls,function(n){return n}),function(n){return n[0]})),u.usedByXmlParams(t.map(t.groupBy(n.Components[u.Id].UsedByXmlParams,function(n){return n}),function(n){return n[0]})),u.invokeInCS(t.map(t.groupBy(n.Components[u.Id].InvokeInCS,function(n){return n}),function(n){return n[0]})),u.useCount(n.Components[u.Id].UsedByXmlParams.length+n.Components[u.Id].UsedByXmls.length+n.Components[u.Id].InvokeInViews.length+n.Components[u.Id].InvokeInJS.length+n.Components[u.Id].InvokeInCS.length))});i.viewComponent(e(i));u(i,o);i.Mustache(f(i.Name,i.ViewParameters()))};i.statLoad(!0);i.components(r);i.loaded(!0)});var u=function(n,t){$.get(window.appRouteBunker+"/component/"+n.Name,t).done(function(t){n.renderHtml(t)})},f=function(n,t){var i='\b<Component Id="'+n+'" Name="'+n+'" PlaceHolder="Content">\n';return i+="\t<ComponentParams>\n",t.forEach(function(n){i+='\t\t<ComponentParam Type="'+n.Type()+'" Name="'+n.Name()+'" Value="'+n.DefaultValue()+'"/>\n'}),i+="\t<\/ComponentParams>\n",i+="<\/Component>"},e=function(n){var r=JSON.stringify(t.map(n.ViewParameters(),function(n){return{Name:n.Name(),Value:n.Value()}})),i="/PageTemplate/TestPage?title="+n.Name+"&name="+n.Id+"&parametersJson="+r;return n.includeLess()&&(i=i+"&includeLess=true"),i}}}});define("externals/components/ElectionsManagerService/diacriticsService",[],function(){var n=function(){var t=this,n=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];t.removeDiacritics=function(t){for(var i=0;i<n.length;i++)t=t.replace(n[i].letters,n[i].base);return t}};return new n});define("externals/components/ElectionsManagerService/electionClasses",[],function(){var n=function(){function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function.");}var r=this,f=function f(n,t){u(this,f);this.id=n;this.name=t},e=function e(n,t,i,r,f,o,s,h,c,l,a){u(this,e);this.id=n;this.office=t;this.parentMunicipality=i;this.parentBurrough=r;this.parentDistrict=f;this.candidateList=o;this.pollsClosed=s;this.pollsTotal=h;this.previousPollsClosed=0;this.previousPollsTotal=0;this.totalVotesCast=c;this.totalRegisteredElectors=l;this.ridingType=a;this.favorited=!1;this.standAloneRiding=!1;this.hasDistrictChildrenOnly=!1;this.isMRCorLocale=!1;this.mustDeclareWinner=!1},o=function o(n,t,i,r,f,e,s,h,c,l,a,v){u(this,o);this.id=n;this.name=t;this.firstName=i;this.nbVotes=r;this.isIncumbent=f;this.isIncumbentParty=e;this.partyName=s;this.idRiding=h;this.forceRefresh=!1;this.isElected=c;this.cssTeamColorClass=l;this.gender=a;this.ridingId=v;this.previousNbVotes=0;this.isLeading=!1;this.fullName=i+" "+t},s=function s(n,t,i,r,f){u(this,s);this.name=n;this.provincialUnitName=t;this.listBurroughs=i;this.listDistricts=r;this.listRidings=f;this.hasCorrespondance=!1},h=function h(n,t,i,r){u(this,h);this.name=n;this.parentMunicipalityName=t;this.listDistricts=i;this.listRidings=r},c=function c(n,t,i,r){u(this,c);this.name=n;this.parentMunicipalityName=t;this.parentBurroughName=i;this.listRidings=r},n={},t,i;n["Coalition Montréal"]="coalition-montreal-team";n["Équipe Anjou"]="equipe-anjou-team";n["Équipe Barbe Team"]="equipe-barbe-team";n["Équipe Dauphin Lachine"]="equipe-dauphin-lachine-team";n["Équipe Denis Coderre pour Montréal"]="equipe-coderre-team";n["Plateau sans frontières"]="plateau-sans-frontieres-team";n["Projet Montréal - Équipe Valérie Plante"]="projet-montreal-team";n["Vrai changement pour Montréal"]="vrai-changement-team";n["Alliance citoyenne de Québec"]="alliance-citoyenne-team";n["Démocratie Québec"]="democratie-quebec-team";n["Équipe Labeaume"]="equipe-labeaume-team";n["Option Capitale-Nationale"]="option-capitale-nationale-team";n["Québec 21 Équipe JF Gosselin"]="equipe-gosselin-team";t={};t["Abitibi-Témiscamingue"]={maRegion:[566,53,446,1062,1122],ailleurs:[1,39,41,35,42]};t["Bas-Saint-Laurent"]={maRegion:[40,555,422,289,1086],ailleurs:[1,39,37,405,1064]};t["Côte-Nord"]={maRegion:[1064,68,528,1083,98],ailleurs:[1,39,40,223,41]};t.Estrie={maRegion:[42,389,317,229,162],ailleurs:[1,39,43,41,1121]};t["Gaspésie-Îles-de-la-Madeleine"]={maRegion:[223,505,405,362,132],ailleurs:[1,39,36,40,1064]};t["Grand Montréal"]={maRegion:[1,36,38,118,1088],ailleurs:[39,35,41,43,42]};t["Mauricie–Centre-du-Québec"]={maRegion:[43,1066,296,384,85],ailleurs:[1,39,42,1121,41]};t.Outaouais={maRegion:[35,148,126,392,599],ailleurs:[1,36,43,41,42]};t["Québec"]={maRegion:[39,37,331,616,303],ailleurs:[1078,73,767,839,609]};t["Saguenay-Lac-Saint-Jean"]={maRegion:[41,561,184,814,412],ailleurs:[39,1,43,40,42]};i={};i["Abitibi-Témiscamingue"]="Rouyn-Noranda ou J9X 4T3";i["Bas-Saint-Laurent"]="Rimouski ou G5L 5J1";i["Côte-Nord"]="Sept-Îles ou G4R 2R4";i.Estrie="Sherbrooke ou J1H 3B3";i["Gaspésie-Îles-de-la-Madeleine"]="Gaspé ou G4X 2A5";i["Grand Montréal"]="Montréal ou H2Y 1C6";i["Mauricie–Centre-du-Québec"]="Trois-Rivières ou G9A 4R9";i.Outaouais="Gatineau ou J8T 3N2";i["Québec"]="Québec ou G1R 4S9";i["Saguenay-Lac-Saint-Jean"]="Saguenay ou G7H 2B1";r.createParty=function(n,t){return new f(n,t)};r.createRiding=function(n,t,i,r,u,f,o,s,h,c,l){return new e(n,t,i,r,u,f,o,s,h,c,l)};r.createCandidate=function(n,t,i,r,u,f,e,s,h,c,l,a){return new o(n,t,i,r,u,f,e,s,h,c,l,a)};r.createMunicipality=function(n,t,i,r,u){return new s(n,t,i,r,u)};r.createBurrough=function(n,t,i,r){return new h(n,t,i,r)};r.createDistrict=function(n,t,i,r){return new c(n,t,i,r)};r.getHardCodedRidingIdsByRegionName=function(){return t};r.getHardCodedCssTeamColorClass=function(){return n};r.getHardCodedPlaceholdersByRegionName=function(){return i}};return new n}),function(n,t){typeof define=="function"&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return t(n,i)}):typeof module=="object"&&module.exports?module.exports=t(n,require("jquery")):n.jQueryBridget=t(n,n.jQuery)}(window,function(n,t){"use strict";function u(i,u,o){function s(n,t,u){var f,e="$()."+i+'("'+t+'")';return n.each(function(n,s){var h=o.data(s,i),c,l;if(!h){r(i+" not initialized. Cannot call methods, i.e. "+e);return}if(c=h[t],!c||t.charAt(0)=="_"){r(e+" is not a valid method");return}l=c.apply(h,u);f=f===undefined?l:f}),f!==undefined?f:n}function h(n,t){n.each(function(n,r){var f=o.data(r,i);f?(f.option(t),f._init()):(f=new u(r,t),o.data(r,i,f))})}(o=o||t||n.jQuery,o)&&(u.prototype.option||(u.prototype.option=function(n){o.isPlainObject(n)&&(this.options=o.extend(!0,this.options,n))}),o.fn[i]=function(n){if(typeof n=="string"){var t=e.call(arguments,1);return s(this,n,t)}return h(this,n),this},f(o))}function f(n){!n||n&&n.bridget||(n.bridget=u)}var e=Array.prototype.slice,i=n.console,r=typeof i=="undefined"?function(){}:function(n){i.error(n)};return f(t||n.jQuery),u}),function(n,t){typeof define=="function"&&define.amd?define("ev-emitter/ev-emitter",t):typeof module=="object"&&module.exports?module.exports=t():n.EvEmitter=t()}(typeof window!="undefined"?window:this,function(){function t(){}var n=t.prototype;return n.on=function(n,t){if(n&&t){var i=this._events=this._events||{},r=i[n]=i[n]||[];return r.indexOf(t)==-1&&r.push(t),this}},n.once=function(n,t){if(n&&t){this.on(n,t);var i=this._onceEvents=this._onceEvents||{},r=i[n]=i[n]||{};return r[t]=!0,this}},n.off=function(n,t){var i=this._events&&this._events[n],r;if(i&&i.length)return r=i.indexOf(t),r!=-1&&i.splice(r,1),this},n.emitEvent=function(n,t){var r=this._events&&this._events[n],u,i,f,e;if(r&&r.length){for(u=0,i=r[u],t=t||[],f=this._onceEvents&&this._onceEvents[n];i;)e=f&&f[i],e&&(this.off(n,i),delete f[i]),i.apply(this,t),u+=e?0:1,i=r[u];return this}},t});
/*!
 * getSize v2.0.2
 * measure size of elements
 * MIT license
 */
(function(n,t){"use strict";typeof define=="function"&&define.amd?define("get-size/get-size",[],function(){return t()}):typeof module=="object"&&module.exports?module.exports=t():n.getSize=t()})(window,function(){"use strict";function n(n){var t=parseFloat(n),i=n.indexOf("%")==-1&&!isNaN(t);return i&&t}function o(){}function h(){for(var u,r={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<i;n++)u=t[n],r[u]=0;return r}function r(n){var t=getComputedStyle(n);return t||s("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function c(){var t,i,o;u||(u=!0,t=document.createElement("div"),t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box",i=document.body||document.documentElement,i.appendChild(t),o=r(t),e.isBoxSizeOuter=f=n(o.width)==200,i.removeChild(t))}function e(u){var o,e,a,s,l;if(c(),typeof u=="string"&&(u=document.querySelector(u)),u&&typeof u=="object"&&u.nodeType){if(o=r(u),o.display=="none")return h();for(e={},e.width=u.offsetWidth,e.height=u.offsetHeight,a=e.isBorderBox=o.boxSizing=="border-box",s=0;s<i;s++){var v=t[s],nt=o[v],y=parseFloat(nt);e[v]=isNaN(y)?0:y}var p=e.paddingLeft+e.paddingRight,w=e.paddingTop+e.paddingBottom,tt=e.marginLeft+e.marginRight,it=e.marginTop+e.marginBottom,b=e.borderLeftWidth+e.borderRightWidth,k=e.borderTopWidth+e.borderBottomWidth,d=a&&f,g=n(o.width);return g!==!1&&(e.width=g+(d?0:p+b)),l=n(o.height),l!==!1&&(e.height=l+(d?0:w+k)),e.innerWidth=e.width-(p+b),e.innerHeight=e.height-(w+k),e.outerWidth=e.width+tt,e.outerHeight=e.height+it,e}}var s=typeof console=="undefined"?o:function(n){console.error(n)},t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],i=t.length,u=!1,f;return e}),function(n,t){"use strict";typeof define=="function"&&define.amd?define("desandro-matches-selector/matches-selector",t):typeof module=="object"&&module.exports?module.exports=t():n.matchesSelector=t()}(window,function(){"use strict";var n=function(){var t=window.Element.prototype,i,n,u,r;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(i=["webkit","moz","ms","o"],n=0;n<i.length;n++)if(u=i[n],r=u+"MatchesSelector",t[r])return r}();return function(t,i){return t[n](i)}}),function(n,t){typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return t(n,i)}):typeof module=="object"&&module.exports?module.exports=t(n,require("desandro-matches-selector")):n.fizzyUIUtils=t(n,n.matchesSelector)}(window,function(n,t){var i={},r;return i.extend=function(n,t){for(var i in t)n[i]=t[i];return n},i.modulo=function(n,t){return(n%t+t)%t},i.makeArray=function(n){var t=[],i;if(Array.isArray(n))t=n;else if(n&&typeof n=="object"&&typeof n.length=="number")for(i=0;i<n.length;i++)t.push(n[i]);else t.push(n);return t},i.removeFrom=function(n,t){var i=n.indexOf(t);i!=-1&&n.splice(i,1)},i.getParent=function(n,i){while(n.parentNode&&n!=document.body)if(n=n.parentNode,t(n,i))return n},i.getQueryElement=function(n){return typeof n=="string"?document.querySelector(n):n},i.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},i.filterFindElements=function(n,r){n=i.makeArray(n);var u=[];return n.forEach(function(n){var f,i;if(n instanceof HTMLElement){if(!r){u.push(n);return}for(t(n,r)&&u.push(n),f=n.querySelectorAll(r),i=0;i<f.length;i++)u.push(f[i])}}),u},i.debounceMethod=function(n,t,i){var u=n.prototype[t],r=t+"Timeout";n.prototype[t]=function(){var t=this[r],f,n;t&&clearTimeout(t);f=arguments;n=this;this[r]=setTimeout(function(){u.apply(n,f);delete n[r]},i||100)}},i.docReady=function(n){var t=document.readyState;t=="complete"||t=="interactive"?setTimeout(n):document.addEventListener("DOMContentLoaded",n)},i.toDashed=function(n){return n.replace(/(.)([A-Z])/g,function(n,t,i){return t+"-"+i}).toLowerCase()},r=n.console,i.htmlInit=function(t,u){i.docReady(function(){var e=i.toDashed(u),f="data-"+e,s=document.querySelectorAll("["+f+"]"),h=document.querySelectorAll(".js-"+e),c=i.makeArray(s).concat(i.makeArray(h)),l=f+"-options",o=n.jQuery;c.forEach(function(n){var i=n.getAttribute(f)||n.getAttribute(l),e,s;try{e=i&&JSON.parse(i)}catch(h){r&&r.error("Error parsing "+f+" on "+n.className+": "+h);return}s=new t(n,e);o&&o.data(n,u,s)})})},i}),function(n,t){typeof define=="function"&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):typeof module=="object"&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(n.Outlayer={},n.Outlayer.Item=t(n.EvEmitter,n.getSize))}(window,function(n,t){"use strict";function l(n){for(var t in n)return!1;return t=null,!0}function u(n,t){n&&(this.element=n,this.layout=t,this.position={x:0,y:0},this._create())}function v(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}var f=document.documentElement.style,r=typeof f.transition=="string"?"transition":"WebkitTransition",e=typeof f.transform=="string"?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],a={transform:e,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},i=u.prototype=Object.create(n.prototype),s,h,c;return i.constructor=u,i._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})},i.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},i.getSize=function(){this.size=t(this.element)},i.css=function(n){var r=this.element.style,t,i;for(t in n)i=a[t]||t,r[i]=n[t]},i.getPosition=function(){var f=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),r=f[e?"left":"right"],u=f[o?"top":"bottom"],n=this.layout.size,t=r.indexOf("%")!=-1?parseFloat(r)/100*n.width:parseInt(r,10),i=u.indexOf("%")!=-1?parseFloat(u)/100*n.height:parseInt(u,10);t=isNaN(t)?0:t;i=isNaN(i)?0:i;t-=e?n.paddingLeft:n.paddingRight;i-=o?n.paddingTop:n.paddingBottom;this.position.x=t;this.position.y=i},i.layoutPosition=function(){var r=this.layout.size,n={},t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),u=t?"paddingLeft":"paddingRight",f=t?"left":"right",e=t?"right":"left",o=this.position.x+r[u];n[f]=this.getXValue(o);n[e]="";var s=i?"paddingTop":"paddingBottom",h=i?"top":"bottom",c=i?"bottom":"top",l=this.position.y+r[s];n[h]=this.getYValue(l);n[c]="";this.css(n);this.emitEvent("layout",[this])},i.getXValue=function(n){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?n/this.layout.size.width*100+"%":n+"px"},i.getYValue=function(n){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?n/this.layout.size.height*100+"%":n+"px"},i._transitionTo=function(n,t){this.getPosition();var r=this.position.x,u=this.position.y,f=parseInt(n,10),e=parseInt(t,10),o=f===this.position.x&&e===this.position.y;if(this.setPosition(n,t),o&&!this.isTransitioning){this.layoutPosition();return}var s=n-r,h=t-u,i={};i.transform=this.getTranslate(s,h);this.transition({to:i,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},i.getTranslate=function(n,t){var i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop");return n=i?n:-n,t=r?t:-t,"translate3d("+n+"px, "+t+"px, 0)"},i.goTo=function(n,t){this.setPosition(n,t);this.layoutPosition()},i.moveTo=i._transitionTo,i.setPosition=function(n,t){this.position.x=parseInt(n,10);this.position.y=parseInt(t,10)},i._nonTransition=function(n){this.css(n.to);n.isCleaning&&this._removeStyles(n.to);for(var t in n.onTransitionEnd)n.onTransitionEnd[t].call(this)},i.transition=function(n){var i,t,r;if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(n);return}i=this._transn;for(t in n.onTransitionEnd)i.onEnd[t]=n.onTransitionEnd[t];for(t in n.to)i.ingProperties[t]=!0,n.isCleaning&&(i.clean[t]=!0);n.from&&(this.css(n.from),r=this.element.offsetHeight,r=null);this.enableTransition(n.to);this.css(n.to);this.isTransitioning=!0},s="opacity,"+v(e),i.enableTransition=function(){if(!this.isTransitioning){var n=this.layout.options.transitionDuration;n=typeof n=="number"?n+"ms":n;this.css({transitionProperty:s,transitionDuration:n,transitionDelay:this.staggerDelay||0});this.element.addEventListener(o,this,!1)}},i.onwebkitTransitionEnd=function(n){this.ontransitionend(n)},i.onotransitionend=function(n){this.ontransitionend(n)},h={"-webkit-transform":"transform"},i.ontransitionend=function(n){var t,i,r;n.target===this.element&&(t=this._transn,i=h[n.propertyName]||n.propertyName,delete t.ingProperties[i],l(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[n.propertyName]="",delete t.clean[i]),i in t.onEnd&&(r=t.onEnd[i],r.call(this),delete t.onEnd[i]),this.emitEvent("transitionEnd",[this]))},i.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(o,this,!1);this.isTransitioning=!1},i._removeStyles=function(n){var t={};for(var i in n)t[i]="";this.css(t)},c={transitionProperty:"",transitionDuration:"",transitionDelay:""},i.removeTransitionStyles=function(){this.css(c)},i.stagger=function(n){n=isNaN(n)?0:n;this.staggerDelay=n+"ms"},i.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])},i.remove=function(){if(!r||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()});this.hide()},i.reveal=function(){delete this.isHidden;this.css({display:""});var n=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd;this.transition({from:n.hiddenStyle,to:n.visibleStyle,isCleaning:!0,onTransitionEnd:t})},i.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},i.getHideRevealTransitionEndProperty=function(n){var t=this.layout.options[n],i;if(t.opacity)return"opacity";for(i in t)return i},i.hide=function(){this.isHidden=!0;this.css({display:""});var n=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd;this.transition({from:n.visibleStyle,to:n.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},i.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},i.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},u});
/*!
 * Outlayer v2.1.0
 * the brains and guts of a layout library
 * MIT license
 */
(function(n,t){"use strict";typeof define=="function"&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,r,u,f){return t(n,i,r,u,f)}):typeof module=="object"&&module.exports?module.exports=t(n,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):n.Outlayer=t(n,n.EvEmitter,n.getSize,n.fizzyUIUtils,n.Outlayer.Item)})(window,function(n,t,i,r,u){"use strict";function e(n,t){var i=r.getQueryElement(n),u,f;if(!i){h&&h.error("Bad element for "+this.constructor.namespace+": "+(i||n));return}this.element=i;o&&(this.$element=o(this.element));this.options=r.extend({},this.constructor.defaults);this.option(t);u=++v;this.element.outlayerGUID=u;s[u]=this;this._create();f=this._getOption("initLayout");f&&this.layout()}function l(n){function t(){n.apply(this,arguments)}return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t}function y(n){var r;if(typeof n=="number")return n;var t=n.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],u=t&&t[2];return i.length?(i=parseFloat(i),r=a[u]||1,i*r):0}var h=n.console,o=n.jQuery,c=function(){},v=0,s={},f,a;return e.namespace="outlayer",e.Item=u,e.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},f=e.prototype,r.extend(f,t.prototype),f.option=function(n){r.extend(this.options,n)},f._getOption=function(n){var t=this.constructor.compatOptions[n];return t&&this.options[t]!==undefined?this.options[t]:this.options[n]},e.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);r.extend(this.element.style,this.options.containerStyle);var n=this._getOption("resize");n&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(n){for(var u,f,i=this._filterFindItemElements(n),e=this.constructor.Item,r=[],t=0;t<i.length;t++)u=i[t],f=new e(u,this),r.push(f);return r},f._filterFindItemElements=function(n){return r.filterFindElements(n,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(n){return n.element})},f.layout=function(){this._resetLayout();this._manageStamps();var n=this._getOption("layoutInstant"),t=n!==undefined?n:!this._isLayoutInited;this.layoutItems(this.items,t);this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(n,t){var r=this.options[n],u;r?(typeof r=="string"?u=this.element.querySelector(r):r instanceof HTMLElement&&(u=r),this[n]=u?i(u)[t]:r):this[n]=0},f.layoutItems=function(n,t){n=this._getItemsForLayout(n);this._layoutItems(n,t);this._postLayout()},f._getItemsForLayout=function(n){return n.filter(function(n){return!n.isIgnored})},f._layoutItems=function(n,t){if(this._emitCompleteOnItems("layout",n),n&&n.length){var i=[];n.forEach(function(n){var r=this._getItemLayoutPosition(n);r.item=n;r.isInstant=t||n.isLayoutInstant;i.push(r)},this);this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(n){this.updateStagger();n.forEach(function(n,t){this._positionItem(n.item,n.x,n.y,n.isInstant,t)},this)},f.updateStagger=function(){var n=this.options.stagger;if(n===null||n===undefined){this.stagger=0;return}return this.stagger=y(n),this.stagger},f._positionItem=function(n,t,i,r,u){r?n.goTo(t,i):(n.stagger(u*this.stagger),n.moveTo(t,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer"),n;t&&(n=this._getContainerSize(),n&&(this._setContainerMeasure(n.width,!0),this._setContainerMeasure(n.height,!1)))},f._getContainerSize=c,f._setContainerMeasure=function(n,t){if(n!==undefined){var i=this.size;i.isBorderBox&&(n+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth);n=Math.max(n,0);this.element.style[t?"width":"height"]=n+"px"}},f._emitCompleteOnItems=function(n,t){function r(){f.dispatchEvent(n+"Complete",null,[t])}function e(){i++;i==u&&r()}var f=this,u=t.length,i;if(!t||!u){r();return}i=0;t.forEach(function(t){t.once(n,e)})},f.dispatchEvent=function(n,t,i){var u=t?[t].concat(i):i,r;this.emitEvent(n,u);o&&(this.$element=this.$element||o(this.element),t?(r=o.Event(t),r.type=n,this.$element.trigger(r,i)):this.$element.trigger(n,i))},f.ignore=function(n){var t=this.getItem(n);t&&(t.isIgnored=!0)},f.unignore=function(n){var t=this.getItem(n);t&&delete t.isIgnored},f.stamp=function(n){(n=this._find(n),n)&&(this.stamps=this.stamps.concat(n),n.forEach(this.ignore,this))},f.unstamp=function(n){(n=this._find(n),n)&&n.forEach(function(n){r.removeFrom(this.stamps,n);this.unignore(n)},this)},f._find=function(n){if(n)return typeof n=="string"&&(n=this.element.querySelectorAll(n)),r.makeArray(n)},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),n=this.size;this._boundingRect={left:t.left+n.paddingLeft+n.borderLeftWidth,top:t.top+n.paddingTop+n.borderTopWidth,right:t.right-(n.paddingRight+n.borderRightWidth),bottom:t.bottom-(n.paddingBottom+n.borderBottomWidth)}},f._manageStamp=c,f._getElementOffset=function(n){var t=n.getBoundingClientRect(),r=this._boundingRect,u=i(n);return{left:t.left-r.left-u.marginLeft,top:t.top-r.top-u.marginTop,right:r.right-t.right-u.marginRight,bottom:r.bottom-t.bottom-u.marginBottom}},f.handleEvent=r.handleEvent,f.bindResize=function(){n.addEventListener("resize",this);this.isResizeBound=!0},f.unbindResize=function(){n.removeEventListener("resize",this);this.isResizeBound=!1},f.onresize=function(){this.resize()},r.debounceMethod(e,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var n=i(this.element),t=this.size&&n;return t&&n.innerWidth!==this.size.innerWidth},f.addItems=function(n){var t=this._itemize(n);return t.length&&(this.items=this.items.concat(t)),t},f.appended=function(n){var t=this.addItems(n);t.length&&(this.layoutItems(t,!0),this.reveal(t))},f.prepended=function(n){var t=this._itemize(n),i;t.length&&(i=this.items.slice(0),this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i))},f.reveal=function(n){if(this._emitCompleteOnItems("reveal",n),n&&n.length){var t=this.updateStagger();n.forEach(function(n,i){n.stagger(i*t);n.reveal()})}},f.hide=function(n){if(this._emitCompleteOnItems("hide",n),n&&n.length){var t=this.updateStagger();n.forEach(function(n,i){n.stagger(i*t);n.hide()})}},f.revealItemElements=function(n){var t=this.getItems(n);this.reveal(t)},f.hideItemElements=function(n){var t=this.getItems(n);this.hide(t)},f.getItem=function(n){for(var i,t=0;t<this.items.length;t++)if(i=this.items[t],i.element==n)return i},f.getItems=function(n){n=r.makeArray(n);var t=[];return n.forEach(function(n){var i=this.getItem(n);i&&t.push(i)},this),t},f.remove=function(n){var t=this.getItems(n);(this._emitCompleteOnItems("remove",t),t&&t.length)&&t.forEach(function(n){n.remove();r.removeFrom(this.items,n)},this)},f.destroy=function(){var n=this.element.style,t;n.height="";n.position="";n.width="";this.items.forEach(function(n){n.destroy()});this.unbindResize();t=this.element.outlayerGUID;delete s[t];delete this.element.outlayerGUID;o&&o.removeData(this.element,this.constructor.namespace)},e.data=function(n){n=r.getQueryElement(n);var t=n&&n.outlayerGUID;return t&&s[t]},e.create=function(n,t){var i=l(e);return i.defaults=r.extend({},e.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},e.compatOptions),i.namespace=n,i.data=e.data,i.Item=l(u),r.htmlInit(i,n),o&&o.bridget&&o.bridget(n,i),i},a={ms:1,s:1e3},e.Item=u,e}),function(n,t){typeof define=="function"&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):typeof module=="object"&&module.exports?module.exports=t(require("outlayer")):(n.Isotope=n.Isotope||{},n.Isotope.Item=t(n.Outlayer))}(window,function(n){"use strict";function i(){n.Item.apply(this,arguments)}var t=i.prototype=Object.create(n.Item.prototype),u=t._create,r;return t._create=function(){this.id=this.layout.itemGUID++;u.call(this);this.sortData={}},t.updateSortData=function(){var t,i,n,r;if(!this.isIgnored){this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();t=this.layout.options.getSortData;i=this.layout._sorters;for(n in t)r=i[n],this.sortData[n]=r(this.element,this)}},r=t.destroy,t.destroy=function(){r.apply(this,arguments);this.css({display:""})},i}),function(n,t){typeof define=="function"&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):typeof module=="object"&&module.exports?module.exports=t(require("get-size"),require("outlayer")):(n.Isotope=n.Isotope||{},n.Isotope.LayoutMode=t(n.getSize,n.Outlayer))}(window,function(n,t){"use strict";function r(n){this.isotope=n;n&&(this.options=n.options[this.namespace],this.element=n.element,this.items=n.filteredItems,this.size=n.size)}var i=r.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(n){i[n]=function(){return t.prototype[n].apply(this.isotope,arguments)}}),i.needsVerticalResizeLayout=function(){var t=n(this.isotope.element),i=this.isotope.size&&t;return i&&t.innerHeight!=this.isotope.size.innerHeight},i._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.getRowHeight=function(){this.getSegmentSize("row","Height")},i.getSegmentSize=function(n,t){var i=n+t,u="outer"+t,r;(this._getMeasurement(i,u),this[i])||(r=this.getFirstItemSize(),this[i]=r&&r[u]||this.isotope.size["inner"+t])},i.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&n(t.element)},i.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.getSize=function(){this.isotope.getSize();this.size=this.isotope.size},r.modes={},r.create=function(n,t){function u(){r.apply(this,arguments)}return u.prototype=Object.create(i),u.prototype.constructor=u,t&&(u.options=t),u.prototype.namespace=n,r.modes[n]=u,u},r});
/*!
 * Masonry v4.2.0
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(n,t){typeof define=="function"&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],t):typeof module=="object"&&module.exports?module.exports=t(require("outlayer"),require("get-size")):n.Masonry=t(n.Outlayer,n.getSize)})(window,function(n,t){var r=n.create("masonry"),i;return r.compatOptions.fitWidth="isFitWidth",i=r.prototype,i._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();this.colYs=[];for(var n=0;n<this.cols;n++)this.colYs.push(0);this.maxY=0;this.horizontalColIndex=0},i.measureColumns=function(){var n,i;this.getContainerWidth();this.columnWidth||(n=this.items[0],i=n&&n.element,this.columnWidth=i&&t(i).outerWidth||this.containerWidth);var r=this.columnWidth+=this.gutter,f=this.containerWidth+this.gutter,u=f/r,e=r-f%r,o=e&&e<1?"round":"floor";u=Math[o](u);this.cols=Math.max(u,1)},i.getContainerWidth=function(){var i=this._getOption("fitWidth"),r=i?this.element.parentNode:this.element,n=t(r);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(n){var r;n.getSize();var u=n.size.outerWidth%this.columnWidth,f=u&&u<1?"round":"ceil",i=Math[f](n.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);var e=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",t=this[e](i,n),o={x:this.columnWidth*t.col,y:t.y},s=t.y+n.size.outerHeight,h=i+t.col;for(r=t.col;r<h;r++)this.colYs[r]=s;return o},i._getTopColPosition=function(n){var t=this._getTopColGroup(n),i=Math.min.apply(Math,t);return{col:t.indexOf(i),y:i}},i._getTopColGroup=function(n){var i,r,t;if(n<2)return this.colYs;for(i=[],r=this.cols+1-n,t=0;t<r;t++)i[t]=this._getColGroupY(t,n);return i},i._getColGroupY=function(n,t){if(t<2)return this.colYs[n];var i=this.colYs.slice(n,n+t);return Math.max.apply(Math,i)},i._getHorizontalColPosition=function(n,t){var i=this.horizontalColIndex%this.cols,u=n>1&&i+n>this.cols,r;return i=u?0:i,r=t.size.outerWidth&&t.size.outerHeight,this.horizontalColIndex=r?i+n:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,n)}},i._manageStamp=function(n){var e=t(n),u=this._getElementOffset(n),l=this._getOption("originLeft"),o=l?u.left:u.right,s=o+e.outerWidth,f=Math.floor(o/this.columnWidth),i,h,c,r;for(f=Math.max(0,f),i=Math.floor(s/this.columnWidth),i-=s%this.columnWidth?0:1,i=Math.min(this.cols-1,i),h=this._getOption("originTop"),c=(h?u.top:u.bottom)+e.outerHeight,r=f;r<=i;r++)this.colYs[r]=Math.max(c,this.colYs[r])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var n={height:this.maxY};return this._getOption("fitWidth")&&(n.width=this._getContainerFitWidth()),n},i._getContainerFitWidth=function(){for(var n=0,t=this.cols;--t;){if(this.colYs[t]!==0)break;n++}return(this.cols-n)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var n=this.containerWidth;return this.getContainerWidth(),n!=this.containerWidth},r});
/*!
 * Masonry layout mode
 * sub-classes Masonry
 * http://masonry.desandro.com
 */
(function(n,t){typeof define=="function"&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):typeof module=="object"&&module.exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(n.Isotope.LayoutMode,n.Masonry)})(window,function(n,t){"use strict";var u=n.create("masonry"),i=u.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0},r,f,e;for(r in t.prototype)o[r]||(i[r]=t.prototype[r]);return f=i.measureColumns,i.measureColumns=function(){this.items=this.isotope.filteredItems;f.call(this)},e=i._getOption,i._getOption=function(n){return n=="fitWidth"?this.options.isFitWidth!==undefined?this.options.isFitWidth:this.options.fitWidth:e.apply(this.isotope,arguments)},u}),function(n,t){typeof define=="function"&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):typeof exports=="object"?module.exports=t(require("../layout-mode")):t(n.Isotope.LayoutMode)}(window,function(n){"use strict";var i=n.create("fitRows"),t=i.prototype;return t._resetLayout=function(){this.x=0;this.y=0;this.maxY=0;this._getMeasurement("gutter","outerWidth")},t._getItemLayoutPosition=function(n){var t,i,r;return n.getSize(),t=n.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter,this.x!==0&&t+this.x>i&&(this.x=0,this.y=this.maxY),r={x:this.x,y:this.y},this.maxY=Math.max(this.maxY,this.y+n.size.outerHeight),this.x+=t,r},t._getContainerSize=function(){return{height:this.maxY}},i}),function(n,t){typeof define=="function"&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):typeof module=="object"&&module.exports?module.exports=t(require("../layout-mode")):t(n.Isotope.LayoutMode)}(window,function(n){"use strict";var i=n.create("vertical",{horizontalAlignment:0}),t=i.prototype;return t._resetLayout=function(){this.y=0},t._getItemLayoutPosition=function(n){n.getSize();var t=(this.isotope.size.innerWidth-n.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=n.size.outerHeight,{x:t,y:i}},t._getContainerSize=function(){return{height:this.y}},i});
/*!
 * Isotope v3.0.4
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * http://isotope.metafizzy.co
 * Copyright 2017 Metafizzy
 */
(function(n,t){typeof define=="function"&&define.amd?define("externals/components/ElectionsManagerService/isotope.pkgd",["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,r,u,f,e,o){return t(n,i,r,u,f,e,o)}):typeof module=="object"&&module.exports?module.exports=t(n,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):n.Isotope=t(n,n.Outlayer,n.getSize,n.matchesSelector,n.fizzyUIUtils,n.Isotope.Item,n.Isotope.LayoutMode)})(window,function(n,t,i,r,u,f,e){function v(n,t){return function(i,r){for(var s,h,u=0;u<n.length;u++){var f=n[u],e=i.sortData[f],o=r.sortData[f];if(e>o||e<o)return s=t[f]!==undefined?t[f]:t,h=s?1:-1,(e>o?1:-1)*h}return 0}}var h=n.jQuery,a=String.prototype.trim?function(n){return n.trim()}:function(n){return n.replace(/^\s+|\s+$/g,"")},s=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0}),o,c,l;return s.Item=f,s.LayoutMode=e,o=s.prototype,o._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();t.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var n in e.modes)this._initLayoutMode(n)},o.reloadItems=function(){this.itemGUID=0;t.prototype.reloadItems.call(this)},o._itemize=function(){for(var r,n=t.prototype._itemize.apply(this,arguments),i=0;i<n.length;i++)r=n[i],r.id=this.itemGUID++;return this._updateItemsSortData(n),n},o._initLayoutMode=function(n){var t=e.modes[n],i=this.options[n]||{};this.options[n]=t.options?u.extend(t.options,i):i;this.modes[n]=new t(this)},o.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout")){this.arrange();return}this._layout()},o._layout=function(){var n=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,n);this._isLayoutInited=!0},o.arrange=function(n){this.option(n);this._getIsInstant();var t=this._filter(this.items);this.filteredItems=t.matches;this._bindArrangeComplete();this._isInstant?this._noTransition(this._hideReveal,[t]):this._hideReveal(t);this._sort();this._layout()},o._init=o.arrange,o._hideReveal=function(n){this.reveal(n.needReveal);this.hide(n.needHide)},o._getIsInstant=function(){var n=this._getOption("layoutInstant"),t=n!==undefined?n:!this._isLayoutInited;return this._isInstant=t,t},o._bindArrangeComplete=function(){function n(){t&&i&&r&&u.dispatchEvent("arrangeComplete",null,[u.filteredItems])}var t,i,r,u=this;this.once("layoutComplete",function(){t=!0;n()});this.once("hideComplete",function(){i=!0;n()});this.once("revealComplete",function(){r=!0;n()})},o._filter=function(n){var u=this.options.filter,i,t,r;u=u||"*";var f=[],e=[],o=[],s=this._getFilterTest(u);for(i=0;i<n.length;i++)(t=n[i],t.isIgnored)||(r=s(t),r&&f.push(t),r&&t.isHidden?e.push(t):r||t.isHidden||o.push(t));return{matches:f,needReveal:e,needHide:o}},o._getFilterTest=function(n){return h&&this.options.isJQueryFiltering?function(t){return h(t.element).is(n)}:typeof n=="function"?function(t){return n(t.element)}:function(t){return r(t.element,n)}},o.updateSortData=function(n){var t;n?(n=u.makeArray(n),t=this.getItems(n)):t=this.items;this._getSorters();this._updateItemsSortData(t)},o._getSorters=function(){var t=this.options.getSortData,n,i;for(n in t)i=t[n],this._sorters[n]=c(i)},o._updateItemsSortData=function(n){for(var r,i=n&&n.length,t=0;i&&t<i;t++)r=n[t],r.updateSortData()},c=function(){function n(n){if(typeof n!="string")return n;var i=a(n).split(" "),r=i[0],u=r.match(/^\[(.+)\]$/),o=u&&u[1],f=t(o,r),e=s.sortDataParsers[i[1]];return e?function(n){return n&&e(f(n))}:function(n){return n&&f(n)}}function t(n,t){return n?function(t){return t.getAttribute(n)}:function(n){var i=n.querySelector(t);return i&&i.textContent}}return n}(),s.sortDataParsers={parseInt:function(n){return parseInt(n,10)},parseFloat:function(n){return parseFloat(n)}},o._sort=function(){var n,t;this.options.sortBy&&(n=u.makeArray(this.options.sortBy),this._getIsSameSortBy(n)||(this.sortHistory=n.concat(this.sortHistory)),t=v(this.sortHistory,this.options.sortAscending),this.filteredItems.sort(t))},o._getIsSameSortBy=function(n){for(var t=0;t<n.length;t++)if(n[t]!=this.sortHistory[t])return!1;return!0},o._mode=function(){var n=this.options.layoutMode,t=this.modes[n];if(!t)throw new Error("No layout mode: "+n);return t.options=this.options[n],t},o._resetLayout=function(){t.prototype._resetLayout.call(this);this._mode()._resetLayout()},o._getItemLayoutPosition=function(n){return this._mode()._getItemLayoutPosition(n)},o._manageStamp=function(n){this._mode()._manageStamp(n)},o._getContainerSize=function(){return this._mode()._getContainerSize()},o.needsResizeLayout=function(){return this._mode().needsResizeLayout()},o.appended=function(n){var t=this.addItems(n),i;t.length&&(i=this._filterRevealAdded(t),this.filteredItems=this.filteredItems.concat(i))},o.prepended=function(n){var t=this._itemize(n),i;t.length&&(this._resetLayout(),this._manageStamps(),i=this._filterRevealAdded(t),this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=t.concat(this.items))},o._filterRevealAdded=function(n){var t=this._filter(n);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},o.insert=function(n){var i=this.addItems(n),t,u,r,f;if(i.length){for(r=i.length,t=0;t<r;t++)u=i[t],this.element.appendChild(u.element);for(f=this._filter(i).matches,t=0;t<r;t++)i[t].isLayoutInstant=!0;for(this.arrange(),t=0;t<r;t++)delete i[t].isLayoutInstant;this.reveal(f)}},l=o.remove,o.remove=function(n){var t,r,i,f;for(n=u.makeArray(n),t=this.getItems(n),l.call(this,n),r=t&&t.length,i=0;r&&i<r;i++)f=t[i],u.removeFrom(this.filteredItems,f)},o.shuffle=function(){for(var t,n=0;n<this.items.length;n++)t=this.items[n],t.sortData.random=Math.random();this.options.sortBy="random";this._sort();this._layout()},o._noTransition=function(n,t){var r=this.options.transitionDuration,i;return this.options.transitionDuration=0,i=n.apply(this,t),this.options.transitionDuration=r,i},o.getFilteredItemElements=function(){return this.filteredItems.map(function(n){return n.element})},s});define("externals/components/ElectionsManagerService/main",["jquery","externals/components/ElectionsManagerService/diacriticsService","services/viewportService","externals/components/ElectionsManagerService/isotope.pkgd","moment","externals/components/PushStateControl/pushStateService","externals/components/ElectionsManagerService/electionClasses"],function(n,t,i,r,u,f,e){var o=function(){function vr(){yi();f.unsubscribePushEvent(ai);n(document).off("keydown click","input.search-input, ul.search-results",l.onKeyDownOrClickSearchInputOrResult);n(document).off("mouseup",l.onMouseUp);n(document).off("keydown","ul.search-results > li",l.onKeydownArrowsOrTabOnSearchResults);n(document).off("focus","input.search-input",l.onFocusSearchInput);n(document).off("navigation:openClose:open navigation:openClose:close",l.handlerHamburgerClick);n(document).off("visibilitychange",l.onVisibilityChange);n(window).off("hashchange",l.onWindowHashChange);w=null;l=null}function yi(){g=!0;p="";o=[];b=!1;ht="RC.EM.favoriteRidings";ii=1e4;var n=new u;b=n.isAfter(v)&&n.isBefore(y)?!0:!1;gt=i.getViewport().isMobileDevice;ni=i.getViewport().isDesktop;i.registerViewportChanged(yr);c=[];a=[];tt=[];hr=null;ft=!0;ri=e.getHardCodedRidingIdsByRegionName();vi=e.getHardCodedCssTeamColorClass();ct=e.getHardCodedPlaceholdersByRegionName();it=!0}function yr(){gt=i.getViewport().isMobileDevice;ni=i.getViewport().isDesktop}function pi(n){var t=n.hours();return t>9?t.toString()+":00":"0"+t.toString()+":00"}function wi(n){return n.format("dddd")+" "+n.date()+" "+n.format("MMMM")}function ui(){var n=new u,c=n.hours(),l=n.minutes(),t=s.find(".container-modify-date"),f=s.find(".container-next-update"),e=t.find(".last-refresh-time"),o=f.find(".update-timer"),r,i;n.isBefore(v)?(t.find("span.date-span").text("Début des élections le "+wi(v)),e.html(v.hours()+"h"),e.attr("datetime",pi(v)),f.find("span.update-span").text("Première mise à jour le "+wi(v)),o.html(v.hours()+"h"),o.attr("datetime",pi(v))):n.isAfter(y)?(t.find("span.date-span").text("Mise à jour finale le "+y.locale("fr").format("dddd")+" "+y.locale("fr").format("D")+" "+y.locale("fr").format("MMMM")+" "+y.year()+" à "+y.locale("fr").hours()+" h"),s.find(".container-last-refresh-time").first().css("display","none"),f.find("span.update-span").text("Merci d'avoir été des nôtres!")):(t.find("span.date-span").text("Dernière mise à jour"),f.find("span.update-span").text("Prochaine mise à jour : "),r=t.find(".last-refresh-time"),n.isAfter(h,"day")?n.minutes()<10?(t.find(".last-refresh-time").html(" "+h.locale("fr").date()+" "+h.locale("fr").format("MMMM")+" "+h.locale("fr").format("YYYY")),i="",i=n.hours()<10?h.year()+"-"+h.month()+"-"+h.date()+"T0"+h.hours()+":0"+h.minutes():h.year()+"-"+h.month()+"-"+h.date()+"T"+h.hours()+":0"+h.minutes(),r.attr("datetime",i)):(t.find(".last-refresh-time").html(" "+h.locale("fr").date()+" "+h.locale("fr").format("MMMM")+" "+h.locale("fr").format("YYYY")),i="",i=n.hours()<10?h.year()+"-"+h.month()+"-"+h.date()+"T0"+h.hours()+":"+h.minutes():h.year()+"-"+h.month()+"-"+h.date()+"T"+h.hours()+":"+h.minutes(),r.attr("datetime",i)):n.minutes()<10?(t.find(".last-refresh-time").html(" "+n.hours()+"h0"+n.minutes()),r.attr("datetime",n.hours()+":0"+n.minutes())):(t.find(".last-refresh-time").html(n.hours()+"h"+n.minutes()),r.attr("datetime",n.hours()+":"+n.minutes())))}function pr(n){var f=u(),o=f.hours(),e=f.minutes(),p="",l,c,h,t,r,i;if(p=e<10?o.toString()+" h 0"+e.toString():o.toString()+" h "+e.toString(),n===0&&f.isBefore(y)&&f.isAfter(v)&&(l=s.find(".container-more-content").find(".last-refresh-time"),l.html(p),c="",c+=o<10?"0"+o.toString():o.toString(),c+=e<10?":0"+e.toString():":"+e.toString(),l.attr("datetime",c)),f.isBefore(y)&&f.isAfter(v))if(h=s.find(".container-next-update").find(".update-timer"),n<10)h.html(" 00:0"+n.toString());else if(n<60)h.html(" 00:"+n.toString());else if(n<3600)t=n/60,t=t%60,r=n%60,i="",i+=t<10?" 0"+parseInt(t).toString():" "+parseInt(t).toString(),i+=r<10?":0"+parseInt(r).toString():":"+parseInt(r).toString(),h.html(i);else if(n<86400){var r=n%60,t=n/60%60,a=n/3600%24,i="";i=a<10?" 0"+parseInt(a).toString()+":":parseInt(a).toString()+":";i+=t<10?"0"+parseInt(t).toString():parseInt(t).toString();i+=r<10?":0"+parseInt(r).toString():":"+parseInt(r).toString();h.text(i)}}function pt(n){ti=n;var t=new u;t.isAfter(v)&&t.isBefore(y)&&b===!1&&(b=!0,ui());t.isAfter(v)&&t.isAfter(y)&&b===!0&&(b=!1,ui());b&&(pr(n),n===0&&it&&(s.find(".container-next-update").find(".update-timer")[0].innerHTML="En cours",or(tf)));n<2&&b===!1&&(n=30);n>0&&setTimeout(function(){pt(n-1)},1e3)}function wr(){var n=s.find("input.search-input").val(),t=tu(n);bi(t,n)}function bi(t,i){var u,y,r,h,c,a,e,f,p,v;if(s.find("ul.search-results").length>0&&s.find("ul.search-results").remove(),i.length>2){if(u=n('<ul class="search-results"><\/ul>'),t&&t.length===0)u.append("<li class='no-result'><a href='#' aria-hidden='true' class='link-hack-focus' aria-label='Aucune course ne correspond à votre recherche.'><\/a><span>Aucune course ne correspond à votre recherche.<\/span><\/li>");else if(t.length===1&&t[0]==="")u.append("<li class='no-result'><a href='#' aria-hidden='true' class='link-hack-focus' aria-label='Aucune course ne correspond à votre recherche.'><\/a><span>Aucune course ne correspond à votre recherche.<\/span><\/li>");else if(t[0].type!==5){for(y=!1,t=br(t),e=0;e<t.length;e++)if(r=t[e],h="",r.type!==3||y||(y=!0,h='<li class="candidate-separator">Candidats<\/li>'),c=r.parentName&&r.parentName.length>0&&r.type!=3?", "+r.parentName:r.parentName&&r.parentName.length>0?r.parentName:"",fr(i))if(r.burroughList.length>1){for(a=[],e=0;e<r.burroughList.length;e++)a.push(ki(r.burroughList[e],r.parentName));for(f=0;f<a.length||f<4;f++){if(f==a.length)break;u.append(h+"<li class='one-result' data-bind='click: function() { loadTabExplore(["+a[f]+"]"+(r.type===3?", true":"")+") } '><a href='#' title='Aller à la page des résultats pour "+r.burroughList[f]+"' aria-label='Aller à la page des résultats pour "+r.burroughList[f]+"'>"+r.burroughList[f]+"<span>"+wt(r.type)+c+"<\/a><\/span><\/li>")}}else r.burroughName!=null?(v=ki(r.burroughName,r.parentName),u.append(h+"<li class='one-result' data-bind='click: function() { loadTabExplore(["+v+"]"+(r.type===3?", true":"")+") } '><a href='#' title='Aller à la page des résultats pour "+r.burroughName+"' aria-label='Aller à la page des résultats pour "+r.burroughName+"'>"+r.burroughName+"<span>"+wt(r.type)+c+"<\/a><\/span><\/li>")):(r.parentName!=null||r.parentName!="")&&(p=k(r.parentName,o),v=p>0?o[p].listRidings[0].id:"",u.append(h+"<li class='one-result' data-bind='click: function() { loadTabExplore(["+v+"]"+(r.type===3?", true":"")+") } '><a href='#' title='Aller à la page des résultats pour "+r.name+"' aria-label='Aller à la page des résultats pour "+r.name+"'>"+r.name+"<span>"+wt(r.type)+c+"<\/a><\/span><\/li>"));else u.append(h+"<li class='one-result' data-bind='click: function() { loadTabExplore(["+r.id+"]"+(r.type===3?", true":"")+") } '><a href='#' title='Aller à la page des résultats pour "+r.name+"' aria-label='Aller à la page des résultats pour "+r.name+"'>"+r.name+"<span>"+wt(r.type)+c+"<\/a><\/span><\/li>");u.append("<li class='push-enter'>Appuyez sur Entrée pour afficher les résultats de la course<\/li>")}s.find(".container-search-field").after(u);s.find("ul.search-results").on("blur",function(){this.hide()});ni&&s.find("ul.search-results li a").first().focus();ko.cleanNode(w);ko.applyBindings(l,w)}}function br(n){for(var i=!1,r=!1,u=!1,f=!1,t=0;t<n.length;t++)n[t].name.indexOf("Cecil-P.-Newman")>-1?(n.splice(t,1),t=t-1,i=!0):n[t].name.indexOf("Champlain-L")>-1?(n.splice(t,1),t=t-1,r=!0):n[t].name.indexOf("Sault-Saint-Louis")>-1?(n.splice(t,1),t=t-1,u=!0):n[t].name.indexOf("Desmarchais-Crawford")>-1&&(n.splice(t,1),t=t-1,f=!0);return i&&n.unshift({id:[1158,1159,1160],name:"de Cecil-P.-Newman",parentName:"LaSalle",type:2}),r&&n.unshift({id:[1209,1210,1211],name:"de Champlain-L'Île-des-Soeurs",parentName:"Verdun",type:2}),u&&n.unshift({id:[1155,1156,1157],name:"du Sault-Saint-Louis",parentName:"LaSalle",type:2}),f&&n.unshift({id:[1212,1213,1214],name:"de Desmarchais-Crawford",parentName:"Verdun",type:2}),n}function ki(n,t){var i,r;if(n=="Ville-Marie")return[1217,1216,1215];if(t=="Montréal"){for(i=0;i<o.length;i++)if(o[i].name=="Montréal")for(r=0;r<o[i].listBurroughs.length;r++)if(o[i].listBurroughs[r].name===n)return o[i].listBurroughs[r].listRidings[0].id}else{if(n=="Beauport")return[1406,1408,1407];if(n=="Brompton")return[42];if(n=="Charlesbourg")return[1403,1404,1405];if(n=="Chicoutimi")return[1415,1422,1421,1420,1419,1418,1417,1416];if(n=="Côte-des-Neiges-Notre-Dame-de-Grâce")return[4];if(n=="Desjardins")return[1360,1364,1359,1363,1361,1362];if(n=="Fleurimont")return[42];if(n=="Grenville")return[236];if(n=="Grenville-sur-la-Rouge")return[237];if(n=="Jacques-Cartier")return[42];if(n=="Jonquière")return[1414,1413,1412,1411,1410,1409,1408,1407];if(n=="La Baie")return[1425,1424,1423];if(n=="La Cité-Limoilou")return[1393,1392,1395,1394,1391];if(n=="La Haute-Saint-Charles")return[1411,1409,1410];if(n=="Le Mont-Bellevue")return[42];if(n=="Le Vieux-Longueuil")return[1376,1380,1375,1379,1381,1382,1378,1374,1377];if(n=="Lennoxville")return[42];if(n=="Les Chutes-de-la-Chaudière-Est")return[1368,1369,1367,1365,1366];if(n=="Les Chutes-de-la-Chaudière-Ouest")return[1372,1373,1371,1370];if(n=="Les Rivières")return[1396,1397,1398];if(n=="Rock Forest-Saint-Élie-Deauville")return[42];if(n=="Sainte-Foy-Sillery-Cap-Rouge")return[1399,1400,1401,1402];if(n=="Saint-Hubert")return[1387,1388,1390,1386,1389];if(n=="Greenfield Park")return[1383,1384,1385];if(n=="Lachine")return[1151,5]}}function wt(n){switch(n){case 0:return"Municipalité";case 1:return"Arrondissement";case 2:return"District";case 3:return"";case 4:return"Émission";case 5:return"Recherche en cours";default:return""}}function fi(){if(window.location.hash){kr();var n=window.location.hash;n.indexOf("#recherche=")>-1&&n.lastIndexOf("]")===n.length-1?gr(n):n.indexOf("#explorer")>-1&&n.length===9?dr():n.indexOf("#mes-favoris")>-1&&n.length===12?nu():n.indexOf("#a-surveiller")>-1&&n.length===13?gi():l.loadTabToMonitor()}else gi()}function kr(){g&&(g=!1,n(document).find(".elections-manager-refresh-container").fadeTo(600,.2,function(){g=!0}),n("body, html").animate({scrollTop:s.find("div.elections-header.row").offset().top-100},600))}function di(n){if(!g){n&&(et=null,ot=null);var t=s.find(".elections-manager-refresh-container");t.stop(!0,!1);t.css("opacity","100");g=!0}}function lt(n,t,i){if(g)return n&&typeof n=="function"?(n(t,i),!0):!1;setTimeout(function(){lt(n,t,i)},100)}function gi(){var n,t,r;if(it){var u=k("Montréal",o),f=k("Saguenay",o),e=k("Québec",o),h=k("Lévis",o),c=k("Longueuil",o),l=k("Gatineau",o),a=k("Sherbrooke",o),i=[u,f,e,h,c,l,a],v=[];for(n=0;n<i.length;n++)v.push(o[i[n]].listRidings[0]);t=lu(nt);r=[{ridings:t.maRegion,navigationItems:[{text:"Édition&nbsp;: "+nt,title:"Édition&nbsp;: "+nt}],ulClass:"elections-list-regionalized row"},{ridings:t.ailleurs,navigationItems:[{text:"Ailleurs au Québec",title:"Ailleurs au Québec"}],ulClass:"elections-list row"}];at("/unit/component/ElectionsWrapperExplorer/Index",{electionsSections:r,withExplanationCards:!1,canTravel:!0,isExplorer:!1}).then(function(n){var t=s.find(".elections-menu-list");t.find(".explore-tab").removeClass("active");t.find(".monitor-tab").addClass("active");t.find(".favorite-tab").removeClass("active");n.length>0&&lt(bt,n,!0)}).fail(function(n,t,i){console.log(t+" "+i)})}}function dr(){at("/unit/component/ElectionsWrapperExplorer/EmptyExplorer",null).then(function(n){var t=s.find(".elections-menu-list");t.find(".explore-tab").addClass("active");t.find(".monitor-tab").removeClass("active");t.find(".favorite-tab").removeClass("active");n.length>0&&lt(bt,n,!1)}).fail(function(n,t,i){console.log(t+" "+i)})}function bt(n,t){s.find(".inner-content.elections-list-container").html(n);var i=s.find(".elections-manager-refresh-container");i.css("display","block");i.css("opacity","100");s.find(".elections-list").length>0&&(et=new r(".elections-list",st),t?s.find(".elections-list-regionalized").length>0&&(ot=new r(".elections-list-regionalized",st)):ot=null);ft||i.find("a.refresh-container-focus-link").focus();ft=!1;ko.cleanNode(w);ko.applyBindings(l,w)}function gr(t){var vt,nt,b,ft,et,a,tt,i,p,ot,f,o,yt,c,k,rt,d,pt,u,e,y,r,st,h,v,g,ht,ut,ct;if(it){if(t===null||t[0]!=="["&&t[t.length-1]!=="]")return ei(),s.find(".elections-menu-list").find(".explore-tab").addClass("active"),s.find(".elections-menu-list").find(".monitor-tab").removeClass("active"),s.find(".elections-menu-list").find(".favorite-tab").removeClass("active"),!1;for(s.find("ul.search-results").hide(),t=t.substring(t.indexOf("=")+2,t.length-1),t=t.split(","),t[0]&&t[0]==="313131313131"&&(document.location.href="http://district31.radio-canada.ca/"),vt=t[t.length-1],nt=!1,vt==="true"&&(nt=!0,t.pop()),b=[],e=0;e<t.length;e++){if(isNaN(t[e]))return s.find(".elections-menu-list").find(".explore-tab").addClass("active"),s.find(".elections-menu-list").find(".monitor-tab").removeClass("active"),s.find(".elections-menu-list").find(".favorite-tab").removeClass("active"),ei(),!1;if(t[e]=parseInt(t[e]),ft=ci(t[e]),ft===undefined)return ei(),s.find(".elections-menu-list").find(".explore-tab").addClass("active"),s.find(".elections-menu-list").find(".monitor-tab").removeClass("active"),s.find(".elections-menu-list").find(".favorite-tab").removeClass("active"),!1;b.push(ft)}for(et=[],r=0;r<b.length;r++)for(e=0;e<b[r].length;e++)et.push(b[r][e]);if(a=[],n.each(et,function(t,i){n.inArray(i,a)===-1&&a.push(i)}),tt=null,tt=t.indexOf(1158)>-1&&t.indexOf(1159)>-1&&t.indexOf(1160)>-1?1158:t.indexOf(1212)>-1&&t.indexOf(1213)>-1&&t.indexOf(1214)>-1?1212:t.indexOf(1209)>-1&&t.indexOf(1210)>-1&&t.indexOf(1211)>-1?1209:t.indexOf(1155)>-1&&t.indexOf(1156)>-1&&t.indexOf(1157)>-1?1155:t.length===1?t[0]:null,i=null,p=!1,tt!==null){for(a.length===2&&a[1].parentBurrough.length>0&&(p=!0),h=0;h<a.length;h++)if(ot=a[h],ot.id===tt){i=ot;break}}else p=!0;if(i===null&&(i=a[0]),f={backButton:{},navigationItems:[],ridings:a,ulClass:"elections-list row"},i.ridingType!=="Municipalité"||p){if(o=ci(i.id),o.sort(tr),o&&o.length>=1)if(f.navigationItems.push({href:"#",ridingIds:o[0].id,text:i.parentMunicipality,title:i.parentMunicipality}),i.ridingType==="Arrondissement")f.backButton={href:"#",ridingIds:o[0].id,text:"Voir tous les arrondissements",title:"Voir tous les arrondissements pour "+o[0].parentMunicipality},f.navigationItems.push({text:i.parentBurrough,title:i.parentBurrough});else if(p){if(yt=ci(a[0].id),c=yt.filter(function(n){return n.parentBurrough===a[1].parentBurrough}),c&&c.length>0){for(k=[],v=0;v<c.length;v++)k.push(c[v].id);if(k.sort(nr),a.length===2){for(f.backButton={href:"#",ridingIds:k.toString(),text:"Voir tous les districts",title:"Voir tous les districts pour "+i.parentBurrough},f.navigationItems.push({href:"#",ridingIds:k.toString(),text:c[0].parentBurrough,title:c[0].parentBurrough}),rt=0,d=0;d<c.length;d++)c[d].id===t[0]&&(rt=d);f.navigationItems.push({text:c[rt].parentDistrict,title:c[rt].parentDistrict})}else f.backButton={href:"#",ridingIds:i.id,text:"Voir tous les arrondissements",title:"Voir tous les arrondissements pour "+i.parentMunicipality},f.navigationItems.push({text:c[0].parentBurrough,title:c[0].parentBurrough})}}else i.parentBurrough.length>0?(pt="#",f.backButton={href:"#",ridingIds:o[0].id,text:"Voir tous les arrondissements",title:"Voir tous les arrondissements pour "+o[0].parentMunicipality},f.navigationItems.push({href:[1201,1200,1199].indexOf(o[1].id)===-1?pt:"",ridingIds:o[1].id,text:i.parentBurrough,title:i.parentBurrough}),o[2]&&(f.backButton={href:"#",ridingIds:o[1].id,text:"Voir tous les districts",title:"Voir tous les districts pour "+o[1].parentBurrough},f.navigationItems.push({text:i.parentDistrict,title:i.parentDistrict}))):(f.backButton={href:"#",ridingIds:o[0].id,text:"Voir tous les districts",title:"Voir tous les districts pour "+o[0].parentMunicipality},f.navigationItems.push({text:i.parentDistrict,title:i.parentDistrict}))}else f.navigationItems.push({text:i.parentMunicipality,title:i.parentMunicipality});for(u=[f],e=0;e<u.length;e++)u[e].ridings.sort(tr),u[e].onlyCandidate=nt;if(gt){if(p)y="Arrondissement";else for(y="",r=0;r<u.length;r++)if(y==="")for(h=0;h<u[r].ridings.length;h++)if(y===""){for(v=0;v<t.length;v++)if(u[r].ridings[h].id==t[v]){y=u[r].ridings[h].ridingType;break}}else break;else break;for(r=0;r<u.length;r++)if(y=="Arrondissement")u[r].ridings.shift();else if(y=="District")for(st=!1,h=0;h<u[r].ridings.length;h++){if(st)break;for(v=0;v<t.length;v++)if(u[r].ridings[h].id==t[v]){u[r].ridings=[u[r].ridings[h]];st=!0;break}}}if(nt)for(g=0;g<u.length;g++)for(ht=u[g].ridings,ut=0;ut<ht.length;ut++)if(ct=ht[ut],ct.id==t[0]){u[g].ridings=[ct];break}at("/unit/component/ElectionsWrapperExplorer/Index",{electionsSections:u,withExplanationCards:!0,canTravel:!1,isExplorer:!0}).then(function(n){var t=s.find(".elections-menu-list");return t.find(".explore-tab").addClass("active"),t.find(".monitor-tab").removeClass("active"),t.find(".favorite-tab").removeClass("active"),n.length>0&&lt(bt,n,!1),ko.cleanNode(w),ko.applyBindings(l,w),!1}).fail(function(n,t,i){console.log(t+" "+i)});s.find("input.search-input").val("");s.find("ul.search-results").remove()}}function nr(n,t){return n-t}function tr(n,t){return n.parentMunicipality>t.parentMunicipality?1:n.parentMunicipality<t.parentMunicipality?-1:n.parentBurrough>t.parentBurrough?1:n.parentBurrough<t.parentBurrough?-1:n.parentDistrict>t.parentDistrict?1:n.parentDistrict<t.parentDistrict?-1:0}function ei(){di(!0);s.find(".inner-content.elections-list-container").html(cr)}function oi(){di(!0);s.find(".inner-content.elections-list-container").html(lr);ft||s.find(".elections-manager-refresh-container").find("a.refresh-container-focus-link").focus();ft=!1}function nu(){var t=l.getFavoritedRidings(),i,n,r;if(t.length>0){for(i=[],n=0;n<t.length;n++)i.push(d(t[n]));r=[{ridings:i,navigationItems:[],ulClass:"elections-list row"}];at("/unit/component/ElectionsWrapperExplorer/Index",{electionsSections:r,withExplanationCards:!1,canTravel:!0,isExplorer:!1}).then(function(n){var t=s.find(".elections-menu-list");t.find(".elections-menu-item").find(".favorite-notification").find(".number-notifications").html(0);t.find(".favorite-notification").css("visibility","hidden");t.find(".explore-tab").removeClass("active");t.find(".monitor-tab").removeClass("active");t.find(".favorite-tab").addClass("active");n.length>0?lt(bt,n,!1):oi()}).fail(function(n,t,i){console.log(t+" "+i)})}else s.find(".elections-menu-list").find(".favorite-notification").css("visibility","hidden"),s.find(".elections-menu-list").find(".explore-tab").removeClass("active"),s.find(".elections-menu-list").find(".monitor-tab").removeClass("active"),s.find(".elections-menu-list").find(".favorite-tab").addClass("active"),oi()}function tu(n,i){var kt=performance.now(),h=[],b=[],e,k,l,pt,g,it,s,wt,rt,w,ut,ft,r,nt,tt,et,ot,u,ct,a,v,bt,st,ht;if(i=i||6,n=t.removeDiacritics(n.toLocaleLowerCase().trim()),n&&n.length>2){(n.startsWith("district 31")||n.startsWith("district31"))&&b.push({id:[313131313131],name:"District 31",type:4});var lt=n;if(/[^0-9A-Za-z]st[^0-9A-Za-z]|^st[^0-9A-Za-z]/g.test(n)?n=n.replace("st","saint"):/[^0-9A-Za-z]ste[^0-9A-Za-z]|^ste[^0-9A-Za-z]/g.test(n)?n=n.replace("ste","sainte"):/^ste/g.test(n)&&(n=n.replace("ste","sainte")),e=/[ ]|[\-]|[\']|[.]/g,n=n.replace(e," "),ru(n))fr(n)&&(at("http://codespostaux.radio-canada.ca/"+n,null,"GET").then(function(t){bi([t],n)}).fail(function(n,t,i){console.log(t+" "+i)}),h.push({id:null,name:null,parentName:null,type:5}));else{var vt=[],yt=[],y=[];for(k=0;k<o.length;k++){for(l=o[k],pt=t.removeDiacritics(l.name.toLocaleLowerCase().trim()).replace(e," "),pt.indexOf(n)>-1&&vt.push({id:[l.listRidings[0].id],name:l.name,parentName:"",type:0}),g=0;g<l.listDistricts.length;g++)r=l.listDistricts[g],r.name.toLowerCase()!=="de Greenfield Park".toLowerCase()&&(nt=t.removeDiacritics(r.name.toLocaleLowerCase().trim()).replace(e," "),nt.indexOf(n)>-1&&(tt=hi(r.listRidings),b.push({id:tt,name:r.name,parentName:r.parentBurroughName&&r.parentBurroughName.length>0?r.parentBurroughName:r.parentMunicipalityName,type:2})));for(it=0;it<l.listBurroughs.length;it++){if(s=l.listBurroughs[it],wt=t.removeDiacritics(s.name.toLocaleLowerCase().trim()).replace(e," "),wt.indexOf(n)>-1){if(rt=[],s.listRidings.length>0)rt=hi(s.listRidings);else for(w=0;w<s.listDistricts.length;w++)for(ut=0;ut<s.listDistricts[w].listRidings.length;ut++)rt.push(s.listDistricts[w].listRidings[ut].id);yt.push({id:rt,name:s.name,parentName:s.parentMunicipalityName,type:1})}for(ft=0;ft<s.listDistricts.length;ft++)r=s.listDistricts[ft],nt=t.removeDiacritics(r.name.toLocaleLowerCase().trim()).replace(e," "),nt.indexOf(n)>-1&&r.name.toLowerCase()!=="de Greenfield Park".toLowerCase()&&(tt=hi(r.listRidings),b.push({id:tt,name:r.name,parentName:r.parentBurroughName&&r.parentBurroughName.length>0?r.parentBurroughName:r.parentMunicipalityName,type:2}))}}for(et=0;et<p.C.length;et++){var f=p.C[et],ot=t.removeDiacritics(f.F.toLocaleLowerCase().trim()+" "+f.L.toLocaleLowerCase().trim()),c=lt;/[^0-9A-Za-z]saint[^0-9A-Za-z]|^saint[^0-9A-Za-z]/g.test(c)?c=c.replace("saint","st"):/[^0-9A-Za-z]sainte[^0-9A-Za-z]|^sainte[^0-9A-Za-z]/g.test(c)&&(c=c.replace("sainte","ste"));ot=t.removeDiacritics(f.F.toLocaleLowerCase().trim()+" "+f.L.toLocaleLowerCase().trim()).replace(e," ");c=c.replace(e," ");(ot.indexOf(n)>-1||ot.indexOf(lt)>-1||ot.indexOf(c)>-1)&&(u=d(f.RI),ct="",ct=u.parentDistrict&&u.parentDistrict.length>0&&u.parentDistrict.toLowerCase().indexOf("district ")>-1?u.parentBurroughName&&u.parentBurroughName.length>0?u.parentBurroughName+u.parentDistrict:u.parentMunicipality+" ("+u.parentDistrict.trim().replace(" ","&nbsp;")+")":u.parentDistrict&&u.parentDistrict.length>0?u.parentDistrict:u.parentBurrough&&u.parentBurrough.length>0?u.parentBurrough:u.parentMunicipality,a=f.F,v=f.L,f.I===97346?(a="Chantal",v="Rossi, colistière de Denis Coderre"):f.I===97482?(a="K. John",v="Symon, colistier de Jean Fortier"):f.I===97490?(a="Sophie",v="Mauzerolle, colistière de Valérie Plante"):f.I===98061?(a="Nancy",v="Piuze, colistière de Jean-François Gosselin"):f.I===97990?(a="Jean",v="Rousseau, colistier d'Anne Guérette"):f.I===97994&&(a="Clovis",v="Brochu, colistier de Nicolas Lavigne-Lefebvre"),y.push({id:[f.RI],name:a+" "+v,parentName:u.office+", "+ct,type:3}))}if(si(vt,h,n,i,e),si(yt,h,n,i,e),si(b,h,n,i,e),y&&y.length>0)if(y.sort(ir),bt=rr(n,y),st=ur(n,bt,e),h.length<i)for(ht=0;ht<st.length;ht++)h.length<i&&h.push(st[ht]);else h.pop(),h.push(st[0])}}return h}function ir(n,i){if(n&&i&&n.name&&i.name&&n.name.length>0&&i.name.length>0){var r=t.removeDiacritics(n.name.trim().toLowerCase()),u=t.removeDiacritics(i.name.trim().toLowerCase());if(r<u)return-1;if(r>u)return 1}return 0}function rr(n,i){var r,e;if(i&&i.length>0&&n&&n.length>0){var o=t.removeDiacritics(n.trim().toLowerCase()),u=[],f=[];for(r=0;r<i.length;r++)e=t.removeDiacritics(i[r].name.toLocaleLowerCase().trim()),e.startsWith(o)?u.push(i[r]):f.push(i[r]);return u.concat(f)}return i}function ur(n,i,r){var u,e,f,s,o,h,v;if(i&&i.length>0&&n&&n.length>0){var l=t.removeDiacritics(n.trim().toLowerCase()),c=[],a=[];for(u=0;u<i.length;u++)if(e=!1,f=t.removeDiacritics(i[u].name.toLocaleLowerCase().trim()),f.startsWith(l))c.push(i[u]),e=!0;else{for(s=[],o=0;o<f.length;o++)f[o].match(r)&&s.push(o);for(h=0;h<s.length;h++)if(v=f.substring(s[h]+1,f.length),v.startsWith(l)){c.push(i[u]);e=!0;break}e||(a.push(i[u]),e=!0)}return c.concat(a)}return i}function si(n,t,i,r,u){var o,e,f;if(t.length<r&&n&&n.length>0)for(n.sort(ir),o=rr(i,n),e=ur(i,o,u),f=0;f<e.length;f++)t.length<r&&t.push(e[f])}function hi(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].id);return i}function at(t,i,r){t=t.indexOf("//")>-1?t:window.appHost+t;var u=n.Deferred();return r=r===undefined?"POST":r,n.ajax({data:i,type:r,url:t}).done(function(n){u.resolve(n)}).fail(function(n,t,i){u.reject(t,i)}),u.promise()}function iu(n){return vt(n)!=""}function ru(n){return/^[A-Za-z]\d[A-Za-z]/.exec(n)}function fr(n){return/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/.exec(n)}function uu(n,t){for(var i=0;i<t.length;i++)if(t[i].name.indexOf(n)>-1)return!0;return!1}function fu(n){for(var y,s,f,l,u,c,p,w,r=n.R,i=0;i<r.length;i++)if(r[i].NAME=r[i].NAME.replace("--","–"),r[i].NAME.indexOf("*")>-1)hu(n,r[i]);else if(t.removeDiacritics(r[i].NAME.substr(0,8).toLocaleLowerCase("fr-CA")).indexOf("saguenay")>-1)kt(n,r[i],"Saguenay");else if(t.removeDiacritics(r[i].NAME.substr(0,10).toLocaleLowerCase("fr-CA")).indexOf("sherbrooke")>-1)kt(n,r[i],"Sherbrooke");else if(t.removeDiacritics(r[i].NAME.substr(0,6).toLocaleLowerCase("fr-CA")).indexOf("quebec")>-1)kt(n,r[i],"Québec");else if(t.removeDiacritics(r[i].NAME.substr(0,9).toLocaleLowerCase("fr-CA")).indexOf("longueuil")>-1)su(n,r[i]);else if(t.removeDiacritics(r[i].NAME.substr(0,5).toLocaleLowerCase("fr-CA")).indexOf("levis")>-1)kt(n,r[i],"Lévis");else if(r[i].NAME.split("|").length===2){s=r[i].NAME.indexOf("|");f=r[i].NAME.substr(0,s);f=f.trim();u=r[i].NAME.substr(s+2,2).trim();u=ut(u);var l=rt(n.C,r[i].C),v="",h="",c=e.createRiding(r[i].I,u,f,v,h,l,r[i].PC,r[i].PT,r[i].N,r[i].V,"Municipalité");(u=="Préfecture"||u=="Présidence")&&(c.isMRCorLocale=!0,c.ridingType="Municipalité régionale de comté");y=[];y.push(c);var b=e.createMunicipality(f,"",[],[],y);o.push(b)}else if(r[i].NAME.split("|").length===3){s=r[i].NAME.indexOf("|");f=r[i].NAME.substr(0,s-1);f=f.trim();var v="",k=r[i].NAME.indexOf("|",s+1),h=r[i].NAME.substr(k+1).trim();h.indexOf(".")>-1&&(h=h.substring(3));l=rt(n.C,r[i].C);u=r[i].NAME.substr(s+2,2).trim();u=ut(u);c=e.createRiding(r[i].I,u,f,v,h,l,r[i].PC,r[i].PT,r[i].N,r[i].V,"District");(u=="Préfecture"||u=="Présidence")&&(c.isMRCorLocale=!0);p=[];p.push(c);w=e.createDistrict(h,f,v,p);a.push(w)}}function rt(n,t){for(var r,c,o,u,f,l,s=t.length,h=[],a=0,i=0;i<n.length&&s>0;i++)t.indexOf(n[i].I)>-1&&(r=cu(n[i].PI),(r==="Autre"||r===""||r==="Independant"||r==="Indépendant"||r==="Independent")&&(r=""),c=vi[r],n[i].N===0&&(a+=1),o=!1,n[i].R==="e"&&(o=!0),u=n[i].F,f=n[i].L,n[i].I===97346?(u="Chantal",f="Rossi, colistière de Denis Coderre"):n[i].I===97482?(u="K. John",f="Symon, colistier de Jean Fortier"):n[i].I===97490?(u="Sophie",f="Mauzerolle, colistière de Valérie Plante"):n[i].I===98061?(u="Nancy",f="Piuze, colistière de Jean-François Gosselin"):n[i].I===97990?(u="Jean",f="Rousseau, colistier d'Anne Guérette"):n[i].I===97994&&(u="Clovis",f="Brochu, colistier de Nicolas Lavigne-Lefebvre"),l=e.createCandidate(n[i].I,f,u,n[i].N,n[i].IC,n[i].IP,r,n[i].RI,o,c,n[i].G,n[i].RI),h.push(l),s-=1);return rf(h)}function eu(n){tt=[];for(var t=0;t<n.length;t++)tt.push(e.createParty(n[t].I,n[t].NAME))}function ou(){c.push(e.createBurrough("Desjardins","Lévis",[],[]));c.push(e.createBurrough("Les Chutes-de-la-Chaudière-Est","Lévis",[],[]));c.push(e.createBurrough("Les Chutes-de-la-Chaudière-Ouest","Lévis",[],[]));c.push(e.createBurrough("Greenfield Park","Longueuil",[],[]));c.push(e.createBurrough("Le Vieux-Longueuil","Longueuil",[],[]));c.push(e.createBurrough("Saint-Hubert","Longueuil",[],[]));c.push(e.createBurrough("Ville-Marie","Montréal",[],[]));c.push(e.createBurrough("Beauport","Québec",[],[]));c.push(e.createBurrough("Charlesbourg","Québec",[],[]));c.push(e.createBurrough("La Cité-Limoilou","Québec",[],[]));c.push(e.createBurrough("La Haute-Saint-Charles","Québec",[],[]));c.push(e.createBurrough("Les Rivières","Québec",[],[]));c.push(e.createBurrough("Sainte-Foy-Sillery-Cap-Rouge","Québec",[],[]));c.push(e.createBurrough("La Baie","Saguenay",[],[]));c.push(e.createBurrough("Chicoutimi","Saguenay",[],[]));c.push(e.createBurrough("Jonquière","Saguenay",[],[]));c.push(e.createBurrough("Arrondissement 1","Sherbrooke",[],[]));c.push(e.createBurrough("Arrondissement 2","Sherbrooke",[],[]));c.push(e.createBurrough("Arrondissement 3","Sherbrooke",[],[]));c.push(e.createBurrough("Arrondissement 4","Sherbrooke",[],[]))}function su(n,i){var c=i.NAME.indexOf("|"),y=rt(n.C,i.C),u=i.NAME.substr(c+2,2).trim(),r,f,v;if(u=ut(u),t.removeDiacritics(i.NAME.toLocaleLowerCase("fr-CA")).indexOf("greenfield park")>-1){var w=i.NAME.indexOf("|",c+1),l="de Greenfield Park",p=i.NAME.substr(0,c-1),s=p.split("("),h="";s.length>1&&(h=s[1].substr(0,s[1].indexOf(")")));r=e.createRiding(i.I,u,"Longueuil",h,l,y,i.PC,i.PT,i.N,i.V,"District");(u=="Préfecture"||u=="Présidence")&&(r.isMRCorLocale=!0);(r.id==1383||r.id==1384)&&(r.office="Conseil d'arrondissement");f=[];f.push(r);v=e.createDistrict(l,"Longueuil",h,f);a.push(v)}else if(i.NAME.split("|").length===2&&i.NAME.indexOf("(")===-1){r=e.createRiding(i.I,u,"Longueuil","","",y,i.PC,i.PT,i.N,i.V,"Municipalité");(u=="Préfecture"||u=="Présidence")&&(r.isMRCorLocale=!0);f=[];f.push(r);var b=e.createMunicipality("Longueuil","",[],[],f);o.push(b)}else{var c=i.NAME.indexOf("|"),w=i.NAME.indexOf("|",c+1),l=i.NAME.substr(w+2).trim(),p=i.NAME.substr(0,c-1),s=p.split("("),h="";s.length>1&&(h=s[1].substr(0,s[1].indexOf(")")));r=e.createRiding(i.I,u,"Longueuil",h,l,y,i.PC,i.PT,i.N,i.V,"District");(u=="Préfecture"||u=="Présidence")&&(r.isMRCorLocale=!0);f=[];f.push(r);v=e.createDistrict(l,"Longueuil",h,f);a.push(v)}}function hu(n,t){var f=t.NAME.indexOf("|"),s=rt(n.C,t.C),i=t.NAME.substr(f+2,2).trim(),l,v,r,h,u,p;if(i=ut(i),t.NAME.split("|").length-1>1){var w=t.NAME.indexOf("|",f+1),o=t.NAME.substr(w+2),r=t.NAME.substr(t.NAME.indexOf("*")+1,f-5);er(o,r,a)!=-1?(h=er(o,r,a),u=e.createRiding(t.I,i,"Montréal",r,o,s,t.PC,t.PT,t.N,t.V,"District"),(i=="Préfecture"||i=="Présidence")&&(u.isMRCorLocale=!0),a[h].listRidings.push(u)):(u=e.createRiding(t.I,i,"Montréal",r,o,s,t.PC,t.PT,t.N,t.V,"District"),(i=="Préfecture"||i=="Présidence")&&(u.isMRCorLocale=!0),l=[],l.push(u),v=e.createDistrict(o,"Montréal",r,l),a.push(v))}else if(f=t.NAME.indexOf("|"),r=t.NAME.substr(t.NAME.indexOf("*")+1,f-5),uu(r,c))h=k(r,c),u=e.createRiding(t.I,i,"Montréal",r,"",s,t.PC,t.PT,t.N,t.V,"Arrondissement"),(i=="Préfecture"||i=="Présidence")&&(u.isMRCorLocale=!0),c[h].listRidings.push(u);else{var y=[],u=e.createRiding(t.I,i,"Montréal",r,"",s,t.PC,t.PT,t.N,t.V,"Arrondissement");(i=="Préfecture"||i=="Présidence")&&(u.isMRCorLocale=!0);y.push(u);p=e.createBurrough(r,"Montréal",[],y);c.push(p)}}function kt(n,t,i){var y,u,f,s,p;if(t.NAME.split("|").length===2&&t.NAME.indexOf("(")===-1){var v=rt(n.C,t.C),h=t.NAME.indexOf("|"),r=t.NAME.substr(h+2,2).trim();r=ut(r);f=e.createRiding(t.I,r,i,"","",v,t.PC,t.PT,t.N,t.V,"Municipalité");(r=="Préfecture"||r=="Présidence")&&(f.isMRCorLocale=!0);s=[];s.push(f);var w=e.createMunicipality(i,"",[],[],s);o.push(w)}else{var v=rt(n.C,t.C),h=t.NAME.indexOf("|"),r=t.NAME.substr(h+2,2).trim();r=ut(r);y=t.NAME.indexOf("|",h+1);u=t.NAME.substr(y+2).trim();i=="Sherbrooke"&&u.indexOf("Uplands")>-1?(u="d'Uplands",r="Conseil d'arrondissement"):i=="Sherbrooke"&&u.indexOf("Fairview")>-1&&(u="de Fairview",r="Conseil d'arrondissement");var b=t.NAME.substr(0,h-1),c=b.split("("),l="";c.length>1&&(l=c[1].substr(0,c[1].indexOf(")")));f=e.createRiding(t.I,r,i,l,u,v,t.PC,t.PT,t.N,t.V,"District");(r=="Préfecture"||r=="Présidence")&&(f.isMRCorLocale=!0);s=[];s.push(f);p=e.createDistrict(u,i,l,s);a.push(p)}}function vt(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return""}function ut(n){switch(n){case"C":return"Conseil municipal";case"CA":return"Conseil d'arrondissement";case"CV":return"Conseil municipal";case"M":return"Mairie";case"MA":return"Mairie d'arrondissement";case"P":return"Préfecture";case"PR":return"Présidence";default:return""}}function er(n,t,i){for(var r=0;r<i.length;r++)if(i[r].name===n&&i[r].parentBurroughName===t)return r;return-1}function k(n,t){for(var i=0;i<t.length;i++)if(t[i].name===n)return i;return-1}function cu(n){for(var t=0;t<tt.length;t++)if(tt[t].id===n)return tt[t].name;return""}function ci(n){for(var c,l,p,u,e,i,a,v,w,s,f,b,k,h,y,d,r=[],t=0;t<o.length;t++){for(c=0;c<o[t].listRidings.length;c++)if(o[t].listRidings[c].id===n){if(r.push(o[t].listRidings[c]),o[t].listBurroughs.length>0)for(u=0;u<o[t].listBurroughs.length;u++){for(e=0;e<o[t].listBurroughs[u].listRidings.length;e++)r.push(o[t].listBurroughs[u].listRidings[e]);for(l=0;l<o[t].listBurroughs[u].listDistricts.length;l++)for(p=0;p<o[t].listBurroughs[u].listDistricts[l].listRidings.length;p++)r.push(o[t].listBurroughs[u].listDistricts[l].listRidings[p])}if(o[t].listDistricts.length>0)for(u=0;u<o[t].listDistricts.length;u++)for(e=0;e<o[t].listDistricts[u].listRidings.length;e++)r.push(o[t].listDistricts[u].listRidings[e]);return r}if(o[t].listBurroughs.length>0)for(i=0;i<o[t].listBurroughs.length;i++){for(a=0;a<o[t].listBurroughs[i].listRidings.length;a++)if(o[t].listBurroughs[i].listRidings[a].id===n){for(f=0;f<o[t].listRidings.length;f++)r.push(o[t].listRidings[f]);if(r.push(o[t].listBurroughs[i].listRidings[a]),o[t].listBurroughs[i].listDistricts.length>0)for(v=0;v<o[t].listBurroughs[i].listDistricts.length;v++)for(w=0;w<o[t].listBurroughs[i].listDistricts[v].listRidings.length;w++)r.push(o[t].listBurroughs[i].listDistricts[v].listRidings[w]);return r}for(s=0;s<o[t].listBurroughs[i].listDistricts.length;s++)for(f=0;f<o[t].listBurroughs[i].listDistricts[s].listRidings.length;f++)if(o[t].listBurroughs[i].listDistricts[s].listRidings[f].id===n){for(b=0;b<o[t].listRidings.length;b++)r.push(o[t].listRidings[b]);if(o[t].listBurroughs[i].listRidings.length>0)for(k=0;k<o[t].listBurroughs[i].listRidings.length;k++)r.push(o[t].listBurroughs[i].listRidings[k]);return r.push(o[t].listBurroughs[i].listDistricts[s].listRidings[f]),r}}for(h=0;h<o[t].listDistricts.length;h++)for(y=0;y<o[t].listDistricts[h].listRidings.length;y++)if(o[t].listDistricts[h].listRidings[y].id===n){for(r.push(o[t].listDistricts[h].listRidings[y]),d=0;d<o[t].listRidings.length;d++)r.push(o[t].listRidings[d]);return r}}}function d(n){for(var f,i,e,r,s,u,h,t=0;t<o.length;t++){for(f=0;f<o[t].listRidings.length;f++)if(o[t].listRidings[f].id===n)return o[t].listRidings[f];if(o[t].listBurroughs.length>0)for(i=0;i<o[t].listBurroughs.length;i++){for(e=0;e<o[t].listBurroughs[i].listRidings.length;e++)if(o[t].listBurroughs[i].listRidings[e].id===n)return o[t].listBurroughs[i].listRidings[e];for(r=0;r<o[t].listBurroughs[i].listDistricts.length;r++)for(s=0;s<o[t].listBurroughs[i].listDistricts[r].listRidings.length;s++)if(o[t].listBurroughs[i].listDistricts[r].listRidings[s].id===n)return o[t].listBurroughs[i].listDistricts[r].listRidings[s]}for(u=0;u<o[t].listDistricts.length;u++)for(h=0;h<o[t].listDistricts[u].listRidings.length;h++)if(o[t].listDistricts[u].listRidings[h].id===n)return o[t].listDistricts[u].listRidings[h]}}function lu(n){var t,r,i;for(n&&n.length!==0||(n="Grand Montréal"),t=ri[n],t&&t.length!==0&&t.ailleurs.length!==0||(t=ri["Grand Montréal"]),r={ailleurs:[],maRegion:[]},i=0;i<t.ailleurs.length;i++)r.ailleurs.push(d(t.ailleurs[i])),r.maRegion.push(d(t.maRegion[i]));return r}function or(t){n.ajaxSetup({cache:!0});n.getJSON(li,function(n){t&&typeof t=="function"&&t(n)})}function au(){for(var t=c.length,n,i;t--;)for(n=a.length;n--;)a[n].parentBurroughName===c[t].name&&(c[t].listDistricts.push(a[n]),a.splice(n,1));for(t=a.length;t--;)for(n=o.length;n--;)a[t].parentMunicipalityName!==o[n].name||a[t].parentBurroughName||o[n].listDistricts.push(a[t]);for(t=c.length;t--;)for(n=o.length;n--;)c[t].parentMunicipalityName===o[n].name&&o[n].listBurroughs.push(c[t]);for(i=0;i<o.length;i++)o[i].name.indexOf("MRC")==-1&&o[i].listBurroughs.length===0&&o[i].listDistricts.length===0&&o[i].listRidings.length===1?o[i].listRidings[0].standAloneRiding=!0:o[i].listBurroughs.length===0&&o[i].listDistricts.length>0&&o[i].listRidings.length===1&&(o[i].listRidings[0].hasDistrictChildrenOnly=!0)}function vu(){var w,r,u,o,v,y,b,p,h,t,i;console.log("Refreshing");var k=s.find(".elections-list-items"),nt=l.getFavoritedRidings(),f=nt,e=s.find(".elections-one-item");if(e.length>0&&(n(e[0]).data("mother-riding-id")==1||n(e[0]).data("mother-riding-id")==39))for(t=0;t<e.length;t++){var tt=n(e[t]).data("riding-id-string"),g=tt.split(","),c=0,a=0;for(w=0;w<g.length;w++)i=d(parseInt(g[w])),c+=i.pollsClosed,a+=i.pollsTotal;r=c.toString();c>9999&&(o=r.length-3,r=r.substring(0,o)+" "+r.substring(o,r.length));u=a.toString();a>9999&&(o=u.length-3,u=u.substring(0,o)+" "+u.substring(o,u.length));v=n(e[t]).find(".progress-bar-container");y="";i.pollsClosed>2?(y=r+" bureaux de scrutin sur "+u,n(v).find(".polls-closed").html(y),n(v).find("progress.progress-bar").val(c*100/a)):(y=r+" bureau de scrutin sur "+u,n(v).find(".polls-closed").html(y),n(v).find("progress.progress-bar").val(c*100/a))}for(b=0;b<k.length;b++){for(p=n(k[b]).data("riding-id"),i=d(p),t=0;t<i.candidateList.length;t++)if(i.candidateList[t].nbVotes!=i.candidateList[t].previousNbVotes||i.candidateList[t].forceRefresh===!0||i.forceRefresh==!0||i.mustDeclareWinner==!0){i.candidateList[t].forceRefresh===!0&&(i.candidateList[t].forceRefresh=!1);i.forceRefresh===!0&&(i.forceRefresh=!1);ku(i,p);break}f.indexOf(p)!=-1&&f.splice(f.indexOf(p),1)}for(h=0,t=0;t<f.length;t++)i=d(f[t]),wu(i,f[t])===!0&&(h+=1);parseInt(s.find(".elections-menu-list").find(".favorite-notification").find(".number-notifications")[0].innerHTML)<h&&(s.find(".elections-menu-list").find(".favorite-notification").attr("title",h+" favoris mis à jour"),s.find(".elections-menu-list").find(".favorite-notification").attr("aria-label",h+" favoris mis à jour"),s.find(".elections-menu-list").find(".favorite-notification").find(".number-notifications")[0].innerHTML=h)}function yu(t){var f,i,r,u,e;do for(f=!1,i=0;i<t.length;i++)t[i]&&t[i+1]&&(r=n(t[i]).find(".nb-vote")[0].innerText,r=r.replace(" ",""),u=n(t[i+1]).find(".nb-vote")[0].innerText,u=u.replace(" ",""),Number(r)<Number(u)&&(e=t[i],t[i].outerHTML=t[i+1].outerHTML,t[i+1].outerHTML=e.outerHTML,f=!0));while(f);return t.length>1&&(t=pu(t)),t}function pu(t){for(var u=Number(n(t[0]).find(".item-vote").find(".nb-vote")[0].innerText.replace(" ","")),f=Number(n(t[1]).find(".item-vote").find(".nb-vote")[0].innerText.replace(" ","")),i=u-f,r=0;r<t.length;r++)n(t[r]).find(".item-vote").find(".vote-difference").attr("aria-hidden","true"),n(t[r]).find(".item-vote").find(".vote-difference")[0].innerText="";n(t[0]).find(".item-score").find(".cbcrc-icon-check").length>0?n(t[0]).find(".item-vote").find(".vote-difference").attr("title","Remporté par "+i+" votes"):n(t[0]).find(".item-vote").find(".vote-difference").attr("title","En avance par "+i+" votes");n(t[0]).find(".item-vote").find(".vote-difference").attr("aria-hidden","false");i>9999?n(t[0]).find(".item-vote").find(".vote-difference")[0].innerText="+"+[i.toString().slice(0,i.toString().length-3)," ",i.toString().slice(i.toString().length-3)].join(""):i>0&&(n(t[0]).find(".item-vote").find(".vote-difference")[0].innerText="+"+i.toString())}function wu(n){var i=!1,t;if(n&&n.candidateList)for(t=0;t<n.candidateList.length;t++)if(n.candidateList[t].nbVotes!=n.candidateList[t].previousNbVotes){i=!0;break}return i}function bu(n){var t=n[0];n[0].children=yu(t.children)}function ku(t,i){for(var o,h,v,f,l,r,u,y,p,e=s.find(".elections-list-container").find("[data-riding-id='"+i+"']"),a=0,nt=!1,w=0;w<t.candidateList.length;w++)a+=t.candidateList[w].nbVotes,t.candidateList[w].isElected&&(nt=!0);if(a>0&&(t.parentMunicipality==="Montréal"||t.parentMunicipality==="Québec"||t.id===1||t.id===39)){n(e).find(".no-result-yet").first().css("display","none");n(e).find(".progress-bar-container").first().css("display","block");o=t.pollsClosed.toString();t.pollsClosed>9999&&(v=o.length-3,o=o.substring(0,v)+" "+o.substring(v,o.length));h=t.pollsTotal.toString();t.pollsTotal>9999&&(v=h.length-3,h=h.substring(0,v)+" "+h.substring(v,h.length));var b="",c=n(e).find(".progress-bar-container"),f=n(e).find(".no-result-yet");t.pollsClosed>2&&t.pollsClosed!=t.pollsTotal?(f.css("display","none"),c.css("display","block"),b=o+" bureaux de scrutin sur "+h,c.find(".polls-closed").html(b),c.find("progress.progress-bar").val(t.pollsClosed*100/t.pollsTotal)):t.pollsClosed==t.pollsTotal?(f.css("display","block"),f.removeClass("icon-rc_icon_clock"),c.css("display","none"),f.html("Dépouillement terminé")):t.pollsClosed==1&&(f.css("display","none"),c.css("display","block"),b=o+" bureau de scrutin sur "+h,c.find(".polls-closed").html(b),c.find("progress.progress-bar").val(t.pollsClosed*100/t.pollsTotal))}else a>0&&!(t.parentMunicipality==="Montréal"||t.parentMunicipality==="Québec"||t.id===1||t.id===39)?(f=n(e).find(".no-result-yet"),t.pollsClosed==t.pollsTotal&&t.candidateList.length>1?(f.css("display","block"),f.removeClass("icon-rc_icon_clock"),f.html("Dépouillement terminé")):f.css("display","none")):n(e).find(".progress-bar-container").css("display","none");if(t.mustDeclareWinner==!0){var k=0,g=0,d=!1;for(l=0;l<t.candidateList.length;l++)t.candidateList[l].nbVotes>k?(k=t.candidateList[l].nbVotes,g=l,d=!1):t.candidateList[l].nbVotes==k&&(d=!0);d==!1&&(t.candidateList[g].isElected=!0)}for(r=0;r<t.candidateList.length;r++)u=n(e).find(".candidate-list").find("[data-candidate-id='"+t.candidateList[r].id+"']"),y=0,t.candidateList[r].nbVotes>0&&(t.candidateList[r].nbVotes*100/a<1?(y=(t.candidateList[r].nbVotes*100/a).toFixed(2),y=y.toString().replace(".",",")):y=Math.round(t.candidateList[r].nbVotes*100/a)),n(u).find(".item-pourcent").html(y+" %"),p="",t.candidateList[r].nbVotes>0?(p=t.candidateList[r].nbVotes>9999?[t.candidateList[r].nbVotes.toString().slice(0,t.candidateList[r].nbVotes.toString().length-3)," ",t.candidateList[r].nbVotes.toString().slice(t.candidateList[r].nbVotes.toString().length-3)].join(""):t.candidateList[r].nbVotes.toString(),n(u).find(".nb-vote").html(p)):(p="0",n(u).find(".nb-vote").html(p)),t.candidateList[r].isElected===!0?(t.candidateList[r].gender==="M"?n(u).find(".item-score").find(".check-placeholder").attr("title","Élu"):n(u).find(".item-score").find(".check-placeholder").attr("title","Élue"),n(u).find(".item-score").find(".check-placeholder").attr("aria-hidden","false"),n(u).find(".item-score").find(".check-placeholder").removeClass("cbcrc-icon-check-hidden"),n(u).find(".item-score").find(".check-placeholder").addClass("cbcrc-icon-check"),n(u).find(".item-score").find(".check-placeholder").css("display","inline-block"),n(u).find(".item-score").find(".vote-difference").addClass("elected")):(n(u).find(".item-score").find(".check-placeholder").attr("aria-hidden","true"),n(u).find(".item-score").find(".check-placeholder").removeClass("cbcrc-icon-check"),n(u).find(".item-score").find(".check-placeholder").addClass("cbcrc-icon-check-hidden"),n(u).find(".item-score").find(".check-placeholder").css("display","none"),n(u).find(".item-score").find(".vote-difference").removeClass("elected"));t.candidateList.length>1&&bu(n(e).find(".candidate-list"))}function sr(n,t,i,r){var u,f,e,o;n&&t&&t!=="undefined"&&t!==undefined&&(u=new Date,u.setTime(u.getTime()+i*864e5),f="expires="+u.toUTCString(),iu(n)?r?document.cookie=n+"="+vt(n)+"&"+t+";"+f+";path=/":(e=vt(n).split("&"),o=e.indexOf(t),o>-1&&e.splice(o,1),document.cookie=n+"="+e.join("&")+";"+f+";path=/"):r&&(document.cookie=n+"="+t+";"+f+";path=/"))}function du(n){var f,e;h="";var o=n.substring(0,4),s=n.substring(4,6),i=parseInt(n.substring(6,8)),t=parseInt(n.substring(8,10)),c=new u("2017-11-05T07:00:00.000Z"),l=new u("2018-03-11T07:00:00.000Z"),r=new u;t+=r.isAfter(c)&&r.isBefore(l)?5:4;t>=24&&(i+=1,t=t-24);i=i.toString();t=(t=0)?"00":t<10?"0"+t.toString():t.toString();f=n.substring(10,12);e=n.substring(12,14);h=o+"-"+s+"-"+i+"T"+t+":"+f+":"+e+".000Z";h=new u(h)}function gu(){or(nf)}function nf(n){p=n;du(p.TS);yt=p.PING;pt(yt);ui();eu(p.P);ou();fu(p);au();uf();fi()}function tf(n){p=n;yt=p.PING;pt(yt);ff(p);vu()}function rf(n){for(var o,i,h,s=!0,e=0;e<n.length;e++)if(n[e].nbVotes>0){s=!1;break}if(s===!0){var r=[],u=[],f=[];for(i=0;i<n.length;i++)n[i].isIncumbent!=0||n[i].isIncumbentParty!=0?r.push(n[i]):n[i].partyName==="Autre"||t.removeDiacritics(n[i].partyName.toLocaleLowerCase("fr-CA"))==="independant"||t.removeDiacritics(n[i].partyName.toLocaleLowerCase("fr-CA"))==="independent"||n[i].partyName===""?u.push(n[i]):f.push(n[i]);for(u.sort(function(n,t){return n.name.localeCompare(t.name)}),f.sort(function(n,t){return n.name.localeCompare(t.name)}),i=0;i<f.length;i++)r.push(f[i]);for(i=0;i<u.length;i++)r.push(u[i]);return r}do for(o=!1,i=0;i<n.length;i++)n[i]&&n[i+1]&&n[i].nbVotes<n[i+1].nbVotes&&(h=n[i],n[i]=n[i+1],n[i+1]=h,o=!0);while(o);return n}function uf(){var t=l.getFavoritedRidings(),n,i,r;if(t.length>0)for(n=0;n<t.length;n++)i=t[n],r=d(i),r.favorited=!0}function dt(n){location.hash=n}function ff(n){for(var u,t,r=n.C,i=0;i<r.length;i++)if(riding=d(r[i].RI),riding&&riding.candidateList){for(u=0;u<n.R.length;u++)riding.id===n.R[u].I&&((n.R[u].PC!=riding.pollsClosed||n.R[u].PT!=riding.pollsTotal)&&(riding.forceRefresh=!0),riding.pollsClosed=n.R[u].PC,riding.pollsTotal=n.R[u].PT,riding.pollsClosed>0&&riding.pollsTotal>0&&riding.pollsClosed==riding.pollsTotal&&(riding.mustDeclareWinner=!0));for(t=0;t<riding.candidateList.length;t++)riding.candidateList[t].id===r[i].I&&(riding.candidateList[t].previousNbVotes=riding.candidateList[t].nbVotes,riding.candidateList[t].nbVotes=r[i].N,r[i].R==="e"&&riding.candidateList[t].isElected===!1?(riding.candidateList[t].isElected=!0,riding.candidateList[t].forceRefresh=!0):r[i].R==="e"&&riding.candidateList[t].isElected===!0?(riding.candidateList[t].isElected=!0,riding.candidateList[t].forceRefresh=!1):(r[i].R!="e"||r[i].R!="E")&&riding.candidateList[t].isElected==!0?(riding.candidateList[t].isElected=!1,riding.candidateList[t].forceRefresh=!0):(riding.candidateList[t].isElected=!1,riding.candidateList[t].forceRefresh=!1))}}var h="",p,c,a,o,tt,hr,li="",w={},s={},l,yt,b,gt=!1,ni=!0,g,ft,it,ti,v,y,cr='<div class="search-no-result"><p class="first-child">Aucune course ne correspond à votre recherche.<\/p><p>Si vous ne trouvez pas votre municipalité, essayez d\'y accéder en entrant votre code postal.Veuillez noter que plusieurs courses ne sont pas disponibles.<\/p><\/div>',lr='<div class="favoris-empty-state"><p class="icon-rc_icon_star">Cliquez sur l\'étoile d\'une course pour l\'ajouter à vos favoris<\/p><\/div>',et=null,ot=null,st={itemSelector:".elections-list-item",layoutMode:"masonry"},ai,ht,ii,ar=function(){var n=0;return function(t,i){clearTimeout(n);n=setTimeout(t,i)}}(),vi,ri,nt="",ct=null;this.init=function(t){l=this;w=t;s=n(w);yi();nt=n(document).find(".elections-dynamic-menu .elections-dynamic-menu-edition-title").data("title-region");ct!=null&&ct[nt]&&s.find("input.search-input").attr("placeholder",ct[nt].length>0?ct[nt]:"Gaspé ou G4X 2A5");li=s.data("json-url");v=new u(s.data("refresh-start-time"));y=new u(s.data("refresh-end-time"));document.location.href.indexOf("313131313131")>-1&&l.loadTabToMonitor();n(document).on("keydown click","input.search-input, ul.search-results",l.onKeyDownOrClickSearchInputOrResult);n(document).on("mouseup",l.onMouseUp);n(document).on("keydown","ul.search-results > li",l.onKeydownArrowsOrTabOnSearchResults);n(document).on("focus","input.search-input",l.onFocusSearchInput);n(document).on("navigation:openClose:open navigation:openClose:close",l.handlerHamburgerClick);n(document).on("visibilitychange",l.onVisibilityChange);n(window).on("hashchange",l.onWindowHashChange);ai=f.subscribePushEventEnded(vr);gu();ko.cleanNode(w);ko.applyBindings(l,w)};this.onVisibilityChange=function(){it=document.visibilityState==="visible"?!0:!1;it?(b=!0,ti===0&&pt(ti)):b=!1};this.onKeyDownOrClickSearchInputOrResult=function(t){var r,i,u,f;if(t.type==="keydown"&&t.keyCode===13&&(r=l.searchActiveSearchItem(null,t),r))return!0;i=s.find("input.search-input");t.type==="keydown"&&n(t.target).parents("ul.search-results").length>0?t.keyCode!==9&&t.keyCode!==38&&t.keyCode!==40&&t.keyCode!==16&&(s.find("ul.search-results").css("display","flex"),u=jQuery.Event("keydown",{which:t.keyCode,keycode:t.keyCode}),f=i.value,i.focus(),i.trigger(u)):t.type==="keydown"&&t.keyCode!==9&&t.keyCode!==16&&ar(function(){wr();s.find("input.search-input").val().length===0&&s.find("ul.search-results").remove()},350)};this.onMouseUp=function(n){var t=s.find("form.search-form");t.is(n.target)||t.has(n.target).length!==0||t.find("ul.search-results").hide()};this.onKeydownArrowsOrTabOnSearchResults=function(t){var f=n(t.target),r,u,i;t.keyCode!==9||t.shiftKey?(t.keyCode===38||t.keyCode===40)&&(t.preventDefault(),r=f.parent(),t.keyCode===38?r.prev().length!==0&&(i=r.prev().find("a"),i.length===0&&(i=r.prev().prev().find("a")),i.focus()):t.keyCode===40&&(u=r.next(),u.length===0||u.hasClass("push-enter")?s.find("ul.search-results").hide():(i=u.find("a"),i.length===0&&(i=u.next().find("a")),i.focus()))):f.parent().next().hasClass("push-enter")&&s.find("ul.search-results").hide()};this.onFocusSearchInput=function(){s.find("ul.search-results").css("display","flex")};this.handlerHamburgerClick=function(){setTimeout(function(){et&&s.find(".elections-list").length>0&&(et=new r(".elections-list",st),ot&&s.find(".elections-list-regionalized").length>0&&(ot=new r(".elections-list-regionalized",st)))},425)};this.onWindowHashChange=function(){fi()};this.searchActiveSearchItem=function(t,i){if(i.target.href&&i.target.href.length>0)return n(i.target).click(),!0;if(n(i.target).is("button.cbcrc-icon-search")){var r=s.find("ul.search-results li a").first();if(r.length>0)return r.click(),!0}return!1};this.favoriteRiding=function(n){sr(ht,String(n),ii,!0)};this.getFavoritedRidings=function(){var n=vt(ht),t;return n.length>0?(t=n,t.split("&").map(Number)):[]};this.getNumberOfFavoritedRidings=function(){var n=vt(ht);return n.length>0?n.split("&").length:0};this.favoriteOrUnfavoriteRiding=function(t,i,u){var f=n(i.target);this.ridingIsFavorited(u)?(this.unfavoriteRiding(u),f.removeClass("favorited"),f.attr("title","Ajouter à mes favoris"),f.attr("aria-label","Ajouter à mes favoris"),f.find("span.hidden-tag").html("Ajouter à mes favoris"),location.hash&&location.hash.indexOf("mes-favoris")>-1&&s.find(".elections-list-container").find("[data-riding-id='"+u+"']").parent().fadeTo(600,0,function(){s.find(".elections-list-container").find("[data-riding-id='"+u+"']").parent().remove();var n=s.find(".elections-list-items");n.length===0?oi():et=new r(".elections-list",st)})):(this.favoriteRiding(u),f.addClass("favorited"),f.attr("title","Retirer de mes favoris"),f.attr("aria-label","Retirer de mes favoris"),f.find("span.hidden-tag").html("Retirer de mes favoris"))};this.ridingIsFavorited=function(n){return this.getFavoritedRidings().indexOf(n)!=-1};this.loadTabToMonitor=function(){dt("a-surveiller")};this.loadTabEmptyExplorer=function(){dt("explorer")};this.loadTabExplore=function(n,t){dt("recherche=["+n+(t?",true":"")+"]");fi()};this.loadTabMyRidings=function(){dt("mes-favoris")};this.unfavoriteRiding=function(n){sr(ht,String(n),ii,!1)}};return new o});define("externals/components/ElectionsStaticContent/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/ElectionsTeaser/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/FeedNewsContent/main",["jquery"],function(n){function t(){return!1}return{init:function(i){if(t()){var u=n(i).find("a").attr("href"),r=u.replace(".shtml",".xml");n.ajax({type:"GET",url:"/api/FeedNewsStoryContent/image/caption/"+btoa(r),success:function(t){if(window.location.hostname.indexOf("lcl-bunker")>-1||window.location.hostname.indexOf("regions-bunker")>-1){var r=n(i).find("figure figcaption").html();n(i).find("figure figcaption").html("GHT1T  : "+r+"<br>SCOOP: "+t)}else n(i).find("figure figcaption").html(t)},error:function(n){haserror=!0;console.log(n.status+" -::- "+r)}})}}}});define("externals/components/FeedNewsContentEvent/main",["jquery"],function(n){function t(){var t=!1,i=n("meta[name='rc.region']").attr("content");return i!="null"&&i!="montreal"&&(t=!0),t}return{init:function(i){if(t())try{var u=n(i).find("header h3 a").attr("href"),r=u.replace(".shtml",".xml");n.ajax({type:"GET",url:"/api/FeedNewsStoryContent/image/caption/"+btoa(r),success:function(t){if(window.location.hostname.indexOf("lcl-bunker")>-1||window.location.hostname.indexOf("regions-bunker")>-1){var r=n(i).find("figure figcaption").html();n(i).find("figure figcaption").html("GHT1T  : "+r+"<br>SCOOP: "+t)}else n(i).find("figure figcaption").html(t)},error:function(n){haserror=!0;console.log(n.status+" -::- "+r)}})}catch(f){}}}});define("externals/components/FeedNewsContentV2/main",["jquery"],function(n){function t(){return!1}return{init:function(i){if(t()){var u=n(i).find("a").attr("href"),r=u.replace(".shtml",".xml");n.ajax({type:"GET",url:"/api/FeedNewsStoryContent/image/caption/"+btoa(r),success:function(t){if(window.location.hostname.indexOf("lcl-bunker")>-1||window.location.hostname.indexOf("regions-bunker")>-1){var r=n(i).find("figure figcaption").html();n(i).find("figure figcaption").html("GHT1T  : "+r+"<br>SCOOP: "+t)}else n(i).find("figure figcaption").html(t)},error:function(n){haserror=!0;console.log(n.status+" -::- "+r)}})}}}});define("externals/components/FeedPublishedDatetime/main",["jquery","moment"],function(n,t){return function(){var i=this,r={};i.datetime=null;this.init=function(u){r=u;i.datetime=t.utc(n(r).attr("datetime"),"YYYY-MM-DD[T]HH:mm[z]");i.datetime.local();ko.applyBindings(i,r)};this.date=function(){return i.datetime.format("dddd DD MMMM YYYY")};this.hours=function(){return i.datetime.format("HH [h] mm")};this.spacesor=" | ";this.isVisible=!0}});define("externals/components/FeedPublishedDatetimeV2/main",["jquery","moment"],function(n,t){return function(){var i=this,r={},u;i.datetime=null;this.init=function(f){r=f;i.datetime=t.utc(n(r).attr("datetime"),"YYYY-MM-DD[T]HH:mm[z]");i.datetime.local();u=i.datetime.format("dddd DD MMMM YYYY");date=u.split(/\b\s+(?!$)/);ko.applyBindings(i,r)};this.day=function(){return day=date[1],day.charAt(0)==="0"&&(day=day.substring(1,day.length)),day};this.month=function(){return month=date[2]};this.year=function(){return year=date[3]};this.hours=function(){var n=i.datetime.format("HH [h] mm");return n.charAt(0)==="0"&&(n=n.substring(1,n.length)),n};this.isVisible=!0}});define("externals/components/FeedRadioProgrammeCardContent/main",["jquery","externals/components/MediaStateService/main"],function(n,t){return function(){var i=this;this.init=function(n){ko.applyBindings(i,n)};this.clickAudio=function(i,r){var u=r.target;console.log();var f=n(u).data("audiofil-mediaid"),e=n(u).data("audiofil-seek"),o=n(u).data("audiofil-date"),s=n(u).data("audiofil-url"),h=n(u).data("audiofil-idemission"),c=f.replace(/^\D+/g,"");t.play({IsAudioFil:!0,MediaId:c,MediaDate:o,SeekTime:e,Url:s,IdEmission:h})}}});define("externals/components/FeedRadioProgrammeCardContentEvent/main",["jquery","externals/components/MediaStateService/main"],function(n,t){return function(){var i=this;this.init=function(n){ko.applyBindings(i,n)};this.clickAudio=function(i,r){var u=r.target;console.log();var f=n(u).data("audiofil-mediaid"),e=n(u).data("audiofil-seek"),o=n(u).data("audiofil-date"),s=n(u).data("audiofil-url"),h=n(u).data("audiofil-idemission"),c=f.replace(/^\D+/g,"");t.play({IsAudioFil:!0,MediaId:c,MediaDate:o,SeekTime:e,Url:s,IdEmission:h})}}});define("externals/components/FeedTopicContent/main",["jquery","services/newsWithMediaService"],function(n,t){return{init:function(n){(new t).init(n)}}});define("externals/components/FeedTopicContentV2/main",["jquery","services/newsWithMediaService"],function(n,t){return{init:function(n){(new t).init(n)}}});define("externals/components/FeedTweetContent/main",["jquery","services/commonDataService","services/timezoneDatetimeService"],function(n,t,i){return function(){function r(i,r){var u=n('meta[name="WT.clic"]').attr("content"),f=r.find("iframe"),e=f.contents().find("span.p-nickname > b").text();t.webTrendsStatsToClick("clic_action","bloc-centre-twitter","clic_contenu","@"+e+" - "+i,"WT.clic",u)}function f(t){var r=t.find("iframe"),u;r.css({width:"100%"});u=r.contents().find("div.EmbeddedTweet");u.length>0&&u.removeClass("EmbeddedTweet").css({overflow:"hidden",cursor:"pointer","background-color":"#fff",border:"1px solid #e1e8ed","border-radius":"4px"});setTimeout(function(){var n=r.contents().find("html").height();r.height(n)},1e3);r.contents().find("body > div").length>0&&n(t).find("header").show();r.contents().find("body").find(".standalone-tweet .subject .e-entry-title").css("font-family","arial").css("font-size","15px").css("line-height","19px");try{var e=r.contents().find("div.dateline a time"),f=e.attr("datetime"),o=e.html();f=i.datetimeByRegionForTweets(f,o);r.contents().find("div.dateline a time").html(f)}catch(s){}}function e(n,t,i){var u=0,r=window.setInterval(function(){n();++u===i&&window.clearInterval(r)},t);return r}var u;this.init=function(t){if(u=t,navigator.userAgent!="snapshotagent"){typeof twttr!="undefined"||window.loadedtwttr||(window.loadedtwttr=!0,window.twttr=function(n,t,i){var u,r,f=n.getElementsByTagName(t)[0];if(!n.getElementById(i))return r=n.createElement(t),r.id=i,r.src="//platform.twitter.com/widgets.js",f.parentNode.insertBefore(r,f),window.twttr||(u={_e:[],ready:function(n){u._e.push(n)}})}(document,"script","twitter-wjs"),window.twttr.ready(function(t){t.events.bind("rendered",function(t){f(n(t.target).parent())});t.events.bind("tweet",function(t){r("reply",n(t.target).parent())});t.events.bind("follow",function(t){r("follow",n(t.target).parent())});t.events.bind("retweet",function(t){r("retweet",n(t.target).parent())});t.events.bind("favorite",function(t){r("favorite",n(t.target).parent())})}));var i=e(function(){window.twttr&&window.twttr.widgets&&(clearInterval(i),window.twttr.widgets.load(t))},200,20)}}}});define("externals/components/FlowBetaAfterLeavingMsg/main",["jquery","externals/components/FlowBetaJeLessaie/main","services/cookieService"],function(n,t,i){return function(){var u=this,r={},f="RC_BETA",e=f+"_HIDE_MESSAGE";this.init=function(t){r=t;var s=i.getValue(e),o=i.getValue(f);s===!1&&(o==="1"||o==="0")&&(n(r).show(),ko.applyBindings(u,r))};u.beta=function(){var i=n(r).data("domain-redirect");t.goToBeta(i,"/")};u.showNoMore=function(){i.setValue(e,"1");n(r).hide()}}});define("externals/components/FlowBetaEnSavoirPlusPage/main",["jquery","externals/components/FlowBetaThanksFooter/main"],function(n,t){return function(){var n=this,i={};this.init=function(t){i=t;ko.applyBindings(n,i)};n.leave=function(){t.leave()}}});define("externals/components/FlowBetaJeLessaie/main",["jquery","services/cookieService","services/httpService"],function(n,t,i){var r=function(){function e(){return n(u).data("domain-redirect")}function o(){return n(u).data("path-redirect")}var r=this,u={},f="RC_BETA";this.init=function(e){u=e;var o=t.getValue(f);if(o===!1)n(u).show(),ko.applyBindings(r,u);else if(o=="1"&&i.getValue("fromBeta",location.search)!="true")return r.beta()};r.goToBeta=function(n,i){if(t.setValue(f,"1"),i!="")window.location=location.protocol+"//"+n+i;else{var r=location.pathname;(r==""||r.charAt(0)!="/")&&(r="/"+r);window.location=location.protocol+"//"+n+r+location.search}};r.beta=function(){var n=o(),t=e();return r.goToBeta(t,n),!1};r.knowMore=function(n,t){var i=t.currentTarget.href;i=i.search("/?/")?i+"?":i+"&";window.location=i+"previousUrl="+encodeURI(window.location)}};return new r});define("externals/components/FlowBetaThanksFooter/main",["jquery","services/cookieService"],function(n,t){var i=function(){var n=this,i={};this.init=function(t){i=t;ko.applyBindings(n,i)};n.leave=function(){return t.setValue("RC_BETA","0"),window.location.reload(!0),!1}};return new i});define("externals/components/GridderBillBoard/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/GridderNativePub/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/ArticleLineUp/main",["jquery","services/commonDataService","pluggins/src.socialbar","services/anchorsModifierService"],function(n,t,i,r){return function(){function e(t){n().lazyload&&n(t).find("figure img").lazyload({effect:"fadeIn"});u=t;ko.applyBindings(f,t)}function o(e,o){console.log(o);var h=o.currentTarget,s=n(h),c=s.data("lineup"),l=s.data("nextpageindex"),a=s.data("timezoneid"),v=n(u).find(".more-item");t.webTrendsStatsToClick("clic_action","plus-de-contenu","clic_contenu","","WT.clic","clics_radioPC");n.ajax(window.appRouteBunker+"/component/TemplatedLineUp?id="+c+"&pageIndex="+l+"&timezoneId="+a).done(function(e){v.remove();var s=n("<div/>").html(e).html(),o=n(s).appendTo(n(u));n(o).find("img").lazyload({effect:"fadeIn"});r.addTargetBlankExtLink(o);i.initSocialBar(o);t.omnitureSimulatePageLoad();ko.cleanNode(u);ko.applyBindings(f,u);f.init(u)})}var u,f=this;this.init=e;this.next=o}});define("externals/components/CardLineup/main",["jquery","externals/components/ViewabilityService/main","externals/components/ADTTrackAction/main","services/componentsService","externals/components/ViewportService/main"],function(n,t,i,r,u){return function(){function s(){u.getViewport().isExtraBig||u.getViewport().isExtraExtraBig||i.find(".content-wrapper").length!==5||o||(e=!0,r.show())}var t=this;t.hasMoreItems=ko.observable();var f={},i,e=!1,o=!1,r;this.init=function(e){var o,h;f=e;i=n(f);t.hideText=ko.observable("R\351duire");t.showText=ko.observable("Plus de nouvelles");t.hideTextTitle=ko.observable("R\351duire le contenu");t.showTextTitle=ko.observable("Afficher plus de contenu");t.visibleElement=ko.observable(!0);t.moreContentProcess=ko.observable(!1);r=i.find(".afficher-plus");o=i.find("div[data-have-more-data]");o.length>0&&(h=o.first().attr("data-have-more-data"),h==="True"?t.hasMoreItems(!0):s(),t.onViewportChanged=function(){h==="False"&&(u.getViewport().isExtraBig||u.getViewport().isExtraExtraBig?r.hide():s())},t.onViewportChanged(),u.registerViewportChanged(t.onViewportChanged));t.buttonText=ko.computed(function(){return t.visibleElement()?t.showText():t.hideText()},t);t.buttonTextTitle=ko.computed(function(){return t.visibleElement()?t.showTextTitle():t.hideTextTitle()},t);t.openClose=function(){i.find(".tray-panel-colapsible").toggleClass("display-flex");i.find("button").toggleClass("accordion-opened");t.visibleElement(!t.visibleElement())};ko.applyBindings(t,f)};this.setFocus=function(){var t=i.find('[data-have-more-data="False"] + div').last(),r;t&&t.length>0?(r=n(t).find("[href]"),r&&r.length>0?n(r).focus():(t=i.find('[data-have-more-data="True"] + div').last(),t&&t.length>0&&n(t).find("[href]").focus())):(t=i.find('[data-have-more-data="True"] + div').last(),t&&t.length>0&&n(t).find("[href]").focus())};this.clickMoreItems=function(){var h,u,c,s,f;e?(o=!0,i.find(".card-lineup-list").children().css("display","flex"),r.hide()):t.moreContentProcess()===!1&&(t.moreContentProcess(!0),h=i,u=h.data("param"),u.pageNumber++,c=window.appRouteBunker+"/component/cardlineup/Older",u.latestChildIndex=0,s=h.children(),s.length>0&&(f=s.first().find("div.content-wrapper"),f.length>0?u.latestChildIndex=f.length-1:(f=s.first().find("li.content-wrapper"),f.length>0&&(u.latestChildIndex=f.length-1))),n.ajax({url:c,data:u}).done(function(u){i.find(".card-lineup-list").append(u);t.setFocus();var f=n(u).data("have-more-data");f==="False"&&(t.hasMoreItems(!1),r.hide());t.moreContentProcess(!1)}).error(function(n,t,i){console.log(i)}),i.find(".card-lineup-list").children().css("display","flex"))}}});define("externals/components/CardLineupRegionalized/main",["jquery"],function(n){return function(){var t=this,i={};this.init=function(r){i=r;sectionName=n(i).data("section-name");t.closedText=ko.observable("R\351duire");t.openedText=ko.observable("Afficher");t.closedTextTitle=ko.observable("R\351duire le contenu "+sectionName);t.openedTextTitle=ko.observable("Afficher le contenu "+sectionName);t.visibleElement=ko.observable(!0);t.buttonText=ko.computed(function(){return t.visibleElement()?t.closedText():t.openedText()},t);t.buttonTextTitle=ko.computed(function(){return t.visibleElement()?t.closedTextTitle():t.openedTextTitle()},t);t.showOrHide=function(){t.visibleElement(!t.visibleElement())};ko.applyBindings(t,i)}}});define("externals/components/DocumentBreak/main",["jquery","services/viewportService","services/modernizr-custom"],function(n,t){return function(){var i=this,r={};i.defaultPicture=ko.observable("");var u=function(){var f=t.getViewport().width,u="",e=n(r).find(".break-content").find("source");e.each(function(t,i){var r=n(i).attr("media").match(/\d+/)[0];f>=r&&u===""&&(u=n(i).attr("srcset"))});i.defaultPicture(u)},f=function(){u()},e=_.debounce(f,500);this.init=function(t){if(r=t,ko.applyBindings(i,r),!Modernizr.picture){u();n(window).on("resize",e)}}}});define("externals/components/DocumentBreakFuture/main",["jquery","services/viewportService","services/modernizr-custom"],function(n,t){return function(){var i=this,r={};i.defaultPicture=ko.observable("");i.id;var u=function(){var f=t.getViewport().width,u="",e=n(r).find(".break-content").find("source");e.each(function(t,i){var r=n(i).attr("media").match(/\d+/)[0];f>=r&&u===""&&(u=n(i).attr("srcset"))});i.defaultPicture(u)},f=function(){u()},e=_.debounce(f,500),o=function(){n(r).find("a").each(function(t,r){var u=n(r).attr("href");u=u.indexOf("?")!=-1?u+"&cid="+i.id:u+"?cid="+i.id;n(r).attr("href",u)})};this.init=function(t){if(r=t,ko.applyBindings(i,r),i.id=n(r).data("metrie"),o(),!Modernizr.picture){u();n(window).on("resize",e)}}}});define("externals/components/DossierLineUp/main",["jquery","externals/components/DossierLineUp/moreDossierSvc"],function(n,t){return function(){this.init=function(i){var r=parseInt(n(i).data("item-count"));(new t).init(i,{classContainerSelector:".dossier-container",itemSelector:"article",mediaSelector:"img",itemsCount:parseInt(n(i).data("item-count")),lineupId:parseInt(n(i).data("lineupid")),componentUrl:window.appRouteBunker+"/Component/DossierLineUp/Content/",itemByRow:4,itemByCol:1,summaryMaxChar:parseInt(n(i).data("summary-maxchar"))});r==0&&n(i).parent().hide()}}});define("externals/components/DossierLineUp/moreDossierSvc",["jquery","services/anchorsModifierService","services/viewportService"],function(n,t,i){return function(){function v(){var h=r.itemsByRow*r.itemsByCol,c=r.isItemInserted?1:0,e=(u-1)*r.itemsByRow*r.itemsByCol+c,t,s;r.itemsByCol>1&&f-e<h?(s=f-e,t=n(r.container).outerHeight()+Math.ceil(s/r.itemsByRow)*r.articleHeight):t=n(r.container).outerHeight()+r.originHeight;n(r.container).animate({height:t},400,function(){var n=i.getViewport();(n.isTabletLgDevice||n.isDesktop)&&o()});y()}function p(){var t=i.getViewport(),u,f;(t.isMobileDevice||t.isTabletMdDevice)&&(u=n(r.container).scrollLeft(),f=n(e).find(r.itemSelector+":first").outerWidth(),u/f/c()>.3&&s.moreItem())}function c(){return n(e).find(r.itemSelector).length}function y(){var n=r.isItemInserted?1:0;f<=u*r.itemsByRow*r.itemsByCol+n&&s.moreVisible(!1)}function w(t){n(r.container).removeAttr("style");n(r.container).find(".container-news-dossier").removeAttr("style");n(r.container).find(r.itemSelector).removeAttr("style");(t.isMobileDevice||t.isTabletMdDevice)&&(u=1,s.moreVisible(!0));o()}function o(){var t=n(r.container).find(r.itemSelector).outerHeight(),i=n(r.container).find(".container-news-dossier").height();n(r.itemSelector,n(r.container)).each(function(){var i=n(this);i.outerHeight()>t&&(t=i.outerHeight())});n(".container-news-dossier",n(r.container)).each(function(){var t=n(this);t.height()>i&&(i=t.height())});r.articleHeight=t;n(r.container).height(u*t);r.originHeight=t;n(r.container).find(r.itemSelector).height(t);n(r.container).find(".container-news-dossier").height(i)}var s=this,e={},l=1,u=1,f=0,h=!1,a=0,r={};this.init=function(t,u){e=t;ko.applyBindings(this,e);f=u.itemsCount;a=u.lineupId;f>0&&(r={originHeight:n(t).find(u.classContainerSelector).outerHeight(),originWidth:n(t).find(u.classContainerSelector).outerWidth(),articleHeight:n(t).find(u.itemSelector+":first").outerHeight(),articleWidth:n(t).find(u.itemSelector+":first").outerWidth(),imageWidth:n(t).find(u.mediaSelector+":first").outerWidth(),imageHeight:n(t).find(u.mediaSelector+":first").outerHeight(),summaryMaxChar:u.summaryMaxChar,container:n(t).find(u.classContainerSelector),itemSelector:u.itemSelector,mediaSelector:u.mediaSelector,componentUrl:u.componentUrl,newsTagComponentName:u.newsTagComponentName,isItemInserted:u.hasPartenaire?u.hasPartenaire=="True"?!0:!1:!1},o(),u.hasPartenaire=="True"&&n(r.container).height(n(r.container).height()+r.articleHeight),r.itemsByRow=u.itemByRow,r.itemsByCol=u.itemByCol);y();i.registerViewportChanged(w);n(r.container).scroll(_.debounce(p,200))};this.moreItem=function(){var e,s,y;h||(e=i.getViewport(),u++,s=r.isItemInserted?1:0,y=e.isMobileDevice||e.isTabletMdDevice?f:u*r.itemsByRow*r.itemsByCol+s,c()<y&&c()<f?(h=!0,n.ajax({url:r.componentUrl,data:{lineUpId:a,newsTagComponentName:r.newsTagComponentName,imageWidth:r.imageWidth,imageHeight:r.imageHeight,summaryMaxChar:r.summaryMaxChar,pageIndex:l+1}}).done(function(i){l++;t.addTargetBlankExtLink(i);n(r.container).append(i);e.isTabletLgDevice||e.isDesktop?v():(u=1,setTimeout(o,200))})):e.isTabletLgDevice||e.isDesktop?v():u=1,h=!1)};this.moreVisible=ko.observable(!0)}});define("externals/components/Feed/feeds",["jquery","underscore"],function(n,t){var i=function(){var n=this,r=[],i=[];n.subscribeAddEvent=function(n){var i=t.uniqueId("pushListener");return r.push({id:i,cb:n}),i};n.unsubscribeAddEvent=function(n){var i=t.findIndex(r,function(t){return t.id==n});i>-1&&r.splice(i,1)};n.add=function(n){i.push(n);t.each(r,function(t){t.cb(n)})};n.remove=function(n){var r=t.find(i,function(t){return t.id==n});r&&i.splice(i.indexOf(r),1)};n.get=function(n){return t.find(i,function(t){return t.id==n})}};return new i});define("externals/components/Feed/main",["jquery","underscore","services/componentsService","moment","externals/components/Feed/feeds","pluggins/src.socialbar"],function(n,t,i,r,u,f){var e=function(){function l(){return n(s).find("div[data-lineuptype=feed]")}function h(){return n(s).find("div[data-lineuptype=sticky]")}function a(){return n(s).find("div[data-lineuptype=externalsticky]")}function it(t){var r=l(),u=r.children("article"),i=[];return n.each(t,function(t,r){u.filter('article[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function wt(t){var r=h(),u=r.children("article:not([newitem])"),i=[];return n.each(t,function(t,r){u.filter('article[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function bt(t){var r=a(),u=r.find("[data-external-feed-item]:not([newitem])"),i=[];return n.each(t,function(t,r){u.filter('[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function d(){return l().children('article[data-newitem="true"]')}function rt(){return h().children('article[data-newitem="true"]')}function ut(){return a().find('[data-external-feed-item=true][data-newitem="true"]')}function g(){return h().children("article:not([data-newitem])")}function ft(){return a().find("[data-external-feed-item=true]:not([data-newitem])")}function et(){return l().children("article:not([data-newitem])")}function ot(){var n=parseInt(h().attr("data-nbnewstickyitem"));return t.isNumber(n)?n:0}function st(n){var t=h();t.attr("data-nbnewstickyitem",n)}function ht(){var n=parseInt(a().attr("data-nbnewexternalstickyitem"));return t.isNumber(n)?n:0}function ct(n){var t=a();t.attr("data-nbnewexternalstickyitem",n)}function nt(){var n=d().length+ot()+ht();o.feedLineupChangesCount(n)}function kt(){return n.ajax({url:window.appRouteBunker+"/component/Feed/Items",data:e})}function dt(){return n.ajax({url:window.appRouteBunker+"/component/Feed/Newer",data:e})}function lt(){var t=l(),i=t.children("article:first"),r=e;r.PublishedAt=i.data("publisheddate").replace(/[A-Za-z$-/:]/g,"");b=dt().done(function(i){var r=it(n(i));r.hide();r.attr("data-newitem","true");t.prepend(r);nt()}).complete(function(){y=setTimeout(lt,e.refreshFrequency);b=null})}function at(){return n.ajax({url:window.appHost+"/component/Feed/Sticky",data:e})}function vt(){var t=h();c=at().done(function(i){t.children('[data-newitem="true"]').remove();var r=n(i),u=wt(n(i)).filter("article");st(0);u.length>0&&(r.hide(),r.attr("data-newitem","true"),t.prepend(r),st(u.length));nt()}).complete(function(){p=setTimeout(vt,e.refreshFrequency);c=null})}function gt(){return n.ajax({url:k[0].url,data:k[0].data})}function yt(){var t=a();k.length>0&&(v=gt(),n.when(v).done(function(i){t.children('[data-newitem="true"]').remove();var r=n(i),u=bt(r);ct(0);u.length>0&&(r.hide(),r.attr("data-newitem","true"),t.prepend(r),ct(u.length));nt()}).always(function(){w=setTimeout(yt,e.refreshFrequency);v=null}))}function ni(n){var t='[data-id="'+n+'"]';et().filter(t).remove();d().filter(t).remove()}function ti(){b!=null&&b.abort();c!=null&&c.abort();v!=null&&v.abort()}function ii(){y=setTimeout(lt,e.refreshFrequency);p=setTimeout(vt,e.refreshFrequency);w=setTimeout(yt,e.refreshFrequency)}function ri(){y!=null&&clearTimeout(y);p!=null&&clearTimeout(p);w!=null&&clearTimeout(w)}function pt(t){n.each(t,function(t,r){i.initialize(n(r));i.initializeAll(r);f.initSocialBar(r)})}var o=this,s,e={},y,p,w,tt,b,c,v,k=[];this.id=null;this.init=function(t){s=t;e=n(t).data("feed");this.id=n(t).data("id");ii();u.add(o);ko.applyBindings(o,s);this.showMoreContent(e.hasMoreItems);n(s).find("#feedCount-hidder > .feedCount").unwrap();ko.utils.domNodeDisposal.addDisposeCallback(t,function(){s=null;u.remove(o.id)})};this.showMoreContent=ko.observable(!0);this.feedLineupChangesCount=ko.observable(0);this.clickMoreItems=function(){o.moreContentProcess(!0);o.updateFeedMoreItems()};this.clickNewItems=function(){var u=d(),f,t,e,s,r,h;u.removeAttr("data-newitem");u.show();pt(u);f=ot();f>0&&(t=rt(),e=g(),e.remove(),t.removeAttr("data-newitem"),t.show(),i.initializeAll(t),t=g(),t.each(function(t,i){ni(n(i).data("id"))}));s=ht();s>0&&(r=ut(),h=ft(),h.remove(),r.removeAttr("data-newitem"),r.show(),i.initializeAll(r));o.feedLineupChangesCount(0)};this.moreContentProcess=ko.observable(!1);this.updateFeedMoreItems=function(){var i=l(),t=i.children("article").map(function(){return r(n(this).data("publisheddate"),"YYYY-MM-DDTHH:mm:ss")}).get(),u,f;t=t.sort(function(n,t){return n.toDate()-t.toDate()});t.length>0&&(u=t[0],f=e,f.PublishedAt=u.format("YYYYMMDDHHmmss"),n.ajax({url:window.appHost+"/component/Feed/Older",data:e}).done(function(t){var r=n(t),f=r.data("hasmoreitems"),u=it(r.children());i.append(u);pt(u);o.moreContentProcess(!1);o.showMoreContent(f)}))};this.changeLineup=function(t){return ti(),ri(),d().remove(),rt().remove(),ut().remove(),ft().remove(),et().remove(),g().remove(),e.lineupId=t,e.lineupStickyId=0,tt=kt(),c=at(),o.showMoreContent(!1),n.when(tt,c).then(function(t,r){var s=h(),f=n(r[0]),e,u;s.append(f);e=l();u=n(t[0]);e.append(u);i.initializeAll(f);i.initializeAll(u);o.showMoreContent(!0)})};this.registerExternalStickyItemSource=function(n,t){k.push({url:n,data:t})}};return new e});define("externals/components/Feed/_main",["jquery","services/anchorsModifierService","externals/components/MediaStateService/main","pluggins/src.socialbar","underscore","externals/components/UpdateableLineup/main","externals/components/ItemLineup/main"],function(n,t,i,r,u,f,e){function k(t){var i=n("a[name='"+t.name+"']");return n("html,body").animate({scrollTop:i.offset().top-40},500,t.complete)}var o=0,s,h,c,l,a,v,y,p=function(){this.init=function(t){var i,r,u;s=n(t).data("main-lineupid");h=n(t).data("tag-component-name");l=n(t).data("mindate");c=n(t).data("maxdate");a=n(t).data("image-dimension");v=n(t).data("console-dimension");y=n(t).data("avatar-mapping-source");i=n(t).find(".updateablelineup")[0];f.init(i);r=n(t).find(".itemlineup")[0];e.init(r);u=n(t).data("refresh");setInterval(function(){w(t)},u);n(t).find(".feedCount").click(function(){return k({name:"continuous-feed-list",complete:b(t)}),!1});n(t).find(".btnViewOlder").click(function(){d(t)})}},w=function(t){n.ajax({url:window.appRouteBunker+"/Component/Feed/New",contentType:"application/json",dataType:"html",data:{lineupId:s,maxDate:c,tagComponentName:h,imageDimensionInJson:JSON.stringify(a),consoleDimensionInJson:JSON.stringify(v),avatarMappingSource:y},success:function(i){var r,e,u,s;n.trim(i)!=""&&(r=n(i).html(),c=n(r).filter("article:first").data("publisheddate"),e=n(r)||n(),u=f.stack(e),u>0&&(o+=u,s=o>1?" nouvelles entrées":" nouvelle entrée",n(t).find(".feedCount a").text(o+s),n(t).find(".feedCount").show()))},error:function(n,t,i){console.log("error!");console.log(n);console.log("Desc: "+t+"\nErr:"+i)}})},b=function(t){f.insertStacked();o=0;n(t).find(".feedCount").hide()},d=function(t){n("#plus").hide();n("#loader").show();n.ajax({url:window.appRouteBunker+"/Component/Feed/More",dataType:"html",data:{lineupId:s,minDate:l,tagComponentName:h,imageDimensionInJson:JSON.stringify(a),consoleDimensionInJson:JSON.stringify(v),avatarMappingSource:y},success:function(i){if(n.trim(i)!=""){var r=n(i).html();l=n(r).filter("article:last").data("publisheddate");f.add(r);n(window).trigger("sticky-change")}else n(t).find(".btnViewOlder").html("Aucune nouvelle antérieure.");n("#loader").hide();n("#plus").show()},error:function(n,t,i){console.log("error!");console.log(n);console.log("Desc: "+t+"\nErr:"+i)}})};return new p});define("externals/components/FeedCustomTag/main",["jquery"],function(n){var t;return{init:function(i){t=i;var r=n(t).data("page-number");r!=""&&r>1&&n("html, body").animate({scrollTop:parseInt(n("#FeedCustomTagId").offset().top)},1e3)}}});define("externals/components/FeedResumed/main",["jquery","services/scrollableNews","services/viewportService","externals/components/AdGoogleTagInclude/main","externals/components/ADTTrackAction/main"],function(n,t,i,r,u){return function(){var f=this,e={};f.currentViewport=null;f.scrollableViewport=null;f.scrollableNews=null;this.init=function(i){e=i;f.scrollableViewport=n(".scrollable-viewport",e);f.scrollableNews=new t;f.scrollableNews.init(i,!0,!0);n(window).on("SectionHeaderWithMultiplePlaceholder:setHeightLastPlaceholder:slotrenderended",f.resizeFromPH);ko.utils.domNodeDisposal.addDisposeCallback(e,function(){r.removeEventListener("slotrenderended",f.resizeScrollable);n(window).off("SectionHeaderWithMultiplePlaceholder:setHeightLastPlaceholder:slotrenderended",f.resizeFromPH)});r.addEventListener("slotrenderended",f.resizeScrollable);n(e).find("a[data-track-action-enable='true']").click(function(t){var i=n(t.currentTarget),r=i.data("track-action-blockname"),o=i.data("track-action-region"),f=i.data("track-action-theme"),e=i.data("track-action-position"),s=r+"_position"+e,h="click,visitWithClick,visitorWithClick:UTreg"+u.participantId()+"icCk",c={elementPosition:e,contenuRegion:o,contenuTheme:f,contenuUrl:i.attr("href"),contenuSlug:i.attr("href").match(/[^/]*(?=(\/)?$)/)[0]},l={elementAction:r+"-click",contenuTheme:f};u.trackAction(s,h,c,l,{infoEnContinuClickPerVisitor:"+1"})})};f.viewportChanged=function(){};f.resizeFromPH=function(){i.getViewport().width>=1e3?n(e).height(n(e).parent().height()-n(e).parent().find(".srcPubTitle").outerHeight()):n(e).height("auto");f.resizeScrollable()};f.resizeScrollable=function(){f.scrollableViewport.height(f.scrollableViewport.parent().outerHeight()-n(e).find(".resumed-feed-title").outerHeight(!0)-20);f.scrollableNews.setBoutonState()}}});define("externals/components/FeedResumedV2/main",["jquery","services/scrollableNews","externals/components/AdGoogleTagInclude/main","externals/components/ADTTrackAction/main","moment"],function(n,t,i,r,u){return function(){function o(t){var r=n(e).find(".scrollable-viewport").position().top,i=0;return t.find("li").each(function(t,u){if(n(u).position().top>r)return i=t,!1}),i}function s(t,i){for(var f=n(e).find(".scrollable-viewport").height()-n(e).find(".scrollable-nav").height(),r=0,u;r<f;)if(u=t.find("li").eq(i).outerHeight(),r+u<f&&u!=null)r=r+u,i++;else return r;return 0}function h(){var t=0,i={};return n.each(n(".scrollable-viewport").find(n("div.resumed-feed-item-content:lt("+n(e).data("pagesize")+")")),function(r,u){var e=n(u).parents('ul[data-groupType="day"]').siblings("p"),f;e.length>0&&(f=e.get(0),i[f]||(t=t+e.outerHeight(!0),i[f]=f));t=t+n(u).outerHeight(!0)}),t}var f=this,e={};f.currentViewport=null;f.scrollableViewport=null;f.scrollableNews=null;this.init=function(o){function k(n){return'<li><p class="resumed-feed-day">'+n.format("dddd D MMMM")+"<\/p><\/li>"}var b,s,h,c,l,a,w;e=o;f.scrollableViewport=n(".scrollable-viewport",e);b=function(){return n(e).find(".scrollable-viewport").height()-40};f.scrollableNews=new t;f.scrollableNews.init(o,!0,!0,!0);n(window).on("SectionHeaderWithMultiplePlaceholder:setHeightLastPlaceholder:slotrenderended",f.resizeScrollable);if(ko.utils.domNodeDisposal.addDisposeCallback(e,function(){i.removeEventListener("slotrenderended",f.resizeScrollable);n(window).off("SectionHeaderWithMultiplePlaceholder:setHeightLastPlaceholder:slotrenderended",f.resizeFromPH)}),f.resizeScrollable(),i.addEventListener("slotrenderended",f.resizeScrollable),n(e).find("a[data-track-action-enable='true']").click(function(t){var i=n(t.currentTarget),u=i.data("track-action-blockname"),o=i.data("track-action-region"),f=i.data("track-action-theme"),e=i.data("track-action-position"),s=u+"_position"+e,h="click,visitWithClick,visitorWithClick:UTreg"+r.participantId()+"icCk",c={elementPosition:e,contenuRegion:o,contenuTheme:f,contenuUrl:i.attr("href"),contenuSlug:i.attr("href").match(/[^/]*(?=(\/)?$)/)[0]},l={elementAction:u+"-click",contenuTheme:f};r.trackAction(s,h,c,l,{infoEnContinuClickPerVisitor:"+1"})}),s=n("div.scrollable-viewport").find("li"),s.length>0)for(h=1;h<=s.length;h++){var v=n(s).eq(h),y=v.find(".FeedPublishedDatetime"),p=n(s).eq(h-1).find(".FeedPublishedDatetime");y.length>0&&p.length>0&&(c=y.attr("datetime"),l=p.attr("datetime"),c.length>0&&l.length>0&&(a=u(c),w=u(l),a.isBefore(w,"day")&&v.before(k(a))))}ko.applyBindings(this,e)};f.disableNavigationButton=ko.observable(!1);f.scrollDown=function(t){f.disableNavigationButton(!0);var i=n(e).find(".scrollable-viewport").find("ul"),r=o(i),u=s(i,r);f.scrollableNews.moreItem(t,u,f.disableNavigationButton)};f.scrollUp=function(t){f.disableNavigationButton(!0);var i=n(e).find(".scrollable-viewport").find("ul"),r=o(i),u=s(i,r);f.scrollableNews.lessItem(t,u,f.disableNavigationButton)};this.setButtonState=function(){f.scrollableNews.setBoutonState()};f.viewportChanged=function(){};f.resizeFromPH=function(){f.resizeScrollable()};f.resizeScrollable=function(){f.scrollableViewport.parent().height(h()+n(e).find(".resumed-feed-title").outerHeight(!0)+n(e).find(".scrollable-nav").outerHeight(!0));f.scrollableViewport.height(h()+parseInt(n(".scrollable-viewport").css("padding-top").replace("px","")));f.scrollableNews.setBoutonState()}}});define("externals/components/FeedTopicsLineUp/main",["jquery","underscore","externals/components/Feed/feeds"],function(n,t,i){return function(){function f(n){n.registerExternalStickyItemSource(window.appRouteBunker+"/component/FeedTopicsLineUp/List",{lineupId:r.lineupId,contentTemplate:r.contenttemplate,nbItemMax:r.nbItemMax})}var r=this,u={};r.lineupId=0;r.nbItemMax=0;r.contenttemplate="";this.init=function(e){u=e;r.lineupId=n(u).data("lineupid");r.nbItemMax=n(u).data("nbitemmax");r.contenttemplate=n(u).data("contenttemplate");r.feedId=n(u).data("feedid");var o=i.get(r.feedId);t.isUndefined(o)?i.subscribeAddEvent(f):f(o)}}});define("externals/components/FeedTopicsLineUpV2/main",["jquery","underscore","externals/components/Feed/feeds"],function(n,t,i){return function(){function f(n){n.registerExternalStickyItemSource(window.appRouteBunker+"/component/FeedTopicsLineUp/List",{lineupId:r.lineupId,contentTemplate:r.contenttemplate,nbItemMax:r.nbItemMax})}var r=this,u={};r.lineupId=0;r.nbItemMax=0;r.contenttemplate="";this.init=function(e){u=e;r.lineupId=n(u).data("lineupid");r.nbItemMax=n(u).data("nbitemmax");r.contenttemplate=n(u).data("contenttemplate");r.feedId=n(u).data("feedid");var o=i.get(r.feedId);t.isUndefined(o)?i.subscribeAddEvent(f):f(o)}}});define("externals/components/FeedV2/feeds",["jquery","underscore"],function(n,t){var i=function(){var n=this,r=[],i=[];n.subscribeAddEvent=function(n){var i=t.uniqueId("pushListener");return r.push({id:i,cb:n}),i};n.unsubscribeAddEvent=function(n){var i=t.findIndex(r,function(t){return t.id==n});i>-1&&r.splice(i,1)};n.add=function(n){i.push(n);t.each(r,function(t){t.cb(n)})};n.remove=function(n){var r=t.find(i,function(t){return t.id==n});r&&i.splice(i.indexOf(r),1)};n.get=function(n){return t.find(i,function(t){return t.id==n})}};return new i});define("externals/components/FeedV2/main",["jquery","underscore","services/componentsService","moment","externals/components/Feed/feeds","pluggins/src.socialbar"],function(n,t,r,u,f,e){var o=function(){function a(){return n(h).find("div[data-lineuptype=feed]")}function c(){return n(h).find("div[data-lineuptype=sticky]")}function v(){return n(h).find("div[data-lineuptype=externalsticky]")}function ut(t){var r=a(),u=r.children("article"),i=[];return n.each(t,function(t,r){u.filter('article[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function ni(t){var r=c(),u=r.children("article:not([newitem])"),i=[];return n.each(t,function(t,r){u.filter('article[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function ti(t){var r=v(),u=r.find("[data-external-feed-item]:not([newitem])"),i=[];return n.each(t,function(t,r){u.filter('[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function g(){return a().children('article[data-newitem="true"]')}function ft(){return c().children('article[data-newitem="true"]')}function et(){return v().find('[data-external-feed-item=true][data-newitem="true"]')}function tt(){return c().children("article:not([data-newitem])")}function ot(){return v().find("[data-external-feed-item=true]:not([data-newitem])")}function st(){return a().children("article:not([data-newitem])")}function ht(){var n=parseInt(c().attr("data-nbnewstickyitem"));return t.isNumber(n)&&!isNaN(n)?n:0}function ct(n){var t=c();t.attr("data-nbnewstickyitem",n)}function lt(){var n=parseInt(v().attr("data-nbnewexternalstickyitem"));return t.isNumber(n)&&!isNaN(n)?n:0}function at(n){var t=v();t.attr("data-nbnewexternalstickyitem",n)}function it(){var n=g().length+ht()+lt();s.feedLineupChangesCount(n)}function ii(){return n.ajax({url:window.appRouteBunker+"/component/FeedV2/Items",data:o})}function ri(){return n.ajax({url:window.appRouteBunker+"/component/FeedV2/Newer",data:o})}function vt(){var t=a(),i=t.children("article:first"),r;i.data("publisheddate")&&(r=o,r.PublishedAt=i.data("publisheddate").replace(/[A-Za-z$-/:]/g,""),k=ri().done(function(i){var r=ut(n(i));r.hide();r.attr("data-newitem","true");t.prepend(r);it()}).complete(function(){p=setTimeout(vt,o.refreshFrequency);k=null}))}function yt(){return n.ajax({url:window.appRouteBunker+"/component/FeedV2/Sticky",data:o})}function pt(){var t=c();l=yt().done(function(i){t.children('[data-newitem="true"]').remove();var r=n(i),u=ni(n(i)).filter("article");ct(0);u.length>0&&(r.hide(),r.attr("data-newitem","true"),t.prepend(r),ct(u.length));it()}).complete(function(){w=setTimeout(pt,o.refreshFrequency);l=null})}function ui(){return n.ajax({url:d[0].url,data:d[0].data})}function wt(){var t=v();d.length>0&&(y=ui(),n.when(y).done(function(i){t.children('[data-newitem="true"]').remove();var r=n(i),u=ti(r);at(0);u.length>0&&(r.hide(),r.attr("data-newitem","true"),t.prepend(r),at(u.length));it()}).always(function(){b=setTimeout(wt,o.refreshFrequency);y=null}))}function fi(n){var t='[data-id="'+n+'"]';st().filter(t).remove();g().filter(t).remove()}function bt(){k!=null&&k.abort();l!=null&&l.abort();y!=null&&y.abort()}function ei(){p=setTimeout(vt,o.refreshFrequency);w=setTimeout(pt,o.refreshFrequency);b=setTimeout(wt,o.refreshFrequency)}function kt(){p!=null&&clearTimeout(p);w!=null&&clearTimeout(w);b!=null&&clearTimeout(b)}function dt(t){n.each(t,function(t,i){r.initialize(n(i));r.initializeAll(i);e.initSocialBar(i)})}function oi(){var t=n(h).find(".feed-published-date"),r;for(nt=parseInt($(t[0]).find(".day").text()),i=0;i<t.length;++i)r=parseInt($(t[i]).find(".day").text()),isNaN(r)||r==nt||($(t[i]).closest(".not-show-date").removeClass("not-show-date"),nt=r)}function gt(){setTimeout(function(){oi()},100)}function si(t){return u.utc(n("article:eq("+t+")").attr("data-publisheddate"))}function hi(t){for(var r,f=u.utc(n("time.feed-published-date:first").attr("dateTime")).local(),i=t-1;i>=0;i--)r=u.utc(n("article:eq("+i+")").attr("data-publisheddate")).local(),(i-1<0||!r.isSame(si(i-1),"day"))&&(n("time.bunker-component.feed-published-date:first").removeClass("hidden"),r.isAfter(f,"days")?ci(r,n("article:eq("+i+")")):n(".row .container-article-day:first").parent().insertBefore("article:eq("+i+")"),n("time.bunker-component.feed-published-date:first").addClass("hidden"))}function ci(t,i){var u=t,r;t=t.format("dddd DD MMMM YYYY").split(/\b\s+(?!$)/);r=n(".row .container-article-day:first").parent().clone();ko.cleanNode(r);n(r.find(".day").text(t[1].charAt(0)==="0"?t[1].substring(1,t[1].length):t[1]));n(r.find(".month").text(t[2]));n(r.find(".year").text(t[3]));n(r).find(".container-article-day time").attr("dateTime",u.format("YYYY-MM-DD[T]HH:mm[z]"));n(r.find(".container-article-day time").removeClass("hidden"));n(r).insertBefore(i)}function li(t,i){var e,u,o,s,f,c;i.removeAttr("data-newitem");i.removeClass("hidden-tag");dt(i);e=ht();e>0&&(u=ft(),o=tt(),o.remove(),u.removeAttr("data-newitem"),u.show(),r.initializeAll(u),u=tt(),u.each(function(t,i){fi(n(i).data("id"))}));s=lt();s>0&&(f=et(),c=ot(),c.remove(),f.removeAttr("data-newitem"),f.show(),r.initializeAll(f));hi(t);n(document).find(".first-in-feed").removeClass("first-in-feed");n(document).find('[data-lineuptype="feed"] article:first').addClass("first-in-feed");n(h).find(".go-to-fin-fill").length&&n(h).find(".go-to-fin-fill").remove();n('<div class="go-to-fin-fill row"><div class="offset-lg-2 offset-xl-4 col-xs-4 col-sm-8 col-lg-12"> <a class="" href="#chargerPlusDeContenus"><button class="button-action button-secondary"><span class="cbcrc-icon-arrow-downward"> Aller à la fin du fil<\/span><\/button><\/a> <\/div><\/div>').insertAfter(i.last())}var s=this,h,o={},nt,p,w,b,rt,k,l,y,d=[];this.id=null;this.init=function(t){h=t;o=n(t).data("feed");this.id=n(t).data("id");ei();f.add(s);ko.applyBindings(s,h);this.showMoreContent(o.hasMoreItems);n("#feedCount-hidder").css("display: inherit");n(h).find("#feedCount-hidder > .feedCount").unwrap();ko.utils.domNodeDisposal.addDisposeCallback(t,function(){h=null;f.remove(s.id);bt();kt()});gt()};this.showMoreContent=ko.observable(!0);s.feedLineupChangesCount=ko.observable(0);this.clickMoreItems=function(){s.moreContentProcess(!0);s.updateFeedMoreItems()};n(document).find('[data-lineuptype="feed"] article:last').addClass("last-in-feed");n(document).find('[data-lineuptype="feed"] article:first').addClass("first-in-feed");n("#btnNewStoryHidden").on("focus",function(){n("#btnNewStoryHidden").removeClass("hidden-tag")});n("#btnNewStoryHidden").on("blur",function(){n("#btnNewStoryHidden").addClass("hidden-tag")});this.clickNewItems=function(){var r=s.feedLineupChangesCount(),i=g(),t;i.addClass("hidden-tag");i.show();$target=n("article:first").find("a:visible:first");t=0;$headerContainer=n(".header-item-container");$headerContainer.length==1&&(t+=n(".header-item-container").height());$liveContainer=n("div .live-panel-opened");$liveContainer.length==1&&(t+=$liveContainer.height());$("html, body").animate({scrollTop:$target.offset().top-t},700,function(){if($target.focus(),$target.is(":focus"))return!1;$target.attr("tabindex","-1");$target.focus()}).promise().done(function(){li(r,i)});s.feedLineupChangesCount(0)};this.moreContentProcess=ko.observable(!1);this.updateFeedMoreItems=function(){var r=a(),t=r.children("article").map(function(){return u(n(this).data("publisheddate"),"YYYY-MM-DDTHH:mm:ss")}).get(),f,i;t=t.sort(function(n,t){return n.toDate()-t.toDate()});t.length>0&&(f=t[0],o.pageNumber++,i=o,i.PublishedAt=f.format("YYYYMMDDHHmmss"),n.ajax({url:window.appRouteBunker+"/component/FeedV2/Older",data:i}).done(function(t){var u=n(t),f=u.data("hasmoreitems"),i=ut(u.children());r.append(i);n(i[0]).find("a:visible:first").focus();dt(i);n(".last-in-feed").removeClass("last-in-feed");n(".feed article:last").addClass("last-in-feed");s.moreContentProcess(!1);s.showMoreContent(f);gt()}))};this.changeLineup=function(t){return bt(),kt(),g().remove(),ft().remove(),et().remove(),ot().remove(),st().remove(),tt().remove(),o.lineupId=t,o.lineupStickyId=0,rt=ii(),l=yt(),s.showMoreContent(!1),n.when(rt,l).then(function(t,i){var o=c(),f=n(i[0]),e,u;o.append(f);e=a();u=n(t[0]);e.append(u);r.initializeAll(f);r.initializeAll(u);s.showMoreContent(!0)})};this.registerExternalStickyItemSource=function(n,t){d.push({url:n,data:t})}};return new o});define("externals/components/FeedV2/_main",["jquery","services/anchorsModifierService","externals/components/MediaStateService/main","pluggins/src.socialbar","underscore","externals/components/UpdateableLineup/main","externals/components/ItemLineup/main"],function(n,t,i,r,u,f,e){function k(t){var i=n("a[name='"+t.name+"']");return n("html,body").animate({scrollTop:i.offset().top-40},500,t.complete)}var o=0,s,h,c,l,a,v,y,p=function(){this.init=function(t){var i,r,u;s=n(t).data("main-lineupid");h=n(t).data("tag-component-name");l=n(t).data("mindate");c=n(t).data("maxdate");a=n(t).data("image-dimension");v=n(t).data("console-dimension");y=n(t).data("avatar-mapping-source");i=n(t).find(".updateablelineup")[0];f.init(i);r=n(t).find(".itemlineup")[0];e.init(r);u=n(t).data("refresh");setInterval(function(){w(t)},u);n(t).find(".feedCount").click(function(){return k({name:"continuous-feed-list",complete:b(t)}),!1});n(t).find(".btnViewOlder").click(function(){d(t)})}},w=function(t){n.ajax({url:window.appRouteBunker+"/Component/Feed/New",contentType:"application/json",dataType:"html",data:{lineupId:s,maxDate:c,tagComponentName:h,imageDimensionInJson:JSON.stringify(a),consoleDimensionInJson:JSON.stringify(v),avatarMappingSource:y},success:function(i){var r,e,u,s;n.trim(i)!=""&&(r=n(i).html(),c=n(r).filter("article:first").data("publisheddate"),e=n(r)||n(),u=f.stack(e),u>0&&(o+=u,s=o>1?" nouveaux contenus":" nouveau contenu",n(t).find(".feedCount a").text(o+s),n(t).find(".feedCount").show()))},error:function(n,t,i){console.log("error!");console.log(n);console.log("Desc: "+t+"\nErr:"+i)}})},b=function(t){f.insertStacked();o=0;n(t).find(".feedCount").hide()},d=function(t){n("#plus").hide();n("#loader").show();n.ajax({url:window.appRouteBunker+"/Component/Feed/More",dataType:"html",data:{lineupId:s,minDate:l,tagComponentName:h,imageDimensionInJson:JSON.stringify(a),consoleDimensionInJson:JSON.stringify(v),avatarMappingSource:y},success:function(i){if(n.trim(i)!=""){var r=n(i).html();l=n(r).filter("article:last").data("publisheddate");f.add(r);n(window).trigger("sticky-change")}else n(t).find(".btnViewOlder").html("Aucune nouvelle antérieure.");n("#loader").hide();n("#plus").show()},error:function(n,t,i){console.log("error!");console.log(n);console.log("Desc: "+t+"\nErr:"+i)}})};return new p});define("externals/components/FeedV2WithSlider/feeds",["jquery","underscore"],function(n,t){var i=function(){var n=this,r=[],i=[];n.subscribeAddEvent=function(n){var i=t.uniqueId("pushListener");return r.push({id:i,cb:n}),i};n.unsubscribeAddEvent=function(n){var i=t.findIndex(r,function(t){return t.id==n});i>-1&&r.splice(i,1)};n.add=function(n){i.push(n);t.each(r,function(t){t.cb(n)})};n.remove=function(n){var r=t.find(i,function(t){return t.id==n});r&&i.splice(i.indexOf(r),1)};n.get=function(n){return t.find(i,function(t){return t.id==n})}};return new i});define("externals/components/FeedV2WithSlider/main",["jquery","pluggins/slick","underscore","services/componentsService","moment","externals/components/Feed/feeds","pluggins/src.socialbar"],function(n,t,r,u,f,e,o){var s=function(){function ni(){try{n(".custom-slider").slick({dots:!1,arrows:!0,draggable:!1,slidesToShow:5,infinite:!1,swipe:!1,slidesToScroll:5,edgeFriction:0,cssEase:"cubic-bezier(0.895, 0.03, 0.685, 0.22)",speed:700,accessibility:!1,variableWidth:!0,prevArrow:$(".custom-slider-nav-prev"),nextArrow:$(".custom-slider-nav-next"),responsive:[{breakpoint:1600,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1023,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]})}catch(t){}$(window).width()<1599}function a(){return n(h).find("div[data-lineuptype=feed]")}function c(){return n(h).find("div[data-lineuptype=sticky]")}function v(){return n(h).find("div[data-lineuptype=externalsticky]")}function ut(t){var r=a(),u=r.children("article"),i=[];return n.each(t,function(t,r){u.filter('article[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function ti(t){var r=c(),u=r.children("article:not([newitem])"),i=[];return n.each(t,function(t,r){u.filter('article[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function ii(t){var r=v(),u=r.find("[data-external-feed-item]:not([newitem])"),i=[];return n.each(t,function(t,r){u.filter('[data-id="'+n(r).attr("data-id")+'"]').length||i.push(r)}),n(i)}function g(){return a().children('article[data-newitem="true"]')}function ft(){return c().children('article[data-newitem="true"]')}function et(){return v().find('[data-external-feed-item=true][data-newitem="true"]')}function tt(){return c().children("article:not([data-newitem])")}function ot(){return v().find("[data-external-feed-item=true]:not([data-newitem])")}function st(){return a().children("article:not([data-newitem])")}function ht(){var n=parseInt(c().attr("data-nbnewstickyitem"));return r.isNumber(n)&&!isNaN(n)?n:0}function ct(n){var t=c();t.attr("data-nbnewstickyitem",n)}function lt(){var n=parseInt(v().attr("data-nbnewexternalstickyitem"));return r.isNumber(n)&&!isNaN(n)?n:0}function at(n){var t=v();t.attr("data-nbnewexternalstickyitem",n)}function it(){var n=g().length+ht()+lt();s.feedLineupChangesCount(n)}function ri(){return n.ajax({url:window.appRouteBunker+"/component/FeedV2WithSlider/Items",data:t})}function ui(){return n.ajax({url:window.appRouteBunker+"/component/FeedV2WithSlider/Newer",data:t})}function vt(){var i=a(),r=i.children("article:first"),u;r.data("publisheddate")&&(u=t,u.PublishedAt=r.data("publisheddate").replace(/[A-Za-z$-/:]/g,""),k=ui().done(function(t){var r=ut(n(t));r.hide();r.attr("data-newitem","true");i.prepend(r);it()}).complete(function(){p=setTimeout(vt,t.refreshFrequency);k=null}))}function yt(){return n.ajax({url:window.appRouteBunker+"/component/FeedV2WithSlider/Sticky",data:t})}function pt(){var i=c();l=yt().done(function(t){i.children('[data-newitem="true"]').remove();var r=n(t),u=ti(n(t)).filter("article");ct(0);u.length>0&&(r.hide(),r.attr("data-newitem","true"),i.prepend(r),ct(u.length));it()}).complete(function(){try{w=setTimeout(pt,t.refreshFrequency)}catch(n){}l=null})}function fi(){return n.ajax({url:d[0].url,data:d[0].data})}function wt(){var i=v();d.length>0&&(y=fi(),n.when(y).done(function(t){i.children('[data-newitem="true"]').remove();var r=n(t),u=ii(r);at(0);u.length>0&&(r.hide(),r.attr("data-newitem","true"),i.prepend(r),at(u.length));it()}).always(function(){b=setTimeout(wt,t.refreshFrequency);y=null}))}function ei(n){var t='[data-id="'+n+'"]';st().filter(t).remove();g().filter(t).remove()}function bt(){k!=null&&k.abort();l!=null&&l.abort();y!=null&&y.abort()}function oi(){try{p=setTimeout(vt,t.refreshFrequency)}catch(n){}try{w=setTimeout(pt,t.refreshFrequency)}catch(n){}try{b=setTimeout(wt,t.refreshFrequency)}catch(n){}}function kt(){p!=null&&clearTimeout(p);w!=null&&clearTimeout(w);b!=null&&clearTimeout(b)}function dt(t){n.each(t,function(t,i){u.initialize(n(i));u.initializeAll(i);o.initSocialBar(i)})}function si(){var t=n(h).find(".feed-published-date"),r;for(nt=parseInt($(t[0]).find(".day").text()),i=0;i<t.length;++i)r=parseInt($(t[i]).find(".day").text()),isNaN(r)||r==nt||($(t[i]).closest(".not-show-date").removeClass("not-show-date"),nt=r)}function gt(){setTimeout(function(){si()},100)}function hi(t){return f.utc(n("article:eq("+t+")").attr("data-publisheddate"))}function ci(t){for(var r,u=f.utc(n("time.feed-published-date:first").attr("dateTime")).local(),i=t-1;i>=0;i--)r=f.utc(n("article:eq("+i+")").attr("data-publisheddate")).local(),(i-1<0||!r.isSame(hi(i-1),"day"))&&(n("time.bunker-component.feed-published-date:first").removeClass("hidden"),r.isAfter(u,"days")?li(r,n("article:eq("+i+")")):n(".row .container-article-day:first").parent().insertBefore("article:eq("+i+")"),n("time.bunker-component.feed-published-date:first").addClass("hidden"))}function li(t,i){var u=t,r;t=t.format("dddd DD MMMM YYYY").split(/\b\s+(?!$)/);r=n(".row .container-article-day:first").parent().clone();ko.cleanNode(r);n(r.find(".day").text(t[1].charAt(0)==="0"?t[1].substring(1,t[1].length):t[1]));n(r.find(".month").text(t[2]));n(r.find(".year").text(t[3]));n(r).find(".container-article-day time").attr("dateTime",u.format("YYYY-MM-DD[T]HH:mm[z]"));n(r.find(".container-article-day time").removeClass("hidden"));n(r).insertBefore(i)}function ai(t,i){var e,r,o,s,f,c;i.removeAttr("data-newitem");i.removeClass("hidden-tag");dt(i);e=ht();e>0&&(r=ft(),o=tt(),o.remove(),r.removeAttr("data-newitem"),r.show(),u.initializeAll(r),r=tt(),r.each(function(t,i){ei(n(i).data("id"))}));s=lt();s>0&&(f=et(),c=ot(),c.remove(),f.removeAttr("data-newitem"),f.show(),u.initializeAll(f));ci(t);n(document).find(".first-in-feed").removeClass("first-in-feed");n(document).find('[data-lineuptype="feed"] article:first').addClass("first-in-feed");n(h).find(".go-to-fin-fill").length&&n(h).find(".go-to-fin-fill").remove();n('<div class="go-to-fin-fill row"><div class="offset-lg-2 offset-xl-4 col-xs-4 col-sm-8 col-lg-12"> <a class="" href="#chargerPlusDeContenus"><button class="button-action button-secondary"><span class="cbcrc-icon-arrow-downward"> Aller à la fin du fil<\/span><\/button><\/a> <\/div><\/div>').insertAfter(i.last())}var s=this,h,t={},nt,p,w,b,rt,k,l,y,d=[];this.id=null;this.init=function(i){h=i;t=n(i).data("feed");this.id=n(i).data("id");oi();ni();e.add(s);ko.applyBindings(s,h);try{this.showMoreContent(t.hasMoreItems)}catch(r){}n("#feedCount-hidder").css("display: inherit");n(h).find("#feedCount-hidder > .feedCount").unwrap();ko.utils.domNodeDisposal.addDisposeCallback(i,function(){h=null;e.remove(s.id);bt();kt()});gt()};this.showMoreContent=ko.observable(!0);s.feedLineupChangesCount=ko.observable(0);this.clickMoreItems=function(){s.moreContentProcess(!0);s.updateFeedMoreItems()};n(document).find('[data-lineuptype="feed"] article:last').addClass("last-in-feed");n(document).find('[data-lineuptype="feed"] article:first').addClass("first-in-feed");n("#btnNewStoryHidden").on("focus",function(){n("#btnNewStoryHidden").removeClass("hidden-tag")});n("#btnNewStoryHidden").on("blur",function(){n("#btnNewStoryHidden").addClass("hidden-tag")});this.clickNewItems=function(){var r=s.feedLineupChangesCount(),i=g(),t;i.addClass("hidden-tag");i.show();$target=n("article:first").find("a:visible:first");t=0;$headerContainer=n(".header-item-container");$headerContainer.length==1&&(t+=n(".header-item-container").height());$liveContainer=n("div .live-panel-opened");$liveContainer.length==1&&(t+=$liveContainer.height());$("html, body").animate({scrollTop:$target.offset().top-t},700,function(){if($target.focus(),$target.is(":focus"))return!1;$target.attr("tabindex","-1");$target.focus()}).promise().done(function(){ai(r,i)});s.feedLineupChangesCount(0)};this.moreContentProcess=ko.observable(!1);this.updateFeedMoreItems=function(){var u=a(),i=u.children("article").map(function(){return f(n(this).data("publisheddate"),"YYYY-MM-DDTHH:mm:ss")}).get(),e,r;i=i.sort(function(n,t){return n.toDate()-t.toDate()});i.length>0&&(e=i[0],t.pageNumber++,r=t,r.PublishedAt=e.format("YYYYMMDDHHmmss"),n.ajax({url:window.appRouteBunker+"/component/FeedV2WithSlider/Older",data:r}).done(function(t){var r=n(t),f=r.data("hasmoreitems"),i=ut(r.children());u.append(i);n(i[0]).find("a:visible:first").focus();dt(i);n(".last-in-feed").removeClass("last-in-feed");n(".feed article:last").addClass("last-in-feed");s.moreContentProcess(!1);s.showMoreContent(f);gt()}))};this.changeLineup=function(i){return bt(),kt(),g().remove(),ft().remove(),et().remove(),ot().remove(),st().remove(),tt().remove(),t.lineupId=i,t.lineupStickyId=0,rt=ri(),l=yt(),s.showMoreContent(!1),n.when(rt,l).then(function(t,i){var o=c(),f=n(i[0]),e,r;o.append(f);e=a();r=n(t[0]);e.append(r);u.initializeAll(f);u.initializeAll(r);s.showMoreContent(!0)})};this.registerExternalStickyItemSource=function(n,t){d.push({url:n,data:t})}};return new s});!function(n){"use strict";"function"==typeof define&&define.amd?define("externals/components/FeedV2WithSlider/slick.min",["jquery"],n):"undefined"!=typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(i,r){var f,u=this;u.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:n(i),appendDots:n(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous<\/button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next<\/button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return n('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3};u.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1};n.extend(u,u.initials);u.activeBreakpoint=null;u.animType=null;u.animProp=null;u.breakpoints=[];u.breakpointSettings=[];u.cssTransitions=!1;u.focussed=!1;u.interrupted=!1;u.hidden="hidden";u.paused=!0;u.positionProp=null;u.respondTo=null;u.rowCount=1;u.shouldClick=!0;u.$slider=n(i);u.$slidesCache=null;u.transformType=null;u.transitionType=null;u.visibilityChange="visibilitychange";u.windowWidth=0;u.windowTimer=null;f=n(i).data("slick")||{};u.options=n.extend({},u.defaults,r,f);u.currentSlide=u.options.initialSlide;u.originalSettings=u.options;void 0!==document.mozHidden?(u.hidden="mozHidden",u.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(u.hidden="webkitHidden",u.visibilityChange="webkitvisibilitychange");u.autoPlay=n.proxy(u.autoPlay,u);u.autoPlayClear=n.proxy(u.autoPlayClear,u);u.autoPlayIterator=n.proxy(u.autoPlayIterator,u);u.changeSlide=n.proxy(u.changeSlide,u);u.clickHandler=n.proxy(u.clickHandler,u);u.selectHandler=n.proxy(u.selectHandler,u);u.setPosition=n.proxy(u.setPosition,u);u.swipeHandler=n.proxy(u.swipeHandler,u);u.dragHandler=n.proxy(u.dragHandler,u);u.keyHandler=n.proxy(u.keyHandler,u);u.instanceUid=t++;u.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/;u.registerBreakpoints();u.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})};t.prototype.addSlide=t.prototype.slickAdd=function(t,i,r){var u=this;if("boolean"==typeof i)r=i,i=null;else if(i<0||i>=u.slideCount)return!1;u.unload();"number"==typeof i?0===i&&0===u.$slides.length?n(t).appendTo(u.$slideTrack):r?n(t).insertBefore(u.$slides.eq(i)):n(t).insertAfter(u.$slides.eq(i)):!0===r?n(t).prependTo(u.$slideTrack):n(t).appendTo(u.$slideTrack);u.$slides=u.$slideTrack.children(this.options.slide);u.$slideTrack.children(this.options.slide).detach();u.$slideTrack.append(u.$slides);u.$slides.each(function(t,i){n(i).attr("data-slick-index",t)});u.$slidesCache=u.$slides;u.reinit()};t.prototype.animateHeight=function(){var n=this,t;1===n.options.slidesToShow&&!0===n.options.adaptiveHeight&&!1===n.options.vertical&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.animate({height:t},n.options.speed))};t.prototype.animateSlide=function(t,i){var u={},r=this;r.animateHeight();!0===r.options.rtl&&!1===r.options.vertical&&(t=-t);!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),n({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(n){n=Math.ceil(n);!1===r.options.vertical?(u[r.animType]="translate("+n+"px, 0px)",r.$slideTrack.css(u)):(u[r.animType]="translate(0px,"+n+"px)",r.$slideTrack.css(u))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),u[r.animType]=!1===r.options.vertical?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(u),i&&setTimeout(function(){r.disableTransition();i.call()},r.options.speed))};t.prototype.getNavTarget=function(){var i=this,t=i.options.asNavFor;return t&&null!==t&&(t=n(t).not(i.$slider)),t};t.prototype.asNavFor=function(t){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=n(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})};t.prototype.applyTransition=function(n){var t=this,i={};i[t.transitionType]=!1===t.options.fade?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase;!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(n).css(i)};t.prototype.autoPlay=function(){var n=this;n.autoPlayClear();n.slideCount>n.options.slidesToShow&&(n.autoPlayTimer=setInterval(n.autoPlayIterator,n.options.autoplaySpeed))};t.prototype.autoPlayClear=function(){var n=this;n.autoPlayTimer&&clearInterval(n.autoPlayTimer)};t.prototype.autoPlayIterator=function(){var n=this,t=n.currentSlide+n.options.slidesToScroll;n.paused||n.interrupted||n.focussed||(!1===n.options.infinite&&(1===n.direction&&n.currentSlide+1===n.slideCount-1?n.direction=0:0===n.direction&&(t=n.currentSlide-n.options.slidesToScroll,n.currentSlide-1==0&&(n.direction=1))),n.slideHandler(t))};t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=n(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=n(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))};t.prototype.buildDots=function(){var i,r,t=this;if(!0===t.options.dots){for(t.$slider.addClass("slick-dotted"),r=n("<ul />").addClass(t.options.dotsClass),i=0;i<=t.getDotCount();i+=1)r.append(n("<li />").append(t.options.customPaging.call(this,t,i)));t.$dots=r.appendTo(t.options.appendDots);t.$dots.find("li").first().addClass("slick-active")}};t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide");t.slideCount=t.$slides.length;t.$slides.each(function(t,i){n(i).attr("data-slick-index",t).data("originalStyling",n(i).attr("style")||"")});t.$slider.addClass("slick-slider");t.$slideTrack=0===t.slideCount?n('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent();t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent();t.$slideTrack.css("opacity",0);!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1);n("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading");t.setupInfinite();t.buildArrows();t.buildDots();t.updateDots();t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0);!0===t.options.draggable&&t.$list.addClass("draggable")};t.prototype.buildRows=function(){var t,i,r,f,c,u,e,n=this,o,s,h;if(f=document.createDocumentFragment(),u=n.$slider.children(),n.options.rows>1){for(e=n.options.slidesPerRow*n.options.rows,c=Math.ceil(u.length/e),t=0;t<c;t++){for(o=document.createElement("div"),i=0;i<n.options.rows;i++){for(s=document.createElement("div"),r=0;r<n.options.slidesPerRow;r++)h=t*e+(i*n.options.slidesPerRow+r),u.get(h)&&s.appendChild(u.get(h));o.appendChild(s)}f.appendChild(o)}n.$slider.empty().append(f);n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}};t.prototype.checkResponsive=function(t,i){var f,u,e,r=this,o=!1,s=r.$slider.width(),h=window.innerWidth||n(window).width();if("window"===r.respondTo?e=h:"slider"===r.respondTo?e=s:"min"===r.respondTo&&(e=Math.min(h,s)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){u=null;for(f in r.breakpoints)r.breakpoints.hasOwnProperty(f)&&(!1===r.originalSettings.mobileFirst?e<r.breakpoints[f]&&(u=r.breakpoints[f]):e>r.breakpoints[f]&&(u=r.breakpoints[f]));null!==u?null!==r.activeBreakpoint?(u!==r.activeBreakpoint||i)&&(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):(r.activeBreakpoint=u,"unslick"===r.breakpointSettings[u]?r.unslick(u):(r.options=n.extend({},r.originalSettings,r.breakpointSettings[u]),!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),o=u):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t),o=u);t||!1===o||r.$slider.trigger("breakpoint",[r,o])}};t.prototype.changeSlide=function(t,i){var f,e,o,r=this,u=n(t.currentTarget),s;switch(u.is("a")&&t.preventDefault(),u.is("li")||(u=u.closest("li")),o=r.slideCount%r.options.slidesToScroll!=0,f=o?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,t.data.message){case"previous":e=0===f?r.options.slidesToScroll:r.options.slidesToShow-f;r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-e,!1,i);break;case"next":e=0===f?r.options.slidesToScroll:f;r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+e,!1,i);break;case"index":s=0===t.data.index?0:t.data.index||u.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(s),!1,i);u.children().trigger("focus");break;default:return}};t.prototype.checkNavigable=function(n){var t,i,r;if(t=this.getNavigableIndexes(),i=0,n>t[t.length-1])n=t[t.length-1];else for(r in t){if(n<t[r]){n=i;break}i=t[r]}return n};t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(n("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",n.proxy(t.interrupt,t,!0)).off("mouseleave.slick",n.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler));t.$slider.off("focus.slick blur.slick");!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler)));t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler);t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler);t.$list.off("touchend.slick mouseup.slick",t.swipeHandler);t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler);t.$list.off("click.slick",t.clickHandler);n(document).off(t.visibilityChange,t.visibility);t.cleanUpSlideEvents();!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler);!0===t.options.focusOnSelect&&n(t.$slideTrack).children().off("click.slick",t.selectHandler);n(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange);n(window).off("resize.slick.slick-"+t.instanceUid,t.resize);n("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault);n(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)};t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",n.proxy(t.interrupt,t,!0));t.$list.off("mouseleave.slick",n.proxy(t.interrupt,t,!1))};t.prototype.cleanUpRows=function(){var t,n=this;n.options.rows>1&&((t=n.$slides.children().children()).removeAttr("style"),n.$slider.empty().append(t))};t.prototype.clickHandler=function(n){!1===this.shouldClick&&(n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault())};t.prototype.destroy=function(t){var i=this;i.autoPlayClear();i.touchObject={};i.cleanUpEvents();n(".slick-cloned",i.$slider).detach();i.$dots&&i.$dots.remove();i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove());i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove());i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){n(this).attr("style",n(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides));i.cleanUpRows();i.$slider.removeClass("slick-slider");i.$slider.removeClass("slick-initialized");i.$slider.removeClass("slick-dotted");i.unslicked=!0;t||i.$slider.trigger("destroy",[i])};t.prototype.disableTransition=function(n){var t=this,i={};i[t.transitionType]="";!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(n).css(i)};t.prototype.fadeSlide=function(n,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(n).css({zIndex:i.options.zIndex}),i.$slides.eq(n).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(n),i.$slides.eq(n).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(n);t.call()},i.options.speed))};t.prototype.fadeSlideOut=function(n){var t=this;!1===t.cssTransitions?t.$slides.eq(n).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(n),t.$slides.eq(n).css({opacity:0,zIndex:t.options.zIndex-2}))};t.prototype.filterSlides=t.prototype.slickFilter=function(n){var t=this;null!==n&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(n).appendTo(t.$slideTrack),t.reinit())};t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var r=n(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=r.is(":focus"),t.autoPlay())},0)})};t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide};t.prototype.getDotCount=function(){var n=this,i=0,r=0,t=0;if(!0===n.options.infinite)if(n.slideCount<=n.options.slidesToShow)++t;else for(;i<n.slideCount;)++t,i=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else if(!0===n.options.centerMode)t=n.slideCount;else if(n.options.asNavFor)for(;i<n.slideCount;)++t,i=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;else t=1+Math.ceil((n.slideCount-n.options.slidesToShow)/n.options.slidesToScroll);return t-1};t.prototype.getLeft=function(n){var f,r,i,e,t=this,u=0;return t.slideOffset=0,r=t.$slides.first().outerHeight(!0),!0===t.options.infinite?(t.slideCount>t.options.slidesToShow&&(t.slideOffset=t.slideWidth*t.options.slidesToShow*-1,e=-1,!0===t.options.vertical&&!0===t.options.centerMode&&(2===t.options.slidesToShow?e=-1.5:1===t.options.slidesToShow&&(e=-2)),u=r*t.options.slidesToShow*e),t.slideCount%t.options.slidesToScroll!=0&&n+t.options.slidesToScroll>t.slideCount&&t.slideCount>t.options.slidesToShow&&(n>t.slideCount?(t.slideOffset=(t.options.slidesToShow-(n-t.slideCount))*t.slideWidth*-1,u=(t.options.slidesToShow-(n-t.slideCount))*r*-1):(t.slideOffset=t.slideCount%t.options.slidesToScroll*t.slideWidth*-1,u=t.slideCount%t.options.slidesToScroll*r*-1))):n+t.options.slidesToShow>t.slideCount&&(t.slideOffset=(n+t.options.slidesToShow-t.slideCount)*t.slideWidth,u=(n+t.options.slidesToShow-t.slideCount)*r),t.slideCount<=t.options.slidesToShow&&(t.slideOffset=0,u=0),!0===t.options.centerMode&&t.slideCount<=t.options.slidesToShow?t.slideOffset=t.slideWidth*Math.floor(t.options.slidesToShow)/2-t.slideWidth*t.slideCount/2:!0===t.options.centerMode&&!0===t.options.infinite?t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)-t.slideWidth:!0===t.options.centerMode&&(t.slideOffset=0,t.slideOffset+=t.slideWidth*Math.floor(t.options.slidesToShow/2)),f=!1===t.options.vertical?n*t.slideWidth*-1+t.slideOffset:n*r*-1+u,!0===t.options.variableWidth&&(i=t.slideCount<=t.options.slidesToShow||!1===t.options.infinite?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow),f=!0===t.options.rtl?i[0]?-1*(t.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===t.options.centerMode&&(i=t.slideCount<=t.options.slidesToShow||!1===t.options.infinite?t.$slideTrack.children(".slick-slide").eq(n):t.$slideTrack.children(".slick-slide").eq(n+t.options.slidesToShow+1),f=!0===t.options.rtl?i[0]?-1*(t.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,f+=(t.$list.width()-i.outerWidth())/2)),f};t.prototype.getOption=t.prototype.slickGetOption=function(n){return this.options[n]};t.prototype.getNavigableIndexes=function(){var i,n=this,t=0,r=0,u=[];for(!1===n.options.infinite?i=n.slideCount:(t=-1*n.options.slidesToScroll,r=-1*n.options.slidesToScroll,i=2*n.slideCount);t<i;)u.push(t),t=r+n.options.slidesToScroll,r+=n.options.slidesToScroll<=n.options.slidesToShow?n.options.slidesToScroll:n.options.slidesToShow;return u};t.prototype.getSlick=function(){return this};t.prototype.getSlideCount=function(){var i,r,t=this;return r=!0===t.options.centerMode?t.slideWidth*Math.floor(t.options.slidesToShow/2):0,!0===t.options.swipeToSlide?(t.$slideTrack.find(".slick-slide").each(function(u,f){if(f.offsetLeft-r+n(f).outerWidth()/2>-1*t.swipeLeft)return i=f,!1}),Math.abs(n(i).attr("data-slick-index")-t.currentSlide)||1):t.options.slidesToScroll};t.prototype.goTo=t.prototype.slickGoTo=function(n,t){this.changeSlide({data:{message:"index",index:parseInt(n)}},t)};t.prototype.init=function(t){var i=this;n(i.$slider).hasClass("slick-initialized")||(n(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler());t&&i.$slider.trigger("init",[i]);!0===i.options.accessibility&&i.initADA();i.options.autoplay&&(i.paused=!1,i.autoPlay())};t.prototype.initADA=function(){var t=this,f=Math.ceil(t.slideCount/t.options.slidesToShow),r=t.getNavigableIndexes().filter(function(n){return n>=0&&n<t.slideCount}),i,u;for(t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==t.$dots&&(t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){var u=r.indexOf(i);n(this).attr({role:"tabpanel",id:"slick-slide"+t.instanceUid+i,tabindex:-1});-1!==u&&n(this).attr({"aria-describedby":"slick-slide-control"+t.instanceUid+u})}),t.$dots.attr("role","tablist").find("li").each(function(i){var u=r[i];n(this).attr({role:"presentation"});n(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+t.instanceUid+i,"aria-controls":"slick-slide"+t.instanceUid+u,"aria-label":i+1+" of "+f,"aria-selected":null,tabindex:"-1"})}).eq(t.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end()),i=t.currentSlide,u=i+t.options.slidesToShow;i<u;i++)t.$slides.eq(i).attr("tabindex",0);t.activateADA()};t.prototype.initArrowEvents=function(){var n=this;!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},n.changeSlide),n.$nextArrow.off("click.slick").on("click.slick",{message:"next"},n.changeSlide),!0===n.options.accessibility&&(n.$prevArrow.on("keydown.slick",n.keyHandler),n.$nextArrow.on("keydown.slick",n.keyHandler)))};t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&(n("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler));!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&n("li",t.$dots).on("mouseenter.slick",n.proxy(t.interrupt,t,!0)).on("mouseleave.slick",n.proxy(t.interrupt,t,!1))};t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",n.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",n.proxy(t.interrupt,t,!1)))};t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents();t.initDotEvents();t.initSlideEvents();t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler);t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler);t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler);t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler);t.$list.on("click.slick",t.clickHandler);n(document).on(t.visibilityChange,n.proxy(t.visibility,t));!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler);!0===t.options.focusOnSelect&&n(t.$slideTrack).children().on("click.slick",t.selectHandler);n(window).on("orientationchange.slick.slick-"+t.instanceUid,n.proxy(t.orientationChange,t));n(window).on("resize.slick.slick-"+t.instanceUid,n.proxy(t.resize,t));n("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault);n(window).on("load.slick.slick-"+t.instanceUid,t.setPosition);n(t.setPosition)};t.prototype.initUI=function(){var n=this;!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.show(),n.$nextArrow.show());!0===n.options.dots&&n.slideCount>n.options.slidesToShow&&n.$dots.show()};t.prototype.keyHandler=function(n){var t=this;n.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===n.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===n.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))};t.prototype.lazyLoad=function(){function f(i){n("img[data-lazy]",i).each(function(){var i=n(this),r=n(this).attr("data-lazy"),f=n(this).attr("data-srcset"),e=n(this).attr("data-sizes")||t.$slider.attr("data-sizes"),u=document.createElement("img");u.onload=function(){i.animate({opacity:0},100,function(){f&&(i.attr("srcset",f),e&&i.attr("sizes",e));i.attr("src",r).animate({opacity:1},200,function(){i.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")});t.$slider.trigger("lazyLoaded",[t,i,r])})};u.onerror=function(){i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error");t.$slider.trigger("lazyLoadError",[t,i,r])};u.src=r})}var u,i,r,t=this;if(!0===t.options.centerMode?!0===t.options.infinite?r=(i=t.currentSlide+(t.options.slidesToShow/2+1))+t.options.slidesToShow+2:(i=Math.max(0,t.currentSlide-(t.options.slidesToShow/2+1)),r=t.options.slidesToShow/2+1+2+t.currentSlide):(i=t.options.infinite?t.options.slidesToShow+t.currentSlide:t.currentSlide,r=Math.ceil(i+t.options.slidesToShow),!0===t.options.fade&&(i>0&&i--,r<=t.slideCount&&r++)),u=t.$slider.find(".slick-slide").slice(i,r),"anticipated"===t.options.lazyLoad)for(var e=i-1,o=r,s=t.$slider.find(".slick-slide"),h=0;h<t.options.slidesToScroll;h++)e<0&&(e=t.slideCount-1),u=(u=u.add(s.eq(e))).add(s.eq(o)),e--,o++;f(u);t.slideCount<=t.options.slidesToShow?f(t.$slider.find(".slick-slide")):t.currentSlide>=t.slideCount-t.options.slidesToShow?f(t.$slider.find(".slick-cloned").slice(0,t.options.slidesToShow)):0===t.currentSlide&&f(t.$slider.find(".slick-cloned").slice(-1*t.options.slidesToShow))};t.prototype.loadSlider=function(){var n=this;n.setPosition();n.$slideTrack.css({opacity:1});n.$slider.removeClass("slick-loading");n.initUI();"progressive"===n.options.lazyLoad&&n.progressiveLazyLoad()};t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})};t.prototype.orientationChange=function(){var n=this;n.checkResponsive();n.setPosition()};t.prototype.pause=t.prototype.slickPause=function(){var n=this;n.autoPlayClear();n.paused=!0};t.prototype.play=t.prototype.slickPlay=function(){var n=this;n.autoPlay();n.options.autoplay=!0;n.paused=!1;n.focussed=!1;n.interrupted=!1};t.prototype.postSlide=function(t){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,t]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange&&n(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))};t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})};t.prototype.preventDefault=function(n){n.preventDefault()};t.prototype.progressiveLazyLoad=function(t){t=t||1;var r,u,f,e,o,i=this,s=n("img[data-lazy]",i.$slider);s.length?(r=s.first(),u=r.attr("data-lazy"),f=r.attr("data-srcset"),e=r.attr("data-sizes")||i.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){f&&(r.attr("srcset",f),e&&r.attr("sizes",e));r.attr("src",u).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading");!0===i.options.adaptiveHeight&&i.setPosition();i.$slider.trigger("lazyLoaded",[i,r,u]);i.progressiveLazyLoad()},o.onerror=function(){t<3?setTimeout(function(){i.progressiveLazyLoad(t+1)},500):(r.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,r,u]),i.progressiveLazyLoad())},o.src=u):i.$slider.trigger("allImagesLoaded",[i])};t.prototype.refresh=function(t){var r,u,i=this;u=i.slideCount-i.options.slidesToShow;!i.options.infinite&&i.currentSlide>u&&(i.currentSlide=u);i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0);r=i.currentSlide;i.destroy(!0);n.extend(i,i.initials,{currentSlide:r});i.init();t||i.changeSlide({data:{message:"index",index:r}},!1)};t.prototype.registerBreakpoints=function(){var u,f,i,t=this,r=t.options.responsive||null;if("array"===n.type(r)&&r.length){t.respondTo=t.options.respondTo||"window";for(u in r)if(i=t.breakpoints.length-1,r.hasOwnProperty(u)){for(f=r[u].breakpoint;i>=0;)t.breakpoints[i]&&t.breakpoints[i]===f&&t.breakpoints.splice(i,1),i--;t.breakpoints.push(f);t.breakpointSettings[f]=r[u].settings}t.breakpoints.sort(function(n,i){return t.options.mobileFirst?n-i:i-n})}};t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide");t.slideCount=t.$slides.length;t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll);t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0);t.registerBreakpoints();t.setProps();t.setupInfinite();t.buildArrows();t.updateArrows();t.initArrowEvents();t.buildDots();t.updateDots();t.initDotEvents();t.cleanUpSlideEvents();t.initSlideEvents();t.checkResponsive(!1,!0);!0===t.options.focusOnSelect&&n(t.$slideTrack).children().on("click.slick",t.selectHandler);t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0);t.setPosition();t.focusHandler();t.paused=!t.options.autoplay;t.autoPlay();t.$slider.trigger("reInit",[t])};t.prototype.resize=function(){var t=this;n(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=n(window).width();t.checkResponsive();t.unslicked||t.setPosition()},50))};t.prototype.removeSlide=t.prototype.slickRemove=function(n,t,i){var r=this;if(n="boolean"==typeof n?!0===(t=n)?0:r.slideCount-1:!0===t?--n:n,r.slideCount<1||n<0||n>r.slideCount-1)return!1;r.unload();!0===i?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(n).remove();r.$slides=r.$slideTrack.children(this.options.slide);r.$slideTrack.children(this.options.slide).detach();r.$slideTrack.append(r.$slides);r.$slidesCache=r.$slides;r.reinit()};t.prototype.setCSS=function(n){var r,u,t=this,i={};!0===t.options.rtl&&(n=-n);r="left"==t.positionProp?Math.ceil(n)+"px":"0px";u="top"==t.positionProp?Math.ceil(n)+"px":"0px";i[t.positionProp]=n;!1===t.transformsEnabled?t.$slideTrack.css(i):(i={},!1===t.cssTransitions?(i[t.animType]="translate("+r+", "+u+")",t.$slideTrack.css(i)):(i[t.animType]="translate3d("+r+", "+u+", 0px)",t.$slideTrack.css(i)))};t.prototype.setDimensions=function(){var n=this,t;!1===n.options.vertical?!0===n.options.centerMode&&n.$list.css({padding:"0px "+n.options.centerPadding}):(n.$list.height(n.$slides.first().outerHeight(!0)*n.options.slidesToShow),!0===n.options.centerMode&&n.$list.css({padding:n.options.centerPadding+" 0px"}));n.listWidth=n.$list.width();n.listHeight=n.$list.height();!1===n.options.vertical&&!1===n.options.variableWidth?(n.slideWidth=Math.ceil(n.listWidth/n.options.slidesToShow),n.$slideTrack.width(Math.ceil(n.slideWidth*n.$slideTrack.children(".slick-slide").length))):!0===n.options.variableWidth?n.$slideTrack.width(5e3*n.slideCount):(n.slideWidth=Math.ceil(n.listWidth),n.$slideTrack.height(Math.ceil(n.$slides.first().outerHeight(!0)*n.$slideTrack.children(".slick-slide").length)));t=n.$slides.first().outerWidth(!0)-n.$slides.first().width();!1===n.options.variableWidth&&n.$slideTrack.children(".slick-slide").width(n.slideWidth-t)};t.prototype.setFade=function(){var i,t=this;t.$slides.each(function(r,u){i=t.slideWidth*r*-1;!0===t.options.rtl?n(u).css({position:"relative",right:i,top:0,zIndex:t.options.zIndex-2,opacity:0}):n(u).css({position:"relative",left:i,top:0,zIndex:t.options.zIndex-2,opacity:0})});t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})};t.prototype.setHeight=function(){var n=this,t;1===n.options.slidesToShow&&!0===n.options.adaptiveHeight&&!1===n.options.vertical&&(t=n.$slides.eq(n.currentSlide).outerHeight(!0),n.$list.css("height",t))};t.prototype.setOption=t.prototype.slickSetOption=function(){var u,f,e,i,r,t=this,o=!1;if("object"===n.type(arguments[0])?(e=arguments[0],o=arguments[1],r="multiple"):"string"===n.type(arguments[0])&&(e=arguments[0],i=arguments[1],o=arguments[2],"responsive"===arguments[0]&&"array"===n.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)t.options[e]=i;else if("multiple"===r)n.each(e,function(n,i){t.options[n]=i});else if("responsive"===r)for(f in i)if("array"!==n.type(t.options.responsive))t.options.responsive=[i[f]];else{for(u=t.options.responsive.length-1;u>=0;)t.options.responsive[u].breakpoint===i[f].breakpoint&&t.options.responsive.splice(u,1),u--;t.options.responsive.push(i[f])}o&&(t.unload(),t.reinit())};t.prototype.setPosition=function(){var n=this;n.setDimensions();n.setHeight();!1===n.options.fade?n.setCSS(n.getLeft(n.currentSlide)):n.setFade();n.$slider.trigger("setPosition",[n])};t.prototype.setProps=function(){var n=this,t=document.body.style;n.positionProp=!0===n.options.vertical?"top":"left";"top"===n.positionProp?n.$slider.addClass("slick-vertical"):n.$slider.removeClass("slick-vertical");void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===n.options.useCSS&&(n.cssTransitions=!0);n.options.fade&&("number"==typeof n.options.zIndex?n.options.zIndex<3&&(n.options.zIndex=3):n.options.zIndex=n.defaults.zIndex);void 0!==t.OTransform&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1));void 0!==t.MozTransform&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(n.animType=!1));void 0!==t.webkitTransform&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(n.animType=!1));void 0!==t.msTransform&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition",void 0===t.msTransform&&(n.animType=!1));void 0!==t.transform&&!1!==n.animType&&(n.animType="transform",n.transformType="transform",n.transitionType="transition");n.transformsEnabled=n.options.useTransform&&null!==n.animType&&!1!==n.animType};t.prototype.setSlideClasses=function(n){var u,i,r,f,t=this,e;(i=t.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),t.$slides.eq(n).addClass("slick-current"),!0===t.options.centerMode)?(e=t.options.slidesToShow%2==0?1:0,u=Math.floor(t.options.slidesToShow/2),!0===t.options.infinite&&(n>=u&&n<=t.slideCount-1-u?t.$slides.slice(n-u+e,n+u+1).addClass("slick-active").attr("aria-hidden","false"):(r=t.options.slidesToShow+n,i.slice(r-u+1+e,r+u+2).addClass("slick-active").attr("aria-hidden","false")),0===n?i.eq(i.length-1-t.options.slidesToShow).addClass("slick-center"):n===t.slideCount-1&&i.eq(t.options.slidesToShow).addClass("slick-center")),t.$slides.eq(n).addClass("slick-center")):n>=0&&n<=t.slideCount-t.options.slidesToShow?t.$slides.slice(n,n+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=t.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(f=t.slideCount%t.options.slidesToShow,r=!0===t.options.infinite?t.options.slidesToShow+n:n,t.options.slidesToShow==t.options.slidesToScroll&&t.slideCount-n<t.options.slidesToShow?i.slice(r-(t.options.slidesToShow-f),r+f).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+t.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==t.options.lazyLoad&&"anticipated"!==t.options.lazyLoad||t.lazyLoad()};t.prototype.setupInfinite=function(){var i,r,u,t=this;if(!0===t.options.fade&&(t.options.centerMode=!1),!0===t.options.infinite&&!1===t.options.fade&&(r=null,t.slideCount>t.options.slidesToShow)){for(u=!0===t.options.centerMode?t.options.slidesToShow+1:t.options.slidesToShow,i=t.slideCount;i>t.slideCount-u;i-=1)r=i-1,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r-t.slideCount).prependTo(t.$slideTrack).addClass("slick-cloned");for(i=0;i<u+t.slideCount;i+=1)r=i,n(t.$slides[r]).clone(!0).attr("id","").attr("data-slick-index",r+t.slideCount).appendTo(t.$slideTrack).addClass("slick-cloned");t.$slideTrack.find(".slick-cloned").find("[id]").each(function(){n(this).attr("id","")})}};t.prototype.interrupt=function(n){var t=this;n||t.autoPlay();t.interrupted=n};t.prototype.selectHandler=function(t){var i=this,u=n(t.target).is(".slick-slide")?n(t.target):n(t.target).parents(".slick-slide"),r=parseInt(u.attr("data-slick-index"));r||(r=0);i.slideCount<=i.options.slidesToShow?i.slideHandler(r,!1,!0):i.slideHandler(r)};t.prototype.slideHandler=function(n,t,i){var u,f,s,e,o,h=null,r=this;if(t=t||!1,!(!0===r.animating&&!0===r.options.waitForAnimate||!0===r.options.fade&&r.currentSlide===n))if(!1===t&&r.asNavFor(n),u=n,h=r.getLeft(u),e=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?e:r.swipeLeft,!1===r.options.infinite&&!1===r.options.centerMode&&(n<0||n>r.getDotCount()*r.options.slidesToScroll))!1===r.options.fade&&(u=r.currentSlide,!0!==i?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u));else if(!1===r.options.infinite&&!0===r.options.centerMode&&(n<0||n>r.slideCount-r.options.slidesToScroll))!1===r.options.fade&&(u=r.currentSlide,!0!==i?r.animateSlide(e,function(){r.postSlide(u)}):r.postSlide(u));else{if(r.options.autoplay&&clearInterval(r.autoPlayTimer),f=u<0?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+u:u>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:u-r.slideCount:u,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,f]),s=r.currentSlide,r.currentSlide=f,r.setSlideClasses(r.currentSlide),r.options.asNavFor&&(o=(o=r.getNavTarget()).slick("getSlick")).slideCount<=o.options.slidesToShow&&o.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),!0===r.options.fade)return!0!==i?(r.fadeSlideOut(s),r.fadeSlide(f,function(){r.postSlide(f)})):r.postSlide(f),void r.animateHeight();!0!==i?r.animateSlide(h,function(){r.postSlide(f)}):r.postSlide(f)}};t.prototype.startLoad=function(){var n=this;!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&(n.$prevArrow.hide(),n.$nextArrow.hide());!0===n.options.dots&&n.slideCount>n.options.slidesToShow&&n.$dots.hide();n.$slider.addClass("slick-loading")};t.prototype.swipeDirection=function(){var i,r,u,n,t=this;return i=t.touchObject.startX-t.touchObject.curX,r=t.touchObject.startY-t.touchObject.curY,u=Math.atan2(r,i),(n=Math.round(180*u/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===t.options.rtl?"left":"right":n<=360&&n>=315?!1===t.options.rtl?"left":"right":n>=135&&n<=225?!1===t.options.rtl?"right":"left":!0===t.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"};t.prototype.swipeEnd=function(){var t,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount();n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount();n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})};t.prototype.swipeHandler=function(n){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==n.type.indexOf("mouse")))switch(t.touchObject.fingerCount=n.originalEvent&&void 0!==n.originalEvent.touches?n.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),n.data.action){case"start":t.swipeStart(n);break;case"move":t.swipeMove(n);break;case"end":t.swipeEnd(n)}};t.prototype.swipeMove=function(n){var f,e,r,u,i,o,t=this;return i=void 0!==n.originalEvent?n.originalEvent.touches:null,!(!t.dragging||t.scrolling||i&&1!==i.length)&&(f=t.getLeft(t.currentSlide),t.touchObject.curX=void 0!==i?i[0].pageX:n.clientX,t.touchObject.curY=void 0!==i?i[0].pageY:n.clientY,t.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(t.touchObject.curX-t.touchObject.startX,2))),o=Math.round(Math.sqrt(Math.pow(t.touchObject.curY-t.touchObject.startY,2))),!t.options.verticalSwiping&&!t.swiping&&o>4?(t.scrolling=!0,!1):(!0===t.options.verticalSwiping&&(t.touchObject.swipeLength=o),e=t.swipeDirection(),void 0!==n.originalEvent&&t.touchObject.swipeLength>4&&(t.swiping=!0,n.preventDefault()),u=(!1===t.options.rtl?1:-1)*(t.touchObject.curX>t.touchObject.startX?1:-1),!0===t.options.verticalSwiping&&(u=t.touchObject.curY>t.touchObject.startY?1:-1),r=t.touchObject.swipeLength,t.touchObject.edgeHit=!1,!1===t.options.infinite&&(0===t.currentSlide&&"right"===e||t.currentSlide>=t.getDotCount()&&"left"===e)&&(r=t.touchObject.swipeLength*t.options.edgeFriction,t.touchObject.edgeHit=!0),t.swipeLeft=!1===t.options.vertical?f+r*u:f+r*(t.$list.height()/t.listWidth)*u,!0===t.options.verticalSwiping&&(t.swipeLeft=f+r*u),!0!==t.options.fade&&!1!==t.options.touchMove&&(!0===t.animating?(t.swipeLeft=null,!1):void t.setCSS(t.swipeLeft))))};t.prototype.swipeStart=function(n){var i,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return t.touchObject={},!1;void 0!==n.originalEvent&&void 0!==n.originalEvent.touches&&(i=n.originalEvent.touches[0]);t.touchObject.startX=t.touchObject.curX=void 0!==i?i.pageX:n.clientX;t.touchObject.startY=t.touchObject.curY=void 0!==i?i.pageY:n.clientY;t.dragging=!0};t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var n=this;null!==n.$slidesCache&&(n.unload(),n.$slideTrack.children(this.options.slide).detach(),n.$slidesCache.appendTo(n.$slideTrack),n.reinit())};t.prototype.unload=function(){var t=this;n(".slick-cloned",t.$slider).remove();t.$dots&&t.$dots.remove();t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove();t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove();t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")};t.prototype.unslick=function(n){var t=this;t.$slider.trigger("unslick",[t,n]);t.destroy()};t.prototype.updateArrows=function(){var n=this;Math.floor(n.options.slidesToShow/2);!0===n.options.arrows&&n.slideCount>n.options.slidesToShow&&!n.options.infinite&&(n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===n.currentSlide?(n.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-n.options.slidesToShow&&!1===n.options.centerMode?(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):n.currentSlide>=n.slideCount-1&&!0===n.options.centerMode&&(n.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),n.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))};t.prototype.updateDots=function(){var n=this;null!==n.$dots&&(n.$dots.find("li").removeClass("slick-active").end(),n.$dots.find("li").eq(Math.floor(n.currentSlide/n.options.slidesToScroll)).addClass("slick-active"))};t.prototype.visibility=function(){var n=this;n.options.autoplay&&(n.interrupted=document[n.hidden]?!0:!1)};n.fn.slick=function(){for(var u,i=this,r=arguments[0],f=Array.prototype.slice.call(arguments,1),e=i.length,n=0;n<e;n++)if("object"==typeof r||void 0===r?i[n].slick=new t(i[n],r):u=i[n].slick[r].apply(i[n].slick,f),void 0!==u)return u;return i}});define("externals/components/FeedV2WithSlider/_main",["jquery","services/anchorsModifierService","externals/components/MediaStateService/main","pluggins/src.socialbar","underscore","externals/components/UpdateableLineup/main","externals/components/ItemLineup/main"],function(n,t,i,r,u,f,e){function k(t){var i=n("a[name='"+t.name+"']");return n("html,body").animate({scrollTop:i.offset().top-40},500,t.complete)}var o=0,s,h,c,l,a,v,y,p=function(){this.init=function(t){var i,r,u;s=n(t).data("main-lineupid");h=n(t).data("tag-component-name");l=n(t).data("mindate");c=n(t).data("maxdate");a=n(t).data("image-dimension");v=n(t).data("console-dimension");y=n(t).data("avatar-mapping-source");i=n(t).find(".updateablelineup")[0];f.init(i);r=n(t).find(".itemlineup")[0];e.init(r);u=n(t).data("refresh");setInterval(function(){w(t)},u);n(t).find(".feedCount").click(function(){return k({name:"continuous-feed-list",complete:b(t)}),!1});n(t).find(".btnViewOlder").click(function(){d(t)})}},w=function(t){n.ajax({url:window.appRouteBunker+"/Component/Feed/New",contentType:"application/json",dataType:"html",data:{lineupId:s,maxDate:c,tagComponentName:h,imageDimensionInJson:JSON.stringify(a),consoleDimensionInJson:JSON.stringify(v),avatarMappingSource:y},success:function(i){var r,e,u,s;n.trim(i)!=""&&(r=n(i).html(),c=n(r).filter("article:first").data("publisheddate"),e=n(r)||n(),u=f.stack(e),u>0&&(o+=u,s=o>1?" nouveaux contenus":" nouveau contenu",n(t).find(".feedCount a").text(o+s),n(t).find(".feedCount").show()))},error:function(n,t,i){console.log("error!");console.log(n);console.log("Desc: "+t+"\nErr:"+i)}})},b=function(t){f.insertStacked();o=0;n(t).find(".feedCount").hide()},d=function(t){n("#plus").hide();n("#loader").show();n.ajax({url:window.appRouteBunker+"/Component/Feed/More",dataType:"html",data:{lineupId:s,minDate:l,tagComponentName:h,imageDimensionInJson:JSON.stringify(a),consoleDimensionInJson:JSON.stringify(v),avatarMappingSource:y},success:function(i){if(n.trim(i)!=""){var r=n(i).html();l=n(r).filter("article:last").data("publisheddate");f.add(r);n(window).trigger("sticky-change")}else n(t).find(".btnViewOlder").html("Aucune nouvelle antérieure.");n("#loader").hide();n("#plus").show()},error:function(n,t,i){console.log("error!");console.log(n);console.log("Desc: "+t+"\nErr:"+i)}})};return new p});define("externals/components/GridderLineup/main",["jquery","gridder","services/componentsService","underscore"],function(n,t,i){return function(){function u(t){n.each(t,function(t,r){i.initialize(n(r));i.initializeAll(r)})}function f(){var i=0;return n(t.mainElement).children(":first-child").children(":not(.content)").each(function(){if(n(this).prev(":not(.content)").length>0){if(n(this).position().top!=n(this).prev(":not(.content)").position().top)return!1;i++}else i++}),i}function e(){return n(t.mainElement).children(":first-child").children(":not(.content,.billBoard)").length}function o(){return n(t.mainElement).children(":first").children("div.bigbox").last()}function r(){return n(t.mainElement).children(":first-child").children(":not(.content)")}var t=this;t.mainElement={};t.config={};t.onItemClickCallback=null;t.gridderLineupId=null;t.isWaitingMode=!1;t.oldURL=ko.observable();t.Exceptions=null;t.urlMoreItems=window.appRouteBunker+"/component/GridderLineup/MoreItems";this.init=function(i){var u,r;t.mainElement=i;t.gridderLineupId=n(t.mainElement).data("uniqueid");window.gridderLineupInstance||(window.gridderLineupInstance={});window.gridderLineupInstance[t.gridderLineupId]=t;t.config=n(t.mainElement).data("config");t.showMoreContent(t.config.hasMoreItem);ko.utils.domNodeDisposal.addDisposeCallback(i,function(){t.mainElement=null;window.gridderLineupInstance[t.gridderLineupId]=null;delete window.gridderLineupInstance[t.gridderLineupId]});n(t.mainElement).gridderExpander({scroll:!1,scrollOffset:30,scrollTo:"panel",animationSpeed:400,animationEasing:"easeInOutExpo",showNav:!1,openExpanderFunction:function(){},nextButtonFunction:t.onNext,closeButtonFunction:t.onClose,previousButtonFunction:t.onPrevious,clickItemFunction:t.onItemClick,onStart:function(){},onContent:function(){},onClosed:function(){}});window.history!==undefined&&(u=n(t.mainElement).parent(),n(t.mainElement).parent().attr("data-component-name")=="GridderSpaLineup"&&(location.origin||(location.origin=location.protocol+"//"+location.host),t.oldURL(location.origin+u.attr("data-localpath"))));r=n("#place-publique");t.Exceptions=r;r.length>0&&t.resizeExceptions(r);ko.applyBindings(t,t.mainElement)};t.resizeExceptions=function(i){i.each(function(){var i=n(this);i.has(t.mainElement)&&(i.height()>=900?(i.css("background-size","contain"),i.css("background-position","initial")):(i.css("background-size","cover"),i.css("background-position","center center")))})};t.onNext=function(t,i,r){r||(r=$(t).find(".selectedItem"));r=n(r);var u=r.nextAll("article:first").find("a:first");u.attr("href")&&u.attr("href").indexOf("/nouvelles/special")>-1?document.location=u.attr("href"):window.liveApi.requestNavigation(u.attr("href"),!0)};t.onPrevious=function(n){var t=$(n).find(".selectedItem").prevAll("article:first").find("a:first");t.attr("href")&&t.attr("href").indexOf("/nouvelles/special")>-1?document.location=t.attr("href"):window.liveApi.requestNavigation(t.attr("href"),!0)};t.onClose=function(i,r){var u=n(i),f,e;r=r||!1;u.removeClass("hasSelectedItem");u.find(".selectedItem").removeClass("selectedItem");u.find(".gridder-show").hide();t.resizeExceptions(t.Exceptions);u.find(".gridder-expanded-content").children().empty();r&&window.history!==undefined&&(f=n(t.mainElement).parent(),f.attr("data-component-name")=="GridderSpaLineup"&&(e=document.title,document.title=n('meta[name="spa.ContextSansLineup"]').attr("content"),window.history.pushState(null,e,t.oldURL()),n('meta[name="spa.ContextSansLineup"]').attr("content","")))};t.onItemClick=function(i,r){if(n(r).hasClass("gridder-native-ad"))return document.location.href=n(r).data("griddercontent"),!0;if(t.isWaitingMode)return!1;var u=n(r);if(u.hasClass("nospa"))return!1;if(u.hasClass("selectedItem")){t.unsetSelectedItem(i,r);t.onClose(i);return!1}n.each(n('div[data-component-name="GridderLineup"].hasSelectedItem'),function(n,i){if(r.parentElement.parentElement!=i)t.onClose(i)});t.addWaitingBlock(i,r);t.onItemClickCallback!=null&&t.onItemClickCallback()};t.setSelectedItem=function(i,r){var u=n(r);t.unsetSelectedItem(i);u.hasClass("selectedItem")||u.addClass("selectedItem");i.hasClass("hasSelectedItem")||i.addClass("hasSelectedItem")};t.unsetSelectedItem=function(n){n.find(".selectedItem").removeClass("selectedItem")};t.addWaitingBlock=function(i,r){var u=n(r);t.isWaitingMode=!0};t.getItemByUrl=function(i){var r=n(t.mainElement).find('article[data-griddercontent="'+i+'"]:first'),u,f;return r.length<1&&(u=i.split("/"),f=u[u.length-2],r=n(t.mainElement).find('article[data-article-id-document="'+f+'"]:first'),r.length<1)?null:r.get(0)};t.removeWaitingBlock=function(){setTimeout(function(){t.isWaitingMode=!1},1500)};t.moreContentProcess=ko.observable(!1);t.showMoreContent=ko.observable(!0);t.clickMoreItems=function(){t.moreContentProcess(!0);delete t.config.nbItemToShow;t.processClickMoreItems(t.urlMoreItems,t.config)};t.fillEmptyPlaceInRow=function(){var n=f(),u=e(),i=u%n,r;i!==0&&(r=n-i,t.config.nbItemToShow=r,t.processClickMoreItems(t.urlMoreItems,t.config))};t.getFirstItem=function(){return r().first()};t.processClickMoreItems=function(i,u){var e=o(),f=r(),s=f.length-f.index(e)-1;u.insertFirstBigBoxAt=t.config.insertBigBoxEvery-s-1;n.ajax({url:i,data:u}).done(t.onMoreItemsDone).complete(t.onMoreItemComplete)};t.onMoreItemsDone=function(i){var f=n(i).children(),e=n(t.mainElement),r;e.children("div:first").append(f);u(f);r=n(i).data("config");t.config.indexInCurrentPage=r.indexInCurrentPage;t.config.currentPage=r.currentPage;t.config.hasMoreItem=r.hasMoreItem;t.showMoreContent(t.config.hasMoreItem);t.config.hasMoreItem&&t.fillEmptyPlaceInRow()};t.onMoreItemComplete=function(){t.moreContentProcess(!1);t.resizeExceptions(t.Exceptions)}}});define("externals/components/GridderSpaLineup/main",["jquery","externals/components/PushStateControl/pushStateService","underscore"],function(n,t,i){return function(){function o(){return n(r.mainElement).find(".gridder-show.content")}function c(){var t=o();t.length<1||setTimeout(function(){n("html, body").animate({scrollTop:t.offset().top-100},500,"swing",function(){setTimeout(function(){n(r.mainElement).find("article.bunker-component.text-body-content").focus()},1)})},300)}function s(t){var l,s;if(e=window.location.pathname,l=new RegExp(f),l.exec(e)){var u=o(),i=t.getItemByUrl(window.location.pathname),a=i!=null;if(a)u.insertAfter(n(i)),r.gridder.setSelectedItem(n(t.mainElement),i);else{if(i=t.getFirstItem(),i==null)return;u.insertBefore(n(i))}s=n('div[data-component-name="GridderLineup"].hasSelectedItem');s.length>1&&n.each(s,function(n,i){if(t.mainElement!=i)t.onClose(i,!1)});t.removeWaitingBlock();u.show();h(i);c();r.gridder.resizeExceptions(n("#place-publique"))}}function l(){return{closeContent:function(n,t){t.preventDefault();r.gridder.onClose(r.gridder.mainElement,this)},showPrevious:function(n,t){t.preventDefault();r.gridder.onPrevious(r.gridder.mainElement,this)},showNext:function(n,t){t.preventDefault();var i=r.gridder.getItemByUrl(window.location.pathname);if(i==null){r.gridder.getFirstItem().find("a:first").trigger("click");return}r.gridder.onNext(r.gridder.mainElement,this,i)}}}function a(n){var t=new RegExp(f);t.exec(n)&&i.waitUntilIsUndifined(function(){return window.gridderLineupInstance&&window.gridderLineupInstance[u]},300,function(){var n=window.gridderLineupInstance[u];s(n)})}function v(){return n(r.mainElement).find(".gridder-show").get(0)}var r=this,h;r.mainElement={};r.gridder=null;var f="",u="",e=window.location.pathname;h=function(t){(t||(t=n(r.mainElement).find(".selectedItem")),t)&&(t=n(t),t.nextAll("article:first").find("a:first").length!=0?n(r.mainElement).find(".gridder-nav.next").removeProp("disabled"):n(r.mainElement).find(".gridder-nav.next").prop("disabled","true"),t.prevAll("article:first").find("a:first").length!=0?n(r.mainElement).find(".gridder-nav.prev").removeProp("disabled"):n(r.mainElement).find(".gridder-nav.prev").prop("disabled","true"))};this.init=function(e){r.mainElement=e;u=n(r.mainElement).data("uniqueid");window.gridderSpaLineupInstance||(window.gridderSpaLineupInstance={});window.gridderSpaLineupInstance[u]=r;ko.utils.domNodeDisposal.addDisposeCallback(e,function(){r.mainElement=null;window.gridderSpaLineupInstance[u]=null;delete window.gridderSpaLineupInstance[u]});var o=n(r.mainElement).find('div[data-component-name="PushStateControl"]');f=o.data("model").UrlPattern;t.subscribePushEventEnded(a);i.waitUntilIsUndifined(function(){return window.gridderLineupInstance&&window.gridderLineupInstance[u]},20,function(){r.gridder=window.gridderLineupInstance[u];var t=r.gridder.config,i=n(r.mainElement);t.lineupname=i.data("lineupname");t.localpath=i.data("localpath");t.pushStateControlId=i.data("pushstatecontrolid");t.placeHolderPushState=i.data("placeholderpushstate");r.gridder.urlMoreItems=window.appRouteBunker+"/component/GridderSpaLineup/MoreItems";r.gridder.fillEmptyPlaceInRow();ko.applyBindings(l(),v());s(r.gridder)})}}});define("externals/components/HorizontalTemplatedLineupWithTray/main",["jquery"],function(n){return function(){var t=this,i={};this.init=function(r){t.closedTrayText=n(r).attr("data-closed-tray-text");t.openedTrayText=n(r).attr("data-opened-tray-text");i=r;ko.applyBindings(t,i)};t.toggleTray=function(){btnTxt=n(i).find(".accordion-btn-tag").text();n(i).find(".tray-panel-colapsible").slideToggle();n(i).find("button").toggleClass("accordion-opened");n(i).find(".accordion-btn-tag").text(btnTxt.localeCompare(t.openedTrayText)?t.openedTrayText:t.closedTrayText)}}});define("externals/components/InfoProgramTeaserLineup/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/MostPopular/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/TemplateStack/main",["jquery","services/plusLineupService"],function(n,t){return function(){this.init=function(i){(new t).init(i,{classContainerSelector:".newsContainer",itemSelector:"article",mediaSelector:"img",itemsCount:parseInt(n(i).data("item-count")),lineupId:parseInt(n(i).data("lineupid")),newsTagComponentName:n(i).data("news-tag-component-name"),componentUrl:window.appRouteBunker+"/Component/NewsLineUp/Content/",hasPartenaire:n(i).data("partenaire")})}}});define("externals/components/ContainerTicker/main",["jquery","underscore","services/document/dateTimePublishedService"],function(n,t,i){return function(){var r=this,h={},l="ticker-is-shown",u,f;r.listTickerBreaking=ko.observableArray([]);u=ko.observableArray([]);r.listTickerAmber=ko.observableArray([]);f=ko.observableArray([]);r.showTicker=ko.observable();r.refreshPage=ko.observable(!1);r.animShowTicker=ko.observable(!0);r.amberReadyToShow=ko.observable(!1);r.breakingReadyToShow=ko.observable(!1);r.showSchool=ko.observable(!1);r.buttonCloseAlert=function(t,i){myParent=n(i.target).closest(".one-ticker");clearInterval(t.intervalTimer);t.visible(!1);setTimeout(function(){w(t)},150)};r.buttonCloseSchool=function(){o("RC_CLOSE_SCHOOL","hide",.5,"/",".radio-canada.ca");r.showSchool(!1);s();n(".title-ticker-ecole").removeClass("show")};var w=function(t){var i,u;r.animShowTicker(!1);myParent.data("list")=="amber"?(i=decodeURIComponent(e("RC_ALERT_AMBER")),i=i!=""?i+","+t.id:t.id,o("RC_ALERT_AMBER",i,"1","/",".radio-canada.ca"),r.listTickerAmber.remove(function(n){return n.id==t.id})):myParent.data("list")=="breaking"&&(u=decodeURIComponent(e("RC_ALERT_BREAKING")),u=u!=""?u+","+t.id:t.id,o("RC_ALERT_BREAKING",u,"1","/",".radio-canada.ca"),r.listTickerBreaking.remove(function(n){return n.id==t.id}));s();r.listTickerAmber().length==0&&r.listTickerBreaking().length==0&&(a("RC_ALERT_AMBER"),a("RC_ALERT_BREAKING"),n(".header-item-container").removeAttr("style"),n(".live-container").removeAttr("style"),n(".src-vertical-nav").removeAttr("style"),n("#src-container").removeAttr("style"),n("body").removeClass("ticker-is-shown"),r.amberReadyToShow(!1),r.breakingReadyToShow(!1))},a=function(n){o(n,"",-1)},o=function(n,t,i,r,u,f){var e,o;i?(e=new Date,e.setTime(e.getTime()+i*864e5),o=e.toGMTString()):o="";cookieString=n+"="+escape(t);o&&(cookieString+="; expires="+o);r&&(cookieString+="; path="+escape(r));u&&(cookieString+="; domain="+escape(u));f&&(cookieString+="; secure");document.cookie=cookieString},e=function(n){var t=n+"=";return document.cookie.indexOf(t)!=-1?document.cookie.split(t)[1].split(";")[0]:""},c=function(t,u){n.ajax({type:"GET",url:window.neuroHost+"/future/lineups/4502",contentType:"text/plain",xhrFields:{withCredentials:!1},beforeSend:function(n){window.neuroHostKey&&window.neuroHostKey!=""&&n.setRequestHeader("Authorization","Client-Key "+window.neuroHostKey)},success:function(n){var o,t,u,l,h,c;f.removeAll();r.listTickerAmber().sort(function(n,t){return t.id-n.id});n&&(o=[],t=n.pagedList.items[0],t!=null&&(t.id=new Date(t.publishedLastTimeAt).getTime(),u=i.getPublishedDateTimeFormatted(moment(t.publishedLastTimeAt)),u=u.replace(/Publi. /g,""),l={title:t.title,time:u,id:t.id,url:t.canonicalWebLink!=null?t.canonicalWebLink.href:null,visible:ko.observable(!1),remove:!1},o.push(l),f(o),h=decodeURIComponent(e("RC_ALERT_AMBER")).split(","),h!=""&&h.forEach(function(n){f.remove(function(t){return t.id==n})}),r.listTickerAmber(r.listTickerAmber().filter(function(n){var t=f().find(function(t){return t.id===n.id});return t!=undefined?(n.visible(!0),!0):!1})),r.listTickerAmber().forEach(function(n){f.remove(function(t){return t.id==n.id})}),f().sort(function(n,t){return t.id-n.id}),r.listTickerAmber(r.listTickerAmber().concat(f())),r.listTickerAmber().sort(function(n,t){return t.id-n.id}),s(),r.amberReadyToShow(!0),c=[],c.push(y),p(c)))},error:function(){}});u===!1&&r.listTickerBreaking.removeAll();v(t,!0,".ticker-container","data-lineupid-breaking-news");v(t,u,".ticker-container","data-lineupid-breaking-news-regionale")},v=function(t,f,o,h){try{f&&(t=n(o).attr(h))}catch(c){}t>0&&(lineupId=t,n.ajax({type:"GET",url:window.neuroHost+"/future/lineups/"+lineupId,contentType:"text/plain",xhrFields:{withCredentials:!1},beforeSend:function(n){window.neuroHostKey&&window.neuroHostKey!=""&&n.setRequestHeader("Authorization","Client-Key "+window.neuroHostKey)},success:function(n){var t,f,o;u.removeAll();n&&(t=[],n.pagedList.items.forEach(function(n){n.id=new Date(n.publishedLastTimeAt).getTime();var i={title:n.title,time:ko.observable(),publishedLastTimeAt:n.publishedLastTimeAt,id:n.id,url:n.canonicalWebLink!=null?n.canonicalWebLink.href:null,visible:ko.observable(!1),remove:!1,intervalTimer:null};t.push(i)}),u(t),f=decodeURIComponent(e("RC_ALERT_BREAKING")).split(","),f!=""&&f.forEach(function(n){u.remove(function(t){return t.id==n})}),r.listTickerBreaking(r.listTickerBreaking().filter(function(n){var t=u().find(function(t){return t.id===n.id});return n!=null?(n.visible(!0),!0):(n.visible(!1),!1)})),r.listTickerBreaking().forEach(function(n){u.remove(function(t){return t.id==n.id})}),r.listTickerBreaking(u().concat(r.listTickerBreaking())),r.listTickerBreaking().forEach(function(n){var t=i.getPublishedDateTimeFormatted(moment(n.publishedLastTimeAt));t=t.replace(/Publi. /g,"");n.time(t);u.remove(function(t){return t.id==n.id})}),s(),r.breakingReadyToShow(!0),o=[],o.push(y),p(o))},error:function(){}}))},y=function(){var n=new CustomEvent("radio-canada.alerts.ticker-changed",{detail:nbItems});document.dispatchEvent(n)},s=function(){n("body").removeClass("ticker-title-1 ticker-title-2 ticker-title-3 ticker-1 ticker-2 ticker-3 ticker-4 ticker-5 ticker-6 ticker-7 ticker-8");nbTicker="ticker-";nbItems=Number(r.listTickerAmber().length)+Number(r.listTickerBreaking().length);nbTickerTitle=0;var t=e("RC_CLOSE_SCHOOL");n(".ticker-ecole").length&&t==""&&(nbItems++,nbTickerTitle++);nbTicker=nbTicker+nbItems;r.showTicker&&!n("body").hasClass(l)&&n("body").addClass(l);r.listTickerAmber().length>0?(nbTickerTitle++,n(".title-ticker-amber").addClass("show")):n(".title-ticker-amber").removeClass("show");r.listTickerBreaking().length>0?(nbTickerTitle++,n(".title-ticker-breaking").addClass("show")):n(".title-ticker-breaking").removeClass("show");nbTickerTitleSuffix="ticker-title-";nbTickerLabel=nbTickerTitleSuffix+nbTickerTitle;nbItems!=0&&(n("body").addClass(nbTicker),n("body").addClass(nbTickerLabel));r.showTicker(!0);r.listTickerAmber().forEach(function(n){n.visible(!0)});r.listTickerBreaking().forEach(function(n){n.visible(!0)})},p=function(i){r.breakingReadyToShow()?n(".container-ticker-breaking").addClass("show-ticker"):n(".container-ticker-breaking").removeClass("show-ticker");r.amberReadyToShow()?n(".container-ticker-amber").addClass("show-ticker"):n(".container-ticker-amber").removeClass("show-ticker");i&&i.length>0&&i.forEach(function(n){t.isFunction(n)&&n()})},b=function(n,t){d(t);k()},k=function(){n(n(h).find(".schools-ticker-container")).remove()},d=function(t){n.ajax("/unit/component/ContainerTicker/Region?id="+t.regionPrincipaleId).done(function(n){c(n.lineupId,!1)})},g=function(n){var t=i.getPublishedDateTimeFormatted(moment(n.publishedLastTimeAt));t=t.replace(/Publi. /g,"");n.time(t)};this.init=function(t){h=t;ko.applyBindings(r,h);o("RC_ALERT_AMBER","","1","/",".radio-canada.ca");c(void 0,!0);setInterval(c,3e5);n(document).on("region:principale:change",b);var i=e("RC_CLOSE_SCHOOL");i==""&&(r.showSchool(!0),n(".title-ticker-ecole").addClass("show"))}}});define("externals/components/DynamicSubMenu/main",["jquery","externals/components/PushStateControl/pushStateService","services/viewportService"],function(n,t){return function(){var r=this,f,u,e,i,o,s;r.currentPath=ko.observable();i={};o=function(n){r.currentPath(n)};this.init=function(u){var f,e;i=u;r.currentPath(document.location.pathname);f=[];n(i).find("a").each(function(t,i){var u=n(i).attr("href");r.currentPath().indexOf(u)!=-1&&f.push(u)});f.length>1&&(e=-1,f.forEach(function(n){e<n.lastIndexOf("/")&&r.currentPath(n)}));t.subscribePushEventEnded(o);ko.applyBindings(r,i);s()};s=function(){if(n(i).find(".active").length!==0){f=n(i).find(".active").position().left;u=n(i).find(".active").outerWidth(!0);var t=u*n(i).find("li").length;e=f-u/2;n(i).width()<t&&(n(i).find(".dynamic-submenu-list").width(t),n(i).scrollLeft(e))}}}});define("externals/components/HeaderRoot/main",["jquery","services/viewportService","underscore"],function(n,t){return function(){var i=this,u={};i.classMenu=ko.observable("");var o=t.getViewport(),s=n(window).scrollTop(),e="Ouvrir",f="Fermer",r=" la navigation principale de Radio-Canada";i.navTitleText=ko.observable(f+r);i.closedText=ko.observable("Ouvrir le tiroir audio-vid\351o");i.openedText=ko.observable("Fermer le tiroir audio-vid\351o");i.visibleElement=ko.observable(!1);i.btnHomePage=null;i.classNotification=ko.observable("");i.enableLive=ko.observable(!1);i.buttonText=ko.computed(function(){return i.visibleElement()?i.openedText():i.closedText()},i);i.handlerPanelOpenclose=function(n,t){i.visibleElement(t.open);i.buttonText()};n(document).on("livepanel:open",i.handlerPanelOpenclose);n(document).on("livepanel:close",i.handlerPanelOpenclose);this.init=function(t){u=t;i.btnHomePage=$(u).find("a#src-logo-home-link");n(document).on("navigation:openClose:close",function(){i.navTitleText(e+r)});n(document).on("navigation:openClose:open",function(){i.navTitleText(f+r)});n(document).on("livePanel:notification:displayed",function(){});n(document).on("livePanel:notification:add",function(){i.visibleElement()||i.classNotification("live-notification")});n(document).on("livePanel:notification:remove",function(){i.visibleElement()||i.classNotification("")});n(document).on("LivePanel:contentReady",function(){i.enableLive(!0)});n(i.btnHomePage).on("click",function(){n(document).trigger("header:btnHomePage:click")});ko.applyBindings(i,u)};i.toggleNav=function(){i.navTitleText().indexOf("Ouvrir")!=-1?i.navTitleText(f+r):i.navTitleText(e+r);n(document).trigger("header:hamburger:click")};i.showOrHideLivePanel=function(){i.visibleElement(!i.visibleElement());n(document).trigger("header:live:click");i.classNotification("")};i.showLivePanelFromNotification=function(){n(document).trigger("header:notification:click")}}});define("externals/components/LivePanel/liveFeed",["jquery","underscore"],function(n,t){var i=function(){function a(n,t,r,f){c=String(l+"api/v1/schedules/tele/{0}/premiere/{1}/icimusique/{2}").replace("{0}",r).replace("{1}",t).replace("{2}",f);i=[];setTimeout(function(){u(n)},12e4)}function s(i,r){var u=null;return n.each(i,function(n,i){var f=t.isFunction(i.stationCodeName)?i.stationCodeName():i.stationCodeName;if(f==r){u=i;return}}),u}function v(n){for(var n,i=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g,],r=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"],t=0;t<i.length;t++)n=n.replace(i[t],r[t]);return n=n.replace(/\.\.\./g,""),n=n.replace(/%/g,""),n=n.replace(/:/g,"-"),n=n.replace(/\(/g,"-"),n=n.replace(/\)/g,"-"),n=n.replace(/!/g,""),n=n.replace(/\?/g,""),n=n.replace(/<(.|\n)*?>/ig,""),n=n.replace(/\//g,"-"),n=n.replace(/#/g,"-"),n.replace(/\|/g,"-")}var f=this,h=t.once(a),c="",l=window.appHost,i,e,o,r,u;this.init=function(n,t,i,r){h(n,t,i,r)};e=function(t){var u=i.filter(function(n){return n.broadcastingNetwork==t.broadcastingNetwork}),f;if(u.length>0)t.broadcastingNetwork!=111?t.programme!=null?(u[0].titleAlt(n("<p>"+t.programme.title+"<\/p>").text()+u[0].suffixeAlt),u[0].title(t.programme.title),u[0].imageUrl(t.programme.pictureUrl!=""&&t.programme.pictureUrl!=null?t.programme.pictureUrl.replace("{0}","640").replace("{1}","16x9"):"/unit/Content/audiovideo/images/Default_310x174.jpg"),u[0].url(encodeURI(t.programme.url!=null?t.programme.url:"")),u[0].startDateTimeLocal=moment(t.scheduleItem.startsAt)._d,u[0].endsDateTimeLocal=moment(t.scheduleItem.endsAt)._d,u[0].progressbar(0),u[0].progressbarValue(0),clearInterval(u[0].interval),u[0].interval=setInterval(function(){u[0].setProgressbarWidth()},5e3),n(document).trigger("liveFeedSvc:notification:programme:update",[u[0]])):(u[0].titleAlt(n("<p>"+t.scheduleItem.title+"<\/p>").text()+u[0].suffixeAlt),u[0].title(t.scheduleItem.title),u[0].imageUrl(t.scheduleItem.moleculePictureUrl!=""&&t.scheduleItem.moleculePictureUrl!=null?t.scheduleItem.moleculePictureUrl:"/unit/Content/audiovideo/images/Default_310x174.jpg"),u[0].url(encodeURI(t.scheduleItem.url!=null?t.scheduleItem.url:"")),u[0].startDateTimeLocal=moment(t.scheduleItem.startsAt)._d,u[0].endsDateTimeLocal=moment(t.scheduleItem.endsAt)._d,u[0].progressbar(0),u[0].progressbarValue(0),clearInterval(u[0].interval),u[0].interval=setInterval(function(){u[0].setProgressbarWidth()},5e3),n(document).trigger("liveFeedSvc:notification:programme:update",[u[0]])):(u[0].startDateTimeLocal=moment(t.scheduleItem.startsAt)._d,u[0].endsDateTimeLocal=moment(t.scheduleItem.endsAt)._d,u[0].progressbar(0),u[0].progressbarValue(0),clearInterval(u[0].interval),u[0].interval=setInterval(function(){u[0].setProgressbarWidth()},5e3),n(document).trigger("liveFeedSvc:notification:programme:update",[u[0]]));else if(t.broadcastingNetwork!=111){t.stationCodeName="cbf";switch(t.broadcastingNetwork){case 1:t.networkName="ici-télé";t.title=t.scheduleItem.title;t.imageUrl=t.scheduleItem.moleculePictureUrl!=""&&t.scheduleItem.moleculePictureUrl!=null?t.scheduleItem.moleculePictureUrl:"/unit/Content/audiovideo/images/Default_310x174.jpg";t.slugChaine="ici-tele";t.chaineSVG="tele";t.callJS="window.liveApi.playTele()";t.urlChaine="/tele";t.startsAt=t.scheduleItem.startsAt;t.endsAt=t.scheduleItem.endsAt;break;case 3:t.networkName="ici-premiere";t.title=t.programme.title;t.imageUrl=t.programme.pictureUrl!=""&&t.programme.pictureUrl!=null?t.programme.pictureUrl.replace("{0}","640").replace("{1}","16x9"):"/unit/Content/audiovideo/images/Default_310x174.jpg";t.slugChaine="ici-premiere";t.chaineSVG="premiere";t.callJS="window.liveApi.playPremiere()";t.urlChaine="/premiere";t.startsAt=t.scheduleItem.startsAt;t.endsAt=t.scheduleItem.endsAt;break;case 4:t.networkName="ici-musique";t.title=t.programme.title;t.imageUrl=t.programme.pictureUrl!=""&&t.programme.pictureUrl!=null?t.programme.pictureUrl.replace("{0}","640").replace("{1}","16x9"):"/unit/Content/audiovideo/images/Default_310x174.jpg";t.slugChaine="ici-musique";t.chaineSVG="musique";t.callJS="window.liveApi.playIciMusique()";t.urlChaine="http://www.icimusique.ca";t.startsAt=t.scheduleItem.startsAt;t.endsAt=t.scheduleItem.endsAt}f=r(t);i.push(f);n(document).trigger("liveFeedSvc:notification:programme:add",[f])}};o=function(t){t.broadcastingNetwork=="tele"&&(t.broadcastingNetwork=1);var r=i.filter(function(n){return n.broadcastingNetwork==t.broadcastingNetwork});i.forEach(function(n){n.classBtn("play-button icon-rc_media_play");n.isPlayingNow=!1});r.length>0&&(t.eventName=="paused"&&(r[0].classBtn("play-button icon-rc_media_play"),r[0].isPlayingNow=!1),t.eventName=="waiting"&&r[0].classBtn("play-button icon-rc_media_play is-loading"),t.eventName=="playing"&&(r[0].classBtn("stop-button icon-rc_media_stop"),r[0].isPlayingNow=!0));n(document).trigger("liveFeedSvc:notification:state",[t])};f.initElements=function(t){return n.each(t,function(n,t){r(t)}),i=t};r=function(i){i.suffixeAlt=i.networkName=="toutv"?' (Nouvelle fen\352tre)':i.isAudio?" (\311couter l'audio)":" (\311couter la vid\351o)";i.broadcastingNetwork=i.idWebDiff!=null&&i.idWebDiff!=""?i.idWebDiff:i.broadcastingNetwork;i.stationCodeName=ko.observable(i.stationCodeName);i.imageUrl=ko.observable(i.imageUrl!=""?i.imageUrl:"/unit/Content/audiovideo/images/Default_310x174.jpg");i.networkName=ko.observable(i.networkName);i.titleAlt=ko.observable(n("<p>"+i.title+"<\/p>").text()+i.suffixeAlt);i.title=ko.observable(i.title+(i.showEllipsis?"&nbsp;...":" "));i.imageAlt=i.networkName=="toutv"?i.alt:"";var r=i.appCode=="medianetlive"?"livem":"network";return i.url=ko.observable(encodeURI(i.url!=null?i.url:"")),i.logoNetwork=ko.observable(isNaN(i.stationCodeName()/i.stationCodeName())?'<img src="/unit/Content/_images/logo/svg/branding-color-full/'+v(i.networkName().replace(/ /g,"-")).toLowerCase().replace("ici-","")+'.svg" alt="'+i.networkName()+'" role="img" />':"En direct"),i.progressbar=ko.observable(0),i.progressbarValue=ko.observable(0),i.showProgress=ko.observable(!1),i.chaineSVG=ko.observable("/unit/Content/_images/logo/svg/branding-color-full/"+i.chaineSVG+".svg"),i.slugChaine=ko.observable(i.slugChaine),i.urlChaine=ko.observable(i.urlChaine),i.isAudio=ko.observable(i.isAudio),i.target=ko.observable(document.location.pathname.indexOf("audio-video")!=-1?"":"_blank"),i.classBtn=ko.observable("play-button icon-rc_media_play"),i.evalIfTab=function(){return-1},i.startsAt!=null&&i.endsAt!=null&&(i.progressbar=ko.observable(),i.progressbarValue=ko.observable(),i.startDateTimeLocal=moment(i.startsAt)._d,i.endsDateTimeLocal=moment(i.endsAt)._d,i.Showlength=i.endsDateTimeLocal-i.startDateTimeLocal,i.callJS=i.callJS,i.setProgressbarWidth=function(){var t=moment(),n=Math.round((t-this.startDateTimeLocal.getTime())/(this.endsDateTimeLocal.getTime()-this.startDateTimeLocal.getTime())*100);this.progressbar(n+"%");this.progressbarValue(n);n>=100&&clearInterval(this.interval)},i.setProgressbarWidth(),i.interval=setInterval(function(){i.setProgressbarWidth()},5e3),i.showProgress(!0)),i.newElement=i.appCode=="medianetlive"?!0:!1,i.isPlayingNow=!1,i.handler_click=function(n,i){if(n.callJS!=""&&n.callJS!=null)i.preventDefault(),t.waitUntilIsUndifined(function(){return window.liveApi},100,function(){n.isPlayingNow?(n.isPlayingNow=!1,n.isAudio()?window.liveApi.stopAudio():window.liveApi.stopVideo()):(n.isPlayingNow=!0,eval(n.callJS))});else return!0},i.broadcastingNetwork==0&&i.networkName()!="toutv"&&n(document).trigger("livePanel:notification:add"),i.broadcastingNetwork==111&&(i.imageUrl("https://images.icimusique.ca/q_auto,w_640/v1/ici-musique/émissions/16x9/logomuse.jpg"),i.title("Muse")),i};window.liveApiEvent=function(n){n.type=="liveProgrammeUpdate"&&(n!=null?e(n):console.log("erreur dans update === "+n));n.type=="listenEvent"&&o(n)};u=function(t){n.ajax("/unit/component/livePanel/Webdiffusions?lineupId="+t).done(function(t){n.each(t,function(t,u){var f=s(i,u.stationCodeName);f==null?(u=r(u),i.splice(t,0,u),n(document).trigger("liveFeedSvc:notification:webdiffusion:add",[u]),n(document).trigger("livePanel:notification:add")):(f.title(u.title+(u.showEllipsis?"&nbsp;...":" ")),f.imageUrl(u.imageUrl!=""?u.imageUrl:"/unit/Content/audiovideo/images/Default_310x174.jpg"),i.splice(n.inArray(f,i),1),i.splice(t,0,f),n(document).trigger("liveFeedSvc:notification:webdiffusion:update",[f]))});var f=!0,u=[];n.each(i,function(n,i){if(i.urlChaine().indexOf("tou.tv")==-1&&i.endsAt==null){var r=s(t,i.stationCodeName());r==null?u.push(i):f=!1}});n.each(u,function(t,r){clearInterval(r.interval);i.splice(n.inArray(r,i),1);n(document).trigger("liveFeedSvc:notification:webdiffusion:delete",[u])});f&&n(document).trigger("livePanel:notification:remove")}).error(function(){}).complete(function(){setTimeout(function(){u(t)},6e4)})}};return new i});define("externals/components/LivePanel/liveFeedV2",["jquery","underscore","moment"],function(n,t,i){var r=function(){function a(n){n.type=="liveProgrammeUpdate"&&(n!=null?w(n):console.log("erreur dans update === "+n));n.type=="listenEvent"&&b.apply(r,[n])}function k(){r.objCall={};r.liveTele=f();r.livePremiere=f();r.liveMusique=f();r.liveMuse=f();r.touttv=null;window.liveFeedV2.liveApiEvents&&window.liveFeedV2.liveApiEvents.forEach(function(n){a(n)});window.liveFeedV2.onLiveApiEvent=a}function v(i,r){var u=null;return n.each(i,function(n,i){var f=t.isFunction(i.idWebDiff)?i.idWebDiff:i.idWebDiff;if(f==r){u=i;return}}),u}function f(){return{idWebDiff:"0",suffixeAlt:"",broadcastingNetwork:"",stationCodeName:ko.observable(""),imageUrl:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),defaultImage:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlLG:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlMD:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlSM:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlLPLG:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlLPMD:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlLPSM:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),imageUrlLPXS320px:ko.observable("/unit/Content/_images/util/Default_310x174.jpg"),networkName:ko.observable(""),titleAlt:ko.observable(""),title:ko.observable(""),imageAlt:ko.observable(""),url:ko.observable(""),target:ko.observable("_self"),logoNetwork:ko.observable(""),progressbar:ko.observable(0),progressbarValue:ko.observable(0),showProgress:ko.observable(!1),chaineSVG:ko.observable("En direct"),slugChaine:ko.observable(""),urlChaine:ko.observable(""),isAudio:ko.observable(""),classBtn:ko.observable("play-button icon-rc_media_play"),startDateTimeLocal:null,endsDateTimeLocal:null,Showlength:null,callJS:ko.observable(""),index:0,setProgressbarWidth:setProgressbarWidth=function(){var t=i(),n=Math.round((t-this.startDateTimeLocal.getTime())/(this.endsDateTimeLocal.getTime()-this.startDateTimeLocal.getTime())*100);this.progressbar(n+"%");this.progressbarValue(n);n>=100&&clearInterval(this.interval)},interval:null,showProgress:ko.observable(),newElement:!1,isPlayingNow:!1,handler_click:function(n,i){if(n.callJS()!=""&&n.callJS()!=null)i.preventDefault(),t.waitUntilIsUndifined(function(){return window.liveApi},100,function(){n.isPlayingNow?(n.isPlayingNow=!1,n.isAudio()?window.liveApi.stopAudio():window.liveApi.stopVideo()):(n.isPlayingNow=!0,eval(n.callJS()))});else return!0}}}function e(t,r){return r.idWebDiff=t.idWebDiff,r.suffixeAlt=t.networkName=="toutv"?' (Nouvelle fen\352tre)':t.isAudio?" (\311couter l'audio)":" (\311couter la vid\351o)",r.broadcastingNetwork=t.idWebDiff!=null&&t.idWebDiff!=""?t.idWebDiff:t.broadcastingNetwork,r.stationCodeName(t.stationCodeName),r.imageUrl(t.imageUrl!=""?t.imageUrl:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlLG(t.imageUrlLG!=""?t.imageUrlLG:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlMD(t.imageUrlMD!=""?t.imageUrlMD:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlSM(t.imageUrlSM!=""?t.imageUrlSM:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlLPLG(t.imageUrlLPLG!=""?t.imageUrlLPLG:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlLPMD(t.imageUrlLPMD!=""?t.imageUrlLPMD:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlLPSM(t.imageUrlLPSM!=""?t.imageUrlLPSM:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.imageUrlLPXS320px(t.imageUrlLPXS320px!=""?t.imageUrlLPXS320px:"/unit/Content/audiovideo/images/Default_310x174.jpg"),r.networkName(t.networkName),r.titleAlt(n("<p>"+t.title+"<\/p>").text()+r.suffixeAlt),r.title(t.title+(t.showEllipsis?"&nbsp;...":" ")),r.imageAlt=t.networkName=="toutv"?t.alt:"",r.url(encodeURI(t.url!=null?t.url:r.url()!=null?r.url():"")),r.logoNetwork(t.chaineSVG=="En direct"?"En direct":'<img src="/unit/Content/_images/logo/svg/branding-color-full/'+t.chaineSVG+'.svg" alt="'+r.networkName()+'" role="img" />'),r.chaineSVG(t.chaineSVG=="En direct"?"En direct":"/unit/Content/_images/logo/svg/branding-color-full/"+t.chaineSVG),r.slugChaine(t.slugChaine),r.urlChaine(t.urlChaine),r.isAudio(t.isAudio),r.callJS(t.callJS),r.index=t.index,r.evalIfTab=function(){return-1},t.startsAt!=null&&t.endsAt!=null&&(r.startDateTimeLocal=i(t.startsAt)._d,r.endsDateTimeLocal=i(t.endsAt)._d,r.Showlength=r.endsDateTimeLocal-r.startDateTimeLocal,r.setProgressbarWidth(),r.interval=setInterval(function(){r.setProgressbarWidth()},5e3),r.showProgress(!0)),t.broadcastingNetwork==111&&(r.defaultImage="/unit/Content/_images/util/Default_310x174.jpg",r.imageUrlLG("https://images.icimusique.ca/q_auto,w_420/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.imageUrlMD("https://images.icimusique.ca/q_auto,w_310/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.imageUrlSM("https://images.icimusique.ca/q_auto,w_310/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.imageUrlLPLG("https://images.icimusique.ca/q_auto,w_98/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.imageUrlLPMD("https://images.icimusique.ca/q_auto,w_98/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.imageUrlLPSM("https://images.icimusique.ca/q_auto,w_98/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.imageUrlLPXS320px("https://images.icimusique.ca/q_auto,w_160/v1/ici-musique/émissions/16x9/logomuse.jpg"),r.title("Muse")),r}var r=this,y=t.once(k),u=!1,h=!1,c=!1,l=!1,p=!1,o=!1,w=function(n){switch(n.broadcastingNetwork){case 1:g(n);break;case 3:d(n);break;case 4:nt(n);break;case 111:tt(n)}},b=function(n){var t="play-button icon-rc_media_play",f="play-button icon-rc_media_play",i=!1,r,u;if(n.eventName=="paused"&&(t="play-button icon-rc_media_play"),n.eventName=="waiting"&&(t="play-button icon-rc_media_play is-loading"),n.eventName=="playing"&&(t="stop-button icon-rc_media_stop",i=!0),this.objCall!=null||this.objCall!=undefined)for(r in this.objCall)u=this.objCall[r],u.callbacks.forEach(function(r){r.listLive().forEach(function(r){r.broadcastingNetwork==n.broadcastingNetwork?(r.classBtn(t),r.isPlayingNow=i):(r.classBtn(f),r.isPlayingNow=!1)})})},s;this.init=function(){y()};r.allFeedAreReady=function(){return h&&u&&c&&l&&o};r.getTele=function(n){r.liveTele.index=100;r.liveTele.isAudio(!1);r.liveTele.networkName("ici télé");r.liveTele.chaineSVG("/unit/Content/_images/logo/svg/branding-color-full/tele");r.liveTele.logoNetwork('<img src="'+r.liveTele.chaineSVG()+'.svg" alt="'+r.liveTele.networkName()+'" role="img" />');r.liveTele.slugChaine("ici-tele");r.liveTele.urlChaine("/tele");r.liveTele.callJS("window.liveApi.playTele()");n.push(r.liveTele);n.sort(function(n,t){return n.index>t.index})};r.getPremiere=function(n){r.livePremiere.index=101;r.livePremiere.isAudio(!0);r.livePremiere.networkName("ici premiere");r.livePremiere.chaineSVG("/unit/Content/_images/logo/svg/branding-color-full/premiere");r.livePremiere.logoNetwork('<img src="'+r.livePremiere.chaineSVG()+'.svg" alt="'+r.livePremiere.networkName()+'" role="img" />');r.livePremiere.slugChaine("ici-premiere");r.livePremiere.urlChaine("/premiere");r.livePremiere.callJS("window.liveApi.playPremiere()");n.push(r.livePremiere);n.sort(function(n,t){return n.index>t.index})};r.getMusiquee=function(n){r.liveMusique.index=102;r.liveMusique.isAudio(!0);r.liveMusique.networkName("ici musique");r.liveMusique.chaineSVG("/unit/Content/_images/logo/svg/branding-color-full/musique");r.liveMusique.logoNetwork('<img src="'+r.liveMusique.chaineSVG()+'.svg" alt="'+r.liveMusique.networkName()+'" role="img" />');r.liveMusique.slugChaine("ici-musique");r.liveMusique.urlChaine("http://www.icimusique.ca");r.liveMusique.callJS("window.liveApi.playIciMusique()");n.push(r.liveMusique);n.sort(function(n,t){return n.index>t.index})};r.getMuse=function(n){r.liveMuse.index=104;r.liveMuse.isAudio(!0);r.liveMuse.networkName("ici musique");r.liveMuse.chaineSVG("/unit/Content/_images/logo/svg/branding-color-full/musique");r.liveMuse.logoNetwork('<img src="'+r.liveMuse.chaineSVG()+'.svg" alt="'+r.liveMuse.networkName()+'" role="img" />');r.liveMuse.slugChaine("ici-musique");r.liveMuse.urlChaine("http://www.icimusique.ca/muse");r.liveMuse.url("http://www.icimusique.ca/muse");r.liveMuse.callJS("window.liveApi.playMuse()");n.push(r.liveMuse);n.sort(function(n,t){return n.index>t.index})};r.getWebDiffusion=function(n,t,i,u,f,e){var o="getWebDiffusion"+n+t;r.objCall[o]!=undefined?r.objCall[o].callbacks.forEach(function(n){n.callback!=f&&(r.objCall[o].callbacks.push({callback:f,callbackObj:e,listLive:i}),r.objCall[o].lastResult!=null&&s(r.objCall[o].lastResult,r.objCall[o]))}):(r.objCall[o]={updateTime:u,lastResult:null,callbacks:[{callback:f,callbackObj:e,listLive:i}]},r.updateWebdiffusion(n,t,i,r.objCall[o]))};r.getToutv=function(t,i){r.touttv==null?(r.touttv=f(),r.touttv.handler_click=function(n){window.location=n.url()},r.touttv.index=103,r.livePremiere.chaineSVG("/unit/Content/_images/logo/svg/branding-color-full/toutv"),i.push(r.touttv),i.sort(function(n,t){return n.index>t.index}),n.ajax("/unit/component/livePanel/Toutv?lineupId="+t).done(function(t){try{r.touttv=e(t,r.touttv);r.touttv.imageUrlLG=t.imagesUrl[0].srcSet!=""?t.imagesUrl[0].srcSet:null;r.touttv.imageUrlMD=t.imagesUrl[1].srcSet!=""?t.imagesUrl[1].srcSet:null;r.touttv.imageUrlSM=t.imagesUrl[2].srcSet!=""?t.imagesUrl[2].srcSet:null;r.touttv.imageUrlLPLG=t.imagesUrl[3].srcSet!=""?t.imagesUrl[3].srcSet:null;r.touttv.imageUrlLPMD=t.imagesUrl[4].srcSet!=""?t.imagesUrl[4].srcSet:null;r.touttv.imageUrlLPSM=t.imagesUrl[5].srcSet!=""?t.imagesUrl[5].srcSet:null;r.touttv.imageUrlLPXS320px=t.imagesUrl[6].srcSet!=""?t.imagesUrl[6].srcSet:null}catch(i){console.log(i)}o=!0;n(document).trigger("liveFeedV2:updateToutv")})):(i.push(r.touttv),i.sort(function(n,t){return n.index>t.index}),o=!0,n(document).trigger("liveFeedV2:updateToutv"))};r.removeCallBack=function(n,t){var i="getWebDiffusion"+n;r.objCall[i]!=undefined&&r.objCall[i].callbacks.forEach(function(n,u){n.callback==t&&r.objCall[i].callbacks.splice(u,1)})};r.updateWebdiffusion=function(t,i,u,f){var e=i!=undefined?"/unit/component/livePanel/Webdiffusions?lineupId="+t+"&lineupIdRegional="+i:"/unit/component/livePanel/Webdiffusions?lineupId="+t;n.ajax(e).done(function(n){f.lastResult=n;s(n,f);f.updateTime!=-1&&setTimeout(function(){r.updateWebdiffusion(t,i,u,f)},f.updateTime)})};s=function(t,i){n.each(t,function(n,r){i.callbacks.forEach(function(i){var o=v(i.listLive(),r.idWebDiff),s;if(o==null&&(o=e(r,f()),o.index=n,i.listLive.unshift(o),i.listLive.sort(function(n,t){return n.index>t.index}),i.callback!=undefined&&(u=!0,i.callback.apply(r.callbackObj,["addLiveItem",i.listLive]))),o!=null){o.title(r.title+(r.showEllipsis?"&nbsp;...":" "));o.imageUrl(r.imageUrl!=""?r.imageUrl:"/unit/Content/audiovideo/images/Default_310x174.jpg");try{o.imageUrlLG(r&&r.imagesUrl&&r.imagesUrl[0]?r.imagesUrl[0].srcSet:r.imageUrl);o.imageUrlMD(r&&r.imagesUrl&&r.imagesUrl[1]?r.imagesUrl[1].srcSet:r.imageUrl);o.imageUrlSM(r&&r.imagesUrl&&r.imagesUrl[2]?r.imagesUrl[2].srcSet:r.imageUrl);o.imageUrlLPLG(o.imageUrlLG());o.imageUrlLPSM(o.imageUrlMD());o.imageUrlLPXS320px(o.imageUrlSM())}catch(h){console.log(h)}o.index=n;i.listLive.sort(function(n,t){return n.index>t.index});i.callback!=undefined&&(u=!0,i.callback.apply(i.callbackObj,["updateLiveItem",i.listLive]))}s=null;i.listLive().forEach(function(n){s=v(t,n.idWebDiff);s==null&&n.idWebDiff!=0&&n.idWebDiff!=undefined&&(i.listLive.remove(n),i.callback!=undefined&&(u=!0,i.callback.apply(i.callbackObj,["deleteLiveItem",i.listLive,n])))})})});t.length<1&&i.callbacks.forEach(function(n){n.listLive().forEach(function(t){t.idWebDiff!=0&&t.idWebDiff!=undefined&&(n.listLive.remove(t),n.callback!=undefined&&(u=!0,n.callback.apply(n.callbackObj,["deleteLiveItem",n.listLive,t])))});n.callback!=undefined&&(u=!0,n.callback.apply(n.callbackObj,["callLiveItem",n.listLive]))})};var d=function(t){var i=t.scheduleItem;return i.broadcastingNetwork=t.broadcastingNetwork,i.defaultImage="/unit/Content/_images/util/Default_310x174.jpg",i.imageUrlLG=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","420").replace("{1}","16x9"):i.defaultImage,i.imageUrlMD=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","310").replace("{1}","16x9"):i.defaultImage,i.imageUrlSM=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","310").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPLG=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPMD=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPSM=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPXS320px=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","160").replace("{1}","16x9"):i.defaultImage,i.isAudio=!0,i.networkName="ici premiere",i.chaineSVG="premiere",i.slugChaine="ici-premiere",i.urlChaine="/premiere",i.callJS="window.liveApi.playPremiere()",i.index=101,c=!0,n(document).trigger("liveFeedV2:updatePremiere"),e(i,r.livePremiere)},g=function(t){var i=t.scheduleItem;return i.isAudio=!1,i.networkName="ici télé",i.broadcastingNetwork=t.broadcastingNetwork,i.defaultImage="/unit/Content/_images/util/Default_310x174.jpg",t.programme.pictureUrl=t.programme.pictureUrl.replace("/Content/","/unit/Content/").replace("/unit/unit/","/unit/"),i.imageUrlLG=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","420").replace("{1}","16x9"):i.defaultImage,i.imageUrlMD=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","310").replace("{1}","16x9"):i.defaultImage,i.imageUrlSM=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","310").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPLG=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPMD=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPSM=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPXS320px=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","160").replace("{1}","16x9"):i.defaultImage,i.chaineSVG="tele",i.slugChaine="ici-tele",i.urlChaine="/tele",i.callJS="window.liveApi.playTele()",i.index=100,h=!0,n(document).trigger("liveFeedV2:updateTele"),e(i,r.liveTele)},nt=function(t){var i=t.scheduleItem;return i.isAudio=!0,i.networkName="ici musique",i.broadcastingNetwork=t.broadcastingNetwork,i.defaultImage="/unit/Content/_images/util/Default_310x174.jpg",i.imageUrlLG=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","420").replace("{1}","16x9"):i.defaultImage,i.imageUrlMD=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","310").replace("{1}","16x9"):i.defaultImage,i.imageUrlSM=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","310").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPLG=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPMD=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPSM=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","98").replace("{1}","16x9"):i.defaultImage,i.imageUrlLPXS320px=t.programme&&t.programme.pictureUrl?t.programme.pictureUrl.replace("{0}","160").replace("{1}","16x9"):i.defaultImage,i.chaineSVG="musique",i.slugChaine="ici-musique",i.urlChaine="http://www.icimusique.ca",i.callJS="window.liveApi.playIciMusique()",i.index=103,l=!0,n(document).trigger("liveFeedV2:updateMusique"),e(i,r.liveMusique)},tt=function(t){var i=t.scheduleItem;return i.isAudio=!0,i.networkName="ici musique",i.broadcastingNetwork=t.broadcastingNetwork,i.defaultImage="/unit/Content/_images/util/Default_310x174.jpg",i.imageUrlLG="https://images.radio-canada.ca/q_auto,w_420/v1/ici-musique/émissions/16x9/logomuse.jpg",i.imageUrlMD="https://images.radio-canada.ca/q_auto,w_310/v1/ici-musique/émissions/16x9/logomuse.jpg",i.imageUrlSM="https://images.radio-canada.ca/q_auto,w_310/v1/ici-musique/émissions/16x9/logomuse.jpg",i.imageUrlLPLG="https://images.radio-canada.ca/q_auto,w_98/v1/ici-musique/émissions/16x9/logomuse.jpg",i.imageUrlLPMD="https://images.radio-canada.ca/q_auto,w_98/v1/ici-musique/émissions/16x9/logomuse.jpg",i.imageUrlLPSM="https://images.radio-canada.ca/q_auto,w_98/v1/ici-musique/émissions/16x9/logomuse.jpg",i.imageUrlLPXS320px="https://images.radio-canada.ca/q_auto,w_160/v1/ici-musique/émissions/16x9/logomuse.jpg",i.chaineSVG="musique",i.slugChaine="ici-musique",i.urlChaine="http://www.icimusique.ca/muse",i.url="http://www.icimusique.ca/muse",i.callJS="window.liveApi.playMuse()",i.index=105,p=!0,n(document).trigger("liveFeedV2:updateMuse"),e(i,r.liveMuse)}};return new r});define("externals/components/LivePanel/main",["jquery","externals/components/viewportService/main","moment","underscore","externals/components/AudioVideoViewingArea/main","externals/components/PushStateControl/loaderStateService","services/regionLocalisationService","externals/components/LivePanel/liveFeedV2"],function(n,t,i,r,u,f,e,o){return function(){function k(){if(!s){ko.applyBindings(i,mainElement);var r=n(mainElement).find(".show-title"),t=r[0];n(t).width()>=n(t).parent().width()&&h(t);s=!0}}var i=this,s,v,l,h,a,d,g;i.mainElement={};i.classLivePanel=ko.observable("live-panel-closed");s=!1;v=t.getViewport();i.mobileDevice=ko.observable(!1);i.scrollActive=ko.observable(!1);var u=n("html"),f=n("body"),y={},c=!1;i.databindIsCalled=!1;i.onDatabindCompleted=null;i.mediaIndex=ko.observable("");i.lives=ko.observableArray();i.lineupId=null;i.debounceAfterAllItemRender=null;i.mediaIndex=ko.observable();var e=!1,p=n(window).width()<n(window).height(),w=n(window).width()>n(window).height();i.timeout=null;window.addEventListener("touchstart",function b(){e=!0;window.removeEventListener("touchstart",b,!1)},!1);i.LivePanelClosed=function(){if(clearTimeout(i.timeout),i.timeout=null,e){var t=n(mainElement).find(".show-title");t.each(function(t,i){n(i).hasClass("animate-mobile-text")&&(n(i).removeClass("animate-mobile-text"),n(i).attr("style","left:0px;"),n(i).html(n(i).html().split("&nbsp;&nbsp;")[0]))})}i.classLivePanel("live-panel-closed");f.removeClass("live-panel-open");f.addClass("live-panel-close");n(document).trigger("livepanel:close",{open:!1});c=!1;n("body").off("click",i.LivePanelClosed);u.removeClass("scroll-lock");document.addEventListener("touchend",function(){u.removeClass("scroll-lock")});u.off("touchmove");a()};l=function(){var t=n(mainElement).find(".show-title");t.each(function(t,i){n(i).width()>n(i).parent().width()&&h(i)})};i.LivePanelOpened=function(){};i.InternalLivePanelOpened=function(){var t;if(k(),e&&(t=n(mainElement).find(".show-title"),t.each(function(t,i){n(i).addClass("animate-mobile-text")})),i.classLivePanel("live-panel-opened"),f.addClass("live-panel-open"),f.removeClass("live-panel-close"),n(document).trigger("livepanel:open",{open:!0}),c=!0,e?(t=n(mainElement).find(".show-title"),t.each(function(t,i){if(n(i).width()>n(i).parent().width()){n(i).addClass("animate-mobile-text");n(i).html(n(i).html()+"&nbsp;&nbsp;");var r=-n(i).width(),u=Math.abs(r/20);n(i).html(n(i).html()+n(i).html());n(i).attr("style","left:"+r+"px; -webkit-animation-duration:"+u+"s; animation-duration:"+u+"s;")}})):l(),i.timeout==null&&(i.timeout=setTimeout(function(){n("body").on("click",i.LivePanelClosed)},500)),n(window).width()<=640&&p||n(window).width()<=667&&w){u.addClass("scroll-lock");document.addEventListener("touchend",function(){u.addClass("scroll-lock")});u.on("touchmove",function(n){n.target.classList.contains("scrollable")||n.preventDefault()},!1)}else u.removeClass("scroll-lock")};h=function(t){var i,r;n(t).html(n(t).html()+"&nbsp;&nbsp;");i=-n(t).width();n(t).html(n(t).html()+n(t).html());n(t).addClass("animate-text");r=Math.abs(i/20);t.timeout=null;n(t).on("mouseover",function(){t.timeout=setTimeout(function(){n(t).attr("style","left:"+i+"px; -webkit-transition-duration:"+r+"s; transition-duration:"+r+"s;");n(t).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n(t).attr("style","left:0; transition: unset; -webkit-transition:unset;-moz-transition:unset;")})},1e3)});n(t).on("mouseout",function(){clearTimeout(t.timeout)})};a=function(){var t=n(mainElement).find(".show-title");t.each(function(t,i){n(i).off("mouseover");n(i).off("mouseout");n(i).html(n(i).html().split("&nbsp;&nbsp;")[0]);clearTimeout(i.timeout)})};i.callBack=function(t){t=="addLiveItem"?n(document).trigger("livePanel:notification:add"):t=="deleteLiveItem"&&n(document).trigger("livePanel:notification:remove")};i.loopingAnimation=function(t,r){n(t).attr("style","left:"+r+"px;");var u="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";n(t).on(u,function(){n(t).attr("style","left:0; transition: unset; -webkit-transition:unset;-moz-transition:unset;");n(t).attr("style","left:0;");n(t).off(u);i.loopingAnimation(t,r)})};i.evalIfAria=function(){return i.classLivePanel()=="live-panel-opened"?"false":"true"};d=function(n){var t=i.lives().filter(function(t){return t.broadcastingNetwork==n.broadcastingNetwork});i.lives().forEach(function(n){n.classBtn("a-play-button icon-rc_media_play");n.isPlayingNow=!1});t.length>0&&(n.eventName=="paused"&&(t[0].classBtn("a-play-button icon-rc_media_play"),t[0].isPlayingNow=!1),n.eventName=="waiting"&&t[0].classBtn("a-play-button icon-rc_media_play is-loading"),n.eventName=="playing"&&(t[0].classBtn("a-stop-button icon-rc_media_stop"),t[0].isPlayingNow=!0))};this.init=function(u){mainElement=u;y=n(mainElement);n("body").addClass("live-panel-close");i.isLiveOpenOverlay=n(mainElement).attr("data-live-open-overlay");t.ensureResolveViewport();var f=n(mainElement).data("lineupidlive"),e=n(mainElement).data("lineupidliveregional"),s=n(mainElement).data("lineupidtoutv");o.init();o.getWebDiffusion(f,e,i.lives,6e4,i.callBack,i);o.getTele(i.lives);o.getPremiere(i.lives);o.getMusiquee(i.lives);o.getToutv(s,i.lives);o.getMuse(i.lives);o.allFeedAreReady()?(n(document).trigger("LivePanel:contentReady"),i.LivePanelOpened=i.InternalLivePanelOpened):r.waitUntilIsUndifined(function(){return o.allFeedAreReady()?!0:undefined},100,function(){n(document).trigger("LivePanel:contentReady");i.LivePanelOpened=i.InternalLivePanelOpened});n(".item-media").click(function(){i.LivePanelClosed()});n(document).on("header:hamburger:click",i.handlerHamburgerClick);n(document).on("header:live:click",function(){i.classLivePanel()=="live-panel-closed"?i.LivePanelOpened():$(".header-item-container .cbcrc-icon-notification").is(":visible")?(i.btnPreviousDisable(!0),i.LivePanelOpened()):i.LivePanelClosed()})};g=function(n){n.forEach(function(n){n.evalIfTab=function(){return i.classLivePanel()=="live-panel-opened"?null:"-1"}})};i.handlerHamburgerClick=function(){t.getViewport().isMobileDevice&&i.LivePanelClosed()}}});define("externals/components/RegionNavigation/main",["jquery","pluggins/modalLightbox","externals/components/Navigation/region","services/regionLocalisationService"],function(n,t,i,r){return function(){var n=this,u={};n.changeRegion=function(){t.show(window.appRouteBunker+"/component/navigation/region",i,{tabSelected:0})};n.regionName=ko.observable("");n.regionPath=ko.observable("");n.selectedRegion=ko.observable("");n.regionVisible=ko.observable(!1);n.profileNeeded=ko.observable(!1);this.init=function(t){u=t;ko.applyBindings(n,u);r.RcSection().then(function(t){var u=r.RcProfile(),i;t.SectionEdition.getLocalCurrentRegion()!=undefined&&(i=t.SectionEdition.getLocalCurrentRegion(),n.regionName(i.Name),n.selectedRegion(i.Path),n.regionPath(i.Path),n.regionVisible(!0));u!=null&&u.confirmed||n.profileNeeded(!0);u!=null})}}});define("externals/components/RootNavigation/main",["jquery","externals/components/ViewportService/main","externals/components/PushStateControl/loaderStateService","externals/components/ADTTrackAction/main","services/regionLocalisationService","pluggins/rc.oauth2.loginbar-2.0.1","externals/components/CallbackMemberCenter/main.v2"],function(n,t,i,r,u,f,e){return function(){function o(t,i){if(t.hasClass("menu-portails")||t.hasClass("item-centre-des-membres")){if(n(r.mainElement).addClass("l2-activated"),r.openedSpecialItem=null,t.parent("[data-sousmenu]").length){n(r.mainElement).removeClass("l2-activated-opened");n("<div id='div_"+i+"' style='display:none;'/>").insertAfter(t);var u=t.parents("li.opened"),f=t.parents("ul.vertical-nav-main");u.length?t.insertAfter(u):t.appendTo(f);f.find(".opened").removeClass("opened")}n(r.mainElement).scrollTop(0)}}var r=this;r.classMenu=ko.observable("src-vertical-nav-closed");r.activeItem=ko.observable("");r.myRegionLabel=ko.observable("Ma Région");r.viewPortWidth;r.openedSpecialItem=null;r.focusGuard=null;r.profile=null;r.regionName=ko.observable("");r.regionPath=ko.observable("");r.selectedRegion=ko.observable("");r.regionVisible=ko.observable(!1);r.profileNeeded=ko.observable(!1);this.init=function(u){var f,e;this.mainElement=u;r.focusGuard=n(r.mainElement).find(".focus-guard");r.activeItem.subscribe(function(t){var f=n(r.mainElement).find(".menu-portails.active"),s=f.data("index-id"),c=f.length>0,l=n(r.mainElement).find("[data-index-id='"+t+"']").parents(".menu-portails").length>0,i,e,h,u;c&&!l&&s!=t?(i=n(r.mainElement).find("#div_"+s),i.length>0&&(f.insertBefore(i),i.remove()),n(r.mainElement).removeClass("l2-activated"),n(r.mainElement).removeClass("l2-activated-opened")):(e=n(r.mainElement).find("[data-index-id='"+t+"']"),h=e.hasClass("menu-portails"),h&&o(e,t),u=n(r.mainElement).find("li[data-index-id='"+t+"']"),u&&(u.hasClass("niveau-2")||n(u.parents(".niveau-2:not(.menu-region, .menu-sections)")).length)?n(r.mainElement).addClass("l2-activated"):n(r.mainElement).removeClass("l2-activated"))});n(r.mainElement).data("initial-pageindex")&&!r.activeItem()&&(f=n(r.mainElement).data("initial-pageindex"),r.activeItem(f));r.xmlPath=n(u).data("xmlpath");s(null);n(document).on("region:principale:change",h);n(document).on("profil:change:name",c);n(document).on("profil:change:avatar",l);t.ensureResolveViewport();r.viewport=t.getViewport();r.onBreakpointBreached(r.viewport);n(document).on("header:hamburger:click",r.toggleNav);n(document).on("header:live:click",r.handlerLiveClick);n(document).on("keyup",r.handleEsc);n(document).on("login-bar:login:done",r.callbackFromLogin);n(document).on("header:btnHomePage:click",r.handlerLiveClick);t.registerBreakpointReached(r.onBreakpointBreached);r.regionName(n(u).data("region-name"));e=n(u).data("region-path");r.regionPath(n(u).data("region-path"));r.selectedRegion(e);ko.applyBindings(r,r.mainElement);var v={callback:r.callbackSPA,pageLoadWaitingTime:25},y=i.subscribePageLoadingState(v),a=n(u).find(".menu-portails.active");a.length>0&&o(a,r.activeItem());n(u).removeClass("src-nav-closed-on-mobile-startup");n("body").removeClass("burger-open-icon-on-mobile-startup");r.setLoginCallBack()};var h=function(n,t){s(t)},c=function(){e.refreshLoginBar()},l=function(){e.refreshLoginBar()},s=function(n){u.RcSection().then(function(t){if(r.profile=u.RcProfile(),n!=null){t.SectionEdition.localCurrentRegionId=n.regionPrincipaleId;var i=t.SectionEdition.getLocalCurrentRegion(),f=i.Name=="Montréal"?"Grand Montréal":i.Name;r.regionName(f);r.selectedRegion(i.Path);r.regionPath(i.Path)}})};r.isActive=function(n){return n&&r.activeItem()&&r.activeItem().indexOf(n)==0?!0:!1};r.onBreakpointBreached=function(t){t.isExtraSmall||t.isSmall||t.isMedium?(r.NavClosed(),r.focusGuard&&n(r.focusGuard).attr("tabindex",0)):(n("main").removeAttr("aria-hidden"),n("footer").removeAttr("aria-hidden"),r.NavOpened(),r.focusGuard&&n(r.focusGuard).removeAttr("tabindex"))};r.NavOpened=function(){r.classMenu("src-vertical-nav-opened");n(r.mainElement).removeAttr("aria-hidden");n("body").removeClass("src-nav-closed");n("body").addClass("src-nav-opened");n(".grid-container").removeClass("grid-container-no-nav");n(document).trigger("navigation:openClose:open");r.showAllLinks();(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&(n("main").attr("aria-hidden","true"),n("footer").attr("aria-hidden","true"),n("html").hasClass("mobile-block-scroll")||n("html").addClass("mobile-block-scroll"));n(document).on("click touchmove",r.watchClick)};r.NavClosed=function(){r.classMenu("src-vertical-nav-closed");n(r.mainElement).attr("aria-hidden","true");n("body").addClass("src-nav-closed");n("body").removeClass("src-nav-opened");n(".grid-container").addClass("grid-container-no-nav");n("#src-container").removeClass("offset-md-3 offset-lg-3 offset-xl-4");n("#src-footer > div").removeClass("push-md-3 push-lg-3 push-xl-4");n("header .live-container").removeClass("fixed-push-md-3 fixed-push-lg-3 fixed-push-xl-4");n(document).trigger("navigation:openClose:close");r.hideAllLinks();(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&(n("main").removeAttr("aria-hidden"),n("footer").removeAttr("aria-hidden"),n("html").hasClass("mobile-block-scroll")&&n("html").removeClass("mobile-block-scroll"));n(document).off("click touchmove",r.watchClick)};r.hideAllLinks=function(){n(r.mainElement).find("a, button").attr("tabIndex","-1")};r.showAllLinks=function(){n(r.mainElement).find("a, button").removeAttr("tabIndex")};r.toggleNav=function(){r.classMenu()=="src-vertical-nav-closed"?r.NavOpened():r.NavClosed()};r.watchClick=function(t){(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&n(t.target).hasClass("nav-container")&&r.NavClosed()};r.clickItem=function(t,i){if(!n(i.target).hasClass("submenu-title")&&!n(i.target).is("div")&&!n(i.target).is("span")&&t!=""){r.activeItem(t);(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&r.NavClosed();var u=n(i.currentTarget);o(u,t);t=="centre-des-membres-logout"&&f.logout()}};r.clickMaRegion=function(){r.activeItem("centre-des-membres");r.openedSpecialItem&&(r.openedSpecialItem.removeClass("opened"),n(r.mainElement).removeClass("l2-activated-opened"),r.openedSpecialItem=null);(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&r.NavClosed();n(r.mainElement).addClass("l2-activated")};r.clickTagRegion=function(){(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&r.NavClosed()};r.backToL1=function(){var i;r.openedSpecialItem?(r.openedSpecialItem.removeClass("opened"),n(r.mainElement).removeClass("l2-activated-opened"),r.focusOnElem(r.openedSpecialItem),r.openedSpecialItem=null):(n(r.mainElement).removeClass("l2-activated"),r.focusOnElem());var u=r.activeItem(),t=n(r.mainElement).find(".menu-portails.active"),f=t.data("index-id"),e=t.length>0,o=n(r.mainElement).find("[data-index-id='"+u+"']").parents(".menu-portails").length>0;e&&!o&&(i=n(r.mainElement).find("#div_"+f),i.length>0&&(t.insertBefore(i),i.remove(),t.parents("li").children("button").eq(0).focus()));n(r.mainElement).scrollTop(0)};r.focusOnElem=function(t){t?n(t).find("a, button").eq(0).focus():r.activeItem()?n(r.mainElement).find("li.active a").eq(0).focus():n(r.mainElement).find("a, button").eq(0).focus()};r.focusClose=function(){n(".src-menu-burger .cbcrc-icon-burger").focus()};r.handlerLiveClick=function(){(r.viewport.isExtraSmall||r.viewport.isSmall||r.viewport.isMedium)&&r.NavClosed()};r.handleEsc=function(t){t.keyCode==27&&(n(r.mainElement).hasClass("l2-activated-opened")||n(r.mainElement).hasClass("l2-activated"))&&r.backToL1()};r.toggleSpecialMenu=function(t){var i=n(t.currentTarget).parent("li");i.hasClass("niveau-2")&&(i.addClass("opened"),n(r.mainElement).addClass("l2-activated-opened"),n(r.mainElement).scrollTop(0),r.openedSpecialItem=i)};r.callbackSPA=function(n){n.progress==100&&r.getPageIndex(n.url.replace(/path=/gi,""))};r.getPageIndex=function(t){var i=t;n.get(window.appRouteBunker+"/component/RootNavigation/GetPageIndexFromUrlForNav?url="+i+"&xmlPath="+r.xmlPath,function(n){r.activeItem(n)})};r.setLoginCallBack=function(){e.subscribeConnectionState(function(t){if(t){n(r.mainElement).find(".login-bar-v2 .login-link").on("click",r.clickMaRegion);n(".nav-centre-des-membres-suppression-compte.item-centre-des-membres-supression-compte").show()}else n(".nav-centre-des-membres-suppression-compte.item-centre-des-membres-supression-compte").hide()})};r.callbackFromLogin=function(){n(r.mainElement).find(".login-bar-v2 .mon-espace").on("click",r.clickMaRegion)}}});define("externals/components/ShowMoreContent/main",["jquery"],function(n){return function(){function r(){n.ajax({url:window.appHost+"/api/FeedStateOlder/"+_.last(t.feedLineups()).LastPublicationDate.replace(/[A-Za-z$-/:]/g,""),data:config}).done(function(n){_.each(n,function(n){insertNewItem(n)});t.moreContentProcess(!1)})}var t=this,i={};this.init=function(n){i=n;ko.applyBindings(t,i);this.moreContentProcess=ko.observable(!1)};this.clickMoreItems=function(){t.moreContentProcess(!0);r()}}});define("externals/components/NewsletterSubscription/main",["jquery"],function(n){var t={init:function(){function e(n){o(n)&&s(n)}function o(t){if(t.length!=0){var i=new RegExp("^[0-9a-z._-]+@{1}[0-9a-z.-]{2,}[.]{1}[a-z]{2,5}$","i");return i.test(t)||(n(".newsletter-subscription-alert").css("display","flex"),n(".newsletter-subscription-alert").html("Le courriel n'est pas valide.")),i.test(t)}n(".newsletter-subscription-alert").css("display","flex");n(".newsletter-subscription-alert").html("Le courriel ne peut &ecirc;tre vide.")}function s(i){n(".infolettre-form-load").show();n.getJSON(window.appRouteBunker+"/component/NewsletterSubscription/Subscribe?email="+i+"&newsletterid="+t,function(t){t?l(t):(n(".newsletter-subscription-alert").css("display","flex"),n(".newsletter-subscription-alert").html("Veuillez r&eacute;essayer."),n(".infolettre-form-load").hide())})}function h(t,i,r){n.getJSON(window.appRouteBunker+"/component/NewsletterSubscription/UnSubscribe?email="+r+"&newsletterid="+t+"&profileid="+i,function(t){t.StatusCode=="OK"?c():(n(".newsletter-subscription-alert").css("display","flex"),n(".newsletter-subscription-alert").html("Veuillez r&eacute;essayer."),n(".infolettre-form-load").hide())})}function c(){n(".newsletter-unsubscribe-confirm").hide();n(".newsletter-unsubscribe-confirmed").show()}function l(t){t.Message=="subscribed"&&n(".newsletter-subscription-response").html("Vous &ecirc;tes d&eacute;j&agrave; abonn&eacute; &agrave; cette infolettre.");n(".infolettre-form-load").hide();n(".newsletter-subscription-form").hide();n(".newsletter-subscription-alert").hide();n(".newsletter-subscription-response").css("display","flex")}var t=n(".newsletter-subscription").data("newsletterid"),i=n(".newsletter-unsubscribe").data("newsletterid"),r=n(".newsletter-unsubscribe").data("profileid"),u=n(".newsletter-unsubscribe").data("email"),a=n(".newsletter-unsubscribe").data("url"),v=n("meta[name='rc.region']").attr("content"),f=n(".infolettre-form-submit");n(".infolettre-form-email").bind("keyup change",function(){n(this).next(".infolettre-form-submit").prop("disabled",!1);n(this).next(".infolettre-form-submit").addClass("on")});f.on("click",function(){e(n(this).prev(".infolettre-form-email").val())});n("#confirmUnsubscribe").on("click",function(){h(i,r,u)});n("#cancelUnsubscribe").on("click",function(){n(".newsletter-unsubscribe-confirm").hide();n(".newsletter-unsubscribe-cancelled").show()});n(".newsletter-unsubscribe-redirect-homepage").on("click",function(){window.location.href="/"})}};return n(".newsletter-subscription h2").click(function(){var t=n(this).next(".wrap");t.is(":visible")?t.hide().attr("style",""):(t.attr("style","border:solid 10px"),t.show().attr("style","display:table"))}),t});define("externals/components/PremiereAccueil/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/PremiereListeEmissions/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/PremiereParcourir/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/PremiereTheme/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/TeleAccueil/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/TeleEmissions/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/Pagination/main",["jquery","pagination"],function(n){return function(){function f(n){var t=n.split("/").filter(Boolean),i=t.length-1;return e(t[i])&&t.splice(i,1),"/"+t.join("/")+"/"}function e(n){return/^\+?(0|[1-9]\d*)$/.test(n)}function u(){return!0}var t=this,r={},i={};t.currentPageNumber=ko.observable(0);t.totalNumberOfPages=ko.observable(0);this.init=function(u){r=u;i=n(r);var f=i.data("url");t.currentPageNumber(i.data("current-page-number"));t.totalNumberOfPages(i.data("last-page-number"));t.createPagination(f,t.currentPageNumber(),t.totalNumberOfPages());ko.applyBindings(t,r)};t.createPagination=function(t,r,e){var o=i.find("ul.pagination-container");n(o).pagination({displayedPages:5,hrefTextPrefix:f(t),nextText:'<span class="cbcrc-icon-arrow-keyboard-right next"><\/span>',prevText:'<span class="cbcrc-icon-arrow-keyboard-left previous"><\/span>',currentPage:r,edges:1,ellipsePageSet:!1,onPageClick:u,pages:e});n(o).find("a").attr("data-close-not-pip-embedded-ctrl","false")};t.paginationPageNumberClick=function(n){t.currentPageNumber(n);u(t.currentPageNumber())};t.paginationNextClick=function(){t.paginationPageNumberClick(t.currentPageNumber()+1)};t.paginationPreviousClick=function(){t.paginationPageNumberClick(t.currentPageNumber()-1)};t.activeClass=function(n){return t.isEqual(t.currentPageNumber(),n)?"active":"not-active"};t.previousActiveClass=function(){return t.currentPageNumber()>1?"active":"not-active"};t.nextActiveClass=function(){return t.totalNumberOfPages()>t.currentPageNumber()?"active":"not-active"};t.isEqual=function(n,t){return n===t}}});define("externals/components/PortailPromoHeader/main",["jquery"],function(n){return function(){var t=this,i={},r=700;t.scollToContent=function(){return n("html, body").animate({scrollTop:n(".promo-header").height()},r),!1};this.init=function(n){i=n;ko.applyBindings(t,i)}}});define("externals/components/PortailSocialBarManager/main",["jquery","externals/components/FooterV2/main","pluggins/src.socialbar"],function(n,t,i){return function(){function f(){t.setFooterTop(u)}var e=this,r={},u={};this.init=function(t){r=t;u=n(r).children(":first");f();i.initSocialBar();ko.utils.domNodeDisposal.addDisposeCallback(r,function(){u.remove()})}}});define("externals/components/PortailsPromoConsoleAVWrapper/main",["jquery"],function(n){return function(){var t=this,r={},i;t.parent_css_class=ko.observable("PortailsPromoConsoleAVWrapper-close");t.css_class=ko.observable("PortailsPromoConsoleAVWrapper-rcPlayer");t.labelTypeContenu=ko.observable("");t.titleEmission=ko.observable("");i=0;t.closeContent=function(){t.parent_css_class("PortailsPromoConsoleAVWrapper-close");t.css_class("PortailsPromoConsoleAVWrapper-rcPlayer");n("#containerIframe").empty();srcPlayer("stop","promo-Player-console-player")};this.init=function(n){r=n;ko.applyBindings(t,r)};window.changeWebradio=function(i){if(i.indexOf("http://www.icimusique.ca")!=-1){var r=i.replace("http://www.icimusique.ca","http://www.icimusique.ca/embed")+"?mini=true&autoplay=true";n("#containerIframe").empty().html('<iframe src="'+r+'" class="open"><\/iframe>');srcPlayer("stop","promo-Player-console-player");t.css_class("PortailsPromoConsoleAVWrapper-rcPlayer");t.parent_css_class("PortailsPromoConsoleAVWrapper")}else n("#containerIframe").empty()};window.changeAudio=function(r,u,f,e){t.css_class("PortailsPromoConsoleAVWrapper-rcPlayer__open");t.parent_css_class("PortailsPromoConsoleAVWrapper");n("#containerIframe").empty();t.labelTypeContenu(f);t.titleEmission(e);r!=i?(i=r,srcPlayer("change",{appCode:"medianet",idMedia:i,params:{time:Number(u),autoPlay:!0}},"promo-Player-console-player")):(srcPlayer("play","promo-Player-console-player"),srcPlayer("seek",{time:Number(u)},"promo-Player-console-player"))}}});define("externals/components/PortailsPromoDocumentNouvelle/main",["jquery","services/document/dateTimePublishedService"],function(n,t){return function(){var r=this,i={};this.init=function(r){i=r;var u=n(i).find("time"),f=u.attr("datetime");u.html(t.getPublishedDateTimeFormatted(moment(f),moment(u.data("datetimelastpublished"))));n("iframe[src^='https://www.facebook.com/plugins/video.php']").each(function(){n(this).wrap("<div>");n(this).parent("div").addClass("intrinsic-container")})}}});define("externals/components/PortailsPromoDocumentRadio/main",["jquery"],function(n){return function(){var t=this,i={};t.changeAudio=function(n,t){srcPlayer("change",{idMedia:n,appCode:"medianet",time:t},"cbf-promo-Player")};this.init=function(r){i=r;ko.applyBindings(t,i);n("iframe[src^='https://www.facebook.com/plugins/video.php']").each(function(){n(this).wrap("<div>");n(this).parent("div").addClass("intrinsic-container")})}}});define("externals/components/PortailsPromoLineup/main",["jquery","gridder"],function(n){return function(){function i(t){var u=$(".selectedItem").prev(),f=$(".selectedItem").next().next(),r='<div class="gridder-navigation top">',i;r+='<button class="gridder-close icon-close" title="Fermer la fen&ecirc;tre modale">Fermer<\/button>';r+="<\/div>";n(t).find(".gridder-padding").prepend(r);i='<div class="gridder-navigation bottom">';i+='<button class="gridder-nav prev"'+(u.length?"":"disabled ")+'title="Pr&eacute;c&eacute;dent">Pr&eacute;c&eacute;dent<\/button>';i+='<button class="gridder-nav next"'+(f.length?"":"disabled ")+'title="Suivant">Suivant<\/button>';i+="<\/div>";n(t).find(".gridder-expanded-content").after(i)}var r=this,t={};this.init=function(r){t=r;n(t).gridderExpander({scroll:!0,scrollOffset:30,scrollTo:"panel",animationSpeed:400,animationEasing:"easeInOutExpo",showNav:!1,onStart:function(){},onContent:i,onClosed:function(){}})}}});define("externals/components/PortailsPromoMenu/main",["jquery","externals/components/PushStateControl/pushStateService"],function(n,t){return function(){function r(t){n.currentPath(t)}var n=this,i;n.currentPath=ko.observable();i={};this.init=function(u){i=u;n.currentPath(document.location.pathname);t.subscribePushEventEnded(r);ko.applyBindings(n,i)}}});define("externals/components/PortailsPromoMenuLeft/main",["jquery","externals/components/PushStateControl/pushStateService"],function(n,t){return function(){function e(n){i.currentPath(n)}var i=this,r;i.currentPath=ko.observable();i.opened=ko.observable(!1);i.openSubitems=function(n,t){viewportSvc.getViewport().isMobileDevice||u(n,t)};i.closeSubitems=function(n,t){viewportSvc.getViewport().isMobileDevice||f(n,t)};i.toggleSubitems=function(n,t){i.opened()===!0?f(n,t):u(n,t)};r={};this.init=function(n){r=n;i.currentPath(document.location.pathname);t.subscribePushEventEnded(e);ko.applyBindings(i,r)};var u=function(t,r){var f=i.opened(),u;subMenuActive=r.target;i.target=r.target;n(rootElement).find("li.active").removeClass("active");for(u in menuItems)menuItems[u].opened(!1);i.opened(!0);i.opened()?(n(subMenuActive).addClass("active"),n(subMenuActive).addClass("open")):i.closeSubitems()},f=function(t,r){if(r){var u=n(r.relatedTarget).parents("ul.panel-submenu").parent()[0];t&&t.li==u||(n(subMenuActive).removeClass("active"),n(subMenuActive).removeClass("open"),n(mainActiveElement).addClass("active"),subMenuActive=null,i.opened(!1))}},s=function(t){var u=window.window.appHost+t,i,r;n(rootElement).find(".active").removeClass("active");_.each(menuItems,function(n){n.closeSubitems()});n(rootElement).find(".menu-button").removeClass("open");n("#main-menu-list").removeClass("open");i=n(rootElement).find("a[href='"+t+"']");i.addClass("active");r=i.parents(".li-item");r.length>0&&n(r[0]).find(".toggle-panel-submenu").addClass("active");mainActiveElement=n(rootElement).find(".active")[0]},o=function(){n(r).find(".menu-button").toggleClass("open").parent().find("ul").toggleClass("open")};ko.bindingHandlers.rcToggleMenu={init:function(t){n(t).bind("click",function(){return o(t),!0});ko.utils.domNodeDisposal.addDisposeCallback(t,function(){n(t).unbind()})}}}});define("externals/components/PortailsPromoMenuWithAnchor/main",["jquery"],function(n){return function(){var i=this,t={};this.init=function(r){t=r;ko.applyBindings(i,t);n("li a").on("click",function(t){if(this.hash!==""){t.preventDefault();var i=this.hash;n("html, body").animate({scrollTop:n(i).offset().top},1e3,function(){window.location.hash=i})}})}}});define("externals/components/PortailsPromoThematicBackground/main",["jquery","services/viewportService"],function(n,t){return function(){function u(n){n.isMobileDevice?(i.urlImage(i.urlImageSmall),i.style(i.urlStyleSmall),i.isMobile=!0):(i.urlImage(i.urlImageLarge),i.style(i.urlStyleLarge),i.isMobile=!1)}var i=this,r={};this.init=function(f){r=f;i.urlImageLarge=n(r).data("url-image-large");i.urlImageSmall=n(r).data("url-image-small");i.urlStyleLarge=n(r).data("style-large");i.urlStyleSmall=n(r).data("style-small");i.urlImage=ko.observable();i.style=ko.observable();var e=t.getViewport();u(e);t.registerViewportChanged(i.onViewportChanged);ko.applyBindings(i,r)};i.onViewportChanged=function(n){i.isMobile!=n.isMobileDevice&&u(n)}}});define("externals/components/PortailsPromoVideoBackground/main",["jquery","services/viewportService"],function(n,t){return function(){var r=this,i={};this.init=function(u){var f,s;i=u;ko.applyBindings(r,i);var e=n("#portails-promo-video-background-Video source"),o=n("#portails-promo-video-background-Video"),h=t.getViewport();h.isMobileDevice?(o.remove(),f=n("#portails-promo-video-background-container"),s=n("#portails-promo-video-background-container").attr("data-source-image"),f.append($("<figure><\/figure>").append('<img src="'+s+'">')),f.find("img").width("100%")):(e.attr("src",e.attr("data-src")),o.load())}}});define("externals/components/PortailsPromoWrapperProgramGuide/main",["jquery","services/viewportService"],function(n,t){return function(){var i=this,r={},u="";i.isProgramGuideOpened=ko.observable(!1);this.init=function(f){r=f;u=n(r).data("programguideid");var e=t.getViewport();e.isMobileDevice||i.isProgramGuideOpened(!0);t.registerViewportChanged(i.onViewportChanged);ko.applyBindings(i,r)};i.click=function(r,u){var f=t.getViewport();f.isMobileDevice&&i.isProgramGuideOpened(!i.isProgramGuideOpened());n(u.target).toggleClass("icon-up")};i.onViewportChanged=function(n){n.isMobileDevice||i.isProgramGuideOpened(!0)}}});define("externals/components/PromoLive/main",["jquery","underscore","services/viewportService","externals/components/LivePanel/liveFeedV2","externals/components/PushStateControl/loaderStateService"],function(n,t,i,r,u){return function(){function v(){if(!l){ko.applyBindings(f,e);s();try{n(".slider-promo-live").slick("reinit")}catch(i){console.log("erreur slick")}var t=n(e).find(".show-title");f.touchDetect();c?t.each(function(t,i){if(n(i).html(n(i).html()+"&nbsp;&nbsp;"),n(i).width()>n(i).parent().width()){n(i).addClass("animate-mobile-text");n(i).html(n(i).html()+"&nbsp;&nbsp;");var r=-n(i).width(),u=Math.abs(r/20);n(i).html(n(i).html()+n(i).html());n(i).attr("style","left:"+r+"px; -webkit-animation-duration:"+u+"s; animation-duration:"+u+"s;")}}):t.each(function(t,i){n(i).width()>=n(i).parent().width()&&y(i)});l=!0}}function h(){var t=n(".slider-promo-live");if(t.length>0)try{t.slick("reinit");n(".promo-live-card").height(n(".promo-live-card").outerWidth()/16*9)}catch(i){console.log("slick error")}}var f=this,e={},s,o,y;f.lives=ko.observableArray();var c=!1,l=!1,a=!1;f.touchDetect=function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(n(".inside").css("display","none"),c=!0)};window.addEventListener("touchstart",function p(){c=!0;window.removeEventListener("touchstart",p,!1)},!1);f.callBack=function(t,i,r){a&&t!="callLiveItem"&&(h(),t=="deleteLiveItem"&&(n("div[data-codename='"+r.stationCodeName()+"']").remove(),h()),s())};s=function(){var t=n(".promo-live .program-content img"),i=n(".promo-live .program-content .a-play-button");n(".promo-live .show-content").width(t.width()-i.width());n(".promo-live-card").height(n(".promo-live-card").outerWidth()/16*9);t.css("width","100%")};o=function(){a=!0;var t=n(".slider-promo-live");t.slick({dots:!1,arrows:!0,prevArrow:n(".slick-prev"),nextArrow:n(".slick-next"),variableWidth:!0,slidesToShow:4,slidesToScroll:1,touchThreshold:14,swipe:!0,draggable:!1,accessibility:!1,infinite:!1,speed:300,responsive:[{breakpoint:6e3,settings:{variableWidth:!1,slidesToShow:5,slidesToScroll:1}},{breakpoint:2339,settings:{variableWidth:!1,slidesToShow:5,slidesToScroll:1}},{breakpoint:1599,settings:{variableWidth:!1,slidesToShow:4,slidesToScroll:1}},{breakpoint:1239.01,settings:{variableWidth:!0,slidesToShow:3,slidesToScroll:1}},{breakpoint:1023,settings:{variableWidth:!0,slidesToShow:2,slidesToScroll:1}}]});n(".btn-nav").attr("aria-hidden","true");n(".btn-nav").attr("tabindex",-1)};y=function(t){var i,r;if(t){n(t).html(n(t).html()+"&nbsp;&nbsp;");i=-n(t).width();n(t).html(n(t).html()+n(t).html());n(t).addClass("animate-text");r=Math.abs(i/20);t.timeout=null;n(t).on("mouseover",function(){t.timeout=setTimeout(function(){n(t).attr("style","left:"+i+"px; -webkit-transition-duration:"+r+"s; transition-duration:"+r+"s;");n(t).on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n(t).attr("style","left:0; transition: unset; -webkit-transition:unset;-moz-transition:unset;")})},1e3)});n(t).on("mouseout",function(){clearTimeout(t.timeout)})}};f.callbackSPA=function(n){n.progress==0&&(r.removeCallBack(f.lineupIdLive,f.callBack,f),f.onViewportChanged=null)};this.init=function(c){var w,nt,tt,it;e=c;l=!1;var p=n(e),b=p.data("lineupidtoutv"),k=p.data("lineupidlive"),d=n(e).data("lineupidliveregional"),g=p.data("onlylive"),y="";ko.utils.domNodeDisposal.addDisposeCallback(e,function(){n(document).off("navigation:openClose:open navigation:openClose:close",h);a&&n(".slider-promo-live").slick("unslick")});w={callback:f.callbackSPA,pageLoadWaitingTime:25};nt=u.subscribePageLoadingState(w);r.init();r.getWebDiffusion(k,d,f.lives,6e4,f.callBack,f);g==!1&&(r.getTele(f.lives),r.getPremiere(f.lives),r.getMusiquee(f.lives),r.getToutv(b,f.lives),r.getMuse(f.lives));r.allFeedAreReady()?v():t.waitUntilIsUndifined(function(){return r.allFeedAreReady()?!0:undefined},100,function(){v()});t.waitUntilIsUndifined(function(){return window.liveApi},100,function(){window.liveApi.getSchedule().then(function(t){(t.playbackAudio!=undefined||t.playbackAudio!=null)&&(t.playbackAudio.isPlaying&&(y=t.playbackAudio.mediaId),f.lives().forEach(function(t){y!=""&&t.stationCodeName()==y&&(t.isPlaying=!0,t.classBtn("a-stop-button icon-rc_media_stop"));n(".slider-promo-live")&&n(".slider-promo-live").slick?n(".slider-promo-live").slick("reinit"):o()}));(t.playbackVideo!=undefined||t.playbackVideo!=null)&&(t.playbackVideo.isPlaying&&(y=t.playbackVideo.mediaId),f.lives().forEach(function(t){y!=""&&t.stationCodeName()==y&&(t.isPlaying=!0,t.classBtn("a-stop-button icon-rc_media_stop"));n(".slider-promo-live")&&n(".slider-promo-live").slick?n(".slider-promo-live").slick("reinit"):o()}))})});tt=n(".promo-live .program-content img");it=n(".promo-live .program-content .a-play-button");o();n(document).on("navigation:openClose:open navigation:openClose:close",h);f.onViewportChanged=function(){n(".slider-promo-live")&&n(".slider-promo-live").slick?n(".slider-promo-live").slick("reinit"):o();s();n(".btn-nav").attr("aria-hidden","true");n(".btn-nav").attr("tabindex",-1)};f.onViewportChanged();i.registerViewportChanged(f.onViewportChanged)}}});define("externals/components/PremiereMediaService/mediaBroadcastDayService",["jquery","underscore"],function(n,t){var i=function(){function s(r,u){n.ajax({url:window.appHost+"/api/ModuleEcouteToday",dataType:"json",data:{regionId:r,avatarSource:u}}).done(function(n){i.cues=n;i.isLoaded=!0;e(t.last(t.where(n,function(n){return n.WillBeLiveInMs<0})));t.each(t.filter(n,function(n){return n.Duration}),function(n){if(n.WillBeLiveInMs>=0){var t=setTimeout(function(){e(n)},n.WillBeLiveInMs);f.push(t)}})})}function e(n){n&&(i.currentLiveCue=n,h(n))}function h(n){setTimeout(function(){t.each(r,function(t){t.callback(n)})},100)}var o=this,r=[],u,f=[],i={isLoaded:!1,cues:[],currentLiveCue:null};this.init=function(n,t){u||(u=!0,s(n,t))};this.subscribeCurrentCue=function(n){var i=t.uniqueId("mediaCallBack");return r.push({id:i,callback:n}),i};this.unSubscribeCurrentCue=function(n){r.splice(r.indexOf(t.find(r,function(t){return t.id==n})),1)};this.dispose=function(){o=null;t.each(f,function(n){clearTimeout(n)})};this.getNextCues=function(){if(!i.currentLiveCue)return[];var n=t.findIndex(i.cues,function(n){return n.WillBeLiveInMs==i.currentLiveCue.WillBeLiveInMs});return t.last(i.cues,i.cues.length-n-1)}};return new i});define("externals/components/PremiereMediaService/mediaKnockoutHelpers",["underscore","jquery"],function(n,t){ko.bindingHandlers.mediaPlayerState={init:function(n,i){require(["externals/components/PremiereMediaService/mediaPlayerService"],function(r){var u,f,e,o;t(n).prop("disabled",!0);t(n).bind("click.mediaPlayerState",function(){u?u():i().click(ko.toJS(i()),n)});f=function(f,e){var o=ko.toJS(i());if(o.mediaSeek=o.mediaSeek||0,e.initialized){if(t(n).prop("disabled",!1),e.isLive){u=null;t(n).removeClass(o.playingClass).removeClass(o.pausingClass).removeClass(o.waitingClass).addClass(o.defaultClass).removeClass(o.liveClass);return}e.mediaContextId==o.contextId||e.mediaUniqueId==o.mediaUniqueId||o.contextAll?e.playing?(u=function(){r.pause()},t(n).removeClass(o.defaultClass).removeClass(o.pausingClass).removeClass(o.waitingClass).removeClass(o.liveClass).addClass(o.playingClass)):e.waitingToPlay?(u=function(){r.stop()},t(n).removeClass(o.defaultClass).removeClass(o.pausingClass).removeClass(o.playingClass).removeClass(o.liveClass).addClass(o.waitingClass)):(u=function(){r.play()},t(n).removeClass(o.defaultClass).removeClass(o.playingClass).removeClass(o.waitingClass).removeClass(o.liveClass).addClass(o.pausingClass)):(u=null,t(n).removeClass(o.playingClass).removeClass(o.pausingClass).removeClass(o.waitingClass).removeClass(o.liveClass).addClass(o.defaultClass))}};e=ko.toJS(r.playback);f("",e);o=r.subscribeEvents(f);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){t(n).unbind("click.mediaPlayerState");r.unSubscribeEvents(o)})})}};ko.bindingHandlers.mediaPlayerLiveState={init:function(n,i){require(["externals/components/PremiereMediaService/mediaPlayerService"],function(r){var u,f,e,o;t(n).prop("disabled",!0);t(n).bind("click.mediaPlayerLiveState",function(){u&&u()});f=function(f,e){var o=ko.toJS(i());(o.mediaSeek=o.mediaSeek||0,e.initialized)&&(t(n).prop("disabled",!1),e.isLive?e.playing?(u=function(){r.pause()},t(n).removeClass(o.defaultClass).removeClass(o.waitingClass).addClass(o.liveClass)):e.waitingToPlay?(u=null,t(n).removeClass(o.defaultClass).removeClass(o.liveClass).addClass(o.waitingClass)):(u=function(){r.playLive()},t(n).removeClass(o.liveClass).removeClass(o.waitingClass).addClass(o.defaultClass)):(u=function(){r.playLive()},t(n).removeClass(o.liveClass).removeClass(o.waitingClass).addClass(o.defaultClass)))};e=ko.toJS(r.playback);f("",e);o=r.subscribeEvents(f);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){t(n).unbind("click.mediaPlayerLiveState");r.unSubscribeEvents(o)})})}}});define("externals/components/PremiereMediaService/mediaMyListService",["underscore","jquery","services/localstoreService"],function(n,t,i){var r=function(t){function h(t){var i=n.uniqueId("list");r.cues.push({id:i,data:t});o("add",t);f()}function c(n){r.cues.splice(r.cues.indexOf(n),1);o("remove",n);f()}function l(){i(s,r);f()}function o(t,i){e&&n.each(u,function(n){n.callback(t,i)})}var s="Premiere_MyList_V2_"+t,r=i(s),f=n.debounce(l,1e3),e=!0,u=[];n.isEmpty(r)&&(r={name:t,createdOn:new Date,cues:[]});this.subscribeEvents=function(t){var i=n.uniqueId("myListCallback");return u.push({id:i,callback:t}),i};this.unSubscribeEvents=function(t){u.splice(u.indexOf(n.find(u,function(n){return n.id==t})),1)};this.addCue=function(n){h(n)};this.addCues=function(t){n.each(t,function(n){h(n)})};this.removeCueFromId=function(t){c(n.find(r.cues,function(n){return n.id==t}))};this.removeCueFromMediaId=function(t){c(n.find(r.cues,function(n){return n.data.MediaId==t}))};this.removeAll=function(){r.cues=[];o("removeAll");f()};this.all=function(){return r.cues};this.toString=function(){return JSON.stringify(r)};this.enabledEvent=function(){e=!0};this.disabledEvent=function(){e=!1}},u=function(){var i=this,n={};this.getList=function(i){return t.Deferred(function(t){n[i]?t.resolve(n[i]):(n[i]=new r(i),t.resolve(n[i]))})};this.getDefaultList=function(){return i.getList("mylist")}};return new u});define("externals/components/PremiereMediaService/mediaPlayerService",["jquery","underscore","externals/components/PremiereMediaService/mediaQueueService","externals/components/PremiereMediaService/mediaBroadcastDayService"],function(n,t,i,r){var u=function(){function it(){u.playback.isPaused(!1);f("play",null);e("PlaybackUnpause")}function rt(){return n.Deferred(function(n){var i=function(){var r=t.findIndex(window.statePlayers||[],function(n){return n.id==h})>=0;t.isUndefined(window.srcPlayer)||!r?setTimeout(i,100):n.resolve()};i()})}function ut(){f("addEventListener",{eventName:"end",callback:st});f("addEventListener",{eventName:"pause",callback:ht});f("addEventListener",{eventName:"currentTime",callback:ct});f("addEventListener",{eventName:"start",callback:ot});f("addEventListener",{eventName:"play",callback:et});f("addEventListener",{eventName:"error",callback:function(n){console.log(n)}});f("setVolume",{volume:1});u.playback.initialized(!0);e("console-ready");c=!0}function ft(){i.registerListLoaded(function(){u.playbackQueueList(i.getQueue());var n=i.current();n?u.movePlaybackToQueueCue(n,!0):u.playbackQueueList().length>0&&u.movePlaybackToQueueCue(t.first(u.playbackQueueList()),!0)});i.registerListChanged(function(){u.playbackQueueList(i.getQueue());u.playbackQueueList().length>0&&u.movePlaybackToQueueCue(i.current())});i.load()}function f(n,t){window.srcPlayer(n,t,h)}function et(n){v=n.idMedia}function ot(){}function st(){g()}function ht(){b()}function ct(n){try{w();at(n)}catch(t){}}function p(){u.playback.hasPrevious(!1);u.playback.hasNext(!1);u.playback.currentTime(0);u.playback.waitingToPlay(!1);u.playback.isPaused(!1);u.playback.playing(!1);u.playback.isLive(!1);e("PlaybackOnReadyState")}function w(){u.playback.waitingToPlay(!1);u.playback.playing(!0);e("PlaybackOnPlayingState")}function b(){u.playback.isPaused(!0);u.playback.playing(!1);e("PlaybackOnPausegState")}function k(){u.playback.isPaused(!1);u.playback.playing(!1);u.playback.waitingToPlay(!1);e("PlaybackOnStopState")}function lt(n){l=n;u.playback.mediaId()==null?d(n):u.playback.isLive()&&(u.playback.mediaTitle("En direct"),u.playback.mediaContextTitle(n.ShowTitle),u.playback.seekTime(0),u.playback.isLiveReady(!0));u.liveCue.title(n.ShowTitle);u.liveCue.idProgram(n.IdProgram)}function d(n){n&&(p(),u.playback.mediaId(n.IdMedia),u.playback.appCode("radio"),u.playback.duration(parseInt(n.TotalSeconds)),u.playback.seekTime(parseInt(n.Seek)),u.playback.mediaContextId(n.Context?n.Context.Id:""),u.playback.mediaTitle("En direct"),u.playback.mediaContextTitle(n.ShowTitle),u.playback.mediaContextUrl(n.UrlSite),u.playback.mediaContextAvatar(n.ImageUrl&&n.ImageUrl.Src!=""?n.ImageUrl.Src:""),u.playback.isLive(!0),u.playback.isAudioFil(!1),u.playback.broad(),e("PlaybackOnLiveState"))}function e(n){setTimeout(function(){t.each(s,function(t){t.callback(n,ko.toJS(u.playback))})},100)}function at(n){if(!u.playback.isLive()){var t=n-u.playback.seekTime();t=t<0?0:t;u.playback.currentTime(t);u.playback.mediaId()!=v?y():n>u.playback.seekTime()+u.playback.duration()?g():n<u.playback.seekTime()&&y();u.playback.isLive()||parseInt(n,10)%5!=0||setTimeout(function(){i.updateSeekTime(t)})}}function g(){var n=i.next(),t=ko.toJS(u.playback);n||k();t.mediaId==n.IdMedia?(u.movePlaybackToQueueCue(n,!0),w()):u.movePlaybackToQueueCue(n,!1)}var u=this,h,nt=[],c=!1,o,tt="medianet",l,a={},s=[],v,y=t.debounce(function(){u.play()},1e3);this.init=function(n){h||(h=n,ft(),rt().then(function(){ut()}))};this.consoleIsReady=ko.observable(!1);this.playback=ko.mapping.fromJS({initialized:!1,mediaId:null,mediaUniqueId:null,appCode:null,playing:!1,broad:"",isPaused:!1,waitingToPlay:!1,duration:0,seekTime:0,mediaTitle:"",mediaContextId:"",mediaContextTitle:"",mediaContextUrl:"",mediaContextAvatar:"",hasPrevious:!1,hasNext:!1,isLive:!1,isLiveReady:!1,currentTime:0,index:-1,isAudioFil:!1,relatedContents:[]});this.liveCue=ko.mapping.fromJS({title:"",idProgram:""});this.subscribeEvents=function(n){var i=t.uniqueId("mediaCallBack");return s.push({id:i,callback:n}),i};this.unSubscribeEvents=function(n){s.splice(s.indexOf(t.find(s,function(t){return t.id==n})),1)};this.playbackQueueList=ko.observableArray([]);this.dispose=function(){u=null;t.each(nt,function(n){clearTimeout(n)})};this.initLiveState=function(n,t){r.subscribeCurrentCue(function(n){lt(n)});r.init(n,t)};this.play=function(){var n,t,i;if(u.playback.waitingToPlay(!0),!c){setTimeout(function(){u.play()},300);return}if(n=ko.toJS(u.playback),n.mediaId!=null){if(n.isLive&&n.isPaused){it();return}e("PlaybackFirstPlay");t=n.seekTime+n.currentTime;i=a.mediaId==n.mediaId;a=n;o={idMedia:n.mediaId,appCode:n.appCode,params:{autoPlay:!0}};t>0&&(o.params.time=t);i?(f("seek",{time:t}),n.playing||f("play",null)):f("change",o)}};this.pause=function(){f("pause",null);b();e("PlaybackPause")};this.stop=function(){f("stop",null);k();e("PlaybackStop")};this.previous=function(){var n=i.previous();n&&u.movePlaybackToQueueCue(n,!u.playback.playing())};this.next=function(){var n=i.next();n&&u.movePlaybackToQueueCue(n,!u.playback.playing())};this.seekPct=function(n){var t=u.playback.duration()*n*.01,i=t+u.playback.seekTime();u.playback.playing()&&u.playback.waitingToPlay(!0);u.playback.playing()?f("seek",{time:i}):(u.playback.currentTime(t),o&&(o.params.time=i,f("change",o)))};this.setVolume=function(n){var t=n*.01;f("setVolume",{volume:t})};this.movePlaybackToQueueCue=function(n,r){p();u.playback.mediaId(parseInt(n.IdMedia));u.playback.mediaUniqueId(n.IdMediaUnique);u.playback.appCode(tt);u.playback.duration(n.Duration);u.playback.seekTime(n.SeekTime);u.playback.mediaTitle(n.Title);u.playback.mediaContextId(n.Context.Id);u.playback.mediaContextTitle(n.Context.Title);u.playback.mediaContextUrl(n.Context.Url);u.playback.mediaContextAvatar(n.Context.Avatar);u.playback.hasPrevious(n.HasPrev);u.playback.hasNext(n.HasNext);u.playback.index(n.index);u.playback.currentTime(n.currentTime||0);u.playback.broad(n.Broad);u.playback.relatedContents(n.RelatedContents);u.playback.isAudioFil(n.Context.Type=="audio-fil");r||u.play();i.setCurrentIndex(t.findIndex(u.playbackQueueList(),function(n){return n.IdMediaUnique==u.playback.mediaUniqueId()}))};this.playLive=function(){d(l);u.play()}};return new u});define("externals/components/PremiereMediaService/mediaQueueService",["services/localstoreService","underscore"],function(n,t){var i=function(){function l(t){var i=n(t);return i?i:o()}function y(){n(f,i)}function a(){return i.currentState.currentItemIndex<i.queues.length-1}function p(){return i.currentState.currentItemIndex>0}function w(){if(u)return!1;var n=l(f);return n.currentState.resume}function b(){if(i.currentState.currentItemIndex>=0){var n=i.queues[i.currentState.currentItemIndex];return n.currentTime=i.currentState.currentSeek,n}return null}function v(n){for(var t in n)n[t]()}function o(){return{currentState:{resume:0,currentItemIndex:-1,currentSeek:0},queues:[],context:{},myPlaylist:[]}}var k=this,r=!1,f="Rc_Media_QueueService_Build_V7",s=[],h=[],u=!1,i=o(),c=!0,e=t.debounce(y,800,{leading:!0,trailing:!0});this.registerListChanged=function(n){h.push(n)};this.registerListLoaded=function(n){s.push(n)};this.addList=function(n,f){var s,y,l,a,c;if(!r)throw"You need to call load() first";if((s=n.QueueItems,y=n.QueueContext,Object.prototype.toString.call(s)==="[object Array]")&&s.length!=0){for(i=o(),s=t.where(s,function(n){return n.IdMedia>0}),l=1;l<s.length;l++)s[l].HasPrev=!0;for(a=0;a<s.length-1;a++)s[a].HasNext=!0;for(c=0;c<s.length;c++)s[c].index=c,s[c].Context||(s[c].Context=y);i.queues=s;i.context=y;i.currentState.currentItemIndex=f?f:0;u=!0;e();v(h)}};this.next=function(){if(!r)throw"You need to call load() first";return(u=!1,a())?(++i.currentState.currentItemIndex,i.queues[i.currentState.currentItemIndex]):null};this.nextPreview=function(){if(!r)throw"You need to call load() first";return a()?i.queues[i.currentState.currentItemIndex+1]:null};this.current=function(){if(!r)throw"You need to call load() first";return c&&w()?(c=!1,b()):(u=!1,i.queues.length>0)?((i.currentState.currentItemIndex==-1||i.currentState.currentItemIndex>=i.queues.length)&&(i.currentState.currentItemIndex=0),i.queues[i.currentState.currentItemIndex]):null};this.previous=function(){if(!r)throw"You need to call load() first";return(u=!1,p())?(--i.currentState.currentItemIndex,i.queues[i.currentState.currentItemIndex]):null};this.getQueue=function(){if(!r)throw"You need to call load() first";return i.queues};this.load=function(){if(r)throw"is already loaded";r=!0;var n=l(f);n&&(i=n);v(s)};this.setCurrentIndex=function(n){i.currentState.currentItemIndex=n;e()};this.updateSeekTime=function(n){if(!r)throw"You need to call load() first";i.currentState.resume=1;i.currentState.currentSeek=n;e()};this.getStoreName=function(){return f}};return new i});define("externals/components/PremierePageTransition/main",["jquery","externals/components/PushStateControl/loaderStateService"],function(n,t){return function(){function o(t){((i.length>0&&i[i.length-1]>t.progress||!t.inProcess)&&(u=0,i=[],r.loadingState().progressBar&&r.loadingState().progressBar(0)),i.push(t.progress),t.elapseTime<250&&t.progress<100)||(t.progressBar=i[u],ko.mapping.fromJS(t,{},r.loadingState),r.inProcess(t.inProcess),t.inProcess?(n("body").addClass("page-in-transition"),n("#"+t.containerId).addClass("container-in-transition")):(e?n("body").removeClass("page-in-transition"):setTimeout(function(){n("body").removeClass("page-in-transition")},100),n("#"+t.containerId).removeClass("container-in-transition")),u++,t.progress===100&&(e||(n("#"+t.containerId).addClass("container-end-transition"),setTimeout(function(){n("#"+t.containerId).removeClass("container-end-transition")},150)),u=0,i=[]))}var r=this,f={},u=0,i=[],e=!0;this.init=function(n){f=n;r.loadingState().progressBar=ko.observable(0);ko.applyBindings(r,f);var i={callback:o,pageLoadWaitingTime:25},u=t.subscribePageLoadingState(i);ko.utils.domNodeDisposal.addDisposeCallback(n,function(){t.unSubscribePageLoadingState(u)})};this.inProcess=ko.observable(!1);this.loadingState=ko.observable({})}});define("externals/components/SegmentDetail/main",["jquery","moment","services/componentsService","pluggins/src.socialbar","externals/components/PremiereMediaService/mediaQueueService","externals/components/PremiereMediaService/mediaMyListService","services/commonDataService"],function(n,t,i,r,u,f,e){return function(){function l(n){var r,u;i.ItemDetail.IdMedia(n.Id);i.ItemDetail.Title(n.Title);i.ItemDetail.Duration(y(n.SummaryMultimediaItem.FutureDuration));i.ItemDetail.DurationA11Y(p(n.SummaryMultimediaItem.FutureDuration));n.SummaryMultimediaItem.SummaryImage&&(r=h(n.SummaryMultimediaItem.SummaryImage.ConcreteImages,635,357),r&&i.ItemDetail.ImgSrc(r.MediaLink.Href),i.ItemDetail.ImgAlt(n.SummaryMultimediaItem.SummaryImage.Alt),i.ItemDetail.ImageCreditAndLegend(n.SummaryMultimediaItem.SummaryImage.ImageCredits));i.ItemDetail.SummaryText(n.Summary);i.ItemDetail.ShowTitle(n.BroadcastableItem.Title);i.ItemDetail.ShowHost(n.NomAnimateur);i.ItemDetail.UrlSite(n.UrlSite);u=t(n.FuturePublishedLastTimeAt);i.ItemDetail.PublishedAt(u.tz("America/Montreal").format("LL"));i.ItemDetail.PublishedAtA11Y(u.format("YYYY-MM-DD"));var f=new RegExp("[\\s|'|’]","gi"),e=n.Title.replace(f,"-");i.ItemDetail.StatsContent(n.Id+"-"+e)}function h(n,t,i){return n&&n.length==1?n[0]:_.find(n,function(n){return n.Width==t&&n.Height==i})}function a(n,t,r,u){var f;i.PlaylistSummary.IdList(n);i.PlaylistSummary.Title(t.Title);i.PlaylistSummary.Summary(t.Summary);f=h(t.SummaryMultimediaItem.ConcreteImages,635,357);f&&i.PlaylistSummary.ImgSrc(f.MediaLink.Href);i.PlaylistSummary.ImgAlt(t.SummaryMultimediaItem.Alt);i.PlaylistSummary.ListUrl(r);i.PlaylistSummary.Duration(b(u.DurationSeconds));i.PlaylistSummary.ListCount(u.ItemCount);i.PlaylistSummary.itemType(v(u.ThemeId));var e=new RegExp("[\\s|'|’]","gi"),o=t.Title.replace(e,"-");i.PlaylistSummary.StatsContent(n+"-"+o)}function v(n){var t="";switch(n){case 1:t="\351pisode";break;case 2:t="partie";break;default:t="\351l\351ment"}return i.PlaylistSummary.ListCount()>1?t+"s":t}function y(n){var i=t.duration(n,"seconds"),r=i.days(),u=r>0?i.hours()+r+24:i.hours(),f=i.minutes(),e=i.seconds();return u>0?u+":"+f+":"+e:f+":"+e}function p(n){var i=t.duration(n,"seconds");return i.toISOString()}function w(){var t=n(r).data("playlistid"),u=n(r).data("itemid"),f=n(r).data("theme"),e=n(r).data("xmlsource");n.ajax({url:window.appHost+"/api/SegmentDetailApi",data:{lineUpId:t,itemId:u,theme:f,xmlMapping:e}}).done(function(n){i.ItemDetail.ThemeId(n.ThemeId);a(n.Id,n.PlaylistSummary,n.ListUrl,n);l(n.PlaylistItem);c(n.IdMedia);ko.applyBindings(i,r)}).always(function(){})}function c(t){var i=!1;f.getDefaultList().then(function(u){if(u.all().length!=0){for(var f=0;f<u.all().length;f++)if(i=t==u.all()[f].data.IdMedia,i)break;i&&setTimeout(function(){n(r).find("#media-"+t).addClass("hidden");n(r).find("#media-link-"+t).removeClass("hidden")},500)}})}function s(t){var i=n(t).data("stats-action"),r,u;i&&i!=""&&(r=document.getElementsByName("WT.clic")[0].content,u=n(t).data("stats-content")||"",e.webTrendsStatsToClick("clic_action",i,"clic_contenu",u,"WT.clic",r))}function b(n){var f=n,i=t.duration(f,"seconds"),r="",u;return i.hours()>0&&(u=i.days(),r+=(u>0?i.hours()+u+24:i.hours())+" h "),i.minutes()>0&&(r+=i.minutes()+" min"),r}var i=this,r={},o=!1;this.PlaylistSummary={IdList:ko.observable(),Title:ko.observable(),Summary:ko.observable(),ImgSrc:ko.observable(),ImgAlt:ko.observable(),ListUrl:ko.observable(),StatsContent:ko.observable(),ListCount:ko.observable(),Duration:ko.observable(),itemType:ko.observable()};this.ItemDetail={IdMedia:ko.observable(),Title:ko.observable(),ThemeId:ko.observable(),Duration:ko.observable(),DurationA11Y:ko.observable(),ImgSrc:ko.observable(),ImgAlt:ko.observable(),ImageCreditAndLegend:ko.observable(),SummaryText:ko.observable(),ShowTitle:ko.observable(),PublishedAt:ko.observable(),PublishedAtA11Y:ko.observable(),ShowHost:ko.observable(),BroadcastionStation:ko.observable(),UrlSite:ko.observable(),StatsContent:ko.observable()};this.init=function(n){r=n;ko.utils.domNodeDisposal.addDisposeCallback(r,function(){r=null});t.tz.add("America/Montreal|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0");w()};this.play=function(t,f){var e=n(r).data("itemid"),o=i.PlaylistSummary.IdList(),h=window.appHost+"/api/premiereplus/list/"+o+"/"+e+"/forQueue";n.ajax({url:h}).done(function(n){u.add(n);s(f.currentTarget)})};this.addItemToPlaylist=function(t,u){var l=n(u.currentTarget),e=n(r).data("itemid")-1,o=i.PlaylistSummary.IdList(),h=window.appHost+"/api/premiereplus/list/"+o+"/forQueue";n.ajax({url:h}).done(function(n){f.getDefaultList().then(function(t){var i=n[e];t.addCue(i);c(i.IdMedia);s(u.currentTarget)})})};this.toggleSocialNetwork=function(n,t){o||s(t.currentTarget);o=!o}}});define("externals/components/ClosedSchoolByRegionAlert/main",[],function(){return{init:function(){}}}),function(n){var t=function(t,i){this.carrouselSlider=n(t);this.defaults={showFirst:!0,labels:{},classes:{visuallyhidden:"visuallyhidden",states:{active:"is-active",inactive:"is-inactive"}}};this.classes=n.extend(!0,this.defaults.classes,window.project?window.project.classes:{});this.labels=n.extend(!0,this.defaults.labels,window.project?window.project.labels:{});this.config=n.extend(!0,this.defaults,i||{});this.publicMethods={};this.carrouselSliderListWrapper=this.carrouselSlider.find(".elections-carrousel-list");this.carrouselSliderItems=this.carrouselSlider.find(".elections-carrousel-list-item");this.carrouselSliderNavPrev=this.carrouselSlider.find(".elections-carrousel-nav-item.is-prev");this.carrouselSliderNavNext=this.carrouselSlider.find(".elections-carrousel-nav-item.is-next");this.currentSlideIndex=0;this.nbSlides=this.carrouselSliderItems.length-1;this.carrouselSliderA11yLiveField=null;this.init()};n.extend(t.prototype,{init:function(){console.log("init");this.bindEvents();this.addA11yLiveField();this.config.showFirst&&(this.carrouselSliderItems.first().addClass(this.classes.states.active),this.updateA11yLive())},bindEvents:function(){this.carrouselSliderNavPrev.on("click",n.proxy(function(){this.showPrevSlide()},this));this.carrouselSliderNavNext.on("click",n.proxy(function(){this.showNextSlide()},this))},addA11yLiveField:function(){this.carrouselSlider.append('<div class="visuallyhidden aria-live-box" aria-live="polite" aria-atomic="true" aria-hidden="true"><\/div>');this.carrouselSliderA11yLiveField=this.carrouselSlider.find(".aria-live-box")},showPrevSlide:function(){this.carrouselSliderItems.removeClass(this.classes.states.active);this.currentSlideIndex>0?this.currentSlideIndex--:this.currentSlideIndex=this.nbSlides;this.carrouselSliderItems.eq(this.currentSlideIndex).addClass(this.classes.states.active);this.updateA11yLive()},showNextSlide:function(){this.carrouselSliderItems.removeClass(this.classes.states.active);this.currentSlideIndex<this.nbSlides?this.currentSlideIndex++:this.currentSlideIndex=0;this.carrouselSliderItems.eq(this.currentSlideIndex).addClass(this.classes.states.active);this.updateA11yLive()},updateA11yLive:function(){this.carrouselSliderA11yLiveField.html("La diapositive "+(this.currentSlideIndex+1)+" est affiché.")}});n.fn.carrouselSlider=function(i){return this.each(n.proxy(function(r,u){var o=n(u),f,e;if(!o.data("carrouselSlider")){f=new t(u,i);for(e in f.publicMethods)this[e]=f.publicMethods[e];o.data("carrouselSlider",f)}},this)),this}}(jQuery);define("externals/components/ElectionsCarrousel/main",["jquery","externals/components/PushStateControl/loaderStateService"],function(n){return function(){var i=this,t={};this.init=function(r){t=r;ko.applyBindings(i,t);n.ajaxSetup({cache:!0});n.getScript("/unit/Components/Regions/Elections/ElectionsCarrousel/Scripts/jquery.carrousel-slider.js",function(){$(".carrousel-slider").carrouselSlider()})}}});define("externals/components/ElectionsCarrouselRegionalized/main",["jquery","externals/components/PushStateControl/loaderStateService"],function(n){return function(){var i=this,t={};this.init=function(r){t=r;ko.applyBindings(i,t);n.ajaxSetup({cache:!0});n.getScript("/unit/Components/Regions/Elections/ElectionsCarrousel/Scripts/jquery.carrousel-slider.js",function(){$(".carrousel-slider").carrouselSlider()})}}}),function(n){var t=function(t,i){this.customSelect=n(t);this.defaults={labels:{},classes:{visuallyhidden:"visuallyhidden",states:{active:"is-active",inactive:"is-inactive"}}};this.classes=n.extend(!0,this.defaults.classes,window.project?window.project.classes:{});this.labels=n.extend(!0,this.defaults.labels,window.project?window.project.labels:{});this.config=n.extend(!0,this.defaults,i||{});this.publicMethods={test:n.proxy(function(){console.log("test")},this)};this.init()};n.extend(t.prototype,{init:function(){this.buildSelect()},buildSelect:function(){var r=window.location.href.toLowerCase(),t="",i,u=this.customSelect.data("class"),f=this.customSelect.data("trigger-class"),e=this.customSelect.data("label"),o=this.customSelect.find("option");t+='<div class="custom-select '+u+'">';t+='    <button class="sentier-dropdowns-item-trigger custom-select-trigger '+f+'">';t+='        <div class="item-trigger-inner">';t+=e;t+="        <\/div>";t+="    <\/button>";t+='    <ul class="sentier-dropdowns-item-content-list custom-select-content">';_.each(o,n.proxy(function(n){i=r.indexOf("/"+this.removeAccent(n.innerText.trim()))!=-1?"is-active":"";t+='        <li class="item-content-list-item">';t+='            <a href="'+this.removeAccent(n.value)+'" class="custom-select-content-trigger '+i+'">'+n.innerText+"<\/a>";t+="        <\/li>"},this));t+="    <\/ul>";t+="<\/div>";this.customSelect.after(t);this.selectTrigger=this.customSelect.parent().find(".custom-select-trigger");this.bindEvents()},bindEvents:function(){this.selectTrigger.on("click",n.proxy(function(t){var i=n(t.currentTarget),r=i.next(".custom-select-content");i.hasClass(this.classes.states.active)?this.closeSelect(i,r):this.openSelect(i,r)},this))},openSelect:function(t,i){var r=t.parent(".custom-select");r.find(".close-click-catcher").addClass(this.classes.states.active);r.addClass(this.classes.states.active);t.addClass(this.classes.states.active);i.addClass(this.classes.states.active);i.attr("tabindex","-1");setTimeout(n.proxy(function(){i.focus()},this),0);this.bindDocumentClick()},closeSelect:function(t,i){var r=t.parent(".custom-select");r.find(".close-click-catcher").addClass(this.classes.states.active);r.removeClass(this.classes.states.active);t.removeClass(this.classes.states.active);i.removeClass(this.classes.states.active);setTimeout(n.proxy(function(){t.focus()},this),0)},bindDocumentClick:function(){n(document).on("mouseup",n.proxy(function(t){var i=n(".custom-select"),r=i.find(".custom-select-trigger"),u=r.next(".custom-select-content");i.is(t.target)||i.has(t.target).length!==0||(this.closeSelect(r,u),n(document).unbind("mouseup"))},this))},removeAccent:function(n){var t,i;for(t||(t=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"-",letters:/[ ]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}]),i=0;i<t.length;i++)n=n.replace(t[i].letters,t[i].base);return n.toLowerCase()}});n.fn.customSelect=function(i){return this.each(n.proxy(function(r,u){var o=n(u),f,e;if(!o.data("customSelect")){f=new t(u,i);for(e in f.publicMethods)this[e]=f.publicMethods[e];o.data("customSelect",f)}},this)),this}}(jQuery);define("externals/components/ElectionsDynamicSubMenu/main",["jquery","externals/components/PushStateControl/pushStateService","services/viewportService"],function(n,t){return function(){var r,f,u,e,i,o,s;n.ajaxSetup({cache:!0});n.getScript("/unit/Components/Regions/Elections/ElectionsDynamicSubMenu/Scripts/jquery.customSelect.js",function(){$(".custom-select-element").customSelect()});r=this;r.currentPath=ko.observable();i={};o=function(n){r.currentPath(n)};this.init=function(u){var f,e;i=u;r.currentPath(document.location.pathname);f=[];n(i).find("a").each(function(t,i){var u=n(i).attr("href");r.currentPath().indexOf(u)!=-1&&f.push(u)});f.length>1&&(e=-1,f.forEach(function(n){e<n.lastIndexOf("/")&&r.currentPath(n)}));t.subscribePushEventEnded(o);ko.applyBindings(r,i);s()};s=function(){if(n(i).find(".active").length!==0){f=n(i).find(".active").position().left;u=n(i).find(".active").outerWidth(!0);var t=u*n(i).find("li").length;e=f-u/2;n(i).width()<t&&(n(i).find(".dynamic-submenu-list").width(t),n(i).scrollLeft(e))}}}}),function(n){var t=function(t,i){this.carrouselSlider=n(t);this.defaults={showFirst:!0,labels:{},classes:{visuallyhidden:"visuallyhidden",states:{active:"is-active",inactive:"is-inactive"}}};this.classes=n.extend(!0,this.defaults.classes,window.project?window.project.classes:{});this.labels=n.extend(!0,this.defaults.labels,window.project?window.project.labels:{});this.config=n.extend(!0,this.defaults,i||{});this.publicMethods={};this.carrouselSliderListWrapper=this.carrouselSlider.find(".elections-carrousel-list");this.carrouselSliderItems=this.carrouselSlider.find(".elections-carrousel-list-item");this.carrouselSliderNavPrev=this.carrouselSlider.find(".elections-carrousel-nav-item.is-prev");this.carrouselSliderNavNext=this.carrouselSlider.find(".elections-carrousel-nav-item.is-next");this.currentSlideIndex=0;this.nbSlides=this.carrouselSliderItems.length-1;this.carrouselSliderA11yLiveField=null;this.init()};n.extend(t.prototype,{init:function(){console.log("init");this.bindEvents();this.addA11yLiveField();this.config.showFirst&&(this.carrouselSliderItems.first().addClass(this.classes.states.active),this.updateA11yLive())},bindEvents:function(){this.carrouselSliderNavPrev.on("click",n.proxy(function(){this.showPrevSlide()},this));this.carrouselSliderNavNext.on("click",n.proxy(function(){this.showNextSlide()},this))},addA11yLiveField:function(){this.carrouselSlider.append('<div class="visuallyhidden aria-live-box" aria-live="polite" aria-atomic="true" aria-hidden="true"><\/div>');this.carrouselSliderA11yLiveField=this.carrouselSlider.find(".aria-live-box")},showPrevSlide:function(){this.carrouselSliderItems.removeClass(this.classes.states.active);this.currentSlideIndex>0?this.currentSlideIndex--:this.currentSlideIndex=this.nbSlides;this.carrouselSliderItems.eq(this.currentSlideIndex).addClass(this.classes.states.active);this.updateA11yLive()},showNextSlide:function(){this.carrouselSliderItems.removeClass(this.classes.states.active);this.currentSlideIndex<this.nbSlides?this.currentSlideIndex++:this.currentSlideIndex=0;this.carrouselSliderItems.eq(this.currentSlideIndex).addClass(this.classes.states.active);this.updateA11yLive()},updateA11yLive:function(){this.carrouselSliderA11yLiveField.html("La diapositive "+(this.currentSlideIndex+1)+" est affiché.")}});n.fn.carrouselSlider=function(i){return this.each(n.proxy(function(r,u){var o=n(u),f,e;if(!o.data("carrouselSlider")){f=new t(u,i);for(e in f.publicMethods)this[e]=f.publicMethods[e];o.data("carrouselSlider",f)}},this)),this}}(jQuery);define("externals/components/ElectionsMetrieRegionalized/main",["jquery","externals/components/PushStateControl/loaderStateService"],function(n){return function(){var i=this,t={};this.init=function(r){t=r;ko.applyBindings(i,t);n.ajaxSetup({cache:!0});n.getScript("/unit/Components/Regions/Elections/ElectionsCarrousel/Scripts/jquery.carrousel-slider.js",function(){$(".carrousel-slider").carrouselSlider()})}}});define("externals/components/MoreRegions/main",["jquery"],function(n){var t={init:function(i){n(i).find("#RegionsList-Button").on("focus",function(){t.showMoreRegionSelector()});n(i).find("#RegionsList-Container ul li:last-child").on("focusout",function(){t.hideMoreRegionSelector()});n(i).find("#RegionsList-Button").mouseover(function(){t.showMoreRegionSelector()});n(i).find("#RegionsList").mouseleave(function(){t.hideMoreRegionSelector()});n(document).bind("touchstart click",function(i){n(i.target).parents(".src-nav-panel-regions").length||t.hideMoreRegionSelector()});n(i).find("#RegionsListGrouped-Button").mouseover(function(){t.showMoreRegionGroupedSelector()});n(i).find("#RegionsListGrouped-Button").click(function(n){t.showMoreRegionGroupedSelector();n.preventDefault()});n(i).find("#RegionsListGrouped").mouseleave(function(){t.hideMoreRegionGroupedSelector()});n(document).bind("touchstart click",function(i){n(i.target).parents("#RegionsListGrouped").length||t.hideMoreRegionGroupedSelector()})},showMoreRegionSelector:function(){n(".src-nav-panel-regions-container").hasClass("hidden")&&n(".src-nav-panel-regions-container").removeClass("hidden").addClass("active")},hideMoreRegionSelector:function(){n(".src-nav-panel-regions-container").hasClass("active")&&n(".src-nav-panel-regions-container").removeClass("active").addClass("hidden")},showMoreRegionGroupedSelector:function(){n("#RegionsListGrouped-Container").hasClass("hidden")&&n("#RegionsListGrouped-Container").removeClass("hidden").addClass("active")},hideMoreRegionGroupedSelector:function(){n("#RegionsListGrouped-Container").hasClass("active")&&n("#RegionsListGrouped-Container").removeClass("active").addClass("hidden")}};return t});define("externals/components/RegionsCoordinates/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/RegionsHeader/main",["jquery","externals/components/MoreRegions/main"],function(n,t){return{init:function(n){t.init(n)}}});define("externals/components/GoogleLiveTrafficFullView/main",["jquery","lib/google-maps-loader","services/viewportService"],function(n,t,i){function e(){var n=i.getViewport();n.isMobileDevice;window.serviceMap&&google.maps.event.trigger(window.serviceMap,"resize")}function o(){google.maps.event.trigger(window.serviceMap,"resize");window.serviceMap.setCenter(new google.maps.LatLng(r,u));document.removeEventListener("DrawerOpened",o,!1)}var s={},r=0,u=0,f=0,h=0,c="";return{init:function(l){s=l;c=n(l).find("h3").text();document.addEventListener("DrawerOpened",o,!1);h=n(l).height();e();i.registerViewportChanged(function(){e()});t.done(function(t){var i=n("meta[name='rc.regionSlug']").attr("content"),e=n("meta[name='rc.segment']").attr("content"),o="/unit/component/regionscoordinates/livetrafficcoordinates?region="+i+"&subregion="+e;n.ajax({url:o,success:function(i){var e,o;r=i.Latitude;u=i.Longitude;f=i.Zoom;e={zoom:f,disableDefaultUI:!0,center:new t.LatLng(r,u),mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:t.ZoomControlStyle.SMALL},streetViewControl:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{color:"#222222"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#424141"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#0b2c3f"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b2dbff"}]}]};window.serviceMap=new t.Map(n(l).find("#map-canvas").get(0),e);o=new t.TrafficLayer;o.setMap(window.serviceMap)}})})}}});define("externals/components/InfoPanneService/main",["jquery","services/cookieService"],function(){return{init:function(n){main=n}}});define("externals/components/MeteoService/main",["jquery","services/cookieService"],function(n,t){function u(){r=n(i).data("region-name");var u=n(i).data("city-code");t.getValue("MeteoVille"+r)!=""&&(u=t.getValue("MeteoVilleCode"+r));n.ajax({url:window.appRouteBunker+"/component/MeteoService/ReloadWeather",data:{cityCode:u}}).done(function(t){try{var r=n(t)[0].innerHTML;n(i)[0].innerHTML=r}catch(u){}})}var i,r="";return{init:function(n){i=n;u();setInterval(u,6e4)}}});define("externals/components/MeteoServiceComplete/main",["jquery","services/cookieService"],function(n,t){var r,u="",f=t.getValue("RCMeteoHistory"),e="",i=[];return f!=""&&(e=$.parseJSON(f),i=e),{init:function(f){if(r=f,u=n(r).data("code-view"),$(".search-selector-input").length){n.getJSON("https://s.radio-canada.ca/regions/data/villes-meteo.json",function(t){n(".search-selector-input").autocomplete({appendTo:".autocomplete-results-wrapper",classes:{"ui-autocomplete":"autocomplete-results"},source:function(i,r){var u=n.ui.autocomplete.escapeRegex(i.term),f=new RegExp("^"+u,"i");r(n.grep(t,function(n){return f.test(n.City)}))},focus:function(n,t){this.value=t.item.City;n.preventDefault()},select:function(n,t){window.location.href="/meteo/"+t.item.Station}}).data("ui-autocomplete")._renderItem=function(t,i){return n('<li class="autocomplete-results-element"><\/li>').data("item.autocomplete",i).append('<a data-name="'+i.City+'" data-station="'+i.Station+'" data-country="'+i.Country+'" href="/meteo/'+i.Station+'" class="autocomplete-results-element-link">'+i.City+"<\/a>").appendTo(t)}});n(document).on("click",".autocomplete-results-element-link",function(r){var u=n(r.currentTarget),e=u.attr("href"),f=u.data("name"),o={city:f,url:e},s=i.filter(function(n){if(n!=null)return n.city===f});s.length==0&&(i.length>=5&&i.splice(0,1),i.push(o),t.setValue("RCMeteoHistory",JSON.stringify(i)))});n(document).on("click",".search-history-item-delete",function(n){var f=$(n.currentTarget),u=f.parents(".meteo-page-header-search-history-item"),e=u.data("city"),r=null;_.each(i,function(n,t){n!=null&&n.city==e&&(r=t)});r!=null&&r>-1&&i.splice(r,1);t.setValue("RCMeteoHistory",JSON.stringify(i));u.remove()});this.displayHistory()}if(t.getValue("MeteoVilleCode"+u)!=""){var e=t.getValue("MeteoVilleCode"+u);n.ajax({url:window.appHost+"/unit/component/MeteoServiceComplete",data:{codeView:u,cityCode:e,viewName:"_Meteo"}}).done(function(t){try{var i=n(t)[0].innerHTML;n(r).find(".meteo-service-fullview")[0].innerHTML=i}catch(u){}})}n(document).on("change","#changeMeteo",function(){var f=n(this).find("option:selected"),i=f.val(),o=f.text(),e;i==""&&(i=n(r).data("city-code"));e=n(r).data("code-view");t.setValue("MeteoVilleCode"+u,i);t.setValue("MeteoVille"+u,o);n.ajax({url:window.appHost+"unit/component/MeteoServiceComplete",data:{codeView:e,cityCode:i,viewName:"_Meteo"}}).done(function(t){var i=n(t)[0].innerHTML;n(r).find(".meteo-service-fullview")[0].innerHTML=i}).error(function(n){console.log(n)})})},displayHistory:function(){var t=$(".meteo-page-header-search-history"),r=$(".meteo-page-header-search-history-items"),n="";i.length!=0&&(t.addClass("is-active"),_.each(i,function(t){t!=null&&(n+='<li class="meteo-page-header-search-history-item" data-city="'+t.city+'">',n+='<a href="'+t.url+'" class="search-history-item-name">'+t.city+'<\/a> <button type="button" class="search-history-item-delete cbcrc-icon-close-circle"><span class="visuallyhidden">Effacer '+t.city+" de l'historique<\/span><\/button>",n+="<\/li>")}));r.html(n)}}});define("externals/components/RoadConditionsFullView/main",["jquery","lib/google-maps-loader","services/viewportService"],function(n,t,i){function e(){var t=$(".road-conditions-legend-sections"),n=$(".road-conditions-legend-trigger");t.addClass("is-active");n.removeClass("cbcrc-icon-arrow-dropdown");n.addClass("cbcrc-icon-close")}function o(){var t=$(".road-conditions-legend-sections"),n=$(".road-conditions-legend-trigger");t.removeClass("is-active");n.removeClass("cbcrc-icon-close");n.addClass("cbcrc-icon-arrow-dropdown")}function s(){typeof r!="undefined"&&r!=null&&(r.close(),r=null)}function l(t){var i=n(f).find(".info-window-container").html(),r;return i=i.replace("$$ROADTYPE$$",t.RouteType),i=i.replace("$$ROUTE$$",t.Route),i=i.replace("$$START$$",t.Start),i=i.replace("$$DESTINATION",t.Destination),i=i.replace("$$ROADWAY$$",t.Roadway),i=i.replace("$$VISIBILITY$$",t.Visibility),i=i.replace("$$CLOSING_CODE$$",t.ClosingCodeLiteral),i=i.replace("$$SNOW_REMOVING$$",t.SnowRemoval),i=i.replace("$$NOM_ROUTE$$",t.RoadName),r=n("<div/>").html(i),t.ClosingCodeLiteral==""&&r.find(".closing-road").remove(),t.SnowRemoval==""&&r.find(".snow-removing").remove(),r.html()}function u(){}function h(){google.maps.event.trigger(window.serviceMap1,"resize");window.serviceMap1.setCenter(new google.maps.LatLng(googleMapCentre[0],googleMapCentre[1]));document.removeEventListener("DrawerOpened",h,!1)}function a(){var t=[],i=n("meta[name='rc.regionSlug']").attr("content"),r=n("meta[name='rc.segment']").attr("content"),u="/unit/component/regionscoordinates/livetrafficcoordinates?region="+i+"&subregion="+r;return n.ajax({url:u,success:function(n){t[0]=n.Latitude;t[1]=n.Longitude;t[2]=n.Zoom}}),t}var f={},r,c={init:function(c){f=c;$(".road-conditions-legend-trigger").on("click",function(){$(".road-conditions-legend-sections").hasClass("is-active")?o():e()});document.addEventListener("DrawerOpened",h,!1);u();i.registerViewportChanged(function(){u()});var v=a();t.done(function(t){n.ajax({url:window.appHost+"unit/api/RoadsConditionsMapDataNew",success:function(i){var u={mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:v[2],disableDefaultUI:!0,center:new t.LatLng(v[0],v[1]),mapTypeControl:!1,zoomControl:!0,zoomControlOptions:{style:t.ZoomControlStyle.SMALL},streetViewControl:!1,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{color:"#222222"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#424141"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.fill",stylers:[{color:"#0b2c3f"}]},{featureType:"administrative.neighborhood",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b2dbff"}]}]};window.serviceMap1=new t.Map(n("#map-roadcondition").get(0),u);n.each(i.Conditions,function(i,u){var c=[],a,h,f;n.each(u.PolylineCoordinates,function(n,i){c.push(new t.LatLng(i.Latitude,i.Longitude))});zIndex=u.ClosingCodeLiteral!=""?2:1;a=new t.Polyline({path:c,strokeColor:u.PolylineColor,strokeOpacity:1,zIndex:zIndex,strokeWeight:3});a.setMap(window.serviceMap1);h=new t.Marker({position:new t.LatLng(u.MarkerCoordinate.Latitude,u.MarkerCoordinate.Longitude),map:window.serviceMap1,icon:"/unit/Components/Services/RoadConditionsFullView/Content/_images/"+u.MarkerIcon,zIndex:zIndex,title:"Détails"});f=new t.InfoWindow({content:l(u)});t.event.addListener(h,"click",function(){s();r=f;f.open(window.serviceMap1,h);o()});google.maps.event.addListener(f,"closeclick",function(){e()})});t.event.addListener(window.serviceMap1,"click",function(){s()})}});i.registerViewportChanged(function(){window.serviceMap1.setCenter(new google.maps.LatLng(v[0],v[1]))})})}};return u(),c});!function(n){var t=function(t,i){this.element=n(t);this.defaults={a11y:!1,unbuttonize:!1,toTag:"",labels:{ariaOpen:"Cliquer pour ouvrir"}};this.classes=n.extend(!0,this.defaults.classes,window.project?window.project.classes:{});this.labels=n.extend(!0,this.defaults.labels,window.project?window.project.labels:{});this.config=n.extend(!0,this.defaults,i||{});this.init()};n.extend(t.prototype,{init:function(){var i=this.element.html(),r=this.getAttributes(this.element[0]),u=this.config.a11y?' aria-live="polite"':"",f=this.config.a11y?'<span class="visuallyhidden">'+this.labels.ariaOpen+"<\/span>":"",t="<button "+r.join(" ")+u+">"+i+f+"<\/button>";return this.config.unbuttonize&&(t="<"+this.config.toTag+" "+r.join(" ")+">"+i+"<\/"+this.config.toTag+">"),this.element.replaceWith(t),n(t)},getAttributes:function(t){var i=this;return n.map(t.attributes,function(r){var u,o=r.name||r.nodeName,e=n(t).attr(o),f=/href|data-href/gi;if(void 0!==e&&e!==!1)return u=o+'="'+e+'"',r=i.config.unbuttonize?u.match(f)?u=u.replace(f,"href"):u:u.match(f)?u=u.replace(f,"data-href"):u})}});n.fn.buttonize=function(i){return this.each(function(){var r=n(this),u;r.data("buttonize")||(u=new t(this,i),r.data("buttonize",u))})}}(jQuery),function(n){var t=function(t,i){this.tab=n(t);this.defaults={defaultOpenedTab:1,closeOnClick:!1,adjustOnResize:!0,responsiveTriggersWrapper:".responsive-triggers-wrapper",onFocus:n.noop,beforeOpen:n.noop,afterOpen:n.noop,beforeClose:n.noop,afterClose:n.noop,onBlur:n.noop,labels:{ariaText:"Cliquer pour afficher cet onglet",ariaTextActive:"Onglet affiché"},classes:{ariaText:"aria-text",tabWrapper:"tab-wrapper",tabTrigger:"tab-trigger",tabContent:"tab-content",states:{active:"is-active"}}};this.classes=n.extend(!0,this.defaults.classes,window.project?window.project.classes:{});this.labels=n.extend(!0,this.defaults.labels,window.project?window.project.labels:{});this.config=n.extend(!0,this.defaults,i||{});this.tabWrapper=this.tab.find("."+this.classes.tabWrapper);this.tab.find("."+this.classes.tabTrigger).buttonize({a11y:this.config.a11y});this.tab.find("."+this.classes.tabTrigger).attr("type","button");this.tabTrigger=this.tab.find("."+this.classes.tabTrigger);this.tabContent=this.tab.find("."+this.classes.tabContent);this.updatePluginText();this.tabTrigger.append('<span aria-live="polite" class="'+this.classes.ariaText+' visuallyhidden">'+this.labels.ariaText+"<\/span>");this.tabTriggerAriaText=this.tabTrigger.find("."+this.classes.ariaText);this.init()};n.extend(t.prototype,{init:function(){this.tab.css({position:"relative",paddingTop:this.calculateHighestTabTrigger()});this.tabContent.hide();this.changeTab(this.config.defaultOpenedTab-1);this.cloneButtonForResponsive();this.tabTrigger=this.tab.parent().find(".tab-trigger");this.setAriaText();this.bindEvents();this.adjustTabTrigger()},bindEvents:function(){this.tabTrigger.on("click touchend",n.proxy(function(t){var u=t.currentTarget,i=n(u).data("open"),r=n('[data-tab-id="'+i+'"]');r.hasClass(this.classes.states.active)?this.config.closeOnClick&&(this.config.beforeClose(),this.tabContent.hide(),r.removeClass(this.classes.states.active),this.config.afterClose()):(this.config.beforeOpen(),this.changeTab(i),this.config.afterOpen());this.setAriaText()},this));if(this.config.adjustOnResize)n(window).on("resize",n.proxy(function(){this.waitForFinalEvent(n.proxy(function(){this.tab.css({paddingTop:this.calculateHighestTabTrigger()});this.adjustTabTrigger()},this),250,"adjustTabTrigger")},this));this.tabTrigger.on("focus",this.config.onFocus);this.tabTrigger.on("blur",this.config.onBlur)},cloneButtonForResponsive:function(){this.tabTrigger.each(n.proxy(function(t,i){var r=n(i).clone();r.addClass("cloned-tab-trigger");n(this.config.responsiveTriggersWrapper).append(r)},this))},updatePluginText:function(){n.each(this.config.labels,n.proxy(function(t){n.each(this.tab.data(),n.proxy(function(n,i){var r=n.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()});r===t&&(this.config.labels[r]=i)},this))},this))},adjustTabTrigger:function(){this.tabTrigger.each(n.proxy(function(t,i){n(i).css({position:"absolute",top:"0",left:this.calculateLeftOffset(t)})},this))},changeTab:function(t){this.tabContent.hide();n('[data-tab-id="'+t+'"]').find(".tab-content").show();this.tabWrapper.removeClass(this.classes.states.active);this.tabTrigger.removeClass(this.classes.states.active);n('[data-tab-id="'+t+'"]').addClass(this.classes.states.active);n('[data-open="'+t+'"]').addClass(this.classes.states.active)},calculateHighestTabTrigger:function(){var t=0;return this.tabTrigger.each(function(i,r){n(r).outerHeight()>t&&(t=n(r).outerHeight())}),t=t/16+"rem"},calculateLeftOffset:function(n){for(var i=0,t=0;t<n;t++)i+=this.tabTrigger.eq(t).outerWidth(!0);return i/16+"rem"},setAriaText:function(){var t=this;this.tabTriggerAriaText.text(this.labels.ariaText);this.tabTriggerAriaText.each(function(i,r){n(r).parents("."+t.classes.tabWrapper).hasClass(t.classes.states.active)&&n(r).text(t.labels.ariaTextActive)})},waitForFinalEvent:function(){var n={};return function(t,i,r){r||(r="Don't call this twice without a uniqueId");n[r]&&clearTimeout(n[r]);n[r]=setTimeout(t,i)}}()});n.fn.tab=function(i){return this.each(function(){var r=n(this),u;r.data("tab")||(u=new t(this,i),r.data("tab",u))})}}(jQuery);define("externals/components/ServicesWrapperFlex/main",["jquery","externals/components/PushStateControl/loaderStateService"],function(n){function t(n){var t,u,i,r;return google.maps.event.trigger(n,"resize"),i=n.getBounds().getNorthEast(),r=n.getBounds().getSouthWest(),t=i.lat()-r.lat(),u=i.lng()-r.lng(),n.setCenter(new google.maps.LatLng(n.getCenter().lat()+t/2,n.getCenter().lng()-u/2)),t}return function(){var e=this,i={},r=new Boolean(0),u=new Boolean(0),f=new Boolean(0);this.init=function(o){i=o;ko.applyBindings(e,i);n.ajaxSetup({cache:!0});n.getScript("/unit/Components/Services/ServicesWrapperFlex/Scripts/jquery.buttonize.min.js",function(){n.getScript("/unit/Components/Services/ServicesWrapperFlex/Scripts/jquery.tab.min.js",function(){$(".tab").tab({afterOpen:function(){window.serviceMap&&(f==!1&&t(window.serviceMap)!=0&&(f=!0),google.maps.event.trigger(window.serviceMap,"resize"));window.serviceMap1&&(u==!1&&t(window.serviceMap1)!=0&&(u=!0),google.maps.event.trigger(window.serviceMap1,"resize"));window.serviceMap2&&(r==!1&&t(window.serviceMap2)!=0&&(r=!0),google.maps.event.trigger(window.serviceMap2,"resize"))}})})})}}});define("externals/components/SkiSlopesConditionFullView/main",["jquery","unit/App/externals/components/SkiSlopesConditionService/main.js","underscore","lib/google-maps-loader","services/viewportService","services/regionLocalisationService"],function(n,t,i,r,u,f){var e=0;return function(){function b(){return r.done(function(t){var i=g(e),r=new t.LatLng(i[0],i[1]),u=i[2],f={zoom:u,center:r,mapTypeControl:!0,mapTypeControlOptions:{style:t.MapTypeControlStyle.DROPDOWN_MENU},zoomControl:!0,zoomControlOptions:{style:t.ZoomControlStyle.SMALL},streetViewControl:!1};window.serviceMap2=new t.Map(n(s).find("#map-ski-slopes").get(0),f);t.event.addListener(window.serviceMap2,"zoom_changed",function(){v()});t.Marker.prototype.setLabel=function(n){this.label=new c({map:this.map,marker:this,text:n});this.label.bindTo("position",this,"position")};c.prototype=n.extend(new t.OverlayView,{onAdd:function(){this.getPanes().overlayImage.appendChild(this.span);var n=this;this.listeners=[t.event.addListener(this,"position_changed",function(){n.draw()})]},draw:function(){var n=String(this.get("text")),t=this.getProjection().fromLatLngToDivPixel(this.get("position"));this.span.innerHTML=n;this.span.style.left=t.x-l.x/2-n.length*3+15+"px";this.span.style.top=t.y-l.y+10+"px"},onRemove:function(){this.span.parentNode.removeChild(this.span);this.span=null}})})}function k(){}function v(){typeof o!="undefined"&&o!=null&&(o.close(),o=null)}function d(t){var u=n(s).find(".info-window-container"),i=u.html(),r;return i=i.replace("$$REGION$$",t.NomRegion()),i=i.replace("$$NOMSTATION$$",t.NomStation()),i=i.replace("$$DATEMAJ$$",moment(t.LastUpdate()).calendar()),i=i.replace("$$PISTESOUVERTES$$",t.ConditionsJour.OpenSlopes()),i=i.replace("$$DOMAINESKIABLE$$",t.ConditionsJour.SkiAreaPercentage()),i=i.replace("$$REMONTEES$$",t.ConditionsJour.ChairsLifts()),i=i.replace("$$SURFACE$$",t.ConditionsJour.Surface()),i=i.replace("$$BASE$$",t.ConditionsJour.Base()),i=i.replace("$$COUVERTURE$$",t.ConditionsJour.Cover()),i=i.replace("$$ACCUMULATION24H$$",t.Precipitations.Last24H()),i=i.replace("$$ACCUMULATION48H$$",t.Precipitations.Last48H()),i=i.replace("$$ACCUMULATIONSAISON$$",t.Precipitations.Season()),r=n("<div/>").html(i),r.html()}function g(n){var t;console.log("******"+n);switch(n){case 1:t=[48.292330634059859,-78.2830810546875,9];break;case 3:t=[45.502016,-73.594548,9];break;case 4:t=[48.458351882808657,-66.236572265625,7];break;case 6:t=[45.321254361171476,-71.114501953125,8];break;case 8:t=[46.995241106945961,-72.7130126953125,8];break;case 11:t=[45.780932908573227,-75.80291748046875,9];break;case 12:t=[46.9708822509078,-71.46331787109375,9];break;case 13:t=[48.571155273059546,-71.4276123046875,8];break;case 70:t=[49.706720281032432,-67.3352052781225,8];break;case 71:t=[48.034019158642863,-68.807373046875,7];break;default:t=[45.502016,-73.594548,9]}return t}var u=this,s={},l={x:32,y:44},p=0,o,a=[],h,w,c,y;this.mountainList=ko.observableArray([]);this.regionList=ko.observableArray([]);this.selectedDistrict=ko.observable();this.selectedMountain=ko.observable();this.init=function(i){s=i;f.RcSection().then(function(n){e=n.SectionEdition.getLocalCurrentRegion().LegacyId});t.init().done(function(t,r){w=r[0];h=t[0];ko.mapping.fromJS(t[0],{},u.mountainList);ko.mapping.fromJS(r[0],{},u.regionList);p=n(i).height();k();b().done(function(){y()})});ko.applyBindings(u,s)};this.changeDistrict=function(){var t,n,r,f;typeof u.selectedDistrict()=="undefined"?ko.mapping.fromJS(h,{},u.mountainList):(t=i.filter(h,function(n){return n.NomRegion==u.selectedDistrict()}),n=i.filter(u.regionList(),function(n){return n.districtName()==u.selectedDistrict()}),n.length==1&&(r=parseFloat(n[0].latitude()),f=parseFloat(n[0].longitude()),window.serviceMap2.setZoom(n[0].zoom()),window.serviceMap2.setCenter({lat:r,lng:f})),ko.mapping.fromJS(t,{},u.mountainList))};this.changeMountain=function(){var r;if(!(typeof u.selectedMountain()=="undefined")){var n=i.filter(t.mountainList,function(n){return n.Id==u.selectedMountain()}),f=parseFloat(n[0].LongLat.Latitude),e=parseFloat(n[0].LongLat.Longitude);n.length==1&&(r=i.find(a,function(n){return n.position.k==f}),window.serviceMap2.setCenter({lat:f,lng:e}),r&&google.maps.event.trigger(r,"click"))}};c=function(n){this.setValues(n);this.span=document.createElement("span");this.span.className="map-marker-label"};y=function(){n.each(u.mountainList(),function(n,t){var i,r;i=new google.maps.Marker({position:new google.maps.LatLng(t.LongLat.Latitude(),t.LongLat.Longitude()),map:window.serviceMap2,icon:"unit/Components/Services/SkiSlopesConditionFullView/Content/_images/icon/icon-neige.png"});r=new google.maps.InfoWindow({content:d(t)});google.maps.event.addListener(i,"click",function(){v();o=r;r.open(window.serviceMap2,i)});a.push(i)})}}});define("externals/components/SkiSlopesConditionService/main",["jquery","underscore"],function(n){var t=function(){function r(){n.ajax("/unit/api/snowslopescondition").done(function(n){i.mountainList=n}).error(function(){n(t).parent().addClass("hide-slide");carousel.reInit()}).done(function(){n(t).parent().hasClass("hide-slide")&&(n(t).parent().removeClass("hide-slide"),carousel.reInit())}).always(function(){setTimeout(function(){r()},9e5)})}var i=this,t={};this.init=function(){return console.log("#!#!!||!|!|!|!|!"),n.when(n.ajax("/unit/api/snowslopescondition"),n.ajax("/unit/api/snowslopescondition/GetDistricts"))};this.mountainList=[];this.regionList=[];this.mapConfig={longitude:0,latitude:0,zoom:0}};return new t});define("externals/components/A11YService/a11yKnockoutHelpers",["jquery","externals/components/PremiereMediaService/mediaPlayerService","moment"],function(n,t,i){ko.bindingHandlers.A11yTitlePlayPause={init:function(n,i){var u=i().isPlaying,r=i().mediaUniqueId,f=i().mediaContextId,e=t.subscribeEvents(function(n,t){n!="PlaybackOnReadyState"&&n!="console-ready"&&n!="PlaybackFirstPlay"&&(t.playing&&(r!=null&&r.toString()!==t.mediaUniqueId.toString()||f!=null&&f.toString()!==t.mediaContextId.toString())||u(t.playing))});ko.utils.domNodeDisposal.addDisposeCallback(n,function(){u=null;r=null;t.unSubscribeEvents(e)})},update:function(t,i){var u=i().playTitle,f=i().pauseTitle,e=i().isPlaying,r=n(t);e()?r.attr("title",f):r.attr("title",u)}};ko.bindingHandlers.A11yDuration={init:function(t,r){var u=r().seconds,f=i.duration(u,"seconds");n(t).attr("date-time",f.toISOString())}}});define("externals/components/ApplicationBanner/main",["jquery"],function(n){return function(){var i=this,t={};this.init=function(i){t=i;var r=n(i).data("title"),u=n(i).data("author"),f=n(i).data("appicon"),e=navigator.userAgent.toLowerCase(),o=e.indexOf("android")>-1;if(o){n.smartbanner({title:r,author:u,price:"Gratuit",appStoreLanguage:"fr",inAppStore:"Sur l'App Store",inGooglePlay:"Sur Google Play",inAmazonAppStore:"Sur Amazon Appstore",inWindowsStore:"Sur Windows Store",GooglePlayParams:null,icon:f,iconGloss:null,button:"Afficher",url:null,scale:"auto",speedIn:300,speedOut:400,daysHidden:15,daysReminder:90,force:"android",hideOnInstall:!0,layer:!0,iOSUniversalApp:!1,appendToSelector:"body"});n(window).on("scroll",function(){var i=n(window),t=i.data("smartbanner"),r=i.scrollTop(),f=n(".sticky-top-on-scroll"),u=parseFloat(n("html").css("margin-top"));t&&f.length>0&&(r>t.bannerHeight-10&&u!==t.origHtmlMargin?n("html").animate({marginTop:t.origHtmlMargin},50):r<t.bannerHeight&&u!==t.bannerHeight&&n("html").animate({marginTop:t.bannerHeight},50))});n("#smartbanner .sb-close").on("click",function(){n(window).off("scroll")})}}}});define("externals/components/AudioVideoConsole/main",["jquery","underscore","services/viewportService"],function(n,t,i){return function(){function f(){t.isUndefined(window.srcPlayer)?setTimeout(f,500):o()}function o(){window.console_playerState={};window.srcPlayer("addEventListener",{eventName:"start",callback:function(n){window.console_playerState=n}});r.sharingDomCallback&&window.srcPlayer("addEventListener",{eventName:"share",callback:function(n){window.eval.call(window,"(function (data) {window.parent."+r.sharingDomCallback+"(data);})")(n)}});r.consoleIndexerInfo&&(window.srcPlayer("addEventListener",{eventName:"extract",funcExctactParam:function(){return{appCode:window.console_playerState.appCode,idMedia:window.console_playerState.idMedia,fromAppCode:r.appCode,fromIdMedia:r.idMedia}}}),r.useConsoleExtract&&window.srcPlayer("addEventListener",{eventName:"play",callback:function(){window.srcPlayer("change",{appCode:r.consoleExtract.appCode,idMedia:r.consoleExtract.idMedia,params:{autoPlay:!0,time:r.consoleExtract.time}})}}))}function s(){window.audioFilSharing=function(n){n.type=="facebook"?u("https://www.facebook.com/sharer.php?u="+encodeURIComponent(n.cue.urlSite)):n.type=="twitter"?u("https://twitter.com/intent/tweet?original_referer="+encodeURIComponent(n.cue.urlSite)+"&text="+encodeURIComponent(n.cue.showTitle)+"&tw_p=tweetbutton&url="+encodeURIComponent(n.cue.urlSite)):n.type=="courriel"&&u("http://ici.radio-canada.ca/util/postier/suggerer.asp?sURL="+encodeURIComponent(n.cue.urlSite))}}function u(n){window.open(n,"ShareWindow","location=1,status=0,scrollbars=1,resizable=yes,width=448,height=485,menubar=no,toolbar=no")}var r,e;this.init=function(u){var h,o,c;r=n(u).data("console-info");e=i.getViewport().current;r.inIframe?s():(h="",r.isResponsive&&t.mobile().any()?(o=$(u).width(),c=o*9/16,o<350&&(o=350,c=o*9/16),h=r.scriptUrl.indexOf("premiere")==-1?r.scriptUrl.replace("WIDTH_RESPONSIVE",o).replace("HEIGHT_RESPONSIVE",c):r.scriptUrl.replace("WIDTH_RESPONSIVE",r.sourceWidth).replace("HEIGHT_RESPONSIVE",r.sourceHeight),i.registerViewportChanged(function(){var t=$(u).width(),i=t*9/16,f;t<350&&(t=350,i=t*9/16);f=t-351;n("#"+r.idConsoleContainer+", #"+r.idConsoleContainer+" video, #"+r.idConsoleContainer+" .container, #"+r.idConsoleContainer+" .imgTeaser").width("100%").height(i);n("#"+r.idConsoleContainer+" .backScrub").width(f)})):h=r.scriptUrl.replace("WIDTH_RESPONSIVE",r.sourceWidth).replace("HEIGHT_RESPONSIVE",r.sourceHeight),t.isString(r.id)&&(window[r.id.replace(/\W/g,"_")]=function(){window.statePlayers=window.statePlayers||[];window.statePlayers.push({id:r.id})}),n.getScript(h).done(function(){f()}))}}});define("externals/components/BlogueContent/main",["services/newsWithMediaService"],function(n){return{init:function(t){(new n).init(t)}}});define("externals/components/Breadcrumb/main",["jquery","externals/components/MetaTags/main"],function(n,t){return function(){function e(){f()}function f(){var r=n('meta[name^="rc.breadcrumb."]').length/2,t;for(i.items.removeAll(),t=1;t<=r;t++)i.items.push({title:n('meta[name="rc.breadcrumb.titre.'+t+'"]').attr("content"),url:n('meta[name="rc.breadcrumb.url.'+t+'"]').attr("content")})}var i=this,r={},u;this.init=function(o){r=n(o).find("ul").get(0);ko.applyBindings(i,r);f();u=t.addChangedListener(e);ko.utils.domNodeDisposal.addDisposeCallback(r,function(){t.removeChangedListener(u);r=null;i=null})};this.items=ko.observableArray();this.items.extend({rateLimit:60});this.updateBreadcrumb=function(n,t){console.log(t)}}});define("externals/components/ButtonBackToTop/main",["jquery","services/viewportService","underscore"],function(n,t,i){return function(){function h(){!r&&window.pageYOffset>s?(f.addClass("is-visible"),r=!0):r&&window.pageYOffset<=s&&(f.removeClass("is-visible"),r=!1)}function l(){e()}var o=this,u={},f,r=!1,s=600,c=700,e;o.scollTop=function(){return n("html, body").animate({scrollTop:0},c),!1};e=i.throttle(h,150);this.init=function(i){u=i;f=n(u);t.registerViewportChanged(l);h();n(window).scroll(function(){e()});ko.applyBindings(o,u)}}});define("externals/components/ContentFromFile/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/DefaultContentItem/main",["jquery","services/newsWithMediaService"],function(n,t){return function(){var r=this,i={};this.init=function(n){i=n;(new t).init(n);ko.applyBindings(r,i)};r.clickHandler=function(){return n(i).data("clickaction")!=""?(eval(n(i).data("clickaction")),!1):!0}}});define("externals/components/DossierContent/main",["services/newsWithMediaService"],function(n){return{init:function(t){(new n).init(t)}}});define("externals/components/FacebookPixel/main",["jquery"],function(n){return function(){var r=this,t={},i;this.init=function(r){t=r;i=n(t).data("id-facebook");!function(n,t,i,r,u,f,e){n.fbq||(u=n.fbq=function(){u.callMethod?u.callMethod.apply(u,arguments):u.queue.push(arguments)},n._fbq||(n._fbq=u),u.push=u,u.loaded=!0,u.version="2.0",u.queue=[],f=t.createElement(i),f.async=!0,f.src=r,e=t.getElementsByTagName(i)[0],e.parentNode.insertBefore(f,e))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init",i);fbq("track","PageView")}}});define("externals/components/FocusOnRotate/main",["jquery","underscore"],function(n,t){return function(){var s=this,r={},u=0,f,e,i;this.init=function(t){r=t;ko.applyBindings(s,r);i=o();n(window).on("scroll",c);n(window).on("orientationchange",a)};var o=function(){return f=n(document).outerHeight(!0),e=v(),f-e.height},h=function(){u=n(window).scrollTop()*100/i},c=t.debounce(h,500),l=function(){i=o();var t=Math.round(u*i/100);n(window).scrollTop(t)},a=t.debounce(l,500),v=function(){var n=window,t="inner";return"innerWidth"in window||(t="client",n=document.documentElement||document.body),{width:n[t+"Width"],height:n[t+"Height"]}}}});define("externals/components/FooterContent/main",["jquery","externals/components/WebTrendService/webtrendsService","services/regionLocalisationService","underscore"],function(n,t,i,r){function u(t){i.RcSection().then(function(i){var u=r.find(i.SectionEdition.Regions,function(n){return i.SectionEdition.localCurrentRegionId==n.Id}),f="";u!=null&&(f=u.Path);n(t).find("#DivRegionPied").attr("href","//ici.radio-canada.ca"+f)})}return{init:function(n){u(n)}}});define("externals/components/FooterV2/main",["jquery"],function(n){var t=function(){var i=this,r={},t=null,u=!1;this.init=function(n){r=n;u=!0;t!=null&&i.setFooterTop(t)};i.setFooterTop=function(i){u?n(r).find(".footer-placeholder").prepend(i):t=i}};return new t});define("externals/components/FutureAudioVideoConsole/main",["jquery","underscore","services/viewportService","externals/components/NewsBeat/rc-chartbeat-strategy"],function(n){return function(){function f(){var n=new RadioCanada.player(i,t);n.addEventListener(RadioCanada.player.events.META_LOADED,function(t){n.metas=t;var i=window._cbv||(window._cbv=[]);i.push(n)})}function r(n){window.open(n,"ShareWindow","location=1,status=0,scrollbars=1,resizable=yes,width=448,height=485,menubar=no,toolbar=no")}function e(){window.audioFilSharing=function(n){n.type=="facebook"?r("https://www.facebook.com/sharer.php?u="+encodeURIComponent(n.cue.urlSite)):n.type=="twitter"?r("https://twitter.com/intent/tweet?original_referer="+encodeURIComponent(n.cue.urlSite)+"&text="+encodeURIComponent(n.cue.showTitle)+"&tw_p=tweetbutton&url="+encodeURIComponent(n.cue.urlSite)):n.type=="courriel"&&r("http://ici.radio-canada.ca/util/postier/suggerer.asp?sURL="+encodeURIComponent(n.cue.urlSite))}}var t,i,u=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))};this.init=function(r){var o=n(r).data("playerid"),s="https://services.radio-canada.ca/media/player/client/";s=typeof o!="undefined"&&o!=null&&o!==""?s+o:s+"radiocanadaca_unit";i=n(r).data("console-container");n.ajaxSetup({cache:!0});n.getScript(s).done(function(){t=n(r).data("console-info");t.params.autoPlay=!t.params.disableAutoplayInQueryString&&!t.params.autoPlay&&(u("isAutoPlay")=="true"||u("isAutoPlay"))=="1"?!0:t.params.autoPlay;i=n(r).data("console-container");t.inIframe?e():f()}).fail(function(n,t,i){console.log(i)})}}});define("externals/components/GoogleTagManager/main",["jquery"],function(n){return function(){var r=this,t={},i;this.init=function(r){function u(){dataLayer.push(arguments)}t=r;i=n(t).data("id-google");window.dataLayer=window.dataLayer||[];u("js",new Date);u("config","AW-"+i)}}});define("externals/components/GridGuide/main",["jquery","services/viewportService"],function(n,t){return function(){var s=this,e={},i=24,r,u=n("<div id='customGrid' class='gridGuide'><\/div>"),f={},h=function(t){f[t.key]=!0;f.b&&f["1"]&&n(u).toggle()},c=function(n){f[n.key]=!1},l=function(){o()},o=function(){var f,e;for(n(u).empty(),r=t.getViewport().width,r<=640&&(i=4),r>640&&(i=8),r>1023&&(i=12),r>1239&&(i=18),r>1599&&(i=22),r>2339&&(i=26),f="<div class='row'>",e=0;e<i;e++)f+="<div id='col-"+(e+1)+"' class='col col-xxl-1 col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1'><div><\/div><\/div>";f+="<\/div>";f=n(f);n(u).append(f)};this.init=function(i){e=i;t.registerViewportChanged(l);n(document).on("keypress",h);n(document).on("keyup",c);o();n(e).append(u);n(u).toggle();ko.applyBindings(s,e)}}});define("externals/components/Iframe/main",["jquery"],function(n){return function(){var t=this,i={};t.source=ko.observable("");t.width=ko.observable("0");t.height=ko.observable("0");this.init=function(r){i=r;t.source(n(i).data("component-source"));ko.applyBindings(t,i)};window.changeIframe=function(n){t.source(n)}}});define("externals/components/ImageGallery/main",["jquery"],function(n){return function(){function o(i,r){n.getJSON("http://api.radio-canada.ca/albumsphotos/v2/Album/"+i+"/Json/"+u,function(i){var u=n(t).find(".gallery-container");u.data("galleria")?u.data("galleria").load(i):u.galleria({dataSource:i,lightbox:!0,height:f,width:e,showInfo:!0});r&&r()})}var i,r,u,f,e,t;this.init=function(s){t=s;i=n(s).attr("data-gallery-theme-url");r=n(s).attr("data-gallery-id");u=n(s).attr("data-gallery-display-key");f=n(s).attr("data-gallery-height");e=n(s).attr("data-gallery-width");Galleria.loadTheme(i);Galleria.configure({debug:!1});o(r)};this.load=o;this.fullscreen=function(){var i=n(t).find(".gallery-container");i.data("galleria").openLightbox()}}});define("externals/components/LoginBarV2/main",["jquery","externals/components/CallbackMemberCenter/main.v2"],function(n,t){var i=function(){this.init=function(){t.initDefaultConnectionHandler()}};return new i});define("externals/components/MetaTags/main",["jquery","underscore","externals/components/VirtualElementService/main"],function(n,t,i){var r=function(){function f(r){var u=i.getVirtualNodes(r,"vbunker");return t.find(u,function(t){var r="{"+t.data+"}",i=n.extend(JSON.parse(r));return i&&i.component&&i.component.name&&i.component.name.toLowerCase()==="metatags"?!0:!1})}function e(){t.each(u,function(n){n.cb()})}var r,u=[];this.init=function(n){r=n};this.getTitleFromNewElements=function(n){var r=f(n),i;if(r&&(i=t.find(r.elements,function(n){return n.nodeName.toLowerCase()==="title"}),i))return i.text};this.setMetaTagsFromPageElementsWrapper=function(t){var i=f(document);i&&(n(r).remove(),r=n(t),n(r).insertAfter(n(i.virtualParentNode)),e())};this.addChangedListener=function(n){var i=t.uniqueId("metaTags");return u.push({id:i,cb:n}),i};this.removeChangedListener=function(n){var i=t.findIndex(u,function(t){return t.id==n});i>-1&&u.splice(i,1)};this.getPageTitle=function(){var n=t.find(r,function(n){return n.nodeName.toLowerCase()==="title"});return n?n.text:""};this.getContentByName=function(t){return n('meta[name="'+t+'"]').attr("content")}};return new r});define("externals/components/Metric/main",["jquery","underscore"],function(n,t){return function(){function r(){return dataLayerQueue.push({page:{NomPage:"{NomPage}"},dataPushType:"pageView"}),!0}var f=this,i={},u=t.once(r);this.init=function(t){i=t;var r=n(i);u()}}});define("externals/components/Navigation/main",["jquery","services/bindingActivatorService","externals/components/Navigation/shell","services/pageZoneService","services/regionLocalisationService","underscore"],function(n,t,i,r,u,f){function o(){r.isInfo()?n("#src-info").find("a").addClass("active"):r.isPremiere()?n("#src-premiere").find("a").addClass("active"):r.isTele()&&n("#src-tele").find("a").addClass("active")}function s(){u.RcSection().then(function(t){var r=f.find(t.SectionEdition.Regions,function(n){return n.Id==t.SectionEdition.localCurrentRegionId}),i=r.Path;n(e).find(".ma-region").attr("href",i);n(e).find(".ma-region").attr("data-stats-content",i.replace("/",""))})}var e={};return{init:function(n){e=n;t.bind(window.appRouteBunker+"/component/navigation/shell",i,{},"appHostNavigation");o();s()}}});define("externals/components/Navigation/region",["services/regionLocalisationService","underscore","pluggins/modalLightbox","jquery"],function(n,t,i,r){function f(){this.tabSelected!=null?r("#pregion-wrapper").tabs({active:this.tabSelected}):r("#pregion-wrapper").tabs()}function e(t){var i=this;return t=t||{},t.tabSelected!=undefined&&(i.tabSelected=t.tabSelected),n.RcSection().then(function(n){i.regionEdition(n.SectionEdition.Regions);i.regionEditionSel(n.SectionEdition.localCurrentRegionId);i.regionInfoRegionsales(n.SectionInfoRegional.Regions);i.regionInfoRegionsalesSel(n.SectionInfoRegional.localCurrentRegionId);i.regionRadioCanada(n.SectionTelevision.Regions);i.regionRadioCanadaSel(n.SectionTelevision.localCurrentRegionId);i.regionPremiere(n.SectionPremiere.Regions);i.regionPremiereSel(n.SectionPremiere.localCurrentRegionId);i.regionMusique(n.SectionEspaceMusique.Regions);i.regionMusiqueSel(n.SectionEspaceMusique.localCurrentRegionId);i.regionStation(n.SectionStation.Regions);i.regionStationSel(n.SectionStation.localCurrentRegionId);var t=n.SectionMeteo.getLocalCurrentRegion();i.regionMeteo(n.SectionMeteo.Regions);i.regionMeteoSel(t.Id);i.citiesMeteo(t.Cities);i.cityMeteoSel(n.SectionMeteo.localCurrentCityCode)})}var u=function(){var r=this;this.activate=e;this.viewAttached=f;this.regionEdition=ko.observableArray();this.regionEditionSel=ko.observable();this.regionInfoRegionsales=ko.observableArray();this.regionInfoRegionsalesSel=ko.observable();this.regionMeteo=ko.observableArray();this.regionMeteoSel=ko.observable();this.regionRadioCanada=ko.observableArray();this.regionRadioCanadaSel=ko.observable();this.regionPremiere=ko.observableArray();this.regionPremiereSel=ko.observable();this.regionMusique=ko.observableArray();this.regionMusiqueSel=ko.observable();this.regionStation=ko.observableArray();this.regionStationSel=ko.observable();this.cityMeteo=ko.observableArray();this.cityMeteoSel=ko.observable();this.regionMeteoChanged=function(i,r){var u=i;n.RcSection().then(function(n){var i=t.find(n.SectionMeteo.Regions,function(n){return n.Id==r.target.value});u.citiesMeteo(i.Cities)})};this.citiesMeteo=ko.observableArray([]);this.saveAll=function(){var t=this;n.RcSaveConfiguration({editionregionid:t.regionEditionSel(),inforegionid:t.regionInfoRegionsalesSel(),citycode:t.cityMeteoSel(),tvregionid:t.regionRadioCanadaSel(),emregionid:t.regionMusiqueSel(),stationregionid:t.regionStationSel(),radioregionid:t.regionPremiereSel()});location.reload(!0)};this.close=function(){i.close()};this.tabSelected=null;this.regionName=function(n,i){return t.first(t.where(n(),{Id:i()})).Name};this.cityName=function(){var n=t.find(r.citiesMeteo(),function(n){return n.Code==r.cityMeteoSel()});return t.isUndefined(n)?"":n.Name};this.editionChanged=function(){var i=r.regionEditionSel();n.RcSection().then(function(n){var u=t.find(n.SectionEdition.Regions,function(n){return n.Id==i}),f;r.regionInfoRegionsalesSel(u.DefaultMapping.InfoRegionalRegionId);r.regionRadioCanadaSel(u.DefaultMapping.TelevisionRegionId);r.regionPremiereSel(u.DefaultMapping.PremiereRegionId);r.regionMusiqueSel(u.DefaultMapping.EspaceMusiqueRegionId);r.regionStationSel(u.DefaultMapping.StationRegionId);f=n.SectionMeteo.getRegion(u.DefaultMapping.MeteoCityCode);t.isUndefined(f)?system.log("Attention, aucune ville n'a été trouvée pour le code suivant: "+u.DefaultMapping.MeteoCityCode):(r.regionMeteoSel(f.Id),r.citiesMeteo(f.Cities),r.cityMeteoSel(u.DefaultMapping.MeteoCityCode))});return}};return new u});define("externals/components/Navigation/searchNavFooter",["services/commonDataService","jquery"],function(n,t){function i(){var h;position=this.getAttribute("data-form-search");var i=elem,o=t(i).find('input[name="q"]'),c=t(i).find('input[name="site"]'),s=t(o).val();if(s=="Recherche"||s=="")return t(o).val("Recherche"),!1;t(c).val(r());for(var e=null,u="",f=0,f=0;f<i.elements.length;f++)e=i.elements[f],u!=""&&(u+="&"),u+=e.name+"="+escape(e.value);return h=n.searchNavFooterUrl+"?"+u,position=="header"?n.webTrendsStatsToClick("clic_action","nav2013-recherche","clic_contenu","http://ici.radio-canada.ca/apropos/aide/outil/TemplatedLineUp.asp","WT.ti","NavBar_Rechercher_http://ici.radio-canada.ca/apropos/aide/outil/TemplatedLineUp.asp","WT.clic","clics_Ppage"):position=="footer"&&n.webTrendsStatsToClick("clic_action","nav2013-recherche_PiedPage","clic_contenu","http://ici.radio-canada.ca/apropos/aide/outil/TemplatedLineUp.asp","WT.ti","NavBar_Rechercher_PiedPage_http://ici.radio-canada.ca/apropos/aide/outil/TemplatedLineUp.asp","WT.clic","clics_Ppage"),window.location.href=h,!1}function r(){var i=window,n=function(n){var t=!1;return i.location.href.toLowerCase().indexOf(n)!=-1&&(t=!0),t},t;return t=n("/radio")?"-Radio":n("/television")?"-Television":n("/grands-titres")?"-Nouvelles":n("/sports")?"-Sports":n("/arts-et-spectacles")?"-Culture":n("/jeunesse")?"-Jeunesse":n("/regions")?"-Regions":n("/archives")?"-Archives":"","RadioCanada"+t}return{init:function(){t(document).on("submit","form[data-form-search]",i)}}});define("externals/components/Navigation/shell",["underscore","services/regionLocalisationService","services/meteoService","pluggins/modalLightbox","services/cookieService","services/commonDataService","jquery","externals/components/Navigation/region","externals/components/Navigation/searchNavFooter","services/bindingActivatorService","externals/components/LoginBar/main"],function(n,t,i,r,u,f,e,o,s,h,c){function a(){var n=this;return v(n),s.init(),t.RcSection().then(function(r){var u=t.RcProfile(),f;e("#link-navigation-regional").attr("href",r.SectionInfoRegional.getLocalCurrentRegion().Path);f=r.SectionEdition.getLocalCurrentRegion();n.regionName(f.Name);n.regionPath(f.Path);n.regionVisible(!0);u!=null&&u.confirmed||n.profileNeeded(!0);u!=null&&i.forcast(u.citycode).done(function(t){t&&(n.meteoTemperature(t.Temperature),n.meteoCityCode(t.CityCode),n.meteoCityName(t.CityName),n.meteoDescription(t.Description),n.meteoForcastIconUrl("https://s.radio-canada.ca/_img/meteo/23x23/"+t.ForcastId+"_wtext.png"),n.meteoVisible(!0))})}),!0}function v(){c.init()}var l={};return{activate:a,authUserIsConnected:ko.observable(null),authUseFullName:ko.observable(),authLogonHref:ko.observable(),authLogoffHref:ko.observable(),regionName:ko.observable(),regionPath:ko.observable(),meteoTemperature:ko.observable(""),meteoCityName:ko.observable(),meteoCityCode:ko.observable(),meteoDescription:ko.observable(),meteoForcastIconUrl:ko.observable(),meteoVisible:ko.observable(!1),regionVisible:ko.observable(!1),navigateToLogOn:function(){return f.viafoura.BunkerNavBarLogOn(),!1},navigateToLogOut:function(){return f.viafoura.BunkerNavBarLogOut(),!1},registerStatsToClick:function(n,t){if(l.clic_action)return!1;var r=e(t.target).data("stats-wtclic")||"",i=e(t.target).data("stats-action")||"",u=e(t.target).data("stats-content")||"";return f.webTrendsStatsToClick("clic_action",i,"clic_contenu",u,"WT.clic",r),l.clic_action=i,!1},close:function(){e("#src-nav-confirm-region").slideUp(300)},changeRegion:function(){r.show(window.appRouteBunker+"/component/navigation/region",o,{tabSelected:0})},saveAll:function(){var n=this;t.RcSaveConfiguration();n.close()},profileNeeded:ko.observable(!1),icitoutvOpened:ko.observable(!1),icimuOpened:ko.observable(!1),icirdiOpened:ko.observable(!1),iciartvOpened:ko.observable(!1),iciexploraOpened:ko.observable(!1),icirciOpened:ko.observable(!1),jeunesseOpened:ko.observable(!1),cbcOpened:ko.observable(!1)}});RCChartBeatStrategy.ContentType={AD:"ad",CONTENT:"ct"};RCChartBeatStrategy.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"};RCChartBeatStrategy.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"};RCChartBeatStrategy.AutoplayType={UNKNOWN:"unkn",MANUAL:"man",AUTOPLAY:"auto",CONTINUOUS:"cont"};RCChartBeatStrategy.prototype.isReady=function(){return this._isReady};RCChartBeatStrategy.prototype.getTitle=function(){return this._title};RCChartBeatStrategy.prototype.getVideoPath=function(){return this._videoId.toString()};RCChartBeatStrategy.prototype.getContentType=function(){return this._activeContent.toString()};RCChartBeatStrategy.prototype.getAdPosition=function(){return RCChartBeatStrategy.AdPosition.PREROLL.toString()};RCChartBeatStrategy.prototype.getTotalDuration=function(){return this._totalDuration*1e3};RCChartBeatStrategy.prototype.getState=function(){return this._activeVideoState.toString()};RCChartBeatStrategy.prototype.getCurrentPlayTime=function(){return this._viewCurrentTime*1e3};RCChartBeatStrategy.prototype.getBitrate=function(){return 800};RCChartBeatStrategy.prototype.getThumbnailPath=function(){return this._urlTeaser};RCChartBeatStrategy.prototype.getPlayerType=function(){return this._playerType};RCChartBeatStrategy.prototype.getViewStartTime=function(){return this._viewStartTime*1e3};RCChartBeatStrategy.prototype.getViewPlayTime=function(){return this._viewPlayTime};RCChartBeatStrategy.prototype.getViewAdPlayTime=function(){return this._viewAdPlayTime};RCChartBeatStrategy.verify=function(n){return typeof n.play=="function"&&typeof n.events=="object"};RCChartBeatStrategy.prototype.getStrategyName=function(){return"RCS"};RCChartBeatStrategy.prototype.getAutoplayType=function(){return this._autoplayType.toString()};getParameterByName=function(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)","i"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};Stopwatch.prototype.start=function(){var n=function(n,t){return function(){return t.call(n)}};this.started||(this.startTime=(new Date).getTime(),this.stopTime=0,this.started=!0,this.tickInterval=setInterval(n(this,this.onTick),this.tickResolution))};Stopwatch.prototype.stop=function(){if(this.started){this.stopTime=(new Date).getTime();this.started=!1;var n=this.stopTime-this.startTime;this.totalElapsed+=n;this.tickInterval!=null&&clearInterval(this.tickInterval)}return this.getElapsed()};Stopwatch.prototype.reset=function(){if(this.totalElapsed=0,this.startTime=(new Date).getTime(),this.stopTime=this.startTime,this.countUp||(this.totalElapsed=this.initialElapsed),this.tickInterval!=null){var n=function(n,t){return function(){return t.call(n)}};clearInterval(this.tickInterval);this.tickInterval=setInterval(n(this,this.onTick),this.tickResolution)}};Stopwatch.prototype.restart=function(){this.stop();this.reset();this.start()};Stopwatch.prototype.getElapsed=function(){var n=0;return this.started&&(n=(new Date).getTime()-this.startTime),n+=this.totalElapsed,this.countUp||(n=Math.max(2*this.initialElapsed-n,0)),n};Stopwatch.prototype.toString=function(){return this.getElapsed()};Stopwatch.prototype.setListener=function(n){this.listener=n};Stopwatch.prototype.onTick=function(){this.listener!=null&&this.listener(this)};RCChartBeatStrategy.ContentType={AD:"ad",CONTENT:"ct"};RCChartBeatStrategy.AdPosition={PREROLL:"a1",MIDROLL:"a2",POSTROLL:"a3",OVERLAY:"a4",SPECIAL:"a5"};RCChartBeatStrategy.VideoState={UNPLAYED:"s1",PLAYED:"s2",STOPPED:"s3",COMPLETED:"s4"};RCChartBeatStrategy.AutoplayType={UNKNOWN:"unkn",MANUAL:"man",AUTOPLAY:"auto",CONTINUOUS:"cont"};RCChartBeatStrategy.prototype.isReady=function(){return this._isReady};RCChartBeatStrategy.prototype.getTitle=function(){return this._title};RCChartBeatStrategy.prototype.getVideoPath=function(){return this._videoId.toString()};RCChartBeatStrategy.prototype.getContentType=function(){return this._activeContent.toString()};RCChartBeatStrategy.prototype.getAdPosition=function(){return RCChartBeatStrategy.AdPosition.PREROLL.toString()};RCChartBeatStrategy.prototype.getTotalDuration=function(){return 1e3*this._totalDuration};RCChartBeatStrategy.prototype.getState=function(){return this._activeVideoState.toString()};RCChartBeatStrategy.prototype.getCurrentPlayTime=function(){return 1e3*this._viewCurrentTime};RCChartBeatStrategy.prototype.getBitrate=function(){return 800};RCChartBeatStrategy.prototype.getThumbnailPath=function(){return this._urlTeaser};RCChartBeatStrategy.prototype.getPlayerType=function(){return this._playerType};RCChartBeatStrategy.prototype.getViewStartTime=function(){return 1e3*this._viewStartTime};RCChartBeatStrategy.prototype.getViewPlayTime=function(){return this._viewPlayTime};RCChartBeatStrategy.prototype.getViewAdPlayTime=function(){return this._viewAdPlayTime};RCChartBeatStrategy.verify=function(n){return"function"==typeof n.play&&"object"==typeof n.events};RCChartBeatStrategy.prototype.getStrategyName=function(){return"RCS"};RCChartBeatStrategy.prototype.getAutoplayType=function(){return this._autoplayType.toString()};getParameterByName=function(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)","i").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};Stopwatch.prototype.start=function(){this.started||(this.startTime=(new Date).getTime(),this.stopTime=0,this.started=!0,this.tickInterval=setInterval(function(n,t){return function(){return t.call(n)}}(this,this.onTick),this.tickResolution))};Stopwatch.prototype.stop=function(){if(this.started){this.stopTime=(new Date).getTime();this.started=!1;var n=this.stopTime-this.startTime;this.totalElapsed+=n;null!=this.tickInterval&&clearInterval(this.tickInterval)}return this.getElapsed()};Stopwatch.prototype.reset=function(){(this.totalElapsed=0,this.startTime=(new Date).getTime(),this.stopTime=this.startTime,this.countUp||(this.totalElapsed=this.initialElapsed),null!=this.tickInterval)&&(clearInterval(this.tickInterval),this.tickInterval=setInterval(function(n,t){return function(){return t.call(n)}}(this,this.onTick),this.tickResolution))};Stopwatch.prototype.restart=function(){this.stop();this.reset();this.start()};Stopwatch.prototype.getElapsed=function(){var n=0;return this.started&&(n=(new Date).getTime()-this.startTime),n+=this.totalElapsed,this.countUp||(n=Math.max(2*this.initialElapsed-n,0)),n};Stopwatch.prototype.toString=function(){return this.getElapsed()};Stopwatch.prototype.setListener=function(n){this.listener=n};Stopwatch.prototype.onTick=function(){null!=this.listener&&this.listener(this)};define("externals/components/PageNotFound/main",[],function(){return{init:function(){}}});define("externals/components/Picture/main",["jquery"],function(){return function(){var n={};this.init=function(t){n=t}}});define("externals/components/ProgramGuideV2/main",["jquery","services/regionLocalisationService","underscore","services/viewportService"],function(n,t,i,r){return function(){function y(t){var o=n(u).find("ul.nav-swipe-items"),s=t?"+=":"-=",h=f*c+1,i,r,e;if(f=t?f+1:f-1,i=f*c+1,f==a){f--;return}if(f<0){f++;return}r=n("ul.nav-swipe-items li:nth-child("+h+")").position().left;e=n("ul.nav-swipe-items li:nth-child("+i+")").position().left;o.animate({scrollLeft:s+Math.abs(r-e)+"px"},200);k()}function p(t,i){var f=n(u).find("ul.nav-swipe-items"),r=n(u).find("li.active"),o=n(r).prevAll("li.monday:first"),e;r.hasClass("monday")&&(o=r);f.scrollLeft(0);e=t.isMobileDevice?r.position().left:o.position().left-50;i?f.animate({scrollLeft:e+"px"},200):f.scrollLeft(e)}function w(){var u=h+t.stationid+"?microsoftTimezoneId="+e;t.isLoading(!0);n.ajax({url:u,data:{}}).done(function(n){ko.mapping.fromJS(n,{},t.dayListing);var u=i.where(t.dayListing(),function(n){return n.Offset()==0});s=t.dayListing.indexOf(u[0]);u.length>0&&(t.selectedDay(u[0].LongDate()),t.selectedUtc(u[0].UtcDate),ko.mapping.fromJS(u[0].Schedule(),{},t.currentDaySchedule));p(r.getViewport(),!0);setTimeout(function(){t.isLoading(!1)},200);setTimeout(w,36e5)})}function d(r){var y=h+t.stationid+"?dayOffset="+r+"&microsoftTimezoneId="+e,a=i.where(t.dayListing(),function(n){return n.Offset()==r}),l=t.dayListing.indexOf(a[0]),u=a[0],v;t.isLoading(!0);o!=null&&(o.abort(),o=null);u.Schedule()==null?o=n.ajax({url:y}).done(function(n){u=n;t.selectedDay(u.LongDate);t.selectedUtc(u.UtcDate);ko.mapping.fromJS(u.Schedule,{},t.currentDaySchedule);ko.mapping.fromJS(u.Schedule,{},t.dayListing()[l].Schedule);setTimeout(function(){t.isLoading(!1)},200);o=null}):(t.selectedDay(u.LongDate()),t.selectedUtc(u.UtcDate()),ko.mapping.fromJS(u.Schedule(),{},t.currentDaySchedule),setTimeout(function(){t.isLoading(!1)},200));t.dayListing()[s].CurrentDay(!1);t.dayListing()[l].CurrentDay(!0);s=l;v=Math.ceil((l+1)/c);f=v-1;k()}function b(){var u=h+t.stationid+"?dayOffset=0&microsoftTimezoneId="+e,f=i.where(t.dayListing(),function(n){return n.Offset()==0}),r=t.dayListing.indexOf(f[0]);n.ajax({url:u}).done(function(n){ko.mapping.fromJS(n.Schedule,{},t.dayListing()[r].Schedule);r==s&&(t.selectedDay(n.LongDate),ko.mapping.fromJS(n.Schedule,{},t.currentDaySchedule))}).always(function(){setTimeout(b,l)})}function k(){t.ghPositionBegin(f==0);t.ghPositionEnd(f==a-1)}var t=this,u={},s,l=3e4,f=2,c=5,a=5,o;t.stationid="";t.showlivelabel=!0;var e="",v=!0,h="";this.init=function(i){var o,f;u=i;o=n(u).data("uniqueid");t.showlivelabel=n(u).data("showlivelabel")==="True";h=n(u).data("apiendpoint");window.programGuideInstance||(window.programGuideInstance={});window.programGuideInstance[o]=t;t.stationid===""&&(t.stationid=n(u).data("stationid"));e===""&&(e=n(u).data("microsofttimezoneid"));v=n(u).data("loadoninit");ko.utils.domNodeDisposal.addDisposeCallback(u,function(){u=null;window.programGuideInstance[o]=null;delete window.programGuideInstance[o]});ko.applyBindings(t,u);f=null;r.registerViewportChanged(function(n){f!=null&&clearTimeout(f);f=setTimeout(function(){p(n,!1);f=null},250)});v=="True"&&this.load()};t.load=function(){w();setTimeout(b,l)};this.setStationId=function(n){t.stationid=n};this.setMicrosoftTimezoneId=function(n){e=n};this.isLoading=ko.observable(!1);this.dayListing=ko.observableArray([]);this.selectedDay=ko.observable("");this.selectedUtc=ko.observable("");this.currentDaySchedule=ko.observableArray([]);this.ghPositionBegin=ko.observable(!1);this.ghPositionEnd=ko.observable(!1);this.changeDay=function(t,i){var r=n(i.currentTarget).data("offset");d(r)};this.scrollLeft=function(){y(!1)};this.scrollRight=function(){y(!0)};this.showDescription=function(t,i){n(".knowMore").addClass("hiddenDescription");n(i.currentTarget).parents("div").children(".knowMore").removeClass("hiddenDescription")};this.hideDescription=function(){n(".knowMore").addClass("hiddenDescription")};this.decode=function(n){var t=document.createElement("div");return t.innerHTML=n,t.firstChild.nodeValue};o=null}});define("externals/components/PubPartenaire/main",["jquery"],function(n){return function(){var t=this,i={};this.init=function(n){i=n;ko.applyBindings(t,n)};t.appearsOnScreenOnce=function(){var t=n(i);t.removeClass("manual_srcPubZone").addClass("srcPubZone");srcPubLoad("#"+t.attr("id"))}}});define("externals/components/PushStateControl/loaderStateService",["jquery","underscore"],function(n,t){var i=function(){function c(n){clearInterval(o);i=h();i.url=v(n.path,"path");i.containerId=n.containerId;var u=new Date,f=6e3,t=0,r=[4,15,30,40,45,50,55,60,62,65,68,70,72,75,77];e();o=setInterval(function(){i.inProcess=!0;var n=(new Date).getTime()-u.getTime();i.elapseTime=n;i.elapseTime>f&&(i.isBusy=!0);t<r.length?(i.progress=parseInt(r[t]),t++):(i.progress+=.2,i.progress>98&&(i.progress=98));e()},200)}function l(){i.inProcess=!1;i.progress=100;clearInterval(o);e()}function a(){i.waitingForRender=!0;e()}function e(){t.each(r,function(n){n.config.callback(i)})}function h(){return{startTime:new Date,inProcess:!1,waitingForRender:!1,progress:0,url:"",elapseTime:0,isBusy:!1,containerId:""}}function v(n,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=n.replace("://","");return i=i.replace("//","/"),i=i.replace(/^(?:\/\/|[^\//]+)*\//,""),results=r.exec(i),results===null?t+"="+i:decodeURIComponent(results[1].replace(/\+/g," "))}var y=this,r=[],u,o,i=h(),s=0,f=0;this.subscribePageLoadingState=function(n){var i=t.uniqueId("pushLoadindStateListeners");return s=n.pageLoadWaitingTime,r.push({id:i,config:n}),i};this.unSubscribePageLoadingState=function(n){var i=t.findIndex(r,function(t){return t.id===n});i>-1&&r.splice(i,1)};this.pageRequest=function(t){u&&(u.abort(),u=null);c(t);var i={};return f>0&&(t.path+=(t.path.match(/\?/)?"&":"?")+"_v="+f),n.Deferred(function(r){u=n.ajax(window.location.protocol+"//"+window.location.host+t.path,i).done(function(n){r.resolve(n)}).fail(function(n){r.reject(n.status)})})};this.pageWaitingForRender=function(){a()};this.pageEndRequest=function(){l()};this.getPageLoadWaitingTime=function(){return s};this.incrementCacheBuster=function(){f=f+1}};return new i});define("externals/components/PushStateControl/main",["jquery","externals/components/PushStateControl/pushStateService","services/componentsService","externals/components/PushStateControl/loaderStateService","externals/components/MetaTags/main","externals/components/VirtualElementService/main"],function(n,t,i,r,u,f){return function(){function a(t){t.substring(0,1)!=="/"&&(t="/"+t);var i=window.appHost.replace(/\/$/,"")+t;return new n.Deferred(function(n){r.pageRequest({path:i,containerId:e.getAttribute("id")}).done(function(t){var f,a;if(!t){n.reject();return}var y=new RegExp("<!--pushState:"+o.PlaceHolderName+"-->([\\s\\S]+)<!--/pushState:"+o.PlaceHolderName+"-->"),p=new RegExp('<!-- vbunker "component": { "name": "MetaTags" }-->([\\s\\S]+)<!-- /vbunker -->'),s=y.exec(t);if(s==null||s.length<2){window.location=i;return}var h=s[1],l=p.exec(t),e="";l!=null&&l.length>1&&(e=l[1]);f={title:""};a=v(t);w();k();a.isSame?r.getPageLoadWaitingTime()==0?(r.pageWaitingForRender(),c(h,i),u.setMetaTagsFromPageElementsWrapper(e),f.title=u.getPageTitle(),n.resolve(f)):(r.pageWaitingForRender(),setTimeout(function(){c(h,i);u.setMetaTagsFromPageElementsWrapper(e);f.title=u.getPageTitle();n.resolve(f)},r.getPageLoadWaitingTime())):d(t).then(function(){r.pageWaitingForRender();setTimeout(function(){c(h,i);u.setMetaTagsFromPageElementsWrapper(e);f.title=u.getPageTitle();n.resolve(f)},r.getPageLoadWaitingTime())})}).fail(function(t){r.pageEndRequest();n.reject(t);(t=="404"||t=="500")&&(window.location=i)})}).promise()}function p(t,i){var r=n(t).find('[data-wrapper="true"][data-place-holder-name="'+i+'"]');return r.children()}function w(){var t=n(e);t.css("height",t.height())}function b(){var t=n(e);t.css("height","")}function k(){s&&n(s).children().each(function(n,t){ko.removeNode(t)})}function c(n){s.html(n);i.initializeAll(s);document.getElementsByTagName("body")[0].setAttribute("id",s.data("pageId"));b();r.pageEndRequest()}function v(n){var r=new RegExp("<!--main-stylesheet:([\"'])(.*?)\\1"),t=r.exec(n),i="";return t!=null&&t.length>1&&(i=t[2].toLowerCase()),{src:i,isSame:window.mainLinkElement.getAttribute("href").toLowerCase()==i||h.shouldIgnoreCss}}function d(t){return n.Deferred(function(i){var r=v(t);if(r.isSame){i.resolve();return}g(r.src,function(t){i.resolve(t);n(window.mainLinkElement).remove();window.mainLinkElement=t})})}function g(t,i){var h=document.getElementsByTagName("head")[0],u=!0,e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,r,o,s;(e[2]||e[8])&&(u=!1);r=document.createElement("link");r.rel="stylesheet";u?r.onload=function(){setTimeout(function(){i(r)},7)}:o=setInterval(function(){for(var t,n=0;n<document.styleSheets.length;n++)if(t=document.styleSheets[n],t.href==r.href)return clearInterval(o),i(r)},10);r.href=t;s=f.getVirtualNodes(document,"pageStyle")[0];n(r).insertAfter(s.virtualParentNode)}var h=this,e,s,y,l,o;h.shouldIgnoreCss=!1;this.init=function(){console.log("V4 pushstateControl disabled");return}}});define("externals/components/PushStateControl/pushStateService",["jquery","underscore","services/commonDataService","externals/components/PushStateControl/reactStateService"],function(n,t,i,r){var u=function(){function c(){var u=!!(window.history&&window.history.pushState);if(u){e=t.debounce(a,800,{leading:!0,trailing:!0});n(document).on("click","a",function(t){var u,f,c,a,h,v,y,l;if(t.metaKey||t.ctrlKey)return!0;if(t.shiftKey)return window.open(n(this).attr("href")),!1;if(u=document.createElement("a"),u.href=n(this).attr("href"),u.target=n(this).attr("target"),n(this).data("autoplay")&&localStorage.setItem("RC_FROM_PLAY",!0),n(this).attr("data-spa-ignore-navigation")=="true")return!1;if(u.target&&u.target=="_blank")return!0;if(u.href.indexOf("#",u.href.length-1)!==-1)return!1;if(f=u.pathname,f[0]!="/"&&(f="/"+f),c=u.href.indexOf("?"),a=c!=-1?u.href.substr(c):"",u.hash.length>0&&f==document.location.pathname)return!0;if(h=n(this).data("stats-action"),h&&h!=""&&document.getElementsByName("WT.clic"))try{v=document.getElementsByName("WT.clic")[0].content;y=n(this).data("stats-content")||"";i.webTrendsStatsToClick("clic_action",h,"clic_contenu",y,"WT.clic",v)}catch(p){console.log("Push State Service Stats Failed: "+p)}return r.isHandleByReact(f)?(r.navigate(f,!1,function(){s()}),!1):(l=o(f),l&&u.href.indexOf(window.location.host)!=-1)?(r.updatePath(f,n(this).attr("data-close-not-pip-embedded-ctrl")!=="false"),e(l,f+a,null,t),!1):!0});document.readyState!=="complete"?window.addEventListener("load",function(){setTimeout(function(){h()},0)},!1):h()}}function l(t,i){var u=n('a[href="'+t+'"]'),r=0;return u.each(function(n,t){if(i==t){r=n;return}}),r}function a(i,r,u,e){var o=e!=null&&e.currentTarget?n(e.currentTarget).attr("href"):null,s={path:window.location.href,backButtonProperties:{attributeHref:o,anchorPosition:o?l(o,e.currentTarget):null,scrollTop:n(window).scrollTop()}};window.history.replaceState(s,"title");i.cb(r).done(function(n){u||history.pushState({},"",r);document.title=n.title;t.each(f,function(n){n.cb(r,e,i)})})}function o(n){for(var t=u.length-1;t>=0;t--){var i=u[t],r=new RegExp(i.pattern),f=r.exec(n)&&document.getElementById(i.containerId);if(f)return i}return null}function s(){if(u.length>0){var t=document.getElementById(u[0].containerId);domWrapper=n(t).find('[data-wrapper="true"]:first');n(domWrapper).children().each(function(n,t){ko.removeNode(t)})}}function h(){window.onpopstate=function(n){var u=n,i;location.hash&&location.hash.length>0&&(t.isUndefined(n.state)||n.state==null||n.state&&n.state.backButtonProperties&&n.state.backButtonProperties.attributeHref==location.pathname)?n.preventDefault():r.isHandleByReact(document.location.pathname)?r.navigate(document.location.pathname,!0,function(){s()}):(r.updatePath(document.location.pathname),i=o(document.location.pathname),i&&e(i,document.location.pathname,!0,n))}}var v=this,y=t.once(c),u=[],f=[],e;this.init=function(){console.log("V4 pushstateService disabled")};this.subscribePushEvent=function(n,i,r){var f=t.uniqueId("pushListener");return u.push({id:f,cb:i,pattern:n,containerId:r}),f};this.unsubscribePushEvent=function(n){var i=t.findIndex(u,function(t){return t.id==n});i>-1&&u.splice(i,1)};this.subscribePushEventEnded=function(n){var i=t.uniqueId("pushEndedListener");return f.push({id:i,cb:n}),i};this.unsubscribePushEventEnded=function(n){var i=t.findIndex(f,function(t){return t.id==n});i>-1&&f.splice(i,1)};this.navigate=function(n){var t=o(n);t&&e(t,n,null,{})}};return new u});define("externals/components/PushStateControl/reactStateService",["jquery","underscore","externals/components/PushStateControl/loaderStateService","externals/components/MetaTags/main","services/componentsService"],function(n,t,i,r,u){var f=function(){function e(n,t,i){r.setMetaTagsFromPageElementsWrapper(i);window.bunkerNextApi.newNavigation(n,t);f.push({pathname:n,model:t,metaTagsContent:i,lastResolve:new Date})}var o=this,f=[];this.isHandleByReact=function(n){return window.bunkerNextApi&&window.bunkerNextApi.isHandle(n)};this.updatePath=function(n,i){t.isUndefined(i)&&(i=!0);window.bunkerNextApi&&window.bunkerNextApi.newNavigation(n,void 0,void 0,i)};this.navigate=function(t,r,f){var o=window.bunkerNextApi&&window.bunkerNextApi.isHandle(t);if(!o)throw new Error("API: invalid path");r||history.pushState({},"",t);i.pageRequest({path:t}).done(function(o){var c,s;if(f(),c=new RegExp(/\/\*bns\*\/([\s\S]*?)\/\*bne\*\//),s=c.exec(o),!s)throw new Error("API: invalid react page");var a=JSON.parse(s[1]),v=new RegExp('<!-- vbunker "component": { "name": "MetaTags" }-->([\\s\\S]+)<!-- /vbunker -->'),h=v.exec(o),l="";h!=null&&h.length>1&&(l=h[1]);e(t,a.model,l);i.pageEndRequest();r||n(window).scrollTop(0);u.initializeAll(document.getElementById("react-view"))})}};return new f});define("externals/components/PushStateScrollTo/main",["jquery","externals/components/PushStateScrollTo/scrollManager"],function(n,t){return function(){this.init=function(i){var r=n(i).data("model");t.init(r);ko.utils.domNodeDisposal.addDisposeCallback(i,function(){i=null;t.remove(r)})}}});define("externals/components/PushStateScrollTo/scrollManager",["jquery","underscore","externals/components/PushStateControl/pushStateService"],function(n,t,i){var r=function(){function f(){i.subscribePushEventEnded(function(i,u,f){var c=r.slice(),h,o,s,l;c.reverse();u&&u.state&&u.state.backButtonProperties?u.state.backButtonProperties.attributeHref?(h=n('a[href="'+u.state.backButtonProperties.attributeHref+'"]'),h.length>u.state.backButtonProperties.anchorPosition&&n("html, body").animate({scrollTop:$(h[u.state.backButtonProperties.anchorPosition]).offset().top-window.innerHeight/2+"px"},"fast")):window.scroll(0,u.state.backButtonProperties.scrollTop):(o=t.find(c,function(t){var i=n("#"+t.ElementScrollSelector);return i.length>0&&(t.Pattern==="*"||f.pattern===t.Pattern)}),o&&(s=n("#"+o.ElementScrollSelector),l=s.offset().top+o.YpaddingOffSet,o.OnlyWhenTargetIsNotVisible&&(!o.OnlyWhenTargetIsNotVisible||e(s))||window.scroll(0,l),s.attr("tabindex","0")))})}function e(t){var i=n(t),r=n(window),u=r.scrollTop(),e=u+r.height(),f=i.offset().top,o=f+i.height();return o<=e&&f>=u}var r=[],u=t.once(f);this.init=function(n){r.push(n);u()};this.remove=function(n){var t=r.indexOf(n);r=t>-1?r.splice(t,1):r}};return new r});define("externals/components/ReactEmbeddedVideo/main",["jquery","underscore"],function(n,t){return function(){var i=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t===null?"":decodeURIComponent(t[1].replace(/\+/g," "))};this.init=function(r){var f=null,s="evt_before_video_"+r.getAttribute("data-console-video-id"),h="evt_after_video_"+r.getAttribute("data-console-video-id"),e=n("#before_"+r.getAttribute("data-console-video-id")),o=n("#after_"+r.getAttribute("data-console-video-id")),c=n("#click_"+r.getAttribute("data-console-video-id")),l=function(t,i){n("#syncdiv_"+f).attr("aria-hidden",!0);var r=$(":focusable"),u=r.index(t)+i;u>=r.length&&(u=0);r.eq(u).focus()},u;e.focusin(function(){n("#syncdiv_"+f).attr("aria-hidden",!1);n("#"+f+" :tabbable").eq(0).focus()});o.focusin(function(){n("#syncdiv_"+f).attr("aria-hidden",!1);var t=n("#"+f+" :tabbable"),i=t.length;t.eq(i-1).focus()});c.click(function(){n("#syncdiv_"+f).attr("aria-hidden",!1);n("#"+f+" :tabbable").eq(0).focus()});window[s]=function(){l(e,-1)};window[h]=function(){l(o,1)};u=JSON.parse(n("#"+r.getAttribute("data-console-id")).text());t.waitUntilIsUndifined(function(){return window.liveApi},100,function(){u.autoPlay=!u.disableAutoplayInQueryString&&!u.autoPlay&&(i("isAutoPlay")=="true"||i("isAutoPlay"))=="1"?!0:u.autoPlay;f=window.liveApi.injectVideo(r.getAttribute("data-console-video-id"),u.appCode,u.idMedia,"",u.urlTeaser,u.autoPlay,u.infoBar,u.share,u.pictureParams)});ko.utils.domNodeDisposal.addDisposeCallback(r,function(){window.liveApi&&window.liveApi.disposeVideo(r.getAttribute("data-console-video-id"));window[s]=null;window[h]=null;e.unbind();o.unbind();c.unbind()})}}});define("externals/components/ReaderProgressBar/main",["jquery"],function(n){return function(){var r=this,i={},t;this.init=function(u){i=u;var f=n(".show-reader-progress-bar");t();n(window).on("scroll",_.debounce(t,1));n(window).on("resize",_.debounce(t,1));n(window).on("social-bar-reduce",_.debounce(t,1));ko.applyBindings(r,i)};t=function(){var r=n(window).height(),u=n(document).height()-n("#src-footer .footer").height(),t=n(".content-progress-bar"),e=u-r,f=n(window).scrollTop(),i;t.attr("max",e);t.attr("value",f);i=f+r-u;i>0?t.css("bottom",i):t.css("bottom","0")}}});define("externals/components/RegionalizedProgramGuide/main",["jquery","services/regionLocalisationService"],function(n,t){return function(){function e(n){return i=="PremiereChaine"?n.SectionPremiere.getLocalCurrentRegion().StationId:i=="Television"?n.SectionTelevision.getLocalCurrentRegion().StationId:i=="EspaceMusique"?n.SectionEspaceMusique.getLocalCurrentRegion().StationId:4}function o(n){return i=="PremiereChaine"?n.SectionPremiere.getLocalCurrentRegion().MicrosoftTimezoneId:i=="Television"?n.SectionTelevision.getLocalCurrentRegion().MicrosoftTimezoneId:i=="EspaceMusique"?n.SectionEspaceMusique.getLocalCurrentRegion().MicrosoftTimezoneId:"Eastern Standard Time"}var s=this,r={},i="",u="",f=!1;this.init=function(s){r=s;i=n(r).data("regionsettingssections");u=n(r).data("uniqueid");f=n(r).data("loadoninit");t.RcSection().then(function(n){var t=e(n),i=o(n);_.waitUntilIsUndifined(function(){return window.programGuideInstance&&window.programGuideInstance[u]},300,function(){var n=window.programGuideInstance[u];n.setStationId(t);n.setMicrosoftTimezoneId(i);f==="True"&&n.load()})})}}});define("externals/components/SectionHeader/main",["jquery"],function(){return function(){var n=this,t={};this.init=function(i){t=i;n.visibleElement=ko.observable(!0);n.showOrHide=function(){n.visibleElement(!n.visibleElement())};ko.applyBindings(n,t)}}});define("externals/components/SectionHeaderWithMultiplePlaceholder/main",["jquery","services/viewportService","underscore","externals/components/AdGoogleTagInclude/main"],function(n,t){return function(){var i=this,r={},u="",e=t.getViewport(),f,o;this.init=function(e){r=e;u=n(r).data("section-name");i.closedText=ko.observable("R\351duire");i.openedText=ko.observable("Afficher");i.closedTextTitle=ko.observable("R\351duire la liste de contenu de la section "+u);i.openedTextTitle=ko.observable("Afficher la liste de contenu de la section "+u);i.visibleElement=ko.observable(!0);i.buttonText=ko.computed(function(){return i.visibleElement()?i.closedText():i.openedText()},i);i.buttonTextTitle=ko.computed(function(){return i.visibleElement()?i.closedTextTitle():i.openedTextTitle()},i);i.showOrHide=function(t,r){i.visibleElement(!i.visibleElement());i.visibleElement()?n(r.target).parent().siblings(".inner-content").find("a").each(function(){n(this).attr("data-not-link-video")!="true"&&(n(this).attr("tabindex","0"),n(this).attr("aria-hidden","false"))}):n(r.target).parent().siblings(".inner-content").find("a").each(function(){n(this).attr("data-not-link-video")!="true"&&(n(this).attr("tabindex","-1"),n(this).attr("aria-hidden","true"))})};t.registerViewportChanged(i.onViewportChanged);ko.computed(f,i);ko.applyBindings(i,r)};f=function(){n(r).find(".card-lineup-list").length>0&&n(r).find(".resumed-feed").length>0&&o()};i.onViewportChanged=function(){f()};o=function(){if(e.width>=1e3)elmHeight=n(".card-lineup-list").height()-20,n(r).find(".last-placeholder").css("height",elmHeight);else if(e.width>=660){var t=n(r).find(".srcPubZone").height()+20;t>=600?n(r).find(".last-placeholder").css("height",t):n(r).find(".last-placeholder").css("height",600)}else n(r).find(".last-placeholder").css("height",800);n(window).trigger("SectionHeaderWithMultiplePlaceholder:setHeightLastPlaceholder:slotrenderended");setTimeout(function(){n(window).trigger("SectionHeaderWithMultiplePlaceholder:setHeightLastPlaceholder:slotrenderended")},1e3)}}});define("externals/components/SocialBar/main",["jquery","pluggins/src.socialbar"],function(n,t){return function(){function u(){(i!="undefined"||dobserver_commenter!=null)&&i.disconnect();n(".src-socialbar .list-tool").find("li:first  a:first").removeAttr("onclick");n(".src-socialbar .list-tool").find("li:first  a:first").attr("href","#");n(".src-socialbar .list-tool").find("li:first  a:first").click(function(){n("#commenter").get(0).scrollIntoView()})}var f=this,r={},i=null;this.init=function(f){var e=n("#pluckComments-0");i=new MutationObserver(u);e.length&&i.observe(e.get(0),{attributes:!0,childList:!0,characterData:!0});r=f;t.initSingleSocialBar(n(r).attr("id"))}}});define("externals/components/SocialBarFollowScroll/main",["jquery","underscore","services/viewportService","pluggins/src.socialbar"],function(n,t,i,r){return function(){function w(){}var f,t,l,a,v,y=!1,p,u={topContainer:!1,bottomContainer:!1,topWindow:!1,bottomWindow:!1},h,s,c,e,o;window["RC.Bunker.SocialBar.SocialbarShowComments"]=function(){};c=function(){rectContainer=t[0].getBoundingClientRect();h=f[0].getBoundingClientRect();s={top:n("header").first().offset().top+n("header").first().height()-n(document).scrollTop()+35,left:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight};u.topContainer=rectContainer.top<=h.top?!0:!1;u.bottomContainer=rectContainer.bottom>=h.bottom||rectContainer.bottom<0?!0:!1;rectContainer.top<s.top?(u.topWindow=!0,u.topContainer=!1):u.topWindow=!1;rectContainer.bottom>s.bottom?(u.bottomWindow=!0,u.bottomContainer=!1):u.bottomWindow=!1};e=this;o={};this.init=function(u){o=u;e.initialized=!1;l=n("#topScroll");a=n("#bottomScroll");f=n(o);t=f.children(".SocialBarContainer");v=f.parent();p=n(document).scrollTop();var s=i.getViewport();i.registerViewportChanged(function(n){w(n,o)});r.initSocialBar(o);ko.utils.domNodeDisposal.addDisposeCallback(o,function(){n(window).unbind("scroll",e.throttled)})}}});define("externals/components/SocialBarFollowScrollMobile/main",["jquery","underscore","services/viewportService","pluggins/src.socialbar"],function(n,t,i,r){return function(){function v(){var n=f.height();f.css("height",n+"px");o.addClass("fixed");s=!0}function c(){s&&(o.removeClass("fixed"),f.css("height",""),s=!1)}function l(){var r=f.offset().top,i=h.offset().top+h.height()-o.height(),t=n(document).scrollTop();t>=r&&t<=i?s||v():t>i?c():c()}function y(n,t){n.isMobileDevice&&!u.initialized1?(console.log("Init socialbar 1"),a(t)):!n.isMobileDevice&&u.initialized1&&(console.log("Uninit socialbar 1"),p())}function a(i){l(i);u.throttled=t.throttle(function(){l(i)},500);n(window).bind("scroll",u.throttled);u.initialized1=!0}function p(){n(window).unbind("scroll",u.throttled);u.initialized1=!1}var f,o,h,s=!1,u=this,e={};this.init=function(t){e=t;u.initialized1=!1;f=n(e);o=f.children(".SocialBarContainer");h=f.parent();var s=i.getViewport();s.isMobileDevice&&a(e);i.registerViewportChanged(function(n){y(n,e)});r.initSocialBar(e)}}});define("externals/components/StickyContainerV2/main",["jquery","underscore","externals/components/ViewportService/main","externals/components/AdGoogleTagInclude/main"],function(n){return function(){var b={},r=this,i=0,v=0,u=0,s=n("header").eq(0).height(),t=null,h=0,c=0,l=0,f=null,y=0,p=0,e=20,a=null,o=null,k=0,w=0,d=null;this.init=function(){};this.setInitValues=function(){s=n("header").eq(0).height();y=f.height();p=f.offset().top+f.outerHeight();u=n(b).offset().top;c=t.offset().top;l=c;h=t.height();i=n(window).scrollTop();v=i};this.handleViewportChanged=function(i){if(a!=i.height&&(a=i.height),o!=i.width)if(o=i.width,o>=k&&(o<=w||w===-1)){if(r.setInitValues(),!r.scrollActivated){n(window).on("scroll",r.evScroll);r.scrollActivated=!0}d()}else(o<k||o>w&&w!==-1)&&(n(window).off("scroll",r.evScroll),r.scrollActivated=!1,t.css({position:"relative",top:0,bottom:"auto"}))};this.updateValues=function(){h=t.height();y=f.height();p=f.offset().top+f.outerHeight();i=n(window).scrollTop();c=t.offset().top;u=n(b).offset().top};this.evScroll=function(){var n,o,w,f;r.updateValues();i<v?(n=i+s+e<=u,o=i+s+e<=c,!n&&o?t.css({position:"fixed",bottom:"auto",top:s+e}):n?t.css({position:"relative",top:0,bottom:"auto"}):t.css({position:"relative",bottom:"auto",top:l-u})):i>v&&(w=i+a>=c+h+e,f=i>=p-a,w&&!f?t.css({position:"fixed",top:"auto",bottom:e}):f?t.css({position:"relative",top:y-h,bottom:"auto"}):t.css({position:"relative",bottom:"auto",top:l-u}));v=i;l=t.offset().top};this.debounceRepositioning=function(){if(r.scrollActivated){r.updateValues();var n=i>=p-a,f=i+s+e<=u;n?t.css({position:"relative",top:y-h,bottom:"auto"}):f&&t.css({position:"relative",top:0,bottom:"auto"});l=t.offset().top}}}});define("externals/components/SuggestedProgram/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/SuggestedProgramForBroadcastableContentComplement/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/SuggestedProgramForClip/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/ViaFourra/main",["services/viewportService","jquery"],function(n,t){return function(){var i=this,r={};i.textButton=ko.observable("Afficher les commentaires");i.showCommentsButton=ko.observable(!0);i.showOnMobile=ko.observable(!1);i.forceMobile=ko.observable(!n.getViewport().isDesktop);i.lazyLoad=!1;i.clickHandlerShowComment=function(){i.showCommentsButton(!i.showCommentsButton());i.showCommentsButton()?(i.textButton("Afficher les commentaires"),t(".viafoura-commentaire #pluckComments-0").hide()):(i.textButton("Masquer les commentaires"),t(".viafoura-commentaire #pluckComments-0").show());i.initialize(n.getViewport())};i.appearsOnScreenOnceHandler=function(){n.getViewport().isDesktop&&i.loadonclick=="False"&&i.initialize(n.getViewport())};this.init=function(n){r=n;i.initialized=!1;i.articleId=t(r).data("articleid");i.showOnMobile(t(r).data("showonmobile"));i.lazyLoad=t(r).data("lazyload");i.loadonclick=t(r).data("loadonclick");i.urlPath=t(r).data("path");i.lazyLoad=="False"&&i.loadonclick=="False"&&i.appearsOnScreenOnceHandler();window.location.hash&&window.location.hash=="#commenter"&&window.RC.Bunker.SocialBar.SocialbarShowComments(document.location,!1);ko.applyBindings(i,r)};i.actionTrackingViafouraClickSendData=function(){if(window.Viafoura&&window.Viafoura.users){var n=window.Viafoura.users.current().id===0||window.Viafoura.users.current().id===null||window.Viafoura.users.current().id===undefined?"not connected":"connected";try{analytics_trackAction&&analytics_trackAction!=null&&typeof analytics_trackAction=="function"&&analytics_trackAction("rcSiteWeb_afficherCommentaires",RadioCanada.Stats.Omniture.Code.s.pageName,"click",{groupeSection:RadioCanada.Stats.Omniture.Code.s.prop5,connexion:n,idMembre:window.Viafoura.users.current().id})}catch(t){console.log(t.message)}}};this.initialize=function(){i.initialized||(RadioCanada.Viafoura.ManualyLoadCommentsWidget(i.actionTrackingViafouraClickSendData),i.initialized=!0)};window.RC=window.RC||{};window.RC.Bunker=window.RC.Bunker||{};window.RC.Bunker.SocialBar=window.RC.Bunker.SocialBar||{};window.RC.Bunker.SocialBar.SocialbarShowComments=function(n,r){r=r||!0;i.initialized||(r&&t("body,html").animate({scrollTop:t("#commenter").offset().top-45},1e3),RadioCanada.Viafoura.ManualyLoadCommentsWidget(),i.textButton("Masquer les commentaires"),i.showCommentsButton(!1),i.initialized=!0,t(document).find(".icon-comment").attr("data-spa-ignore-navigation",!0))}}});define("externals/components/WebTrendService/webtrendsKnockoutHelpers",["underscore","jquery","externals/components/WebTrendService/webtrendsService"],function(n,t,i){ko.bindingHandlers.WebTrends={init:function(n,r){var u=r().statsAction,f=r().statsContent;t(n).bind("click.webtrendsService",function(n){i.callStats(n.target,u,f)});ko.utils.domNodeDisposal.addDisposeCallback(n,function(){t(n).unbind("click.webtrendsService")})}};ko.bindingHandlers.WebTrendsPlayPause={init:function(n,r){var u=r().statsActionPlay,f=r().statsActionPause,e=r().statsActionUnPause,o=r().statsContent;t(n).bind("click.webtrendsServicePlayPause",function(r){var s=t(r.target),h="";s.hasClass("played")&&(h=e);s.hasClass("is-play")&&(h=f);(s.hasClass("icon-play")||s.hasClass("icon-play-invert"))&&(h=u);i.callStats(n,h,o)});ko.utils.domNodeDisposal.addDisposeCallback(n,function(){t(n).unbind("click.webtrendsServicePlayPause")})}}});define("externals/components/WebTrendService/webtrendsService",["jquery","webtrends","services/lockService","services/commonDataService"],function(n,t,i,r){function f(t,i,u){var f=i||n(t).data("stats-action"),e,o;f&&f!=""&&(e=document.getElementsByName("WT.clic")[0].content,o=u||n(t).data("stats-content")||"",r.webTrendsStatsToClick("clic_action",f,"clic_contenu",o.replace(/[\\\s|'|\u2019]/gi,"-"),"WT.clic",e))}var u=!1;return{initialize:function(){i.lockingFunction(function(){return n.Deferred(function(n){return u||(t.Initialize(),u=!0),n.resolve()})})},call:function(n,t,i){f(n,t,i)},callStats:function(n,t,i){f(n,t,i)}}});define("externals/components/BroadcastableContentComplement/main",["jquery"],function(n){return function(){var i=this,r={},t=function(){window.print()};this.init=function(t){r=t;n(".printButton").each(function(){ko.applyBindings(i,this)})};this.printWithImages=function(){n("figure").removeClass("noImage");t()};this.printWithoutImages=function(){n("figure").addClass("noImage");t()}}});define("externals/components/BroadcastableContentComplementsPaging/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/Clip/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/HoraireDiffusionsList/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/PodiumAdvertisingContent/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/PodiumAdvertisingContentElement/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/PodiumCommanditaires/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/SportsGameV2/main",["jquery","services/sports/formattingService"],function(n,t){var i=function(){function n(n,t,i,r,u){n.ClassInProgress=t?"in-progress":"";n.ClassWinHome=n.ClassWinVisitor="";Boolean(i)&&(r=isNaN(r)?0:r,u=isNaN(u)?0:u,r!=u&&(n.ClassWinHome=r>u?"match-win":"",n.ClassWinVisitor=r>u?"":"match-win"))}this.initField=function(i){i.EventTime=moment(i.EventTime).toDate();i.DayTitle=ko.observable(t.getDayFormatted(i.EventTime));i.HourTitle=ko.observable(t.getHourFormatted(i.EventTime));i.ScoreTeamVisitor=ko.observable(i.ScoreTeamVisitor);i.ScoreTeamHome=ko.observable(i.ScoreTeamHome);i.Period=ko.observable(t.getPeriodFormated(i));i.ShowScore=ko.observable(i.IsInProgress&&i.Period()!==""||i.IsFinal);i.ShowPeriod=ko.observable(i.IsInProgress&&i.Period()!==""||i.IsFinal);i.ShowHour=ko.observable(i.IsPreGame||i.Period()==="");i.CompetitionType=ko.observable(i.CompetitionType);i.IsStartingSoon=ko.observable(i.IsInProgress&&i.Period()==="");i.ShowCompetitionType=ko.observable(i.CompetitionType()!==""&&i.IsPreGame===!0);i.IsStatusUnknown=ko.observable(!i.ShowCompetitionType()&&!i.ShowPeriod()&&!i.IsStartingSoon());n(i,i.IsInProgress,i.IsFinal,parseInt(i.ScoreTeamHome()),parseInt(i.ScoreTeamVisitor()))};this.updateField=function(i,r){var u=moment(r.EventTime).toDate();i.DayTitle(t.getDayFormatted(u));i.HourTitle(t.getHourFormatted(u));i.ScoreTeamVisitor(r.ScoreTeamVisitor);i.ScoreTeamHome(r.ScoreTeamHome);i.Period(t.getPeriodFormated(r));i.ShowScore(r.IsInProgress&&i.Period()!==""||r.IsFinal);i.ShowPeriod(r.IsInProgress&&i.Period()!==""||r.IsFinal);i.ShowHour(r.IsPreGame||i.Period()==="");i.IsFinal=r.IsFinal;i.IsInProgress=r.IsInProgress;i.IsPreGame=r.IsPreGame;i.CompetitionType(r.CompetitionType);i.IsStartingSoon(r.IsInProgress&&i.Period()==="");i.ShowCompetitionType(i.CompetitionType()!==""&&r.IsPreGame===!0);i.IsStatusUnknown(!i.ShowCompetitionType()&&!i.ShowPeriod()&&!i.IsStartingSoon());n(i,r.IsInProgress,r.IsFinal,parseInt(r.ScoreTeamHome),parseInt(r.ScoreTeamVisitor))}};return new i});define("externals/components/SportsResultsWidgetV2/main",["jquery","moment","services/sports/dataService","externals/components/SportsGameV2/main","externals/components/ViewportService/main"],function(n,t,r,u,f){var e=function(){function nt(t){n(".results-widget-games-list").animate({left:t,easing:"ease-in"},300,function(){})}function ci(){if(h<=0)return!1;var n=0,t=0;return t=gt(),n=w(o-t,o),o-t<0&&(t=o),n>h&&(n=h),h=h-n,y="+="+n,o=o-t,nt(y),it(),!1}function li(){if(h>=p)return!1;var n=0,t=0;return t=gt(),n=w(o,o+t),o+t>=l&&(t=l-o),n+h>=p&&(n=p-h),h=h+n,y="-="+n,o=o+t,nt(y),it(),!1}function ai(n){d=n.originalEvent.touches[0].clientX;g=n.originalEvent.touches[0].clientY}function vi(n){if(d&&g){var i=n.originalEvent.touches[0].clientX,r=n.originalEvent.touches[0].clientY,t=d-i,u=g-r;Math.abs(t)>Math.abs(u)&&(t>0?ht():st());d=null;g=null}}function ct(){b=c.find(".results-widget-games-list div.visible");kt=bi();l=ni();p=w(0,l);h=0;c.find(".results-widget-games-list").css("width",kt);c.find(".results-widget-games-list").css("left",0);c.find(".control-left").fadeIn();c.find(".control-right").fadeIn();c.on("click",".control-left",st);c.on("click",".control-right",ht);c.on("touchstart",".results-widget-carousel-mask",ai);c.on("touchmove",".results-widget-carousel-mask",vi)}function yi(){hi=!0;vt&&(e=c.data("parameters"),v=e.Domain,v=_.isUndefined(v)?"":v,ko.applyBindings(s,k),rr())}function lt(n){var t=pi(n);o=t;h=h+w(0,t);y="-="+w(0,t);nt(y);it()}function pi(t){var u=wi(-18),i=0,r=tt(t);return ii(t)?(i=r.length,i>3&&(i=i-4),n(".results-widget-games-list li:nth-child("+(i+1)+")").addClass("sports-results-widget-latest-results").attr("tabindex",0)):ri(t)?(i=0,n(".results-widget-games-list li:nth-child("+(i+1)+")").addClass("sports-results-widget-latest-results").attr("tabindex",0)):n.each(r,function(t,r){if(r.EventTime<u)i=++i;else{n(".results-widget-games-list li:nth-child("+(i+1)+")").addClass("sports-results-widget-latest-results").attr("tabindex",0);return}}),i}function wi(n){var t=new Date;return t.setHours(t.getHours()+n),t}function bi(){var t=0;for(i=0;i<b.length;i++)t=n(b[i]).hasClass("show-time")?t+et:t+ot;return t}function w(t,r){var u=0;for(i=t;i<r;i++)u=n(b[i]).hasClass("show-time")?u+et:u+ot;return u}function gt(){var n=0;return a.isExtraExtraBig&&(n=5),a.isExtraBig&&(n=5),a.isBig&&(n=4),a.isMedium&&(n=4),a.isSmall&&(n=2),a.isExtraSmall&&(n=1),n}function ni(){var t=0,r=c.find(".results-widget-carousel-mask").width(),i;for(a.isExtraSmall===!1&&(r=r-42.5),i=b.length-1;t<r;)t=n(b[i]).hasClass("show-time")?t+et:t+ot,i--;return i+2}function ti(n){ii(n)?ki(n):ri(n)?di(n):(s.gamesMore(tt(n)),ct(),lt(n))}function ki(n){oi(ei(n),nr(n),!1,n)}function di(n){oi(ei(n)+1,tr(n),!0,n)}function ii(n){var i=t(),r=gi(n),u=ui(n);return r!=null&&i.isAfter(r)&&i.isBefore(u)}function ri(n){var i=t(),u=fi(n),r=ui(n);return r!=null&&i.isAfter(r)&&i.isBefore(u)}function gi(n){var i="YYYY-MM-DD";switch(n.toLowerCase()){case"nhl":return t(e.DateToShowLastGamesNHL,i);case"mls":return t(e.DateToShowLastGamesMLS,i);case"cfl":return t(e.DateToShowLastGamesCFL,i);default:return null}}function ui(n){var i="YYYY-MM-DD";switch(n.toLowerCase()){case"nhl":return t(e.DateToShowNextGamesNHL,i);case"mls":return t(e.DateToShowNextGamesMLS,i);case"cfl":return t(e.DateToShowNextGamesCFL,i);default:return null}}function fi(n){var i="YYYY-MM-DD";switch(n.toLowerCase()){case"nhl":return t(e.DateToShowGamesFromRangeNHL,i);case"mls":return t(e.DateToShowGamesFromRangeMLS,i);case"cfl":return t(e.DateToShowGamesFromRangeCFL,i);default:return 0}}function nr(n){switch(n.toLowerCase()){case"nhl":return e.NumberOfLastGamesToShowNHL;case"mls":return e.NumberOfLastGamesToShowMLS;case"cfl":return e.NumberOfLastGamesToShowCFL;default:return 0}}function tr(n){switch(n.toLowerCase()){case"nhl":return e.NumberOfNextGamesToShowNHL;case"mls":return e.NumberOfNextGamesToShowMLS;case"cfl":return e.NumberOfNextGamesToShowCFL;default:return null}}function ei(n){var i=fi(n),r;return r=_.isUndefined(i)?t().format("YYYY"):i.format("YYYY"),parseInt(r)-1}function at(){clearTimeout(dt);dt=setTimeout(ir,500)}function ir(){if(a=f.getViewport(),l=ni(),p=w(0,l),o>=l){var n=w(l,o);h=p;o=l;y="+="+n;nt(y)}it()}function rr(){if(s.gamesMore().length<1){s.resultsCarouselLoadingImage(!0);var i="",f="",o="",c=e.League,h=e.NumberOfDayToFetchFromNow;r.getGamesByNumberOfDayFromNowAsync(h,h,null,null,v).then(function(e){n.each(e,function(n,e){e.Class="result-"+e.LeagueName.toLowerCase()+" visible result-item";e.LeagueName==="NHL"?i===""?(e.ShowDatetime=!0,e.Class=e.Class+" show-time",i=t(e.EventTime).local().format("ddd D MMM YYYY")):i!==t(e.EventTime).local().format("ddd D MMM YYYY")?(e.ShowDatetime=!0,e.Class=e.Class+" show-time",i=t(e.EventTime).local().format("ddd D MMM YYYY")):e.ShowDatetime=!1:e.LeagueName==="CFL"?f===""?(e.ShowDatetime=!0,e.Class=e.Class+" show-time",f=t(e.EventTime).local().format("ddd D MMM YYYY")):f!==t(e.EventTime).local().format("ddd D MMM YYYY")?(e.ShowDatetime=!0,e.Class=e.Class+" show-time",f=t(e.EventTime).local().format("ddd D MMM YYYY")):e.ShowDatetime=!1:e.LeagueName==="MLS"&&(o===""?(e.ShowDatetime=!0,e.Class=e.Class+" show-time",o=t(e.EventTime).local().format("ddd D MMM YYYY")):o!==t(e.EventTime).local().format("ddd D MMM YYYY")?(e.ShowDatetime=!0,e.Class=e.Class+" show-time",o=t(e.EventTime).local().format("ddd D MMM YYYY")):e.ShowDatetime=!1);u.initField(e);e.IsFinal||r.subscribeUpdate(e,function(n,t){u.updateField(n,t)},v);si(e)});yt=e;ti("NHL");s.resultsCarouselLoadingImage(!1)}).fail(function(n,t,i){console.log(t+" "+i)})}}function oi(t,i,u,f){fr(f)?(s.gamesMore(tt(f)),ct(),lt(f)):(ur(f),s.gamesMore([]),s.resultsCarouselLoadingImage(!0),r.getGamesBySeasonAndNumberOfDayAsync(t,i,u,f,v).then(function(t){n(".results-widget-games-list").children("div.result-"+f.toLowerCase()).remove();n.each(t,function(n,t){t.Class="result-"+t.LeagueName.toLowerCase()+" visible result-item";sportsGame.initField(t);t.IsFinal||r.subscribeUpdate(t,function(n,t){sportsGame.updateField(n,t)},v);si(t)});s.gamesMore(tt(f));ct();lt(f);er(f,!0);s.resultsCarouselLoadingImage(!1)}))}function si(n){var t=n.LeagueName.toLowerCase();switch(t){case"nhl":rt.push(n);break;case"mls":ut.push(n);break;case"cfl":ft.push(n)}}function ur(n){switch(n.toLowerCase()){case"nhl":rt=[];break;case"mls":ut=[];break;case"cfl":ft=[]}}function tt(n){switch(n.toLowerCase()){case"nhl":return rt;case"mls":return ut;case"cfl":return ft;case"all":return yt}}function fr(n){switch(n.toLowerCase()){case"nhl":return pt;case"mls":return wt;case"cfl":return bt}}function er(n,t){switch(n.toLowerCase()){case"nhl":pt=t;break;case"mls":wt=t;break;case"cfl":bt=t}}function it(){h===0||o===0?n(".control-left").addClass("control-disabled"):n(".control-left").removeClass("control-disabled");h>=p?n(".control-right").addClass("control-disabled"):n(".control-right").removeClass("control-disabled")}var vt=!1,hi=!1,s=this,k={},c={},v="",e=null,yt=[],rt=[],ut=[],ft=[],pt=!1,wt=!1,bt=!1,et=185,ot=140,o=0,l=0,h=0,p=0,kt=0,y=0,or=n(k).find(".results-widget-games-list").find("div"),b,d=null,g=null,a,dt,st,ht;s.init=function(t){k=t;c=n(k);vt=!0;f.ensureResolveViewport();a=f.getViewport();s.resultsCarouselLoadingImage=ko.observable(!1);s.gamesMore=ko.observableArray([]);yi();ko.utils.domNodeDisposal.addDisposeCallback(k,function(){s.gamesMore.removeAll()})};n(document).on("click",".sports-results-widget-cue-latest-results",function(){n(".sports-results-widget-latest-results").focus()});st=_.throttle(ci,500);ht=_.throttle(li,500);n(window).resize(at);n(document).on("navigation:openClose:close",at);n(document).on("navigation:openClose:open",at)};return new e});define("externals/components/SportsWidgetsJO/main",["jquery","https://ici.radio-canada.ca/sports/special/lib/flickity/flickity.pkgd.js"],function(n,t){return function(){var u=this,r={},i={};this.init=function(f){function e(n){xDown=n.originalEvent.touches[0].clientX;yDown=n.originalEvent.touches[0].clientY}function o(t){if(xDown&&yDown){var r=t.originalEvent.touches[0].clientX,u=t.originalEvent.touches[0].clientY,i=xDown-r,f=yDown-u;Math.abs(i)>Math.abs(f)&&(i>0?moveCarousel(n(this),"next"):moveCarousel(n(this),"previous"));xDown=null;yDown=null}}r=f;i=n(r);carouselVisibleItems="";carousel=new t(".jo-video-list-carousel",{adaptiveHeight:!1,cellAlign:"left",contain:!0,draggable:!1,freeScroll:!1,prevNextButtons:!1,pageDots:!1,setGallerySize:!0,wrapAround:!1,initialIndex:0,lazyLoad:5});n(".jo-video-list-top-row").removeClass("widget-hidden-content");n(".jo-video-list-carousel").removeClass("widget-hidden-content");n(".jo-video-list-carousel").attr("tabindex","-1");carousel.on("select",function(){n(".control-previous").removeClass("disabled");n(".control-next").removeClass("disabled");carousel.selectedIndex==0&&n(".control-previous").addClass("disabled");carousel.selectedIndex+getNbrOfCarouselVisibleItems()>=carousel.cells.length&&n(".control-next").addClass("disabled");calculateCarouselPagination()});carousel.on("lazyLoad",function(t,i){var r=n(i);n.each(r.find(".jo-video-item-image.flickity-lazyloaded"),function(n,t){t.width<50&&(t.src="/unit/Content/sports/images/widgets-jo/PC-default-image.jpg")})});i.on("click",".control-next",function(){moveCarousel(n(this),"next")});i.on("click",".control-previous",function(){moveCarousel(n(this),"previous")});moveCarousel=function(t,i){n(t).hasClass("disabled")||(i=="previous"?carousel.previous():i=="next"&&carousel.next())};getNbrOfCarouselVisibleItems=function(){var t=1;return n.each(sportsWidgetsJOParams.breakPoints,function(i,r){var u="(min-width: "+r.min+".01px)",f="(max-width: "+r.max+"px)";window.matchMedia(u).matches&&window.matchMedia(f).matches&&(t=n(".sports-widgets-jo-no-nav").length>0?r.nonav:r.nav)}),parseInt(t)};calculateCarouselPagination=function(){var u="",t=isNaN(carouselTotalitems.text())?0:parseInt(carouselTotalitems.text()),i=isNaN(carousel.selectedIndex)?0:parseInt(carousel.selectedIndex),n=getNbrOfCarouselVisibleItems(),r,f;n>t&&(n=t);r=i+1;f=i+n>t?t:i+n;u=n==1?r:r+"-"+f;carouselCurrentItems.text(u);recalculateMedalsTableRowHeight()};recalculateMedalsTableRowHeight=function(){var t,i;sportsWidgetsJOParams.synchronizeWidgets&&(t=n(".flickity-viewport").height(),t&&(i=(t-8)/4,n(".jo-medals-table-row").height(i),n(".jo-medals-table-row .flag-cell").height(i-6)))};setVideoItemParams=function(){var t=getNbrOfCarouselVisibleItems(),u=n(".flickity-viewport").css("width"),i=n(".videos-spot").css("padding-right"),f=(t-1)/t,e="calc("+u+" / "+t+" - "+i+"*"+f+")",r="calc("+u+"*0.5625 / "+t+" - "+i+"*"+f+"*0.5625 )";n(".jo-video-list-carousel .jo-video-item").css("margin-right",i);n(".jo-video-list-carousel .jo-video-item").css("width",e);n(".jo-video-list-carousel .jo-video-item img").css("width",e);n(".jo-video-list-carousel .jo-video-item img").css("height",r);n(".jo-video-list-carousel .jo-video-item .image-gradient-hover").css("height",r);n(".sports-widgets-jo-rc .nomedals-message").css("height",r)};i.on("touchstart",".jo-video-list-carousel",e);i.on("touchmove",".jo-video-list-carousel",o);carouselCurrentItems=n(".jo-video-controls .carousel-pagination .current-items");carouselTotalitems=n(".jo-video-controls .carousel-pagination .total-items");calculateCarouselPagination();sportsWidgetsJOParams.useStandAloneInBunker&&(n("#src-container").removeClass("grid-container"),n("#src-container").addClass("stand-alone-in-bunker"),n("#src-container").attr("id","#src-container-converted"),n(".react-view-body").css("display: none;"),n('div[class*="sports-widgets-jo-"]').removeClass("widget-hidden-content"),carousel.resize());setBackgroundColor=function(){n(".bunker-component.sports-widgets-jo-rds").length>0&&n("body").addClass("bodyWhite")};resizeWidget=function(){var n=getNbrOfCarouselVisibleItems();carousel.selectedIndex+n>carousel.cells.length&&carousel.select(carousel.cells.length-n);calculateCarouselPagination();setVideoItemParams();notifyParetAboutNewSize()};resizeWidgetByWindow=function(){adjustViewByParentNavMenuStatus();resizeWidget()};n(window).on("resize",_.debounce(resizeWidgetByWindow,50));i.on("resize",_.debounce(resizeWidget,50));n(document).on("navigation:openClose:open",function(){n('[class*="sports-widgets-jo"]').removeClass("sports-widgets-jo-no-nav");carousel.resize();setVideoItemParams();carousel.resize()});n(document).on("navigation:openClose:close",function(){n('[class*="sports-widgets-jo"]').addClass("sports-widgets-jo-no-nav");carousel.resize();setVideoItemParams();carousel.resize()});n('[class*="sports-widgets-jo"] .jo-video-list-carousel .jo-video-item').on("mouseover",function(){var t=n(this);t.children().addClass("higlight-card")});n('[class*="sports-widgets-jo"] .jo-video-list-carousel .jo-video-item').on("mouseleave",function(){var t=n(this);t.children().removeClass("higlight-card")});receiveGlobalMessage=function(t){switch(t.originalEvent.data){case"navigation:openClose:close":n(document).trigger("navigation:openClose:close");break;case"navigation:openClose:open":n(document).trigger("navigation:openClose:open");break;default:console.log("Widget JO received unknown message: "+t.originalEvent.data)}};n(window).on("message",receiveGlobalMessage);adjustViewByParentNavMenuStatus=function(){if(window.parent){var t=n(window.parent.document);window.parent.innerWidth>1239&&t.find(".main-header.is-nav-opened").length>0?n(document).trigger("navigation:openClose:open"):n(document).trigger("navigation:openClose:close")}};notifyParetAboutNewSize=function(){if(window.parent){var t='{ "component": "widgetjo", "eventtype": "resize", "height":'+n(i).height()+"}";window.parent.postMessage(t,"*")}};ko.applyBindings(u,r);carousel.resize();resizeWidget();carousel.resize();setBackgroundColor();adjustViewByParentNavMenuStatus()}}});define("externals/components/SportsWrapperHoraireDiffusions/main",["jquery"],function(){return function(){var t=this,n={};this.init=function(i){n=i;ko.applyBindings(t,n)}}});define("externals/components/TeleLineup/main",["jquery","underscore"],function(n,t){return function(){var u=this,i={},r=0,o=0,e=0,f=0,c=0,s=0,a=function(){var t=n(i).find("li");c=t.length*t.outerWidth();f=t.outerWidth();e=n(i).outerWidth();o=c-e},v=function(){r===0?u.startPosition(!0):u.startPosition(!1);r===o?u.endPosition(!0):u.endPosition(!1)},l=function(t){n(i).find("ul").animate({scrollLeft:t,easing:"ease-in"},400,function(){h();n(window).trigger("scroll")})},y=function(){var n=Math.floor(e/f)*f,t=r-n;r=Math.max(t,0);l(r)},p=function(){var n=Math.floor(e/f)*f,t=r+n;r=Math.min(t,o);l(r)},w=function(n){u.allItemsLoaded(!0);d(n);$(i).find("img").trigger("appear")},h=function(){a();v()},b=function(){var t=n(i).data("visible-items"),r=n(i).find("li").length;r<=t&&u.allItemsLoaded(!0)},k=function(){if(n().lazyload){var t=$(i).find("ul");n(i).find("figure img").lazyload({container:t,effect:"fadeIn",threshold:500})}},d=function(t){var i=$(t).parents("section").find(".hidden-item");i&&(i.hide().fadeIn(),n(window).trigger("scroll"))},g=function(){$(window).on("resize",t.debounce(function(){h()},25))};$(".pub").bind("DOMSubtreeModified",function(){var u=$(this).attr("id"),t=u.replace("pub_",""),f=$(this).attr("nbvisible"),n,i,r;f>5&&(n=$(".pub").height(),s!==n&&(s=n,n>310?(i=$("#"+t+" span li").not(".hidden-item").last(),i.addClass("manual-hidden")):(r=$("#"+t+" span .manual-hidden"),r.removeClass("manual-hidden"))))});this.startPosition=ko.observable(!1);this.endPosition=ko.observable(!1);this.allItemsLoaded=ko.observable(!1);this.init=function(n){i=n;ko.applyBindings(u,i);k();b();h();g();s=$(".pub").height()};this.scrollLeft=function(){y()};this.scrollRight=function(){p()};this.showMoreContent=function(n,t){w(t.target)}}});define("externals/components/TeleTodaysSchedule/main",["jquery","underscore","services/regionLocalisationService","dragdealer"],function(n,t,i,r){return function(){var e=this,s={},nt,h,y,f,c,u=0,p=!1,o,w,b,tt,a,l=function(){var n=o.find("li");y=n.length*n.outerWidth(!0);h=o.outerWidth(!0);c=o.find("li").outerWidth(!0);f=y-h},k=function(){var n=o.find("li"),t=n.first().position(),i=n.last().position();t.left===0?a.addClass("no-shade-left"):i.left===y-(f+n.outerWidth())?a.addClass("no-shade-right"):a.removeClass("no-shade-left").removeClass("no-shade-right")},d=function(){l();var n=o.find("li").first().position(),t=h-b.outerWidth(),i=n.left*t/f;k();v();b.css("left",i*-1)},v=function(){u===0?e.startPosition(!0):e.startPosition(!1);u===f?e.endPosition(!0):e.endPosition(!1)},g=function(t){n(s).find("ul").animate({scrollLeft:t,easing:"ease-in"},400,function(){l();v();n(window).trigger("scroll")})},it=function(){var n=Math.floor(h/c)*c,t=u-n;u=Math.max(t,0);g(u)},rt=function(){var n=Math.floor(h/c)*c,t=u+n;u=Math.min(t,f);g(u)},ut=function(){l();v();nt=new r("content-scroller",{horizontal:!0,vertical:!1,css3:!1,yPrecision:f,animationCallback:function(n){p=!0;l();u=n*f;w.scrollLeft(u);k();v()},callback:function(){p=!1}})},ft=function(){if(n().lazyload){var t=$(s).find("ul");n(s).find("figure img").lazyload({container:t,effect:"fadeIn",threshold:500})}},et=function(){w.on("scroll",function(){p===!1&&d()});$(window).on("resize",t.debounce(function(){d();l()},25))},ot=function(t,i,r){return n.ajax({url:t,data:r}).then(function(t){var r=n(i).find(".schedule-wrapper ul");return n(t).hide().appendTo(r).fadeIn(),i})},st=function(){return i.RcSection().then(function(n){return{stationId:n.SectionTelevision.getLocalCurrentRegion().StationId,microsoftTimezoneId:n.SectionTelevision.getLocalCurrentRegion().MicrosoftTimezoneId}})};this.startPosition=ko.observable(!1);this.endPosition=ko.observable(!1);this.isContentLoading=ko.observable(!0);this.init=function(t){s=t;ko.applyBindings(e,s);var i=n(t).data("content-url");st().then(function(n){ot(i,t,n).then(function(){e.isContentLoading(!1);o=$(".mag-tele-todays-schedule");w=$(".mag-tele-todays-schedule ul");a=$(".schedule-wrapper");b=$(".handle");tt=$("#content-scroller");ft();ut();et()})})};this.scrollLeft=function(){it()};this.scrollRight=function(){rt()}}});define("externals/components/HorizontalNavigationBarWithAnchors/main",["jquery"],function(n){return function(){function u(n,t){var r=t.hash;r!==undefined&&r!==""&&(n.preventDefault(),i(r))}function f(){window.location.hash!==undefined&&window.location.hash!==""&&setTimeout(function(){i(window.location.hash)},1250)}function i(t){n("html, body").animate({scrollTop:n(t).offset().top-75},1e3,function(){window.location.hash=t})}function e(){var n=!1;try{return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n}catch(t){return n}}var r=this,t={};this.init=function(i){t=i;var o=n(t);e()||(o.find("ul").css("width","100%"),o.find(".list-container").css("white-space","normal"),o.addClass("no-after"));o.find("a").on("click",function(n){u(n,this)});f();ko.applyBindings(r,t)}}});define("externals/components/VideoAndQuoteContainer/main",["jquery","services/viewportService"],function(n,t){return function(){var r=this,i={};this.init=function(u){i=u;ko.applyBindings(r,i);var f=n(u).find("[data-functionalmedia]");n(f).each(function(){n(this).data("ismovie")=="True"?n(this).click(function(){var r=t.getViewport(),u=r.width,i;u>1023&&(i="#"+n(this).data("idmedia")+"-quotebox",n(i).fadeOut("slow",function(){n(i).css("z-index",0);n(i).fadeIn("fast")}))}):n(this).mouseover(function(){var t="#"+n(this).data("idmedia")+"-quotebox";n(t).css("z-index",0);n(this).parent().css("z-index",3e3)})})}}});define("externals/components/AdFormatBigBox/main",["jquery","externals/components/AdGoogleTagInclude/main"],function(n,t){return function(){var i=this,r={};i.slotrenderended_handler=function(t){var i=n(t.getDomElement()).parent(".bigbox-contour-blanc"),r;i.length!=0&&(r=i.find(".srcPubZone"))};this.init=function(u){r=u;var f="pub_"+Date.now();n(r).attr("id",f);t?t.addEventListener&&t.addEventListener("slotrenderended",i.slotrenderended_handler):init(u)}}});define("externals/components/AdFormatExpando/main",["jquery"],function(n){var t=function(){function i(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):!1}var t=i();t&&n(".Expando").hover(function(){n(this).addClass("ie-hover-active")},function(){n(this).removeClass("ie-hover-active")})};return new t});define("externals/components/AdGoogleTagInclude/main",["jquery","underscore","externals/components/AdBox/adBoxes"],function(n,t,i){var r=function(){function e(){return setTimeout(s,200)}function o(n){var u=r.slotrenderended,e=n.slot.getSlotElementId(),f,t;if(!e.match(/\d+_ads\d+/g)&&(f=i.getByAdId(e),u&&f))for(t=0;t<u.length;t++)try{u[t](f,n)}catch(o){console.log(o.message)}}function s(){var t,i;if(n.get().apiReady){if(f=!0,clearTimeout(u),t=r.apiready,t)for(i=0;i<t.length;i++)t[i]()}else u=e()}var n=this,r={},f=!1,u;n.get=function(){return googletag};u=e();n.get().cmd.push(function(){n.get().pubads().addEventListener("slotRenderEnded",o)});n.addEventListener=function(n,i){if(n=n.toLowerCase(),n!=="apiready"&&n!=="slotrenderended")throw"Only apiReady and slotRenderEnded are supported.";if(n==="apiready"&&f){t.defer(i);return}r[n]||(r[n]=[]);r[n].push(i)};n.removeEventListener=function(n,t){if(n=n.toLowerCase(),n!=="apiready"&&n!=="slotrenderended")throw"Only apiReady and slotRenderEnded are supported.";r[n].forEach(function(i,u){i==t&&r[n].splice(u,1)})};n.enableServices=function(){n.get().cmd.push(function(){n.get().enableServices()})}};return new r});define("externals/components/AdSizeMappingService/main",["jquery","externals/components/AdTypeService/main"],function(){var n=function(){var ft=this,i=null,r=null,u=null,n=null,f=null,e=null,o=null,s=null,h=null,c=null,l=null,a=null,v=null,y=null,p=null,w=null,b=null,k=null,d=null,g=null,nt=null,tt=null,t=null,it=null,rt=null,ut=null;ft.getSizeMapping=function(ft,et){return(i==null&&(i=googletag.sizeMapping().addSize([0,0],[]).build()),r==null&&(r=googletag.sizeMapping().addSize([1024,0],[[300,1050],[300,600],[300,250]]).addSize([641,0],[[300,250]]).addSize([0,0],[]).build()),u==null&&(u=googletag.sizeMapping().addSize([641,0],[]).addSize([0,0],[300,250]).build()),n==null&&(n=googletag.sizeMapping().addSize([1024,0],[[300,1050],[300,600],[300,250]]).addSize([641,0],[300,250]).addSize([0,0],[[300,250],[320,100],[320,50]]).build()),f==null&&(f=googletag.sizeMapping().addSize([1903,0],[]).addSize([641,0],[300,250]).addSize([0,0],[[300,250],[320,100],[320,50]]).build()),h==null&&(h=googletag.sizeMapping().addSize([1240,0],[[990,250],[970,250],[728,90]]).addSize([768,0],[728,90]).addSize([0,0],[]).build()),c==null&&(c=googletag.sizeMapping().addSize([1240,0],[[990,250],[970,250],[728,90]]).addSize([768,0],[728,90]).addSize([0,0],[[320,100],[320,50]]).build()),y==null&&(y=googletag.sizeMapping().addSize([1240,0],[[990,250],[970,250],[728,90]]).addSize([768,0],[728,90]).addSize([0,0],[300,250]).build()),l==null&&(l=googletag.sizeMapping().addSize([1240,0],[[990,250],[970,250],[728,90]]).addSize([768,0],[728,90]).addSize([0,0],[300,250]).build()),a==null&&(a=googletag.sizeMapping().addSize([1240,0],[[990,250],[970,250],[728,90]]).addSize([768,0],[728,90]).addSize([0,0],[[320,100],[320,50]]).build()),v==null&&(v=googletag.sizeMapping().addSize([641,0],[]).addSize([0,0],[[320,100],[320,50]]).build()),p==null&&(p=googletag.sizeMapping().addSize([1240,0],[[1920,1920],[990,250],[970,250]]).addSize([768,0],[[1920,1920],[728,90]]).addSize([641,0],[1920,1920]).addSize([0,0],[]).build()),w==null&&(w=googletag.sizeMapping().addSize([1240,0],[[1920,1920],[990,250],[970,250]]).addSize([1024,0],[[1920,1920],[990,250],[970,250],[728,90]]).addSize([768,0],[[1920,1920],[728,90]]).addSize([641,0],[1920,1920]).addSize([0,0],[[1920,1920],[320,100],[320,50]]).build()),b==null&&(b=googletag.sizeMapping().addSize([641,0],[]).addSize([0,0],[[1920,1920],[320,100],[320,50]]).build()),k==null&&(k=googletag.sizeMapping().addSize([1240,0],[[1920,960],[990,250],[970,250]]).addSize([768,0],[[1920,960],[728,90]]).addSize([641,0],[1920,960]).addSize([0,0],[]).build()),t==null&&(t=googletag.sizeMapping().addSize([1240,0],[[1920,960],[990,250],[970,250]]).addSize([768,0],[[1920,960],[728,90]]).addSize([641,0],[1920,960]).addSize([0,0],[[1920,960],[320,100],[320,50]]).build()),nt==null&&(nt=googletag.sizeMapping().addSize([641,0],[]).addSize([0,0],[[1920,960],[320,100],[320,50]]).build()),tt==null&&(tt=googletag.sizeMapping().addSize([1024,0],[]).addSize([768,0],[[1920,960],[728,90]]).addSize([641,0],[[1920,960],[320,100],[320,50]]).addSize([0,0],[]).build()),d==null&&(d=googletag.sizeMapping().addSize([1240,0],[[1920,960],[990,250],[970,250]]).addSize([1024,0],[[1920,960],[990,250],[970,250],[728,90]]).addSize([0,0],[]).build()),g==null&&(g=googletag.sizeMapping().addSize([1024,0],[]).addSize([768,0],[[1920,960],[728,90]]).addSize([0,0],[[1920,960],[320,100],[320,50]]).build()),e==null&&(e=googletag.sizeMapping().addSize([1024,0],[]).addSize([0,0],[[300,250]]).build()),o==null&&(o=googletag.sizeMapping().addSize([1240,0],[[300,600],[300,250],[300,1050]]).addSize([1024,0],[[300,600],[300,250]]).addSize([0,0],[]).build()),s==null&&(s=googletag.sizeMapping().addSize([1024,0],[[300,600],[300,250]]).addSize([0,0],[]).build()),it==null&&(it=googletag.sizeMapping().addSize([1240,0],[[990,250],[728,90],[970,250]]).addSize([1024,0],[[728,90],[970,250]]).addSize([0,0],[]).build()),rt==null&&(rt=googletag.sizeMapping().addSize([1024,0],[]).addSize([0,0],[[300,50],[320,50]]).build()),ut==null&&(ut=googletag.sizeMapping().addSize([1024,0],[]).addSize([0,0],[[300,50],[320,50]]).build()),ft==="NoAd")?i:ft==="NoMobileBigBox"?r:ft==="FirstBigBoxArticle"?e:ft==="FirstBigBoxArticleDesktopOnly"?o:ft==="SecondBigBoxArticle"?s:ft==="ExceptionHomepageSecondBigBox"?mappingExceptionHomepageSecondBigBox:ft==="ExceptionThematicPagesBigBox"?f:ft==="MobileOnlyBigBox"?u:ft==="StandardBigBox"?n:!ft&&et==="BigBox"?n:ft==="NoMobileHalfPage"?k:ft==="MobileOnlyHalfPage"?nt:ft==="TabletOnlyHalfPage"?tt:ft==="NoMobileOrTabletHalfPage"?d:ft==="MobileAndTabletHalfPage"?g:ft==="StandardHalfPage"?t:!ft&&et==="HalfPage"?t:ft==="NoMobileExpando"?p:ft==="MobileOnlyExpando"?b:!ft&&et==="Expando"?w:ft==="NoMobileBillboard"?h:ft==="MobileOnlyBillboard"?v:ft==="BillboardToBigBox"?l:ft==="BillboardSports"?a:!ft&&et==="Billboard"?c:ft==="BillBoardThematique"?y:ft==="ArticleLeaderboardAboveRelated"?it:ft==="ArticleLeaderboardBetweenRelated"?rt:ft==="ArticleLeaderboardBelowRelated"?ut:void 0}};return new n});define("externals/components/AdTypeService/main",["jquery"],function(){var n=function(){var n=this;n.Unknow="Unknow";n.BigBox="BigBox";n.Billboard="Billboard";n.Expando="Expando";n.HalfPage="HalfPage";n.Leaderboard="Leaderboard"};return new n});define("externals/components/AdUnitService/main",["jquery"],function(){});define("externals/components/RetargetingService/main",["jquery"],function(){var n=function(){var n=this;n.Retargeting=function(){for(var t=document.cookie.split(/=[^;]*(?:;\s*|$)/),i=[],r,n=0;n<t.length;n++)/^src_retargeting_/.test(t[n])&&(r=t[n].split("src_retargeting_")[1],i.push(r));return i}};return new n});define("externals/components/MajorBreakingNews/main",["jquery"],function(){return function(){var n=this;this.init=function(){console.log("MajorBreakingNews is here")}}});define("externals/components/RegionFocusOnLoad/main",["jquery","externals/components/AppStateService/appStateService"],function(n,t){var i=function(){var i=this;this.init=function(){var i,r,u;t.focusOnRegionSec&&(i=$(".lineup-regionalized"),i&&i.data("component-name")=="MultipleSectionHeaderWithRegionalizedCardLineup"&&(r=i.find("section"),r.length>=t.getSecRegionNumberToTarget()&&(u=n("header .header-item-container").eq(0).height(),$("html, body").animate({scrollTop:r.eq(t.getSecRegionNumberToTarget()-1).offset().top-u-30},500,function(){r.eq(t.getSecRegionNumberToTarget()-1).find("a").eq(0).focus()}))),t.focusOnRegionSec=!1)}};return new i});define("externals/components/AppStateService/appStateService",["jquery"],function(n){var t=function(){function i(t){var r=n.grep(t,function(n){return n.id==29}),i=n.grep(t,function(n){return n.id==14})[0];return r.length==0&&t.push({id:29,codeName:"grandnord",espaceMusiqueBroadcastingStation:i.espaceMusiqueBroadcastingStation,isRelatedToAnEdition:i.isRelatedToAnEdition,lineupLink:i.lineupLink,microsoftTimeZoneId:i.microsoftTimeZoneId,premiereChaineBroadcastingStation:i.premiereChaineBroadcastingStation,selfLink:i.selfLink,televisionBroadcastingStation:i.televisionBroadcastingStation,title:"Grand-Nord"}),t}var t=this;t.neuroRegionsUrl="https://services.radio-canada.ca/neuro/v1/regions";t.neuroRegions=null;t.regionMain={};t.regionsSec=[];t.prevRegionsSec=[];t.focusOnRegionSec=!1;this.init=function(){};this.updateRegionMain=function(r){r&&(t.neuroRegions?(t.recreateRegionMain(r),n(document).trigger("AppState:Regions:Update Main")):n.ajax({url:t.neuroRegionsUrl,dataType:"json",xhrFields:{withCredentials:!1},beforeSend:function(n){window.neuroHostKey&&window.neuroHostKey!=""&&n.setRequestHeader("Authorization","Client-Key "+window.neuroHostKey)}}).done(function(u){t.neuroRegions=i(u);t.recreateRegionMain(r);n(document).trigger("AppState:Regions:Update Main")}),t.focusOnRegionSec=!0)};this.recreateRegionMain=function(i){var r=n.grep(t.neuroRegions,function(n){return n.id==i});t.regionMain.id=r[0].id;t.regionMain.title=r[0].title;t.regionMain.codeName=r[0].codeName};this.updateRegionsSecList=function(r){r&&(t.neuroRegions?(t.recreateRegionsSecList(r,!1),n(document).trigger("AppState:Regions:Update Sec")):n.ajax({url:t.neuroRegionsUrl,dataType:"json"}).done(function(u){t.neuroRegions=i(u);t.recreateRegionsSecList(r,!1);n(document).trigger("AppState:Regions:Update Sec")}),t.focusOnRegionSec=t.getSecRegionNumberToTarget()?!0:!1)};this.updatePrevRegionsSecList=function(r){r&&(t.neuroRegions?t.recreateRegionsSecList(r,!0):n.ajax({url:t.neuroRegionsUrl,dataType:"json"}).done(function(n){t.neuroRegions=i(n);t.recreateRegionsSecList(r,!0)}))};this.recreateRegionsSecList=function(i,r){r?(t.prevRegionsSec=[],$(i).each(function(i,r){var u=n.grep(t.neuroRegions,function(n){return n.id==r});t.prevRegionsSec.push({id:u[0].id,title:u[0].title,codeName:u[0].codeName})})):(t.regionsSec=[],$(i).each(function(i,r){var u=n.grep(t.neuroRegions,function(n){return n.id==r});t.regionsSec.push({id:u[0].id,title:u[0].title,codeName:u[0].codeName})}))};this.getSecRegionNumberToTarget=function(){var n=null;return t.regionsSec!=t.prevRegionsSec&&($(t.regionsSec).each(function(i){t.prevRegionsSec[i]!==undefined&&(this.id==t.prevRegionsSec[i].id||n||(n=i+1))}),t.regionsSec.length>t.prevRegionsSec.length&&!n&&(n=t.regionsSec.length)),n}};return new t});define("externals/components/ViewabilityService/main",["jquery","services/componentsService","underscore"],function(n,t,i){var r=function(){function a(t,r,u,f,e){var h=n(t),c,y,l,a;if(t==null||i.isUndefined(t)||i.isUndefined(typeof t)||h.closest("body").length==0||!h.is(":visible")||(c=h.offset(),!c))return!1;var o=c.top,s=o+h.height(),v=c.left,p=v+h.width();return i.isUndefined(u)||!i.isNumber(u)?elemHeight=s-o:(elemHeight=u,s=o+elemHeight),y=!1,o<=e&&s>=f?(l=s>=e?e:s,a=o<=f?f:o,l-a>=(s-o)*(r==0?0:r/100)):!1}function o(){for(var t,i,f,c=window.pageYOffset,v=c+n(window).height(),l=window.pageXOffset,y=l+n(window).width(),s=[],h=0;h<u.length;h++){if(t=u[h],!t)return;i=a(t.element,t.percentHeightVisible,t.elementHeightOverride,c,v,l,y)&&(t.checkIfTabIsActive?e():!0);t.fireOnHide?t.onViewPort&&!i?(t.cb(t.id,t.element),t.percentHeightVisible=t.percentHeightVisibleOld,t.onViewPort=i):!t.onViewPort&&i&&(t.onViewPort=!0,t.percentHeightVisibleOld=t.percentHeightVisible,t.percentHeightVisible=0):!t.onViewPort&&i?(t.percentHeightVisibleOld=t.percentHeightVisible,t.percentHeightVisible=0,t.onViewPort=!0,t.cb(t.id,t.element),t.fireOnce&&s.push(t.id)):t.onViewPort&&!i&&(t.percentHeightVisible=t.percentHeightVisibleOld,t.onViewPort=!1)}for(f=0;f<s.length;f++)r.unsubscribeOnViewOnceEvent(s[f]);setTimeout(function(){o()},500)}function l(){for(var t,n=0;n<f.length;n++){if(t=f[n],!t)return;t.cb(e(),t.id)}}function s(n,r,f,e,s,c,l){if(i.isBoolean(s)||(s=!1),i.isBoolean(e)||(e=!1),i.isBoolean(c)||(c=!1),!f&&i.isFunction(r)&&(f=r,r=0),r||(r=0),r>=0&&r<=100){var a=i.uniqueId("subscribeOnView");return u.push({id:a,cb:f,percentHeightVisible:r,element:n,onViewPort:!1,fireOnce:e,fireOnHide:s,checkIfTabIsActive:c,elementHeightOverride:l}),h||(t.isFinalized()?o():t.finalized(function(){o()}),h=!0),a}console.log("Unable to register to OnViewEvent of viewabilityService. percentVisible must be within 0 and 100.")}var r=this,u=[],f=[],h=!1,c=!1,e=function(){var n,t,i={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(n in i)if(n in document){t=i[n];break}return function(i){return i&&document.addEventListener(t,i),!document[n]}}();r.tabIsActive=!0;r.subscribeOnViewEvent=function(n,t,i,r){return s(n,r,t,i,!1,!0)};r.subscribeOnViewOnceEvent=function(n,t,r,u){return i.isNumber(r)||(r=0),s(n,r,t,!0,!1,!0,u)};r.subscribeOnHideEvent=function(n,t,r,u){return i.isNumber(r)||(r=0),s(n,r,t,!1,!0,!0,u)};r.unsubscribeOnHideEvent=function(n){var t=i.findIndex(u,function(t){return t.id==n});t>-1&&u.splice(t,1)};r.unsubscribeOnViewEvent=function(n){var t=i.findIndex(u,function(t){return t.id==n});t>-1&&u.splice(t,1)};r.unsubscribeOnViewOnceEvent=function(n){return r.unsubscribeOnViewEvent(n)};r.subscribeOnTabVisibilityChangedEvent=function(n){var r=i.uniqueId("subscribeOnTabStatusChanged");return f.push({id:r,cb:n}),c||(t.isFinalized()?e(l):t.finalized(function(){e(l)}),c=!0),r};r.unsubscribeOnTabVisibilityChangedEvent=function(n){var t=i.findIndex(f,function(t){return t.id==n});t>-1&&f.splice(t,1)};r.tabIsActive=function(){return e()}};return new r});define("externals/components/ViewportService/main",["jquery","underscore","services/componentsService"],function(n,t,i){var r=function(){function f(n,t){r.isExtraExtraBig=n>u.EXTRA_EXTRA_BIG_START_AT;r.isExtraBig=n>u.EXTRA_BIG_START_AT&&n<=u.EXTRA_EXTRA_BIG_START_AT;r.isBig=n>u.BIG_START_AT&&n<=u.EXTRA_BIG_START_AT;r.isMedium=n>u.MEDIUM_START_AT&&n<=u.BIG_START_AT;r.isSmall=n>u.SMALL_START_AT&&n<=u.MEDIUM_START_AT;r.isExtraSmall=n<=u.SMALL_START_AT;r.width=n;r.height=t;r.previous=r.current;r.current=r.isExtraExtraBig?"ExtraExtraBig":r.current;r.current=r.isExtraBig?"ExtraBig":r.current;r.current=r.isBig?"Big":r.current;r.current=r.isMedium?"Medium":r.current;r.current=r.isSmall?"Small":r.current;r.current=r.isExtraSmall?"ExtraSmall":r.current}function c(){var i=t.filter(e,function(n){return n.eventType===h}),n;t.each(i,function(n){try{n.fct(r)}catch(t){console.log(t)}});r.previous!==r.current&&(n=t.filter(e,function(n){return n.eventType===s}),t.each(n,function(n){try{n.fct(r)}catch(t){console.log(t)}}))}function l(u,s){var h=t.uniqueId(u+"_");return e.push({id:h,fct:s,eventType:u}),o||(i.isFinalized()?(f(window.innerWidth,window.innerHeight),n(window).resize(t.debounce(function(){f(window.innerWidth,window.innerHeight);c();r.previous=r.current},400))):i.finalized(function(){f(window.innerWidth,window.innerHeight);n(window).resize(t.debounce(function(){f(window.innerWidth,window.innerHeight);c();r.previous=r.current},400))}),o=!0),h}function a(n){var i=t.findIndex(e,function(t){return t.id==n});i>-1&&e.splice(i,1)}var e=[],o=!1,u={EXTRA_EXTRA_BIG_START_AT:2339,EXTRA_BIG_START_AT:1599,BIG_START_AT:1239,MEDIUM_START_AT:1023,SMALL_START_AT:640},s=0,h=1,r={statsViewport:"",current:"",previous:"",width:0,height:0,isExtraExtraBig:!1,isExtraBig:!1,isBig:!1,isMedium:!1,isSmall:!1,isExtraSmall:!1};this.getViewport=function(){return r};this.ensureResolveViewport=function(){f(window.innerWidth,window.innerHeight)};this.registerBreakpointReached=function(n){return l(s,n)};this.unregisterBreakpointReached=function(n){a(n)};this.registerViewportChanged=function(n){return l(h,n)};this.unregisterViewportChanged=function(n){a(n)};this.setDimensions=function(n){u=n;f(window.innerWidth,window.innerHeight)}};return new r});define("externals/components/VirtualElementService/main",["jquery"],function(){var n=function(){function t(n,t){function r(n){return n.nodeType==8&&s.test(i?n.text:n.nodeValue)}function l(n){return n.nodeType==8&&c.test(i?n.text:n.nodeValue)}function a(n,t){for(var i=n,u=1,f=[];i=i.nextSibling;){if(l(i)&&(u--,u===0))return f;f.push(i);r(i)&&u++}if(!t)throw new Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function u(n){var t=[],o,f;if(!n||(n.nodeType==8&&r(n)&&(o=(i?n.text:n.nodeValue).match(e)[1],t.push({data:o,elements:a(n,!0),virtualParentNode:n})),!n.childNodes))return t;for(f=0;f<n.childNodes.length;f++)t=t.concat(u(n.childNodes[f]));return t}t||(t="vbunker");var i=document&&document.createComment("test").text==="<!--test-->",f=i?"^<!--\\s*"+t+"(.*)-->$":"^\\s*"+t+"(.*)$",e=new RegExp(f,"i"),o=i?"^<!--\\s*"+t+"(?:\\s+([\\s\\S]+))?\\s*-->$":"^\\s*"+t+"(?:\\s+([\\s\\S]+))?\\s*$",s=new RegExp(o,"i"),h=i?"^<!--\\s*/"+t+"\\s*-->$":"^\\s*/"+t+"\\s*$",c=new RegExp(h,"i");return u(n)}var n=this;n.getVirtualNodes=t};return new n})