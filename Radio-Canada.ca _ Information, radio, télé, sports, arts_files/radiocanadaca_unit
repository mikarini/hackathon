function AkaHTML5MediaAnalytics(n){function ri(){return((1+Math.random())*65536|0).toString(16).substring(1)}function cr(){return ri()+ri()+"-"+ri()+"-"+ri()+"-"+ri()+"-"+ri()+ri()+ri()}function lr(n,i){var o,r,u,f,e;if(n!=null&&n!=""){o=/^(\w+?:)?\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/;try{r=o.exec(n);i.protocol=typeof r[1]=="undefined"?location.protocol:r[1];i.hostName=r[2];i.port=r[3]?r[3]:"80";i.path=r[4];u=i.path.split("/");f=u.length;i.streamName=u[f-1];e=i.streamName.toLowerCase();(e.indexOf(".m3u")!=-1||e.indexOf("manifest")!=-1||e.indexOf(".f4m")!=-1||e.indexOf(".mpd")!=-1)&&f>=3&&(i.streamName=u[f-2]+"/"+u[f-1]);i.hash=r[5]?r[5]:"";i.search=r[6]?r[6]:"";i.host=i.hostName+":"+i.port}catch(s){t("Exception,  parseStreamUrl :"+s)}}}function b(n){return n!=null?n:(new Date).getTime()}function ao(n){var t=b(n);return t-lo}function te(){this.aisRetries=0;this.aisRequestLimit=3;this.aisRequestInterval=3e4;this.requestFailed=!1}function kr(){var i=!1;try{if(window!==window.parent){var n={},t={},u=document.URL,r=null;document&&document.referrer&&(r=document.referrer);u!=null&&lr(u,n);r!=null&&lr(r,t);n.port===t.port&&n.protocol===t.protocol&&n.hostName===t.hostName&&(i=!0)}else i=!0}catch(f){}return i}function ie(){w.windowOpened||(w.pageURLCsmaDebug==1||w.configURLCsmaDebug==1||w.configDebug==1)&&(v=!0,kf=window.open("http://media-analytics.akamaized.net/library/debug/index.html","","status=0,toolbar=0,location=0,menubar=0,directories=0,height=680,width=1200"),ko())}function ko(){var n,t;if(!ti&&(n=document.getElementsByTagName("script"),n.length))for(i=0;i<n.length;i++)if(n[i].src!=null&&(t=n[i].src,t.indexOf("akamaihtml5-min.js")!=-1||t.indexOf("csma.js")!=-1)){ti=t;break}}function go(){try{var i=u.beaconUrl.toLowerCase(),n="";i.indexOf(".edgesuite.net/")==-1&&i.indexOf(".edgekey.net/")==-1&&(n="Beacons sent to incorrect domain : "+i,n+="<ul style='list-style-type:circle;margin:0'>",n+="<li>We have identified that the beacons are not sent to an Akamai Domain.<\/li>",n+="<li>Kindly use the proper Beacon XML path that is provided in SOLA Anlaytics UI while provisioning.<\/li><\/ul>",t(n,"ERROR"))}catch(r){}}function ns(){var n,i;try{n="";for(i in gi)gi[i]&&(i in e||(n?n+=", "+i:n=i));n&&(n="Following dimensons have not being set : "+n,n+="<ul style='list-style-type:circle;margin:0'>",n+="<li>Please refer 'Set Custom Data' section in Integration guide for more details.<\/li><\/ul>",t(n,"INTEGRATION"))}catch(r){}}function li(n,t,i,r){po||is(n,t,i,r)}function is(n,i,r,u){n&&t("XML Request: isXDomainRequest = "+pi+":::funcCallback =  :url: "+i);var f;if(i!=null&&i!="undefined"&&i!="")try{if(pi){f=new XDomainRequest;n&&(f.onprogress=function(){},f.ontimeout=function(){},f.onload=function(){var r,i;if(t("XML Request : xmlClient.onload"),window.DOMParser){var u=new DOMParser,r=u.parseFromString(f.responseText,"text/xml"),i={};i.status="200";i.readyState="4";i.responseXML=r;i.responseText=f.responseText;n(i)}else r=new ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(f.responseText),i={},i.status="200",i.readyState="4",i.responseXML=r,n(i)},f.onerror=function(){t("XML Request : Error, loading xml. url = :"+i);i.indexOf("serverIp")!=-1&&(wi=!0);i.indexOf("protocol-info")!=-1&&(at.fastTCPFailed=!0)});f.open("GET",i,!r);try{u?setTimeout(function(){f.send()},100):f.send(null)}catch(e){try{f.send(null)}catch(o){}}}else f=new XMLHttpRequest,f.open("GET",i,!r),n&&(f.overrideMimeType&&f.overrideMimeType("text/xml"),f.onreadystatechange=function(){t("XML Request : xmlClient.onreadystatechange");n(f)}),f.send(null)}catch(e){t("Exception,  XML Request for url :"+i+",Exception:"+e)}}function rs(n){var yt=n.readyState,pt=n.status,b,r,ft,k,kt,p,et,l,ot,i,st,ri,nt,g,tt,it,v,rt,ut,ct,lt,vt,o;t("readConfig: readyState = "+yt+":::status = "+pt);try{if(yt==4&&pt==200&&(ul(),b=n.responseXML,b)){for(r=b.documentElement?b.documentElement:b,ft=r.getElementsByTagName("dataMetrics"),k=0;k<ft.length;++k){var wt=ft[k],bt=wt.parentNode,a=bt.nodeName;for(wo[k]=a,kt=y[a]=[],p=bt.getAttribute("eventCode"),p&&(lu[a]=p),et=wt.getElementsByTagName("data"),o=0;o<et.length;++o){l=et[o];a=l.getAttribute("name");ot=l.getAttribute("key");p=l.getAttribute("value");var dt=l.getAttribute("sendOnce"),gt=l.getAttribute("fallback"),ni=l.getAttribute("size"),ti=l.getAttribute("regExpJS"),ii=l.getAttribute("expiry"),h={};h.name=a;h.key=ot;a in gi?gi[a]=!0:ot.indexOf("_cd_")!=-1&&(gi[a]=!0);p&&(h.value=p);dt&&(h.isSent=!1,h.sendOnce=dt);gt&&(h.fallback=gt);ni&&(h.size=ni);ti&&(h.regExpJS=ti);ii&&(h.expiryDuration=parseInt(parseInt(ii)/1440));kt.push(h)}}if(w.configDebug=parseInt(r.getAttribute("debug")),w.configDebug!=1&&(w.configDebug=0),w.configDebug==1&&ie(),r.getElementsByTagName("isActive")[0]&&r.getElementsByTagName("isActive")[0].childNodes[0]&&(ne=r.getElementsByTagName("isActive")[0].childNodes[0].nodeValue),yr.beaconId=r.getElementsByTagName("beaconId")[0].childNodes[0].nodeValue,yr.beaconVersion=r.getElementsByTagName("beaconVersion")[0].childNodes[0].nodeValue,i=r.getElementsByTagName("logTo")[0],u.logType=i.getAttribute("logType"),u.logType||(u.logType="relative"),u.logInterval=i.getAttribute("logInterval")*1e3,u.logInterval||(u.loginterval=3e5),u.heartBeatInterval=i.getAttribute("heartBeatInterval")*1e3,u.heartBeatInterval||(u.heartBeatInterval=6e4),u.secondaryLogTime=i.getAttribute("secondaryLogTime")*1e3,u.secondaryLogTime||(u.secondaryLogTime=15e3),u.rebufferDurationOutlier=i.getAttribute("rebufferDurationOutlier")*1e3,u.rebufferDurationOutlier||(u.rebufferDurationOutlier=6e5),u.isSessionWithRebufferLimit=i.getAttribute("isSessionWithRebufferLimit"),u.isSessionWithRebufferLimit||(u.isSessionWithRebufferLimit=500),u.fastTCPEnabled=i.getAttribute("fastTCPEnabled"),u.fastTCPEnabled||(u.fastTCPEnabled=0),u.fastTCPEnabled==1&&(at.fastTCPEnabled=!0),u.aisRequestLimit=i.getAttribute("aisRequestLimit"),u.aisRequestLimit||(u.aisRequestLimit=3),f&&(f.aisRequestLimit=u.aisRequestLimit),u.aisRequestInterval=i.getAttribute("aisRequestInterval")*1e3,u.aisRequestInterval||(u.aisRequestInterval=3e4),f&&(f.aisRequestInterval=u.aisRequestInterval),u.startupTimeOutlierLimit=i.getAttribute("startupTimeOutlierLimit")*1e3,u.startupTimeOutlierLimit||(u.startupTimeOutlierLimit=6e5),u.visitTimeout=i.getAttribute("visitTimeout")*6e4,u.visitTimeout||(u.visitTimeout=36e5),u.urlParamSeparator=i.getAttribute("urlParamSeparator"),u.urlParamSeparator||(u.urlParamSeparator="~"),u.encodedParamSeparator=i.getAttribute("encodedParamSeparator"),u.encodedParamSeparator||(u.encodedParamSeparator="*@*"),u.initBrowserCloseTime=i.getAttribute("initBrowserCloseTime"),u.initBrowserCloseTime||(u.initBrowserCloseTime=9e5),u.seekThreshold=i.getAttribute("seekThreshold")*1e3,u.seekThreshold||(u.seekThreshold=2e3),st=i.getAttribute("delayTimer"),st&&(d.time=st),ri=i.getAttribute("disableDelay"),ri==1&&(d.enabled=!1),nt=i.getElementsByTagName("host")[0].childNodes,nt.length>1)for(u.beaconUrl="",o=0;o<nt.length;o++)u.beaconUrl+=nt[o].nodeValue;else u.beaconUrl=i.getElementsByTagName("host")[0].childNodes[0].nodeValue;u.beaconUrl.indexOf("http://")==-1&&u.beaconUrl.indexOf("https://")==-1&&(u.beaconUrl="http://"+u.beaconUrl);u.beaconUrl+=i.getElementsByTagName("path")[0].childNodes[0].nodeValue;u.maxLogLineLength=i.getAttribute("maxLogLineLength");u.maxLogLineLength||(u.maxLogLineLength=2048);u.maxLogLineLength-=u.beaconUrl.length;u.logVersion="2.0";u.formatVersion="1.1";i.getElementsByTagName("formatVersion")&&i.getElementsByTagName("formatVersion")[0]&&i.getElementsByTagName("formatVersion")[0].childNodes[0]&&(u.formatVersion=i.getElementsByTagName("formatVersion")[0].childNodes[0].nodeValue);u.useKey=parseInt(r.getElementsByTagName("statistics")[0].getAttribute("useKey"));g=r.getElementsByTagName("feedback")[0];g!=null&&g!==""&&(s.shouldSendFLine=!0,s.limit=g.getAttribute("limit"),s.limit||(s.limit=3),s.socialShareLimit=g.getAttribute("socialShareLimit"),s.socialShareLimit||(s.socialShareLimit=1));tt=r.getElementsByTagName("security")[0];tt!=null&&tt!==""&&(it=tt.getElementsByTagName("ViewerDiagnostics")[0],it!=null&&it!==""&&(c.viewerDiagnostics={},v=it.getElementsByTagName("salt")[0],v!=null&&v!==""&&(c.viewerDiagnostics.salt={},rt=v.getAttribute("value"),ut=v.getAttribute("version"),rt!=null&&rt!==""?(c.viewerDiagnostics.salt.value=rt,c.viewerDiagnosticsEnabled=!0,ut!=null&&ut!==""&&(c.viewerDiagnostics.salt.version=ut),c.viewerDiagnostics.salt.bytes=v.getAttribute("bytes")*2,c.viewerDiagnostics.salt.bytes||(c.viewerDiagnostics.salt.bytes=32),c.viewerDiagnostics.salt.iterations=v.getAttribute("iterations"),c.viewerDiagnostics.salt.iterations||(c.viewerDiagnostics.salt.iterations=50)):c.viewerDiagnosticsEnabled=!1)));ct=r.getElementsByTagName("bucketInfo")[0];pr.bucketLength=ct.getElementsByTagName("bucketLength")[0].childNodes[0].nodeValue;pr.bucketCount=ct.getElementsByTagName("bucketCount")[0].childNodes[0].nodeValue;ui=!0;for(lt in e)try{lt.substring(0,4)=="_cd_"&&ue(lt)}catch(fi){}for(us(),ke(),go(),vt=r.getElementsByTagName("match"),o=0;o<vt.length;o++){match=vt[o];try{parentKey=match.parentNode.parentNode.getAttribute("name");ht[parentKey]||(ht[parentKey]={});ht[parentKey][match.getAttribute("key")]={type:match.getAttribute("type"),name:match.getAttribute("name"),value:match.getAttribute("value")}}catch(fi){t(fi)}}fs();es();os()}}catch(fi){t("Exception,  readConfig :"+fi)}}function ue(n){var i=y.common,t;i!=null&&(t={},t.name=n,t.key=n,i.push(t))}function us(){var t,n;try{for(t=y.split,n=0;n<t.length;n++)tr[t[n].name]=t[n].key}catch(i){}}function fs(){var n={},f,r,u,i,e;try{if(ht.bitRateBucketTimes){for(u in ht.bitRateBucketTimes)if(n=ht.bitRateBucketTimes[u],n)if(n.key=u,n.value)for(f=n.value,r=f.split(";"),i=0;i<r.length;i++)r[i].indexOf("min:")!=-1?n.min=parseInt(r[i].split(":")[1]):r[i].indexOf("max:")!=-1&&(n.max=parseInt(r[i].split(":")[1]));else n.category="first"}else ht.bitRateBucketTimes={},n=ht.bitRateBucketTimes,n.U={key:"U",type:"range"},n.S={key:"S",max:1500,value:"max:1500",type:"range"},n.Q={key:"Q",min:1500,max:2500,value:"min:1500;max:2500",type:"range"},n.D={key:"D",min:2500,value:"min:2500",type:"range"};nt.bitRateBucketMap={};for(e in ht.bitRateBucketTimes)nt.bitRateBucketMap[e]=0}catch(o){t("Exception, find bit rate match rules :"+o)}}function es(){if(t("fillVideoWithConfig function"),r&&r.akamai){var n=r.akamai;n.populateMetricsFromConfiguration();n.isSLineSent&&ee(r);c.viewerDiagnosticsEnabled&&nu(n);n.cdn=dr(n)}}function os(){var i,n;t("sendStoredBeacons: number of beacons to be sent = "+nr.length);try{for(i=r.akamai;nr.length>0;)n=nr.shift(),t("readConfig: sending beacon event code = "+n.code),n.element.populateMetricsFromConfiguration(),n.element.xViewerId=ct.xViewerId,n.element.xViewerIdVersion=ct.xViewerIdVersion,n.element.cdn=dr(n.element),tu(n.element,n.code,n.synch)}catch(u){t("Exception,  sendStoredBeacons"+u)}}function dr(n){var i,u,f,r;if(e.cdn)return e.cdn;try{for(key in ht.cdn)if(i=ht.cdn[key],i&&i.name&&i.value)for(u=n[i.name],f=i.value.split(","),r=0;r<f.length;r++)if(u&&u.indexOf(f[r].trim())!=-1)return key}catch(o){t("Exception Get CDN"+o.message)}}function fi(n){var i="",r,t;return n.indexOf("://")!=-1&&(t=n.indexOf("://"),n=n.substring(t+3)),n.indexOf("/")!=-1?(t=n.indexOf("/"),n.indexOf("?")!=-1&&(r=n.indexOf("?"),t=t<r?t:r),i=n.substring(0,t)):n.indexOf("?")!=-1?(t=n.indexOf("?"),i=n.substring(0,t)):i=n,i}function bi(n,t,i,r){var f=n.currentState,u=n.seekObject;r=="S"&&u.seekStartStreamTime==-1?(u.seekStartEpochTime=f.timeUpdateClockTime,u.seekEndEpochTime=t,u.seekStartStreamTime=f.timeUpdateStreamTime,u.seekEndStreamTime=i):r=="S"&&u.seekEndStreamTime==f.timeUpdateStreamTime?(u.seekEndEpochTime=t,u.seekEndStreamTime=i):u.seekStartStreamTime!=-1&&(n.seekTime+=u.seekEndEpochTime-u.seekStartEpochTime,n.seekIntervalsAsString!="-"?n.seekIntervalsAsString+=","+u.seekStartStreamTime+":"+u.seekEndStreamTime:n.seekIntervalsAsString=u.seekStartStreamTime+":"+u.seekEndStreamTime,n.pauseSeekSession!="-"?n.pauseSeekSession+=",S("+u.seekStartStreamTime+":"+(u.seekStartEpochTime-n.startTimer)+"-"+u.seekEndStreamTime+":"+(u.seekEndEpochTime-n.startTimer)+")":n.pauseSeekSession="S("+u.seekStartStreamTime+":"+(u.seekStartEpochTime-n.startTimer)+"-"+u.seekEndStreamTime+":"+(u.seekEndEpochTime-n.startTimer)+")",++n.seekCount,n.seekObject={seekStartEpochTime:-1,seekEndEpochTime:-1,seekStartStreamTime:-1,seekEndStreamTime:-1})}function gr(n,i){t("set RebufferSession : curTime = "+i);try{var f=Math.round(i-n.lastLogTime-n.curRebufferTime),r=Math.round(n.curRebufferTime);n.currRebufferEndEpoch=Math.round(i);n.currRebufferStartEpoch=Math.round(i-r);r>u.isSessionWithRebufferLimit&&(n.isSessionWithRebuffer=1);n.rebufferSession=n.rebufferSession?n.rebufferSession+";"+f+":"+r:f+":"+r}catch(e){t("Error, set RebufferSession"+e.message)}}function ss(n,i){var e,o,u,f,r,s;if(i=="B"){if(u="",n.rebufferSession){for(f=n.rebufferSession.split(";"),r=0;r<f.length;r++)s=f[r].split(":"),u+=r==0?"0:"+s[1]:f[r],r!=f.length-1&&(u+=";");t("newRebufferSession = "+u);n.rebufferSession=u}o=1;e=0}else o=0,e=n.lastRebufferEndEpoch>0?n.firstRebufferStartEpoch-n.lastRebufferEndEpoch:-1;n.rebufferSession=o+":"+e+";"+n.rebufferSession;n.lastRebufferEndEpoch=n.currRebufferEndEpoch}function vu(n,t){var i=1,f,r;if(n.rebufferSessionH=null,n.rebufferSessionArrayHLine&&(!n.rebufferSessionArrayHLine||n.rebufferSessionArrayHLine.length!==0)){while(n.rebufferSessionArrayHLine[i]&&t-n.rebufferSessionArrayHLine[i]>2*u.heartBeatInterval)n.rebufferSessionArrayHLine.shift(),n.rebufferSessionArrayHLine.shift(),n.isSessionWithRebufferH==1&&(n.sendIsSessionWithRebufferH=0,n.isSessionWithRebufferH=null);while(n.rebufferSessionArrayHLine[i])r=t-n.rebufferSessionArrayHLine[i-1],f=n.rebufferSessionArrayHLine[i]-n.rebufferSessionArrayHLine[i-1],n.sendIsSessionWithRebufferH==1&&f>u.isSessionWithRebufferLimit&&(n.isSessionWithRebufferH=1),n.rebufferSessionH=n.rebufferSessionH?n.rebufferSessionH+";"+r+":"+f:r+":"+f,i=i+2;i=i-1;n.rebufferSessionArrayHLine[i]&&(r=t-n.rebufferSessionArrayHLine[i],n.sendIsSessionWithRebufferH==1&&r>u.isSessionWithRebufferLimit&&(n.isSessionWithRebufferH=1),n.rebufferSessionH=n.rebufferSessionH?n.rebufferSessionH+";"+r+":"+r:r+":"+r)}}function hs(n){return e.deliveryType?e.deliveryType:n.deliveryType}function cs(n){var f=n.readyState,r=n.status,i,u;(parseInt(r/100)===4||r===0)&&(t("readServerIp: serverIpFailed request falied as status is ,in 400 series"),wi=!0);f==4&&r==200&&(i=n.responseXML,i&&(u=i.documentElement?i.documentElement:i,ir.serverip=gf?u.getElementsByTagName("ip")[0].childNodes[0].nodeValue:u.getElementsByTagName("serverip")[0].childNodes[0].nodeValue,t("readServerIp : diagnostics.serverip =  "+ir.serverip)))}function ls(n){var i=n.akamai,r;if(wi){t("getting ServerIp : serverIp request failed");return}if(i.hostName)try{r=null;i.protocol&&(i.protocol.indexOf("rtmp")!=-1?(r="http://"+i.hostName+"/fcs/ident",gf=!0):r=i.protocol+"//"+i.hostName+"/serverip",t("getting ServerIp : serverIpPath = "+r),li(cs,r,!1,!0))}catch(u){wi=!0;t("getting ServerIp: error, xmphttprequest")}}function as(n){var r="",h=n.readyState,s=n.status,u,o;(parseInt(s/100)===4||s===0)&&(t("read fast tcp: fast tcp Failed request falied as status is 400 series"),at.fastTCPFailed=!0);try{if(h==4&&s==200&&(u=n.responseXML,u&&(t("populating fast tcp"),o=u.documentElement?u.documentElement:u,o&&o.firstElementChild))){var i=o.firstElementChild,f="",e="";if(i)for(i.hasAttribute("key")&&(e=i.getAttribute("key"),f=i.childNodes[0].nodeValue,r=e+":"+f);i.nextElementSibling;)i=i.nextElementSibling,i.hasAttribute("key")&&(e=i.getAttribute("key"),f=i.childNodes[0].nodeValue,r?r+=","+e+":"+f:r=e+":"+f)}r&&(at.ftcp=r)}catch(c){t("Exception,  read fast tcp"+c)}}function vs(n){var i=n.akamai,r;if(at.fastTCPFailed){t("getting fast tcp: request failed");return}if(i.hostName)try{r=i.protocol+"//"+i.hostName+"/protocol-info";t("getting fast tcp : fastTCPPath = "+r);li(as,r,!1,!0)}catch(u){at.fastTCPFailed=!0;t("getting ServerIp: error, xmphttprequest")}}function yu(n,i){try{var r=n.akamai;u&&u.logInterval&&!i&&(r.fastTCPServerIpTimer=ft(yu,u.logInterval,[n]));wi||ls(n);!at.fastTCPFailed&&at.fastTCPEnabled&&vs(n);wi&&at.fastTCPFailed&&l(r.fastTCPServerIpTimer)}catch(f){t("Exception get fast tcp server ip")}}function pu(n){return n.objectBased?n.errorReason?n.errorReason:uu[0]:n.externalError?n.externalError:n.error&&n.error.code?uu[n.error.code]:uu[0]}function fe(n){var t="Play.End.Detected";return n.objectBased&&n.endReason&&(t=n.endReason),t}function wu(){ct.viewerId=e.viewerId?e.viewerId:null;ct.viewerDiagnosticsId=e.viewerDiagnosticsId?e.viewerDiagnosticsId:e.viewerId?e.viewerId:null}function ys(){return cr()}function ps(){var n=ct.viewerId;if(n!="-"){if(!n)try{if(window&&window.localStorage&&window.localStorage.getItem("akamai_clientId"))n=window.localStorage.getItem("akamai_clientId");else try{n=cr();window&&window.localStorage&&window.localStorage.setItem("akamai_clientId",n)}catch(i){t("window.localStorage Exception :"+i)}}catch(r){t("Exception,  getting viewerId"+r);n=cr()}return n}}function nu(n,i){var r=null,u;ct&&ct.viewerDiagnosticsId&&(r=ct.viewerDiagnosticsId);var f="",e=50,o=32;r&&r!="-"&&(i&&n.xViewerId||(ws(n),t("get Viewer DiagnosticsID"),r=encodeURIComponent(r),c&&c.viewerDiagnostics&&c.viewerDiagnostics.salt&&c.viewerDiagnostics.salt.value&&(f=c.viewerDiagnostics.salt.value),c&&c.viewerDiagnostics&&c.viewerDiagnostics.salt&&c.viewerDiagnostics.salt.iterations&&(e=c.viewerDiagnostics.salt.iterations),c&&c.viewerDiagnostics&&c.viewerDiagnostics.salt&&c.viewerDiagnostics.salt.bytes&&(o=c.viewerDiagnostics.salt.bytes),u=hi.PBKDF2(r,f,{keySize:o/8,iterations:e}),n.xViewerId=u,ct.xViewerId=u))}function ws(n){var t=null;c&&c.viewerDiagnostics&&c.viewerDiagnostics.salt&&c.viewerDiagnostics.salt.version&&(t=c.viewerDiagnostics.salt.version);n.xViewerIdVersion=t;ct.xViewerIdVersion=t}function bs(n,t,i){var r;t!="viewerId"&&t!="clientId"&&t!="viewerDiagnosticsId"&&(i&&(e[i]?r=e[i]:n[i]&&(r=n[i])),n[t]=r)}function lt(n,i,r){r==null&&(r="");try{if(i==""||i==null)return;n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var f=new RegExp("[\\?&]"+n+"=([^&#]*)"),u=f.exec(i);return u==null?r:u[1]}catch(e){return t("Exception,  getValueFromQueryString :"+e),r}}function ks(n){var t=n.akamai;l(t.fastTCPServerIpTimer);hr&&yu(n)}function ft(n,i,r){try{var u=null;return u=setTimeout(function(){n.apply(undefined,r)},i)}catch(f){t("Exception, set window timeout:"+f);try{u=window.setTimeout(function(){n.apply(undefined,r)},i)}catch(f){return null}return u}}function l(n){try{clearTimeout(n)}catch(i){t("Exception clear window timeout:"+i);try{window.clearTimeout(n)}catch(i){}}}function ee(n){t("startBeaconTImer");var i=n.akamai;i.areTimerStarted||(t("startBeaconTimer: starting beacon timer"),i.firstPLineTimer=ft(gs,u.secondaryLogTime,[n]),i.hLineTimer=ft(he,u.heartBeatInterval,[n]),i.fastTCPServerIpTimer=ft(ks,u.logInterval-5e3,[n]),n.objectBased&&(au=500),i.pollingTimer=ft(so,au,[n]),i.areTimerStarted=!0)}function bu(n){var t=n.akamai;t&&(t.hLineTimer&&l(t.hLineTimer),t.pollingTimer&&l(t.pollingTimer),t.fastTCPServerIpTimer&&l(t.fastTCPServerIpTimer),t.firstPLineTimer&&l(t.firstPLineTimer),f&&f.retryTimer&&l(f.retryTimer))}function oe(n){var t=n.akamai,i,r,u,f,e;s.akamai={};s.dataSent={};t.areTimerStarted=!1;t.isCLineSent=!1;t.isELineSent=!1;t.lastRebufferEndEpoch=0;t.connectTime=0;d.browserClose=!1;t.totalPlayClockTime=t.totalStreamTime=t.totalRebufferCount=t.totalRebufferTime=0;t.isVisitEnd=0;t.sequenceId="0";t.wasPutToSleep=!1;t.chasingSleep=null;t.continuousRebufferDuration=0;vf(n);t.attemptId=t.sessionId=ys(t);wu();t.clientId=t.viewerId=ps(t);c.viewerDiagnosticsEnabled&&nu(t);t.lastPLineSentTime=t.hLineSentCount=t.lastSLineSentTime=t.lastHLineSentTime=0;t.lastHTime=0;oi("HTML_LastCLineTime");g=[0,0,0,0,0,0,0,0,0,0,0,0];i=parseInt(k("HTML_VisitCountCookie"));i&&i!=""||(t.isVisitStart=1,i=0,ut("HTML_VisitCountCookie",i));r=parseInt(k("HTML_isPlayingCount"));r&&r!=""||(r=0,ut("HTML_isPlayingCount",r));u=k("HTML_VisitValueCookie");u&&u!=""||ut("HTML_VisitValueCookie","0|0|0|0|0|0|0|0|0|0|0|0|0");f=k("HTML_BitRateBucketCsv");f&&f!=""||ut("HTML_BitRateBucketCsv","0,0,0,0,0,0,0,0");e=k(ru);e&&e!=""?t.browserSessionId=t.visitId=k(ru):(t.browserSessionId=t.visitId=cr(),ut(ru,t.visitId))}function se(n,t){var i=n.akamai,u,r;i.isILineSent=!0;++i.iLineCount;i.lastSLineSentTime=t;i.iLineCount==1&&(u=parseInt(k("HTML_VisitCountCookie")),++u,ut("HTML_VisitCountCookie",u),ge=t);r=parseInt(k("HTML_VisitIntervalStartTime"));r&&r!=" "||(r=t,ut("HTML_VisitIntervalStartTime",r));g[0]=1;i.sendVLine=!0}function ds(n,i){var u,f,e;try{u=r.akamai;u.clearVisitTimeoutId&&l(u.clearVisitTimeoutId);oe(r);u.logInterval="0";ui?tu(u,"init",n):(f=iu(u),e={element:f,code:"init",synch:n},nr.push(e));u.lastLogTime=i;++u.sequenceId;se(r,i);u.currentState.state=o.init;t(": sendBeaconILineAd : Setting state to init");u.currentState.timeUpdateClockTime=i;u.startTimer=i}catch(s){t("Exception, send I line AD:"+s)}}function gs(n){var t=b(),i=n.akamai;i.lastPLineSentTime=t;gt(n,"playing",!1,t)}function nh(n,i,r,f){var e,l,o,h,s;try{if(t("start of the session function"),e=n.akamai,!e||!e.firstTimePlay)return;e.adLoadTime&&e.adLoadTime>e.iLineSentTime?(e.startupTime=e.adLoadTime-e.iLineSentTime,e.adEndTime&&(e.startupTime+=r-e.adEndTime)):e.startupTime=r-e.iLineSentTime;e.startupTime>u.startupTimeOutlierLimit&&(e.outlierStartupTime=e.startupTime,e.startupTime=0);e.bufferingTime=e.startupTime;l={type:"startup",startTime:0,endTime:e.startupTime};vf(n);o=ki(n);lr(o,e);e.streamUrl=o;o!=null&&o!=""&&(/.m3u8$/.exec(o)?(e.format="L",e.playerFormat=e.playerType+":"+e.format):(e.format="P",e.playerFormat=e.playerType+":"+e.format,e.deliveryType="O"),t("Creating hls stream"),e.stream=new hlsStream);h=StreamTypeDetector(o,hu,su,function(n){n&&(t("detected stream type = "+n.getStreamType()),t("Received steam type = "+n.getStreamType()+"\n Stream URL = "+n.getStreamURL()+"\n Stream Name = "+n.getStreamName()+"\n Stream Length = "+n.getStreamLength()+"\n Stream Format = "+n.getStreamFormat()+"\n Stream Delivery Type = "+n.getDeliveryType()),e.streamUrl=n.getStreamURL(),e.format=n.getStreamFormat(),e.deliveryType=n.getDeliveryType(),n.getStreamLength()&&(e.streamLength=n.getStreamLength()),e.streamName=n.getStreamName())});h!==streamError.NoError&&t("failed to detect stream. May be we do not have sufficient information");e.streamLength=parseInt(er(n));e.played=[];s=parseInt(k("HTML_isPlayingCount"));s=s+1;ut("HTML_isPlayingCount",s);wu();c.viewerDiagnosticsEnabled&&nu(e,!0);e.lastSLineSentTime=r;gt(n,"playStart",!1,r);e.rebufferSessionArrayHLine=[];e.isSLineSent=!0;ui&&ee(n);g[1]=1;e.isFirstTitle=null;e.isVisitStart=null;e.firstTimePlay=!1;e.initPlayed(f)}catch(a){t("Exception, send S line:"+a)}}function th(n,i,r){try{t("send beacon I line");var u=n.akamai;u.cdn=dr(u);hr&&yu(n,!0);u.iLineSentTime||(u.iLineSentTime=r);n.videoWidth&&n.videoHeight&&(u.videoSize=n.videoWidth+"x"+n.videoHeight);u.isILineSent||(oe(n),gt(n,"init",i,r),se(n,r),u.clearVisitTimeoutId&&l(u.clearVisitTimeoutId))}catch(f){t("Exception send I line:"+f)}}function he(n){var t=n.akamai,i;t.hLineTimer=ft(he,u.heartBeatInterval,[n]);i=b();gt(n,"heartBeat",!1,i);t.lastHLineSentTime=i;t.hLineSentCount++;t.hLineSentCount%(u.logInterval/u.heartBeatInterval)==0&&(gt(n,"playing",!1,i),t.lastPLineSentTime=i,t.continuousRebufferDuration>=u.rebufferDurationOutlier&&(r.objectBased?(r.errorReason="Error.Continous.Rebuffer",fu(r)):akamaiHandleError("Error.Continous.Rebuffer")))}function ku(n,i,r,u){var f,e,o;try{t("sendBeaconCLine : endReasonCode = "+i);f=n.akamai;f.endReasonCode=i;gt(n,"complete",r,u);e=parseInt(k("HTML_isPlayingCount"));e=e-1;ut("HTML_isPlayingCount",e);f.isVisitStart=null;f.isCLineSent=!0;f.firstTimePlay=!0;bu(n);o=u;ut("HTML_LastCLineTime",o)}catch(s){t("Exception, send beacon C Line:"+s)}}function ce(n,i,r,u){var f,e,o;try{f=n.akamai;f.errorCode=i?i:"UNKNOWN";t("sendBeaconELine : errorCode = "+f.errorCode);g[3]=1;f.sequenceId==1&&(g[11]=1,wu(),c.viewerDiagnosticsEnabled&&nu(f,!0));f.playerState="E";gt(n,"error",r,u);f.isSLineSent&&(e=parseInt(k("HTML_isPlayingCount")),e=e-1,ut("HTML_isPlayingCount",e));f.isELineSent=!0;f.isVisitStart=null;f.firstTimePlay=!0;bu(n);o=u;ye(f);ut("HTML_LastCLineTime",o)}catch(s){t("Exception, send beacon E line:"+s)}}function ih(n,i){var u,f,e;try{t("sendBeaconVLine");u=n.akamai;u.isVisitEnd=1;fh(u);f=parseInt(k("HTML_VisitIntervalStartTime"));u.visitMaxPersistentBitRateBucket=eh();u.visitInterval=i-f;(f==""||f==null||isNaN(f))&&(u.visitInterval=i-ge);u.sessionId=null;u.attemptId=null;u.sequenceId=null;oi("HTML_BitRateBucketCsv");oi("HTML_VisitValueCookie");oi("HTML_VisitIntervalStartTime");oi("HTML_LastCLineTime");oi("HTML_VisitCountCookie");oi("HTML_isPlayingCount");oi(ru);gt(n,"visit",!0,i);s.akamai={};s.dataSent={};t("sendBeaconVLine: beacon sent");u.sendVLine=!1;u.iLineCount=0;l(n.akamai.clearVisitTimeoutId);e=u.isPlaylist;n.akamai=new ef(r);typeof akamaiBCVideoObject!="undefined"&&(n.akamai.isPlaylist=e)}catch(o){t("Exception, send beacon V line:"+o)}}function rh(){for(var n,u,f=k("HTML_VisitValueCookie"),i=f.split("|"),r=0;r<g.length;r++)uf[r]+=g[r];for(t("setVisitValueCookie :: visit values saved"+uf),n=0;n<i.length;n++)i[n]=parseInt(i[n])+g[n];u=i.join("|");ut("HTML_VisitValueCookie",u)}function uh(){var i;try{var r=k("HTML_BitRateBucketCsv"),u=ff.split(","),f=r.split(","),n=0;for(i in nt.bitRatePlayTime)i=parseInt(i),n=parseInt((i-1)/5e5),n>7&&(n=7),f[n]=parseInt(f[n])+nt.bitRatePlayTime[i],u[n]=parseInt(u[n])+nt.bitRatePlayTime[i];r=f.join(",");ut("HTML_BitRateBucketCsv",r);ff=u.join(",")}catch(e){t("Exception set bit rate bucketcsv"+e)}}function le(n){t("entered setVisitValueParameters");g[4]=n.totalPlayClockTime;g[5]=n.totalPlayStreamTime;g[6]=n.totalRebufferCount;g[7]=n.totalRebufferTime;g[8]=n.totalAdPlayClockTime;g[9]=n.totalAdStartCount;g[10]=n.totalAdAbandonCount;n.totalPlayClockTime>5e3&&(g[2]=1);uh();rh()}function fh(n){var u,f,i;try{var o=k("HTML_VisitValueCookie"),r=o.split("|"),e=!0;for((r==""||r==null)&&(e=!1),u=[],u=e?r:uf,f=["visitAttempts","visitPlays","visitViews","visitErrors","visitPlayClockTime","visitPlayStreamTime","visitRebufferCount","visitRebufferTime","visitAdPlayClockTime","visitAdStartCount","visitAdAbandonCount","visitStartupErrors"],i=0;i<f.length;i++)n[f[i]]=u[i]}catch(s){t("Exception get visit value  cookie : "+s)}}function eh(){var r,u,i;try{var e=k("HTML_BitRateBucketCsv"),n=e.split(","),f=!1;for((n==null||n=="")&&(n=ff.split(",")),n[0]=parseInt(n[0]),r="00",u=n[0],i=0;i<n.length;i++)n[i]=parseInt(n[i]),n[i]>0&&(f=!0),u<n[i]&&(u=n[i],r="0"+i);if(f)return r}catch(o){t("Exception, get visit max bit rate bucket"+o)}}function du(n){try{var i=encodeURI(n);return i.replace(/#/g,"%23")}catch(r){return t("Exception,  encoding beacon"),n}}function ae(){try{if(t("send delayed beacon"),d.queue&&d.queue.length>0){var n=d.queue.shift();d.timer=ft(ae,d.time,[]);t("Beacon ::"+n.url,"Beacon");li(null,n.url,n.isSync);v&&yi.processLogs({api:"reportBeaconData",value:n.url})}else t("send delayed beacon : clear the timer"),l(d.timer),d.timer=null}catch(i){t(i)}}function gu(n,i,r){var e,f;if(ne==0){t("put beacon On Wire, dont send beacon isACtive is zero");return}e=u.beaconUrl+"?"+n;try{if(d.enabled)if(f={},d.browserClose){if(d.timer&&l(d.timer),d.queue&&d.queue.length>0)while(d.queue.length>0)f=d.queue.shift(),t("put beacon on wire, send beacon from queue::"+f.url,"BEACON"),t("Beacon ::"+f.url,"Beacon"),r.wasPutToSleep||(v&&yi.processLogs({api:"reportBeaconData",value:f.url}),li(null,f.url,f.isSync));t("put beacon on wire browser close::"+e,"BEACON");t("Beacon ::"+e,"Beacon");r.wasPutToSleep||(v&&yi.processLogs({api:"reportBeaconData",value:e}),li(null,e,i))}else t("put beacon on wire pushing beacon in queue::"+e),f.url=e,f.isSync=i,d.queue.push(f),d.timer?t("put beacon on wire: timer is running"):(t("put beacon on wire: call send delayed beacon"),r.wasPutToSleep||ae());else t("put beacon on wire"+e,"BEACON"),r.wasPutToSleep||li(null,e,i)}catch(o){t("failed to send beacon");t(o)}}function oh(n,i){try{return n=n.substring(0,i)}catch(r){return t("Exception,  getTruncatedMetric"+r),n}}function nf(n,i,r,u){var o,f,e;try{for(f=0;f<i.length;f++)i[f].expiryDuration&&tl(n,i[f]),o=i[f].name,e=null,o in n&&(e=n[o]),i[f].value&&(e=i[f].value),(e||e==0)&&(i[f].sendOnce?i[f].isSent===!1&&(e!=0&&(i[f].isSent=!0),ve(e,i,o,f,u,r)):ve(e,i,o,f,u,r))}catch(s){t("Exception, assemble logs:"+s)}}function ve(n,i,r,f,e,o){try{if(i[f].regExpJS){var h=new RegExp(i[f].regExpJS),s=h.exec(n);s&&(n=s[s.length-1])}}catch(c){t("Exception,  evaluating regExpJS attribute for metric : "+r)}n=String(n).replace(/~/g,u.encodedParamSeparator);i[f].size&&(n=oh(n,i[f].size));i[f].key in e||(e[i[f].key]=i[f].key,o.push((u.useKey?i[f].key:r)+"="+n))}function tu(n,i,r){var s,p,it,o,l,nt,a,h,f,w,e,c,b,v,k;try{t("getBeaconStrings : eventCode =  "+i);var rt=y.common,tt=[],d=y[i];if(d==null||d=="undefined"){t("getbeaconstrings, return as eventmetrics undefined");return}s=[];p={};n.eventCode||(n.eventCode=lu[i]);nf(n,rt,tt,p);i=="error"&&(n.updateTerminateMetrics(),le(n,g));i=="complete"&&(n.updateTerminateMetrics(),it=y.playing,le(n,g),nf(n,it,s,p));nf(n,d,s,p);o=tt.join(u.urlParamSeparator);o=du(o);l=0;try{for(nt in tr)l+=u.useKey?tr[nt].length+3+u.urlParamSeparator.length:nt.length+3+u.urlParamSeparator.length}catch(ut){l=12}if(l--,a=u.maxLogLineLength-l-o.length-3-u.beaconUrl.length,a<=0&&(a=4780-l-o.length-3-u.beaconUrl.length),h=[],f="",a>0){if(s.length>0){for(e="",c="",w=0;w<s.length;w++)c=du(s[w]),c.length>=a?h.push(c):e.length+c.length<=a?e?e+=u.urlParamSeparator+c:e=c:(h.push(e),e="");e!=""&&h.push(e)}if(b=h.length,b>1)for(v=1;v<=b;++v)f=o+u.urlParamSeparator,f+=(u.useKey?tr.partNumber:"partNumber")+"="+v+u.urlParamSeparator,f+=(u.useKey?tr.totalParts:"totalParts")+"="+b+u.urlParamSeparator,f+=h[v-1],f+=u.urlParamSeparator,y[i]&&gu(f,r,n);else f=o+u.urlParamSeparator+h[0]+u.urlParamSeparator,gu(f,r,n)}else k=s.join(u.urlParamSeparator),k=du(k),f=o+u.urlParamSeparator+k+u.urlParamSeparator,y[i]&&gu(f,r,n)}catch(ut){t("Exception, get beacon Strings:"+ut)}}function ye(n){s.fLineCount=0;var t=iu(n);s.akamai=t;s.akamai.customDataPopulated=!1}function sh(){var n;try{var u="socialShare:",r=u.length,i=s.socialSharingObj;for(n in e)n.indexOf(u)!=-1&&(n in s.dataSent?s.dataSent[n].count<s.socialShareLimit&&(++s.dataSent[n].count,i[n.substring(r)]=i==null?e[n]:n.substring(r)in i?parseInt(i[n.substring(r)])+parseInt(e[n]):e[n]):(s.dataSent[n]={},s.dataSent[n].value=e[n],s.dataSent[n].count=1,i[n.substring(r)]=e[n]),delete e[n]);s.socialSharingObj=i}catch(f){t("Exception,  getFeedbackObj"+f);s.socialSharing=null}}function hh(n){var i,r;try{if(i=null,s.socialSharingObj!=null)for(r in s.socialSharingObj)i==null?i=r+":"+s.socialSharingObj[r]+",":i+=r+":"+s.socialSharingObj[r]+",";i!=null&&(n.socialSharing=i.substring(0,i.length-1))}catch(u){t("Exception,  getFeedbackData"+u);n.socialSharing=null}s.socialSharingObj={}}function pe(n){var t,i;try{for(t in y)if(y[t])for(i=0;i<y[t].length;i++)y[t][i].fallback&&!e[y[t][i].name]&&bs(n,y[t][i].name,y[t][i].fallback)}catch(r){}}function ch(n){try{var i=dt.streamName?dt.streamName:n.streamName}catch(r){}try{n.title=e.title?e.title:e.eventName?e.eventName:i;n.eventName=e.eventName?e.eventName:e.title?e.title:i}catch(r){t("Exception,  getting title and eventName, "+r)}}function tf(n,i,r,u){var s,e;t("updating metrics for playing and end events");var f=n.akamai,h=0,l=f.playerState,c=!0;f.currentStreamTime=parseInt(tt(n));switch(f.currentState.state){case o.playing:f.playerState="PL";i-f.seekTime>0&&f.updatePlayClockTime(i-f.seekTime,f.currentState.lastEventClockTime,r);f.playClockTime<0&&(f.playClockTime=0);f.updatePlayed(f.currentStreamTime);break;case o.pause:f.pauseDuration+=i;f.playerState="PS";break;case o.rebuffering:if(!f.wasPutToSleep){f.rebufferTime+=i;f.curRebufferTime+=i;gr(f,r);f.playerState="B";h=r-f.curRebufferTime;break}case o.resumeBuffering:f.playerState="RB";f.resumeBufferTime+=i;break;case o.ended:f.updatePlayed(f.currentStreamTime);break;case o.seek:r-f.currentState.timeUpdateClockTime>0&&bi(f,r,f.currentStreamTime,"S");f.currentState.timeUpdateClockTime=r;f.playerState="SK";break;default:c=!1}if(f.playerState==="B"?f.continuousRebufferDuration+=f.curRebufferTime:f.continuousRebufferDuration=0,nt.getTransitionSession(f),bi(f),f.rebufferSession&&(ss(f,l),f.firstRebufferStartEpoch=h),f.playClockTime>5e3&&(f.isView=1),c&&(f.currentState.lastEventClockTime=r),f.bytesLoaded=fc(n),f.played){for(s=f.played,f.playStreamTime=0,e=0;e<s.length;e++)f.playStreamTime+=parseInt(s[e][1]-s[e][0]);f.logType=="R"&&(f.playStreamTime-=f.lastPlayStreamTime,f.lastPlayStreamTime+=f.playStreamTime)}u&&f.endReasonCode!="Browser.Close"&&!f.streamTitleSwitchReason&&(f.playerState="E")}function lh(n){var i,t;try{i="-";document&&document.referrer&&(t=document.referrer,t=t.split("/",3),t&&t[2]&&(i=t[2]));window==window.top?(n.pageUrl=e.pageUrl?e.pageUrl:document.URL,n.pageHost=e.pageUrl&&fi(e.pageUrl)?fi(e.pageUrl):document.location.hostname,n.pageReferrer=e.pageReferrer?e.pageReferrer:document.referrer?document.referrer:"-",n.pageReferrerHost=e.pageReferrer&&fi(e.pageReferrer)?fi(e.pageReferrer):document.referrer?i:"-"):(n.pageUrl=e.pageUrl?e.pageUrl:document.referrer?document.referrer:"-",n.pageHost=e.pageUrl&&fi(e.pageUrl)?fi(e.pageUrl):document.referrer?i:"-",n.pageReferrer=e.pageReferrer?e.pageReferrer:"NA",n.pageReferrerHost=e.pageReferrer&&fi(e.pageReferrer)?fi(e.pageReferrer):"NA")}catch(r){}}function we(n){try{for(var t in dt)t!="viewerId"&&t!="clientId"&&t!="viewerDiagnosticsId"&&t!="pluginVersion"&&(n[t]=dt[t]);"pluginVersion"in dt&&(n.pluginVersion=bt+":"+dt.pluginVersion)}catch(i){}}function be(n,i){var r,u;t("populate custom data, eventCode = "+i);try{if(lh(n),n.deliveryType=hs(n),n.device=e.device?e.device:vt,(i=="playing"||i=="complete"||i=="feedback"||i=="error")&&(hh(n),(n.socialSharing==null||n.socialSharing=="")&&i=="feedback"&&!n.customDataChanged)){--s.fLineCount;return}for(r in e)r!="viewerId"&&r!="clientId"&&r!="viewerDiagnosticsId"&&(r in df||(n[r]=e[r]));if(f&&f.akamai)for(u in f.akamai)n[u]=f.akamai[u];ch(n);n.cdn=dr(n)}catch(o){t("Exception,  populate Custom Data , "+o)}}function gt(n,i,r,u){var f,h,s,e,c,l,o;try{if(t("sendBeacon: eventCode = "+i+", clocktime = "+u),f=n.akamai,h=u-f.currentState.lastEventClockTime,f.logInterval=i!="init"?f.lastLogTime<=0?"0":(u-f.lastLogTime)/1e3:"0",f.customDataPopulated||be(f,i),f.serverIp=ir.serverip?ir.serverip:"-",f.fastTCP=at.ftcp?at.ftcp:"-",f.eventCode=lu[i],f.lastHTime=f.hLineSentCount>0?(u-f.lastHLineSentTime)/1e3:(u-f.lastSLineSentTime)/1e3,i=="heartBeat"&&(s=f.logInterval,f.logInterval=(u-f.lastPLineSentTime)/1e3,vu(f,u)),f.logInterval<0&&(f.logInterval="0"),e=!1,i=="complete"&&(i="playing",e=!0),f.endOfStream=e?"1":"0",f.currentClockTime=u-f.startTimer,f.currentStreamTime=parseInt(tt(n)),i!="playing"||f.playEndMetricsUpdated||(e&&vu(f,u),t("send Beacon, updating play and end metrics"),tf(n,h,u,e),vf(n)),f.customDataPopulated||pe(f),we(f),!ui){c=iu(f);l={element:c,code:e?"complete":i,synch:r};nr.push(l);(i=="playing"||i=="playStart")&&f.clearRelativeMetrics();i!="heartBeat"?(t("send beacon :configurationPopulated false sequenceId = "+f.sequenceId),++f.sequenceId,f.lastLogTime=u):f.logInterval=s;return}i=="playStart"&&ns();f.populateMetricsFromConfiguration();f.xViewerId=ct.xViewerId;f.xViewerIdVersion=ct.xViewerIdVersion;typeof akaMediaAnalytics!="undefined"&&akaMediaAnalytics!=null&&(o=akaMediaAnalytics.getStream(),o&&(f.bandwidth=o.getBandwidthFromFragments(),t("reporting bandwidth = "+f.bandwidth),o.cleanupFragments()));e?tu(f,"complete",r):tu(f,i,r);f.qualityOfExperience=null;e=!1;(i=="playing"||i=="playStart")&&f.clearRelativeMetrics();i!="heartBeat"?(++f.sequenceId,f.lastLogTime=u):f.logInterval=s}catch(a){t("Exception, send beacon:"+a)}}function iu(n,t){var t=t||{},i;try{for(i in n)typeof n[i]=="object"&&n[i]?(t[i]=n[i].constructor===Array?[]:{},iu(n[i],t[i])):t[i]=n[i];return t}catch(r){}}function t(n,t){var r,i,u;try{if(w.configURLCsmaDebug==1||w.pageURLCsmaDebug==1||w.configDebug==1){try{w.printException&&n.indexOf("Exception")!=-1&&(t="ERROR")}catch(f){}r=[];r[0]={message:n,type:t,time:ao()};i={logMessage:r,type:"log"};try{typeof yi!="undefined"?yi.processLogs({api:"reportLogs",value:i}):si.push({api:"reportLogs",value:i})}catch(e){si.push({api:"reportLogs",value:i})}try{console.log(n)}catch(e){}}else ui||(u={message:n,msgType:t},ci.push(u))}catch(e){}}function ke(){try{if((w.configURLCsmaDebug==1||w.pageURLCsmaDebug==1||w.configDebug==1)&&w.logStoredMsg)if(typeof AkamaiAnalytics_debugWindow_available=="function"&&AkamaiAnalytics_debugWindow_available()=="1"){if(w.logTimer&&l(w.logTimer),w.logStoredMsg=!1,ci.length){for(var n=0;n<ci.length;n++)t(ci[n].message,ci[n].msgType);ci=[]}}else w.logTimer=ft(ke,1e3,[])}catch(i){}}function ah(){var u;if(navigator&&navigator.userAgent){try{var n=navigator.userAgent,r=/\((\w+)/,i=r.exec(n);a=i[1].toLowerCase();a=n.indexOf("Xbox")!=-1?"Xbox":a.indexOf("compatible")!=-1||a.indexOf("windows")!=-1||a.indexOf("mobile")!=-1?"Windows":a.indexOf("x11")!=-1?"Linux":a.indexOf("macintosh")!=-1||a.indexOf("mac os")!=-1||a.indexOf("macos")!=-1?"Mac OS":a.indexOf("ipad")!=-1?"iPad":a.indexOf("iphone")!=-1?"iPhone":a.indexOf("ipod")!=-1?"iOS":n.indexOf("Android")!=-1?"Android":n.indexOf("PlayStation 4")!=-1?"PlayStation 4":n.indexOf("PLAYSTATION 3")!=-1?"PlayStation 3":"Others"}catch(f){t("Exception,  finding Osname");a="Others"}rf=a;try{r=/(NT|Phone|OS X|Linux|CPU.*?OS) ([0-9\._]+)/;i=r.exec(n);i&&i.length>2&&(fr=i[2]?i[2]:"",fr&&(rf+=" "+fr),u=null,a=="Windows"&&(u=vh(fr),a=a+" "+u))}catch(f){t("Exception,  OSVersion"+f)}}}function vh(n){var t=null,i;return n&&(n=="6.3"||n=="6.2"?t="8":n=="6.1"?t="7":n=="6.0"?t="Vista":n=="5.2"||n=="5.1"?t="XP":(i=n.split("."),t=parseInt(i[0])>=8?i[0]:"Other")),t}function yh(){var n,r,i,e,u,s,f;if(navigator&&navigator.userAgent){n=navigator.userAgent;r=/(MSIE|Chrome|Version|Firefox)[ \/]([0-9]+)/;try{i=r.exec(n);ai=i[1];i[1]=="Version"&&(r=/(Opera|Safari)/,e=r.exec(n),ai=e[1])}catch(o){t("Exception,  browserName"+o)}try{t("browser version = "+i[2]);u=n.indexOf("Edge");u!=-1?(uagentLength=n.length,s=n.substr(u,uagentLength-u),f=s.split("/"),ai=f[0],ur=f[1]):ur=i[2];ai&&ur&&(ai=ai+" "+ur)}catch(o){t("Exception,  browserVersion"+o)}}}function ph(){if(navigator&&navigator.userAgent)try{var n=navigator.userAgent;n=n.toLowerCase();vt=n.indexOf("ipad")!=-1?"iPad":n.indexOf("ipod")!=-1?"iPod":n.indexOf("iphone")!=-1?"iPhone":n.indexOf("android")!=-1?"Android Device":n.indexOf("xbox")!=-1?"Xbox":n.indexOf("macintosh")!=-1||n.indexOf("windows")!=-1||n.indexOf("compatible")!=-1?"Desktop":n.indexOf("playstation 4")!=-1?"PlayStation 4":n.indexOf("playstation 3")!=-1?"PlayStation 3":"Others"}catch(i){t("Exception,  getitng device name : "+i);vt="Others"}}function ei(n){try{switch(n){case o.ended:return"ended";case o.init:return"init";case o.playing:return"playing";case o.pause:return"pause";case o.seek:return"seek";case o.rebuffering:return"rebuffering";case o.resumeBuffering:return"resumeBuffering";default:return"undefined"}}catch(t){}}function ef(n){if(n&&n.customMetrics)for(var i in n.customMetrics)i in df||(this[i]=n.customMetrics[i]);this.userAgent=de;this.playerType="HTML5";this.pluginVersion=kt!=null&&ii!=null?"JS-"+bt+":"+kt+"-"+ii:r.objectBased?"JS-"+bt:"HTML5-"+bt;this.os=a;this.fullOs=rf;this.osVersion=fr;this.browser=ai;this.browserVersion=ur;this.browserSize=window.innerWidth+"x"+window.innerHeight;this.rebufferCount=0;this.bytesLoadedCallback=0;this.lastBytesLoaded=0;this.currRebufferEndEpoch=0;this.totalPlayClockTime=0;this.totalPlayStreamTime=0;this.totalRebufferCount=0;this.totalRebufferTime=0;this.totalPauseCount=0;this.totalPauseDuration=0;this.totalSeekCount=0;this.totalSeekTime=0;this.totalResumeBufferCount=0;this.totalResumeBufferTime=0;this.totalAdPlayClockTime=0;this.totalAdStartCount=0;this.totalAdAbandonCount=0;this.updateTerminateMetrics=function(){try{this.playClockTime&&(this.totalPlayClockTime+=parseInt(this.playClockTime));this.playStreamTime&&(this.totalPlayStreamTime+=parseInt(this.playStreamTime));this.rebufferCount&&(this.totalRebufferCount+=parseInt(this.rebufferCount));this.rebufferTime&&(this.totalRebufferTime+=parseInt(this.rebufferTime));this.pauseCount&&(this.totalPauseCount+=parseInt(this.pauseCount));this.pauseDuration&&(this.totalPauseDuration+=parseInt(this.pauseDuration));this.seekCount&&(this.totalSeekCount+=parseInt(this.seekCount));this.seekTime&&(this.totalSeekTime+=parseInt(this.seekTime));this.resumeBufferCount&&(this.totalResumeBufferCount+=parseInt(this.resumeBufferCount));this.resumeBufferTime&&(this.totalResumeBufferTime+=parseInt(this.resumeBufferTime));this.adPlayClockTime&&(this.totalAdPlayClockTime+=parseInt(this.adPlayClockTime));this.adCount&&(this.totalAdStartCount+=parseInt(this.adCount));this.adAbandonCount&&(this.totalAdAbandonCount+=parseInt(this.adAbandonCount));var n=b();this.startupAbondonWaitTime=n;this.playInterval=n}catch(i){t("Unable to update cumulative metrics")}};this.clearRelativeMetrics=function(){var t=["rebufferCount","rebufferTime","playClockTime","playStreamTime","seekCount","seekTime","pauseCount","pauseDuration","resumeBufferCount","resumeBufferTime","averagedBitRate","transitionUpSwitchCount","transitionDownSwitchCount","rebufferSession","curRebufferTime","adCount","adPlayClockTime","adStartupTime","adAbandonCount","adPauseTime"],n;for(this.updateTerminateMetrics(),n=0;n<t.length;++n)this[t[n]]=0;this.pauseIntervalsAsString="-";this.seekIntervalsAsString="-";this.pauseSeekSession="-";this.transitionStreamTimeSession="-";this.socialSharing=null;this.adSession=null;s.socialSharing=null;s.socialSharingObj={};nt.bitRateArr=[];delete this.rebufferSession};this.populateMetricsFromConfiguration=function(){var n,t;this.beaconId=yr.beaconId;this.beaconVersion=yr.beaconVersion;this.logType=u.logType=="relative"?"R":"C";this.logVersion=u.logVersion;this.startupTimeOutlierLimit=u.startupTimeOutlierLimit;this.formatVersion=u.formatVersion;this.bucketCount=pr.bucketCount;this.bucketLength=pr.bucketLength;for(n in y)if(y[n])for(t=0;t<y[n].length;t++)y[n][t].value&&(this[y[n][t].name]=y[n][t].value)};this.initPlayed=function(n){this.played.push([n,n]);this.playingIndex=0};this.updatePlayClockTime=function(n){this.playClockTime+=n;nt.updateBitRateArr(n)};this.updatePlayed=function(n,t){var r=this.played,i;if(r){for(i=0;i<r.length;i++);for(i=this.playingIndex;i<r.length&&n>r[i][0];i++);if(i!=this.playingIndex?(r[this.playingIndex][1]=Math.max(n,r[i-1][1]),r.splice(this.playingIndex+1,i-this.playingIndex-1)):r[this.playingIndex][1]=Math.max(n,r[this.playingIndex][1]),t!=null){for(i=0;i<r.length;i++){if(r[i][0]<=t&&r[i][1]>=t){this.playingIndex=i;return}if(i+1<r.length&&r[i][1]<t&&r[i+1][0]>t){i++;this.playingIndex=i;r.splice(i,0,[t,t]);return}}i==r.length&&(r.push([t,t]),this.playingIndex=i)}}};this.isVisitEnd=0;this.sequenceId="0";this.isSLineSent=!1;this.sendVLine=!1;this.played=[];this.iLineCount=0;this.isPlaylist=!1;this.isFirstTitle=1;this.currentState={state:o.ended,lastEventClockTime:0,pauseStartStreamTime:0,pauseStartClockTime:0,timeUpdateStreamTime:0,timeUpdateClockTime:0,pollingTimerStreamTime:0,seekStartStreamPos:0};this.seekObject={seekStartEpochTime:-1,seekEndEpochTime:-1,seekStartStreamTime:-1,seekEndStreamTime:-1};this.clearRelativeMetrics();t("value of configurationPopulated"+ui);ui&&this.populateMetricsFromConfiguration();this.loadStartILine=!1;this.canPlayUpdated=!1;this.canPlayEventAutoPlay=!0;this.format="P";this.playerFormat=this.playerType+":"+this.format;this.deliveryType="O";this.firstTimeProgress=!0;this.firstTimePlay=!0;this.isILineSent=!1;this.seekFrom=0;this.lastPlayStreamTime=0;this.lastPlayLogTime=0;this.lastLogTime=0;this.curRebufferTime=0;this.sendIsSessionWithRebufferH=1}function no(){try{var n,t;for(n in y)if(y[n])for(t=0;t<y[n].length;t++)y[n][t].isSent&&y[n][t].isSent===!0&&(y[n][t].isSent=!1)}catch(i){}}function to(n){t("endOfTheSession");var i=n.akamai,r=i.isPlaylist,f=i.visitId,e=i.viewerId,o=i.streamName,s=i.cdn,h=i.sendVLine,c=i.iLineCount;n.akamai=null;no();i=n.akamai=new ef(n);i.visitId=i.browserSessionId=f;i.viewerId=i.clientId=e;i.cdn=s;rr=-1;i.streamName=o;i.iLineCount=c;n.akamai.clearVisitTimeoutId=ft(sr,u.visitTimeout,[n,1]);i.sendVLine=h;i.isPlaylist=r;n.played&&(n.played.length=0);nt.clearBitRate()}function rt(){return st&&st.dataset&&st.dataset.isad&&st.dataset.isad=="true"?!0:!1}function of(n,t,i,r){var u,f;t=="playing"&&(wt=[]);u={};u.eventType=t;u.eventTime=r;i&&(u.streamUrl=i);t=="error"&&(u.errorCode=pu(n));wt&&wt.length>0?(f=wt[wt.length-1],f.eventType==u.eventType&&f.streamUrl==u.streamUrl?(t=="error"&&(f.errorCode=u.errorCode),f.eventTime=u.eventTime):wt.push(u)):wt.push(u)}function io(n,i,r,u){var e,f,o;try{e=!1;wt.length>0&&(f=wt[wt.length-1],t("check error events array, previous event is : "+f.eventType),f.eventType=="error"&&r==f.streamUrl&&(i=="error"?(o=pu(n),e=f.errorCode==o?!0:!1,f.eventTime=u,f.errorCode=o):i=="play"&&f.eventTime&&u-f.eventTime<=2e3&&(e=!0)))}catch(s){t("Exception,  checkErrorEventsArray"+s);e=!1}return e}function wh(n,i,r){if(rt(n)){t("handle Seeked Event : video tag is of type AD, return");return}try{i||(i=b());r||(r=parseInt(tt(n)));var u=n.akamai,f=u.currentState,s=i-f.lastEventClockTime,c=i-u.startTimer,e=f.state;if(t("entered function handle Seeked Event, currentstate = "+ei(f.state)),e==o.pause||e==o.playing||e==o.rebuffering||f.state==o.seek){i-f.timeUpdateClockTime>0&&bi(u,i,r,"S");switch(e){case o.playing:u.updatePlayed(f.timeUpdateStreamTime,r);f.lastEventClockTime=i;u.updatePlayClockTime(s,f.lastEventClockTime,i);f.state=o.seek;f.seekStartStreamPos=r;break;case o.rebuffering:if(u.wasPutToSleep)t("Rejecting this event, because rebuffer was caused by system sleep");else{t("handle seeked event, previous state is rebuffering");u.rebufferTime+=s;u.curRebufferTime+=s;u.rebufferSessionArrayHLine&&u.rebufferSessionArrayHLine.push(i);try{gr(u,i);u.curRebufferTime=0}catch(h){t("Error...Play"+h.message)}f.lastEventClockTime=i;f.state=o.seek}}}}catch(h){t("Exception,  handle Seeked Event :"+h)}}function sf(n,i){if(rt(n)){t("handlePauseEvent : video tag is of type AD, return");return}try{t("entered function handle Pause Event");var f=b(i),u=parseInt(tt(n)),r=n.akamai,e=r.currentState,h=er(n);if(r.firstTimePlay||e.state==o.pause)return;if(h&&h!=0&&u&&u!=0&&Math.abs(h-u)<1e3)return;var c=f-e.lastEventClockTime,s=f-r.startTimer,a=e.state;switch(a){case o.playing:r.updatePlayClockTime(c,e.lastEventClockTime,f);++r.pauseCount;bi(r,f,u,"P");r.pauseSeekSession!="-"?r.pauseSeekSession+=",P("+u+":"+s+")":r.pauseSeekSession="P("+u+":"+s+")";r.updatePlayed(u);break;case o.rebuffering:if(!r.chasingSleep){++r.pauseCount;bi(r,f,u,"P");r.pauseSeekSession!="-"?r.pauseSeekSession+=",P("+u+":"+s+")":r.pauseSeekSession="P("+u+":"+s+")";r.rebufferTime+=c;r.curRebufferTime+=c;r.rebufferSessionArrayHLine&&(t("handlePauseEvent : pushing, rebufferSessionArrayHLine"),r.rebufferSessionArrayHLine.push(f));try{gr(r,f);r.curRebufferTime=0}catch(l){t("Error...Pause"+l.message)}}}e.state=o.pause;e.pauseStartStreamTime=u;e.pauseStartClockTime=f;e.lastEventClockTime=f}catch(l){t("Exception,  handlePauseEvent : "+l)}}function hf(n,i){try{if(r&&r.akamai){t("handle bit rate switch");try{n=parseInt(n)}catch(f){t("Exception,bit rate to int :"+f);return}isNaN(n)&&t("handle bitrate swtich, bite rate isNaN");var u=r.akamai,e=u.currentState,s=tt(r);nt.currentBitRate!="-"&&(n>nt.currentBitRate?u.transitionUpSwitchCount++:n<nt.currentBitRate&&u.transitionDownSwitchCount++);e&&e.state==o.playing&&pt(r,i);nt.currentBitRate=n;nt.currentStartPos=s}}catch(f){t("Exception, handle bit rate switch:"+f)}}function yt(n,i){var u,f,h,c;if(rt(n)){t("handle Play Event : video tag is of type AD, return");return}try{if(u=b(i),f=ki(n),n.akamai&&n.akamai.postRollTimer&&(t("handle play event: send the C line without changing set data"),l(n.akamai.postRollTimer),delete n.akamai.postRollTimer,vi(n,u)),io(n,"play",f,u)){t("handle play Event: play is thrown after error, return, curTime = "+u);return}of(n,"play",f,u);var r=n.akamai,a=parseInt(tt(n)),e=r.currentState,v=u-e.lastEventClockTime,s=u-r.startTimer,y=e.state;t("entered function handle Play Event, current state = "+ei(e.state));switch(y){case o.ended:lr(f,r);r.streamUrl=f;r.startTimer=u;r.streamLength=parseInt(er(n));f!=null&&f.indexOf("?")!=-1&&(f=f.substring(0,f.indexOf("?")));f!=null&&f!=""&&/.m3u8$/.exec(f)&&(r.format="L",r.playerFormat=r.playerType+":"+r.format,r.deliveryType="L");rr=-1;th(n,!1,u);r.currentState.state=o.init;t(u+": handlePlayBackEvent : Setting state to init");r.currentState.timeUpdateClockTime=u;r.currentState.timeUpdateStreamTime=0;r.currentState.lastEventClockTime=u;r.isPlaylist=!0;h=ki(n);c=StreamTypeDetector(h,hu,su,function(n){n&&(t("detected stream type = "+n.getStreamType()),t("Received steam type = "+n.getStreamType()+"\n Stream URL = "+n.getStreamURL()+"\n Stream Name = "+n.getStreamName()+"\n Stream Length = "+n.getStreamLength()+"\n Stream Format = "+n.getStreamFormat()+"\n Stream Delivery Type = "+n.getDeliveryType()),r.streamUrl=n.getStreamURL(),r.format=n.getStreamFormat(),r.deliveryType=n.getDeliveryType(),n.getStreamLength()&&(r.streamLength=n.getStreamLength()),r.streamName=n.getStreamName())});c!==streamError.NoError&&t("failed to detect stream. May be we do not have sufficient information");break;case o.pause:r.pauseDuration+=v;r.pauseIntervalsAsString!="-"?r.pauseIntervalsAsString+=","+e.pauseStartStreamTime+":"+(u-e.pauseStartClockTime):r.pauseIntervalsAsString=e.pauseStartStreamTime+":"+(u-e.pauseStartClockTime);r.pauseSeekSession!="-"?r.pauseSeekSession+=",R("+e.pauseStartStreamTime+":"+s+")":r.pauseSeekSession="R("+e.pauseStartStreamTime+":"+s+")";r.updatePlayed(e.pauseStartStreamTime,a);r.currentState.lastEventClockTime=u;++r.resumeBufferCount;e.state=o.resumeBuffering;break;case o.init:r.iLineSentTime||(r.iLineSentTime=u);!r.loadStartILine||r.canPlayEventAutoPlay||r.canPlayUpdated||(r.iLineSentTime=u,r.canPlayUpdated=!0)}}catch(p){t("Exception,  handle Play Event:"+p)}}function pt(n,i){var f,c;if(rt(n)){t("handle Playing Event : video tag is of type AD, return");return}try{f=b(i);c=ki(r);of(n,"playing",c,f);var h=parseInt(tt(n)),u=n.akamai,e=u.currentState,s=f-e.lastEventClockTime,v=f-u.startTimer,a=e.state;t("entered function handle Playing Event, current State = "+ei(e.state));switch(a){case o.rebuffering:if(!u.wasPutToSleep){u.rebufferTime+=s;u.curRebufferTime+=s;u.continuousRebufferDuration=0;u.rebufferSessionArrayHLine&&u.rebufferSessionArrayHLine.push(f);try{gr(u,f);u.curRebufferTime=0}catch(l){t("Error...Play"+l.message)}}break;case o.pause:case o.resumeBuffering:u.resumeBufferTime+=s;s==0&&u.resumeBufferCount>0&&--u.resumeBufferCount;break;case o.init:nh(n,s,f,h);nt.currentStartPos=h;break;case o.ended:t("handle Playing Event : dispatch play and playing event");yt(n,f);pt(n,f);break;case o.playing:u.updatePlayClockTime(s,e.lastEventClockTime,f);break;case o.seek:f-e.timeUpdateClockTime>0&&(bi(u,f,h,"S"),u.updatePlayed(e.seekStartStreamPos,h))}e.state=o.playing;e.lastEventClockTime=f}catch(l){t("Exception,  handle Playing Event:"+l)}}function cf(n,i){var r;if(rt(n)){t("handleWaitingEvent : video tag is of type AD, return");return}try{if(r=n.akamai,r.currentState.state==o.rebuffering){t("already inside handleWaiting Event");return}var f=b(i),e=parseInt(tt(n)),u=r.currentState,s=f-u.lastEventClockTime,l=f-r.startTimer,h=u.state;t("entered function handle Waiting Event, current state = "+ei(u.state));switch(h){case o.playing:r.updatePlayClockTime(s,u.lastEventClockTime,f);++r.rebufferCount;r.rebufferCount==1&&r.playerState!="B"&&(r.firstRebufferStartEpoch=Math.round(f));r.rebufferSessionArrayHLine&&(t("handleWaitingEvent : pushing, rebufferSessionArrayHLine"+f),r.rebufferSessionArrayHLine.push(f));r.updatePlayed(e);u.state=o.rebuffering;break;case o.pause:++r.resumeBufferCount;u.state=o.resumeBuffering}u.lastEventClockTime=f;t("handle waiting event, if seek starts, stream pos = "+e);u.seekStartStreamPos=e}catch(c){t("Exception,  handleWaitingEvent:"+c)}}function fu(n){var h;if(rt(n)){t("handle Error Event : video tag is of type AD, return");return}try{var i=b(),f=ki(n),e=pu(n);if(io(n,"error",f,i)){t("handle Error Event: consecutive error events thrown, return, curTime = "+i);return}n&&n.akamai&&!n.akamai.isILineSent&&(t("handle Error Event: calling handle Play Event"),yt(n,i));of(n,"error",f,i);var l=parseInt(tt(n)),u=n.akamai,r=u.currentState,s=i-r.lastEventClockTime,a=i-u.startTimer,v=r.state;if(t("entered function handle Error Event, current state = "+ei(r.state)),r.state==o.playing&&u.updatePlayClockTime(s,r.lastEventClockTime,i),u.isELineSent||u.isCLineSent)return;ce(n,e,i);r.state=o.ended;h=parseInt(k("HTML_LastCLineTime"));to(n);r.lastEventClockTime=i}catch(c){t("Exception,  handleErrorEvent:"+c)}}function ro(n,i){var r,e;if(rt(n)){t("handle Ended Event WithDelay : video tag is of type AD, return");return}try{r=n.akamai;e=r.currentState;t("entered function handle Ended Event WithDelay, current state"+ei(e.state));var u=b(i),h=fe(n),o=u-e.lastEventClockTime;if(r.pollingTimer&&l(r.pollingTimer),f&&f.retryTimer&&l(f.retryTimer),r.hLineTimer&&l(r.hLineTimer),r.fastTCPServerIpTimer&&l(r.fastTCPServerIpTimer),r.firstPLineTimer&&l(r.firstPLineTimer),f&&f.retryTimer&&l(f.retryTimer),r.postRollTimer){t("handle Ended Event WithDelay: postRollTimer already started return");return}be(r,"complete");we(r);pe(r);r.postRollTimer=ft(vi,1e3,[n]);ye(r);r.customDataPopulated=!0;vu(r,u);tf(n,o,u,!0);r.playEndMetricsUpdated=!0}catch(s){t("Exception,  handle Ended Event WithDelay"+s);vi(n,u)}}function vi(n,i){var r,e,h;try{if(r=n.akamai,r.postRollTimer&&(l(r.postRollTimer),delete r.postRollTimer),r.isELineSent||r.isCLineSent){t("handle Ended Event : already sent C line, return");return}var u=b(i),a=parseInt(tt(n)),f=r.currentState,s=u-f.lastEventClockTime,v=u-r.startTimer,y=f.state;t("entered function handle Ended Event, current state"+ei(f.state));r.playEndMetricsUpdated||(tf(n,s,u,!0),r.playEndMetricsUpdated=!0);f.state=o.ended;e=fe(n);r.streamTitleSwitchReason!=null&&r.streamTitleSwitchReason!=""&&(e=r.streamTitleSwitchReason);ku(n,e,!1,u);h=parseInt(k("HTML_LastCLineTime"));to(n);f.lastEventClockTime=u}catch(c){t("Exception,  handle Ended Event :"+c)}}function uo(){var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection;n&&n.type&&(r.akamai.connectivity=n.type)}function bh(n){if(n){if(navigator.geolocation&&di==null){di=navigator.geolocation.watchPosition(kh,dh);var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;t&&t.type&&(r.akamai.connectivity=t.type,t.addEventListener("typechange",uo))}}else navigator.geolocation&&di!=null&&(navigator.geolocation.clearWatch(di),di=null,t.removeEventListener("typechange",uo))}function kh(n){n&&n.coords&&(r.akamai.latitude=n.coords.latitude,r.akamai.longitude=n.coords.longitude)}function dh(n){var i="";switch(n.code){case n.PERMISSION_DENIED:i="User denied the request for Geolocation.";break;case n.POSITION_UNAVAILABLE:i="Location information is unavailable.";break;case n.TIMEOUT:i="The request to get user location timed out.";break;case n.UNKNOWN_ERROR:i="An unknown error occurred."}t("Location Error : ",i)}function eu(n,i){try{if(r&&r.akamai&&r.akamai.isSLineSent?t("setData() API called after 'Start Of Play' for dimension -> "+n+"|All custom dimensions should be set before the play is initiated.","WARN"):t("setData("+n+":"+i+")","API"),n=="customDataObject")fo(i);else if(n=="customDataFunction")ar=i;else{try{i!=null&&(i=i.trim())}catch(u){}(n=="viewerId"||n=="viewerDiagnosticsId")&&(i==null||i=="")&&(i="-");try{ui&&n.substring(0,4)=="_cd_"&&ue(n)}catch(u){}try{n.indexOf("std:")!=-1?dt[n.substring(4)]=i:e[n]=i}catch(u){e[n]=i}(n.indexOf("socialShare:")!=-1||n.indexOf("feedback:")!=-1)&&eo()}}catch(u){t("Exception, Set Data :"+u)}}function fo(n){try{if(typeof n=="object")for(var i in n)eu(i,n[i])}catch(r){t("Exception set custom data object"+r)}}function gh(n){var t=r.akamai;t.streamTitleSwitchReason="Stream.Switched";vi(r,n)}function nc(n,i){var f,u;r.akamai.streamTitleSwitchReason="Title.Switched";f=r.akamai.isFirstTitle;vi(r,i);try{if(n!=null&&n!="")for(u in n)eu(u,n[u])}catch(e){t("Exception, handle title switch:"+e)}r.akamai.isFirstTitle=f;yt(r,i);pt(r,i);try{r.akamai.currentState.timeUpdateStreamTime=parseInt(tt(r))}catch(e){t("Exception,  handleTitleSwitch"+e)}}function eo(){var n,u;try{var i="feedback:",f=i.length,r=!1,o=b();for(n in e)n.indexOf(i)!=-1&&(u=n.substring(f),e[u]=e[n],delete e[n],r=!0);sh();t("handleFeedbackEvent");s&&s.shouldSendFLine&&s.akamai&&(s.akamai.isCLineSent||s.akamai.postRollTimer)&&(r&&(s.akamai.customDataChanged=!0),s.fLineCount<s.limit&&gt(s,"feedback",!1,o),++s.fLineCount,s.akamai.customDataChanged=!1,s.akamai.socialSharing=null)}catch(h){t("Exception, handle feed back event :"+h)}}function tc(){try{r.objectBased||(t("application exit, unsubscribe video events"),dc(r))}catch(n){}ni()}function lf(n){if(!rt(n))try{if(vr){t("handle time update event, return as inside background state for idevice");return}var f=b(null,!0),s=parseInt(tt(n)),r=n.akamai;if(!r)return;if(r.postRollTimer)return;var i=r.currentState,c=f-i.lastEventClockTime,l=f-r.startTimer,a=i.state,e=s-i.timeUpdateStreamTime;i.timeUpdateStreamTime!=0&&(Math.abs(e)>=u.seekThreshold&&r.isSLineSent?(t("stream diff in time update is "+e),wh(n,f,s)):e>0&&e<=750&&(n.objectBased?i.state==o.seek&&pt(n):r.isSLineSent&&i.state!=o.seek&&i.state!=o.rebuffering||(t("handle time update event,  dispatching playing event,  current Video state is : "+ei(i.state)),pt(n))));i.timeUpdateClockTime=f;i.timeUpdateStreamTime=s}catch(h){t("Exception,  handleTimeupddate :"+h)}}function ic(n,i,r){try{var u=f.aisRequestLimit,e=f.aisRequestInterval;if(f=new te,f.aisRequestInterval=e,f.aisRequestLimit=u,!n){t("return from ais, platform is null");return}f.platform=n;f.version=i?i:"1.0";r&&(f.aisCustomDataObj=r);f.requestUrl="http://idp.securetve.com/rest/";f.initUrl=f.requestUrl+f.version+"/"+f.platform+"/init/?format=jsonp&responsefield=akaMediaAnalytics.receiveAISInitRequest";f.identityUrl=f.requestUrl+f.version+"/"+f.platform+"/identity/?format=jsonp&responsefield=akaMediaAnalytics.receiveAISIdentityRequest";f.initUrlId="AkamaiAISInitUrl";f.identityUrlId="AkamaiAISIdentityUrl";af(f.initUrl,f.initUrlId)}catch(o){f.requestFailed=!0}}function rc(){var n={},i,r,u;try{if(f&&f.aisCustomDataObj){f.akamai||(f.akamai={});for(u in f.aisCustomDataObj)if(i=f.aisCustomDataObj[u].split("/"),i[0]=="INIT"&&f.initObj?n=f.initObj:i[0]=="IDENTITY"&&f.identityObj&&(n=f.identityObj),n){for(r=1;r<i.length;r++)i[r]&&n[i[r]]&&(n=n[i[r]]);typeof n!="object"&&(f.akamai[u]=n)}}}catch(e){t("Exception,  populateAISCustomData"+e)}}function af(n,i){try{var r=document.createElement("script");r.setAttribute("src",n);r.id=i;document.getElementsByTagName("head")[0].appendChild(r)}catch(u){t("Exception,  loading JavaScript File "+n)}}function oo(n){try{var i=document.getElementById(n);i.parentNode.removeChild(i)}catch(r){t("Exception,  removing script with id "+n)}}function so(n){var t,i;t=n.akamai;t.pollingTimer=ft(so,au,[n]);i=Date.now();t.chasingSleep>0&&i>t.chasingSleep+5e3&&(uc(n),t.wasPutToSleep=!0);t.chasingSleep=i;n&&(n.isBrightcoveVideo?akamaiBCVideoModule.getVideoPosition(!1,ho):ho(0,n))}function uc(n){no();nt.clearBitRate();akamai=n.akamai;!n.objectBased&&akamai.pollingTimer&&l(akamai.pollingTimer);f&&f.retryTimer&&l(f.retryTimer);akamai.hLineTimer&&l(akamai.hLineTimer);akamai.fastTCPServerIpTimer&&l(akamai.fastTCPServerIpTimer);akamai.firstPLineTimer&&l(akamai.firstPLineTimer);f&&f.retryTimer&&l(f.retryTimer);akamai.postRollTimer&&(l(akamai.postRollTimer),delete akamai.postRollTimer);akamai.currentState.state=o.ended;akamai.isILineSent=!1;akamai.isSLineSent=!1;akamai.firstTimePlay=!0;akamai.iLineSentTime=0;akamai.lastPlayStreamTime=0}function ho(n,i){var e,u,s=b(null,!0),f;if((r!=null&&r.isBrightcoveVideo?(r.currentTime=parseInt(n),u=parseInt(n*1e3),i=r):u=parseInt(tt(i)),u!="undefined"&&!isNaN(u)&&u!="")&&(e=i.akamai,f=e.currentState,f.state!=o.ended))if(i.objectBased&&e.wasPutToSleep===!0&&u===f.pollingTimerStreamTime)e.pollingTimer&&l(e.pollingTimer),yt(r),pt(r);else if(i.objectBased)lf(i);else{if(f.state==o.pause||f.state==o.seek)return;u!=0&&u===f.pollingTimerStreamTime&&f.state!=o.rebuffering?(t("check stream head position, call handle waiting event"),cf(i)):f.pollingTimerStreamTime=u}}function tt(t){var i=0;try{t.objectBased?n&&n.streamHeadPosition&&(i=n.streamHeadPosition(),t.currentTime=i):st.currentTime&&(i=st.currentTime,t.currentTime=i)}catch(r){}return i==0&&rr!=-1&&(i=rr),i!=0&&(rr=i),i*1e3}function er(t){var i=0;try{t&&(t.objectBased?n&&n.streamLength&&(i=n.streamLength(),t.duration=i):(i=st.duration,t.duration=i))}catch(r){}return i*1e3}function ki(i){var r="";try{i&&(i.objectBased?n&&n.streamURL&&(r=n.streamURL(),i.currentSrc=r):e.streamURL?r=e.streamURL:(r=st.currentSrc,r.indexOf("blob:")===-1?i.currentSrc=r:(r="",t("Call akamaiSetStreamURL() to set streamUrl","Error"))))}catch(u){}return r}function fc(t){var i=0,r=0;try{t&&t.objectBased&&n&&n.bytesLoaded&&(i=parseInt(n.bytesLoaded()),r=i-t.akamai.lastBytesLoaded)}catch(u){}return t.akamai.lastBytesLoaded=i,r>0?r:void 0}function vf(){try{var n={};ar!=null&&(n=ar(),fo(n))}catch(t){}}function co(n,i){var u,e,f;try{t("handle Ad loaded");h.isAdLoaded&&t("handleAdLoaded API is called multiple times.|We have identified that 2 successive handleAdLoaded APIs are called.|Kindly ensure that sequence of Ad calls -- handleAdLoaded->handleAdStarted->handleAdComplete is maintained.","WARN");u=r.akamai;u.isILineSent||(e=(new Date).getTime(),i!=null&&e-i>0);f=b(i);h.clearAdAnalytics();h.isAdLoaded=!0;h.adLoadTime=f;h.adCount=1;h.adAbandoned=!0;u.postRollTimer?(bu(r),l(u.postRollTimer),u.postRollAd=!0,u.customDataPopulated=!1,h.type=2):u.isILineSent&&(u.isSLineSent?(sf(r,f),h.type=1):u.isSLineSent||u.adLoadTime||(u.adLoadTime=f));yf(n);u.isILineSent||ds(!1,f)}catch(o){t("Exception,handle ad loaded:"+o)}}function ec(n,i){try{t("handle Ad Started");var u=b(i);h.isAdStarted=!0;h.isAdLoaded||(t("handleAdLoaded API is missing.|We have identified that handleAdStarted API is called without handleAdLoaded.|Kindly ensure that handleAdLoaded API is called for every Ad and relevant adObject is passed as an argument.","WARN"),co(n,u));h.playBucket="0";h.adStartTime=u;h.adStartupTime=u-h.adLoadTime;h.startPos=tt(r);yf(n)}catch(f){t("Exception,handle ad started:"+f)}}function oc(n){try{t("handleAdEnded");h.playBucket=="0"&&t("Ad Progress related APIs not called.|We have identified that handleAdFirstQuartile,handleAdMidPoint & handleAdThirdQuartile APIs have not been called.|It will be good if these APIs are called in order to capture more accurate Ad information","WARN");h.playBucket="4";ou("0",n)}catch(i){t("Exception,handle ad completed:"+i)}}function sc(){h.isAdStarted||t("handleAdStarted API is missing.|We have identified that handleAdFirstQuartile API is called without handleAdStarted.|Kindly ensure that handleAdStarted API is called for every Ad that starts successfully.","ERROR");h.playBucket="1"}function hc(){h.playBucket="2"}function cc(){h.playBucket="3"}function lc(n){ou("1",n)}function ac(n){ou("3",n)}function yf(n){var r,i;try{for(r=h.setDataArr,t("populate ad metric"),i=0;i<r.length;i++)r[i]in n&&(h[r[i]]=n[r[i]])}catch(u){}}function ou(n,i){var f,u,o,e;try{for(f=b(i),u=r.akamai,h.endStatus=n,n!="0"&&(h.adAbandonCount=1),h.isAdLoaded&&h.isAdStarted&&(h.adPlayClockTime=f-h.adStartTime),h.adSession=vc(),o=["adStartupTime","adCount","adPlayClockTime","adAbandonCount"],e=0;e<o.length;e++)u[o[e]]+=h[o[e]];u.adSession?u.adSession+=","+h.adSession:u.adSession=h.adSession;h.isAdStarted=!1;h.isAdLoaded=!1;n!="2"&&(h.adAbandoned=!1,u&&(u.postRollAd?(u.postRollAd=null,vi(r,f)):u.isSLineSent?(yt(r,f),pt(r,f)):u.isSLineSent||(u.adEndTime=f)))}catch(s){t("Exception,populate ad end:"+s)}}function vc(){var t="",i=["adId","type","startPos","adStartupTime","adPlayClockTime","playBucket","endStatus","adDuration","adTitle","adCategory","adPartnerId","adServer","adDaypart","adIndustryCategory","adEvent"],n;try{for(n=0;n<i.length;n++)t+=h[i[n]]==0||h[i[n]]!=null&&h[i[n]]!=""?h[i[n]]+":":":";t=t.substring(0,t.length-1)}catch(r){}return t}function yc(n){try{if(rt(n))return;var t=n.akamai;t.firstTimeProgress}catch(i){}}function pc(n){try{if(rt(n))return;var t=n.akamai;st.autoplay&&(yt(n),t.loadStartILine=!0)}catch(i){}}function wc(n){try{if(rt(n))return;var t=n.akamai;t.canPlayEventAutoPlay=st.autoplay?!0:!1}catch(i){}}function bc(n){try{if(rt(n))return;var t=n.akamai;t.firstTimeProgress&&(t.firstTimeProgress=!1,akaMediaAnalytics.getShouldAnalyze()&&setTimeout(function(n){n.setDiagnoserWindowLoaded(!0);n.processLogs({api:"setConfigXML",value:AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH});var t="";t+=r.objectBased===!0?"JS-":"HTML5-";t+=bt;n.processLogs({api:"setCurrentVersion",value:t});n.processLogs({api:"setCustomDimension",value:dt});n.processLogs({api:"reportSetupParams",value:AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH});n.processLogs({api:"reportSetupParams",value:u.beaconUrl.toLowerCase()});n.processLogs({api:"reportSetupParams",value:ti})},3e3,akaMediaAnalytics));t.logType=="R"}catch(i){}}function kc(n){try{if(rt(n))return;var t=n.akamai;t.streamLength=parseInt(er(n))}catch(i){}}function pf(n){t("subscribeToEvents : video = "+n);st=n;try{n.addEventListener("play",p.play=function(){yt(r)},!1);n.addEventListener("pause",p.pause=function(){sf(r)},!1);n.addEventListener("error",p.error=function(){fu(r)},!1);n.addEventListener("ended",p.ended=function(){ro(r)},!1);n.addEventListener("playing",p.playing=function(){pt(r)},!1);n.addEventListener("waiting",p.waiting=function(){cf(r)},!1);n.addEventListener("timeupdate",p.timeupdate=function(){lf(r)},!1);n.addEventListener("load",p.load=function(){yc(r)},!1);n.addEventListener("progress",p.progress=function(){bc(r)},!1);n.addEventListener("durationchange",p.durationchange=function(){kc(r)},!1);n.addEventListener("canplay",p.canplay=function(){wc(r)},!1);n.addEventListener("loadstart",p.loadstart=function(){pc(r)},!1);t("subscribed to events completed")}catch(i){t("Exception,  subscribeToEvents,unable to add listeners to video tag :"+i)}}function dc(n){try{n.removeEventListener("play",p.play,!1);n.removeEventListener("pause",p.pause,!1);n.removeEventListener("error",p.error,!1);n.removeEventListener("ended",p.ended,!1);n.removeEventListener("playing",p.playing,!1);n.removeEventListener("waiting",p.waiting,!1);n.removeEventListener("timeupdate",p.timeupdate,!1);n.removeEventListener("load",p.load,!1);n.removeEventListener("progress",p.progress,!1);n.removeEventListener("durationchange",p.durationchange,!1);n.removeEventListener("canplay",p.canplay,!1);n.removeEventListener("loadstart",p.loadstart,!1)}catch(i){t("Exception, unSubscribeFrom Events:"+i)}}function or(n){var i,u;try{if(typeof akamaiBCVideoObject!="undefined")st=akamaiBCVideoObject,r.isBrightcoveVideo=!0,initBrightcove();else if(!r.objectBased&&!r.videoPassed&&document){for(i=document.getElementsByTagName("video"),t("add MediaEvent Listeners : videos.length "+i.length),i&&i.length==0&&(i=document.getElementsByTagName("audio")),u=0;u<i.length;++u)pf(i[u]);document.addEventListener("DOMNodeInserted",wf,!1);document.addEventListener("DOMNodeRemoved",wf,!1);document.addEventListener("DOMAttrModified",wf,!1)}n&&(n.type=="DOMContentLoaded"?document.removeEventListener("load",or,!0):n.type=="load"&&i&&i.length>0&&document.removeEventListener("load",or,!0))}catch(f){t("Exception,  add MediaEvent Listeners :"+f)}}function wf(n){var t=n.target;if(t.nodeType!=t.COMMENT_NODE&&t.tagName!=null&&(t.tagName.toLowerCase()=="video"||t.tagName.toLowerCase()=="audio"))switch(n.type){case"DOMNodeRemoved":t.dataset&&t.dataset.isad&&t.dataset.isad=="true"||sr(r,0);break;case"DOMNodeInserted":pf(t)}}function sr(n,i){var s,c,f;t("handle Video Unload");var e=b(),r=n.akamai,f=parseInt(k("HTML_VisitCountCookie"));d.browserClose=!0;try{if(r&&r.currentState.state>=o.init&&i==0){if(r.isELineSent||r.isCLineSent)return;h&&h.adAbandoned?(s="Ad.Abandon",r.postRollTimer&&(l(r.postRollTimer),delete r.postRollTimer),ku(n,s,!0,e)):r.firstTimePlay?(c="Browser.Refresh.NoStart",e-r.startTimer>u.initBrowserCloseTime&&(c="Browser.Refresh.NoStart.Late"),ce(n,c,!0,e)):(s="Browser.Close",r.postRollTimer&&(l(r.postRollTimer),delete r.postRollTimer),ku(n,s,!0,e))}}catch(p){}try{var y=parseInt(k("HTML_LastCLineTime")),a=y+u.visitTimeout-e,v=parseInt(k("HTML_isPlayingCount"));if(t("handle Video Unload: playing cookie =  "+v+", visit cookie :"+f),f>=1&&i==1){if(a>0){l(r.clearVisitTimeoutId);n.akamai.clearVisitTimeoutId=ft(sr,a,[n,1]);return}if(a<=0&&f>1&&v>0){l(r.clearVisitTimeoutId);n.akamai.clearVisitTimeoutId=ft(sr,u.visitTimeout,[n,1]);return}}t("handle Video Unload: decrementing HTML_VisitCountCookie");f=f-1;ut("HTML_VisitCountCookie",f);f=parseInt(k("HTML_VisitCountCookie"));(f===0||isNaN(f))&&r.sendVLine&&ih(n,e)}catch(p){}}function ni(){try{h.isAdLoaded&&ou("2")}catch(n){}sr(r,0)}function gc(){t("handlePagehide");vr=!0;ni()}function nl(n){t("handlePageshow:");try{r&&r.tagName&&(t("handlePageShow: media tag is :"+r.tagName),r.akamai&&vr&&(t("handlePageshow: send play and playing on timeupdate"),yo=!0))}catch(n){t("Exception,  handlePagehsow : "+n)}vr=!1}function k(n){var t=n+"=",i="";try{document.cookie.length>0&&(offset=document.cookie.indexOf(t),offset!=-1&&(offset+=t.length,end=document.cookie.indexOf(";",offset),end==-1&&(end=document.cookie.length),i=document.cookie.substring(offset,end)))}catch(r){}return i}function oi(n){var r,t,i;try{for(r=location.pathname.split("/"),t=" path=",document.cookie=n+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;",i=0;i<r.length;i++)t+=(t.substr(-1)!="/"?"/":"")+r[i],document.cookie=n+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;"+t+";"}catch(u){}}function ut(n,t,i){var u,r;try{u=n+"="+t+";Path=/;";i&&parseInt(i)>0&&(r=new Date,r.setDate(r.getDate()+parseInt(i)),r!=null&&(u+="expires="+r.toUTCString()+";"));document&&(document.cookie=u)}catch(f){}}function tl(n,i){try{if(typeof n!="undefined"&&n!==null&&typeof i!="undefined"&&i!==null){var o=n[il(i.name)],u=hi.SHA1(o).toString(),f=rl(u),r=0,e=b();f&&(r=e-parseFloat(f),r=r/6e4,r=r>0?r.toFixed(2):0);fl(u,e,i.expiryDuration);n[i.name]=r.toString()}}catch(s){t("Exception,  calculateUniqueDimension :"+s)}}function il(n){return dimension="",n==="viewerInterval"?dimension="viewerId":n==="viewerTitleInterval"&&(dimension="title"),dimension}function rl(n){var t,i,r;try{if(t=window.localStorage.getItem(n),typeof t!="undefined"&&t!==null)return i=JSON.parse(t),r=i.value,r}catch(u){}}function ul(){var i,r,n;try{t("deleteExpiredDataFromLocalStorage");var f=b(),u=null,e=window.localStorage.length;for(i=e-1;i>=0;i--)r=window.localStorage.getItem(window.localStorage.key(i)),typeof r!="undefined"&&r!==null&&r.indexOf("expiryDate")!==-1&&(n=JSON.parse(r),typeof n!="undefined"&&n!==null&&typeof n.expiryDate!="undefined"&&n.expiryDate!==null&&(u=Date.parse(n.expiryDate),u<=f&&window.localStorage.removeItem(window.localStorage.key(i))))}catch(o){}}function fl(n,t,i){var u,r;try{u={value:t};typeof i!="undefined"&&i!==null&&(r=new Date,parseInt(i)>0?r.setDate(r.getDate()+parseInt(i)):r.setDate(r.getDate()+parseInt(90)),u.expiryDate=r.toDateString());window.localStorage.setItem(n,JSON.stringify(u))}catch(f){}}function el(){try{if(a=="iPad"||a=="iPhone")return!0}catch(n){return!1}}function ol(){try{r.objectBased||r.videoPassed?or():(t("adding MediaEventListeners: DOMContentLoaded"),document.addEventListener("DOMContentLoaded",or,!1),t("adding MediaEventListeners: Load"),document.addEventListener("load",or,!0))}catch(n){t("Exception,  Addding DOMContentLoaded and Load event listeners :"+n)}if(window)if(el())window.addEventListener("pagehide",gc,!1),window.addEventListener("pageshow",nl,!1);else if(typeof akamaiBCVideoObject!="undefined"&&window.addEventListener)window.addEventListener("beforeunload",ni,!1);else if(window.addEventListener)try{kr()?window.parent.addEventListener("beforeunload",ni,!1):window.addEventListener("beforeunload",ni,!1)}catch(n){t("Exception, add window document listeners : "+n);window.addEventListener("beforeunload",ni,!1)}else if(window.attachEvent)try{kr()?window.parent.attachEvent("onbeforeunload",ni):window.attachEvent("onbeforeunload",ni)}catch(n){window.attachEvent("onbeforeunload",ni)}}var bt="3.15.2",bf=document.currentScript,ti=null,di=null,hr=!0,kt=null,ii=null,su=!1,hu=null,v=!1,ot="http://media-analytics.akamaized.net",kf=null,lo=(new Date).getTime(),si=[],cu,yi,hi,pi,wr,et,br,bo,o,uu;if(si.push({api:"originUrl",value:location.protocol+"//"+location.hostname}),cu=!1,yi=this,n&&(n.loaderName&&(kt=n.loaderName),n.loaderVersion&&(ii=n.loaderVersion)),bf?ti=bf.src:t("Should be Internet Explorer"),hi=hi||function(n,t){var r={},u=r.lib={},f=u.Base=function(){function n(){}return{extend:function(t){n.prototype=this;var i=new n;return t&&i.mixIn(t),i.$super=this,i},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.$super.extend(this)}}}(),i=u.WordArray=f.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:4*n.length},toString:function(n){return(n||c).stringify(this)},concat:function(n){var i=this.words,r=n.words,u=this.sigBytes,n=n.sigBytes,t;if(this.clamp(),u%4)for(t=0;t<n;t++)i[u+t>>>2]|=(r[t>>>2]>>>24-8*(t%4)&255)<<24-8*((u+t)%4);else if(65535<r.length)for(t=0;t<n;t+=4)i[u+t>>>2]=r[t>>>2];else i.push.apply(i,r);return this.sigBytes+=n,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-8*(t%4);i.length=n.ceil(t/4)},clone:function(){var n=f.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var r=[],u=0;u<t;u+=4)r.push(4294967296*n.random()|0);return i.create(r,t)}}),e=r.enc={},c=e.Hex={stringify:function(n){for(var r,u=n.words,n=n.sigBytes,i=[],t=0;t<n;t++)r=u[t>>>2]>>>24-8*(t%4)&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var r=n.length,u=[],t=0;t<r;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-4*(t%8);return i.create(u,r/2)}},s=e.Latin1={stringify:function(n){for(var r=n.words,n=n.sigBytes,i=[],t=0;t<n;t++)i.push(String.fromCharCode(r[t>>>2]>>>24-8*(t%4)&255));return i.join("")},parse:function(n){for(var r=n.length,u=[],t=0;t<r;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-8*(t%4);return i.create(u,r)}},l=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(s.stringify(n)))}catch(t){throw Error("Malformed UTF-8 data");}},parse:function(n){return s.parse(unescape(encodeURIComponent(n)))}},o=u.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=i.create();this._nDataBytes=0},_append:function(n){"string"==typeof n&&(n=l.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var f=this._data,s=f.words,u=f.sigBytes,e=this.blockSize,o=u/(4*e),o=t?n.ceil(o):n.max((o|0)-this._minBufferSize,0),t=o*e,u=n.min(4*t,u),r;if(t){for(r=0;r<t;r+=e)this._doProcessBlock(s,r);r=s.splice(0,t);f.sigBytes-=u}return i.create(r,u)},clone:function(){var n=f.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),h;return u.Hasher=o.extend({init:function(){this.reset()},reset:function(){o.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){return n&&this._append(n),this._doFinalize(),this._hash},clone:function(){var n=o.clone.call(this);return n._hash=this._hash.clone(),n},blockSize:16,_createHelper:function(n){return function(t,i){return n.create(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return h.HMAC.create(n,i).finalize(t)}}}),h=r.algo={},r}(Math),function(){var i=hi,t=i.lib,u=t.WordArray,t=t.Hasher,n=[],r=i.algo.SHA1=t.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,i){for(var e,r=this._hash.words,h=r[0],f=r[1],o=r[2],s=r[3],c=r[4],u=0;80>u;u++)16>u?n[u]=t[i+u]|0:(e=n[u-3]^n[u-8]^n[u-14]^n[u-16],n[u]=e<<1|e>>>31),e=(h<<5|h>>>27)+c+n[u],e=20>u?e+((f&o|~f&s)+1518500249):40>u?e+((f^o^s)+1859775393):60>u?e+((f&o|f&s|o&s)-1894007588):e+((f^o^s)-899497514),c=s,s=o,o=f<<30|f>>>2,f=h,h=e;r[0]=r[0]+h|0;r[1]=r[1]+f|0;r[2]=r[2]+o|0;r[3]=r[3]+s|0;r[4]=r[4]+c|0},_doFinalize:function(){var n=this._data,t=n.words,r=8*this._nDataBytes,i=8*n.sigBytes;t[i>>>5]|=128<<24-i%32;t[(i+64>>>9<<4)+15]=r;n.sigBytes=4*t.length;this._process()}});i.SHA1=t._createHelper(r);i.HmacSHA1=t._createHmacHelper(r)}(),function(){var n=hi,t=n.enc.Utf8;n.algo.HMAC=n.lib.Base.extend({init:function(n,i){var u,f;n=this._hasher=n.create();"string"==typeof i&&(i=t.parse(i));u=n.blockSize;f=4*u;i.sigBytes>f&&(i=n.finalize(i));for(var e=this._oKey=i.clone(),o=this._iKey=i.clone(),s=e.words,h=o.words,r=0;r<u;r++)s[r]^=1549556828,h[r]^=909522486;e.sigBytes=o.sigBytes=f;this.reset()},reset:function(){var n=this._hasher;n.reset();n.update(this._iKey)},update:function(n){return this._hasher.update(n),this},finalize:function(n){var t=this._hasher,n=t.finalize(n);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}(),function(){var t=hi,n=t.lib,i=n.Base,r=n.WordArray,n=t.algo,u=n.HMAC,f=n.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:n.SHA1,iterations:1}),init:function(n){this.cfg=this.cfg.extend(n)},compute:function(n,t){for(var s,y,i,f=this.cfg,e=u.create(f.hasher,n),o=r.create(),c=r.create([1]),p=o.words,w=c.words,l=f.keySize,f=f.iterations;p.length<l;){s=e.update(t).finalize(c);e.reset();for(var a=s.words,b=a.length,h=s,v=1;v<f;v++)for(h=e.finalize(h),e.reset(),y=h.words,i=0;i<b;i++)a[i]^=y[i];o.concat(s);w[0]++}return o.sigBytes=4*l,o}});t.PBKDF2=function(n,t,i){return f.create(i).compute(n,t)}}(),pi=!1,window)try{pi=window.XDomainRequest?!0:!1}catch(vo){pi=!1}var e={},dt={},ar=null,df={eventCode:"",beaconId:"",sequenceId:"",logType:"",endOfStream:"",logVersion:"",formatVersion:"",visitId:"",errorCode:"",partNumber:"",totalParts:"",hostName:"",streamName:"",port:"",protocol:"",userAgent:"",playerType:"",os:"",format:"",connectTime:"",bufferingTime:"",startupTime:"",streamLength:"",bytesTotal:"",browser:"",browserSize:"",videoSize:"",streamUrl:"",deliveryType:"",pluginVersion:"",beaconVersion:"",serverIp:"",playerFormat:"",outlierStartupTime:"",isFirstTitle:"",rebufferSessionH:"",sequenceIdH:"",isSessionWithRebufferH:"",playerState:"",currentStreamTime:"",currentClockTime:"",playClockTime:"",playStreamTime:"",rebufferCount:"",rebufferTime:"",pauseCount:"",pauseDuration:"",pauseIntervalsAsString:"",seekCount:"",seekTime:"",seekIntervalsAsString:"",pauseSeekSession:"",resumeBufferCount:"",resumeBufferTime:"",isView:"",isSessionWithRebuffer:"",logInterval:"",rebufferSession:"",socialSharing:"",endReasonCode:"",totalPlayClockTime:"",totalPlayStreamTime:"",totalRebufferCount:"",totalRebufferTime:"",totalAdPlayClockTime:"",totalAdStartCount:"",totalAdAbandonCount:"",lastHTime:"",isVisitStart:"",isVisitEnd:"",visitAttempts:"",visitPlays:"",visitViews:"",visitErrors:"",visitInterval:"",visitPlayClockTime:"",visitPlayStreamTime:"",visitRebufferCount:"",visitRebufferTime:"",visitStartupErrors:"",visitAdPlayClockTime:"",visitAdStartCount:"",visitAdAbandonCount:"",visitUniqueTitles:"",adAbandonCount:"",adPauseTime:"",adStartupTime:"",adPlayClockTime:"",adCount:"",adSession:"",sessionId:"",attemptId:"",playerReferrer:"",ais_idpId:"",ais_idpName:"",ais_idpDisplayName:"",ais_idpUrl:"",ais_queryToken:"",ais_aisuid:"",qualityOfExperience:"",transitionStreamTimeSession:"",transitionUpSwitchCount:"",transitionDownSwitchCount:"",averagedBitRate:"",fullOs:"",longitude:"",latitude:"",connectivity:""},gi={title:!1,category:!1,subCategory:!1,show:!1,contentLength:!1,contentType:!1,device:!1,deliveryType:!1,playerId:!1,eventName:!1},r={},st={};r.isBrightcoveVideo=!1;r.objectBased=!1;r.videoPassed=!1;var vr=!1,yo=!1,po=!1,it={},p={},ui=!1,nr=[],d={timer:null,queue:[],browserClose:!1,enabled:!0,time:250},y={},wo=[],yr={},tr={},u={};u.seekThreshold=2e3;u.visitTimeout=36e5;var c={},pr={},lu={},ht={},au=100,ir={},wi=!1,gf=!1,at={fastTCPFailed:!1,fastTCPEnabled:!1},wt=[],s={};s.dataSent={};var ne=1,rr=-1,ct={},ci=[],w={pageURLCsmaDebug:0,configURLCsmaDebug:0,configDebug:0,windowOpened:!1,logStoredMsg:!0,printException:!1};var f=new te,h={setDataArr:["adId","adDuration","adTitle","adCategory","adPartnerId","adServer","adDaypart","adIndustryCategory","adEvent"],clearAdAnalytics:function(){this.isAdLoaded=!1;this.isAdStarted=!1;this.id="";this.type="0";this.startPos="0";this.playBucket="-1";this.endStatus="2";this.adLoadTime=null;this.adStartTime=null;this.adStartupTime="0";for(var n=0;n<this.setDataArr.length;n++)this[this.setDataArr[n]]=""}},nt={bitRateArr:[],currentBitRate:"-",currentStartPos:0,bitRateCount:{},bitRatePlayTime:{},bitRateBucketMap:{},clearBitRate:function(){this.bitRateArr=[];this.currentBitRate="-";this.bitRateCount={};this.bitRatePlayTime={}},updateBitRateArr:function(n){if(this.bitRateArr.length>0){var i=this.bitRateArr.length,t=nt.bitRateArr[i-1];this.currentBitRate==t.bitRate?t.playTime+=n:this.pushInBitRateArr(n,this.currentBitRate,this.currentStartPos)}else this.pushInBitRateArr(n,this.currentBitRate,this.currentStartPos)},pushInBitRateArr:function(n,t,i){this.bitRateArr.push({bitRate:t,playTime:n,startPos:i})},populateBitRateBucketMap:function(n,t){var i,r=!1,f=ht.bitRateBucketTimes,u;n!="-"&&n!==""&&(n=parseInt(n/1e3));for(u in f)if(r=!1,i=f[u],n=="-"||n===""||n<0){if(!i.max&&!i.min){r=!0;break}}else if(i.max&&i.min){if(n>=i.min&&n<i.max){r=!0;break}}else if(i.max){if(n<i.max){r=!0;break}}else if(i.min&&n>=i.min){r=!0;break}r&&(this.bitRateBucketMap[u]+=t)},findMaxPersistentBitRate:function(){var n,r,i;try{if(this.bitRatePlayTime){n=0;r=-1;for(i in this.bitRatePlayTime)this.bitRatePlayTime[i]>r&&(r=this.bitRatePlayTime[i],n=i);if(n!==0)return n}}catch(u){t("Exception, find max persistent bit rate")}},getTransitionSession:function(n){try{var f=null,i,r,e="",u=0,h,c=0,o=0,s=!0;this.bitRateArr.length>0&&(i=this.bitRateArr[0],i.bitRate=="-"&&(s=!1,this.bitRateArr[1]&&this.bitRateArr[1].bitRate!="-"&&(s=!0,this.bitRateArr[1].startPos=this.bitRateArr[0].startPos,this.bitRateArr[1].playTime+=this.bitRateArr[0].playTime,this.bitRateArr.shift())));for(r in this.bitRateBucketMap)this.bitRateBucketMap[r]=0;for(u=0;u<this.bitRateArr.length;u++){i=this.bitRateArr[u];i.bitRate in this.bitRateCount?u!=0&&this.bitRateCount[i.bitRate]++:this.bitRateCount[i.bitRate]=1;i.bitRate!=""&&i.bitRate!="-"&&(i.bitRate in this.bitRatePlayTime?this.bitRatePlayTime[i.bitRate]+=i.playTime:this.bitRatePlayTime[i.bitRate]=i.playTime);h=this.bitRateCount[i.bitRate];f?f+=","+i.bitRate+":"+i.startPos+":"+i.playTime+"::"+h:f=i.bitRate+":"+i.startPos+":"+i.playTime+"::"+h;this.populateBitRateBucketMap(i.bitRate,i.playTime);try{s&&(c+=i.bitRate*i.playTime,o+=i.playTime)}catch(l){}}n.maxPersistentBitRate=this.findMaxPersistentBitRate();n.transitionStreamTimeSession=f;for(r in this.bitRateBucketMap)e?e+=","+r+":"+this.bitRateBucketMap[r]:e=r+":"+this.bitRateBucketMap[r];n.bitRateBucketTimes=e;try{n.averagedBitRate=s&&o&&o!=0?c+":"+o:null}catch(l){}}catch(l){t("Exception, get transition Session :"+l)}}};amaURLUtility=function(){};amaURLUtility.isURL=function(n){var t=new RegExp("((http|https)(://))?([a-zA-Z0-9]+[.]{1}){2}[a-zA-z0-9]+(/{1}[a-zA-Z0-9]+)*/?","i");return t.test(n)?!0:!1};amaURLUtility.parseURLComponents=function(n){var i={},r,u,f,e;try{r=/^(\w+?:)?\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/.exec(n);i.protocol=typeof r[1]=="undefined"?location.protocol:r[1];i.hostName=r[2];i.port=r[3]?r[3]:"80";i.path=r[4];u=this.path.split("/");f=u.length;i.name=u[f-1];e=i.name.toLowerCase();(e.indexOf(".m3u")!=-1||e.indexOf("manifest")!=-1||e.indexOf(".f4m")!=-1||e.indexOf(".mpd")!=-1)&&f>=3&&(i.name=u[f-2]+"/"+u[f-1]);i.hash=r[5]?r[5]:"";i.search=r[6]?r[6]:"";i.host=i.hostName+":"+i.port}catch(o){t("Exception,  parseStreamUrl :"+o)}return i};streamError={InvalidURL:"URL is not valid",ParsingFailed:"Failed to parse stream URL",Invalid_Manifest:"Invalid manifest received",Invalid_Stream:"Stream is not valid",NoError:"success"};streamInfoBase=function(n,t){this.url=n;this.name=null;this.length=0;this.format=null;this.deliveryType="O";this.isValid=!1;this.streamType=null;this.callback=t};streamInfoBase.prototype.getStreamURL=function(){return this.url};streamInfoBase.prototype.getStreamName=function(){return this.name};streamInfoBase.prototype.getStreamLength=function(){return this.length};streamInfoBase.prototype.getStreamFormat=function(){return this.format};streamInfoBase.prototype.getDeliveryType=function(){return this.deliveryType};streamInfoBase.prototype.getStreamType=function(){return this.streamType};streamInfoBase.prototype.getCallback=function(){return this.callback};streamInfoBase.prototype.parseURL=function(){var n,i,r,u;try{n=/^(\w+?:)?\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/.exec(this.url);this.protocol=typeof n[1]=="undefined"?location.protocol:n[1];this.hostName=n[2];this.port=n[3]?n[3]:"80";this.path=n[4];i=this.path.split("/");r=i.length;this.name=i[r-1];u=this.name.toLowerCase();(u.indexOf(".m3u")!=-1||u.indexOf("manifest")!=-1||u.indexOf(".f4m")!=-1||u.indexOf(".mpd")!=-1)&&r>=3&&(this.name=i[r-2]+"/"+i[r-1]);this.hash=n[5]?n[5]:"";this.search=n[6]?n[6]:"";this.host=this.hostName+":"+this.port}catch(f){t("Exception,  parseStreamUrl :"+f)}};wr=function(n,i,r,u){try{n.prototype=Object.create(i.prototype,{url:{value:r,enumerable:!1},callback:{value:u,enumerable:!1}})}catch(f){t("Exception thrown from InheritObject"+f)}};hlsStreamInfo=function(n,i){this.recursiveDownload=!1;this.isParsed=!1;this.parse=function(n){var s,h,c,w,b,v,r,y,f,l;try{if(!n)return streamError.InvalidURL;if(n.search("#EXTM3U")===-1)return streamError.ParsingFailed;this.streamType="hls";this.format="L";this.parseURL();var e=n.split("\n"),a="",o=/PROGRAM-ID=(\d+)/,i,u;if(e){for(u=0;u<e.length;u++)if(i=o.exec(e[u]))if(i[1]==a)break;else a=i[1];u!=e.length&&(this.format="L")}if(s=this.getStreamURL(),s&&(v=/^(\w+?:)?\/\/([^\/:]+):?([^\/]+)?(\/[^#?]*)#?([^?]+)?\??(.+)?/,r=v.exec(s),h=typeof r[1]=="undefined"?location.protocol:r[1],c=r[2],w=r[3]?r[3]:"80",b=r[4]),o=/^#EXT((INF)|(-X-STREAM-INF))[^\n]*\n([^\n]*)\n/m,t("Checking"),i=o.exec(n))if(t("Checking done "+i[4]),y=new RegExp(".m3u8"),y.exec(i[4])&&h&&c)try{this.recursiveDownload=!0;f=new XMLHttpRequest;l=amaURLUtility.isURL(i[4])?i[4]:h+"//"+c+i[4];t("Requesting URL = "+l);f.open("GET",l,!0);f.onreadystatechange=function(n){return function(){t("current content type from stream url is = "+this.getResponseHeader("content-type"));this.readyState===4&&(this.status===200&&this.responseText&&(/^#EXT-X-ENDLIST/m.exec(this.responseText)?n.deliveryType="O":(n.deliveryType="L",n.length="-1")),n.getCallback()&&n.getCallback()(n))}}(this);f.overrideMimeType&&f.overrideMimeType("text/plain")}catch(p){t("parse, Exception,  parsing play list, "+p)}else/^#EXT-X-ENDLIST/m.exec(n)&&(this.deliveryType="O")}catch(p){t("Exception,  parse : "+p)}return this.isParsed=!0,streamError.NoError};var r=this.parse(n);return r===streamError.NoError?(this.recursiveDownload===!1&&this.getCallback()(this),this.streamType="hls",this.deliveryType="O",this):i?(this.streamType="hls",this.format="L",this.deliveryType="O",this.length=0,this.parseURL(),this.getCallback()(this),this):void 0};dashStreamInfo=function(n,i){this.isParsed=!1;try{this.parse=function(n){var a,e,r,v,s,f,h,c,l;if(!n)return streamError.InvalidURL;if((this.parseURL(),this.format="Dash",this.streamType="dash",a=new DOMParser,e=a.parseFromString(n,"text/xml"),!e)||(r=e.getElementsByTagName("MPD"),!r||!r[0]))return streamError.ParsingFailed;if(v=r[0].getAttribute("type"),v==="dynamic")this.deliveryType="L",this.length=0;else{this.deliveryType="O";var i=r[0].getAttribute("mediaPresentationDuration").replace("PT",""),o=i.search("H"),u=0;this.length=0;o!==-1&&(s=Number(i.substring(0,o)),isNaN(s)||(this.length+=s*36e5,u=o+1));f=i.search("M");f!==-1&&(h=Number(i.substring(u,f)),isNaN(h)||(this.length+=h*6e4,u=f+1));c=i.search("S");c!==-1&&(l=Number(i.substring(u,c)),isNaN(l)||(this.length+=l*1e3));t("Current stream length = "+this.length)}return this.getCallback()(this),this.isParsed=!0,streamError.NoError}}catch(r){t("Exception thrown from dashStreamInfo "+r)}var u=this.parse(n);return u===streamError.NoError?this:i?(this.format="Dash",this.streamType="dash",this.deliveryType="O",this.length=0,this.parseURL(),this.getCallback()(this),this):void 0};nonAdaptiveStream=function(){try{return this.format="P",this.deliveryType="O",this.streamType="nonAdaptiveStream",this.length=0,this.parseURL(),this.getCallback()(this),this}catch(n){t("Exception thrown from nonAdaptiveStream"+n)}};et={};et.FactoryWithURL=function(n,i,r){var f,u;try{u=new XMLHttpRequest;u.open("GET",i,!0);u.onreadystatechange=function(){this.readyState===4&&this.status===200&&this.responseText&&(f=et.FactoryWithContent(n,i,this.responseText,r,!1))};u.send(null)}catch(e){t("Exception thrown from streamFactory.FactoryWithURL"+e)}};et.FactoryWithContent=function(n,i,r,u,f){function o(){return wr(hlsStreamInfo,streamInfoBase,i,u),new hlsStreamInfo(r,f)}function s(){return wr(dashStreamInfo,streamInfoBase,i,u),new dashStreamInfo(r,f)}function h(){return wr(nonAdaptiveStream,streamInfoBase,i,u),new nonAdaptiveStream(r,f)}var e;try{e="hls"===n?o():"dash"===n?s():h()}catch(c){t("Exception thrown from streamFactory.FactoryWithContent "+c)}return e};StreamTypeDetector=function(n,i,r,u){function s(n,i,r){t("Mime type method didn't work. Lets apply parsers one after another - Brute force");var u=et.FactoryWithContent("hls",n,i,r,!1);u.isParsed||(t("not a HLS stream"),u=et.FactoryWithContent("dash",n,i,r,!1),u.isParsed||(t("not Dash either... Assuming Progressive download"),u=et.FactoryWithContent("nonAdaptive",n,i,r,!1)))}var e,o,f;try{if(!n||n==="")return streamError.Invalid_Stream;if(e=RegExp(".m3u8"),o=RegExp(".mpd"),r){if(e.exec(n)){t("Found m3u8 as an extension");et.FactoryWithURL("hls",n,u);return}if(o.exec(n)){t("Found mpd as an extension");et.FactoryWithURL("dash",n,u);return}t("Couldn't find either m3u8 or Dash will try mime type");f=new XMLHttpRequest;t("To get mime type trying HEAD request");f.open("HEAD",f,!0);f.overrideMimeType&&f.overrideMimeType("text/xml");f.onreadystatechange=function(){if(this.readyState===this.DONE){var i=this.getResponseHeader("content-type"),r=null;"application/x-mpegURL"===i||"vnd.apple.mpegURL"===i?(t("Rceived mime type is m3u8"),r=et.FactoryWithContent("hls",n,this.responseText,u)):"application/dash+xml"===i?(t("Rceived mime type is dash"),r=et.FactoryWithContent("dash",n,this.responseText,u)):s(n,this.responseText,u)}};f.send(null)}else e.exec(n)?(t("Found m3u8 as an extension"),streamObj=et.FactoryWithContent("hls",n,i,u,!0)):o.exec(n)?(t("Found mpd as an extension"),streamObj=et.FactoryWithContent("dash",n,i,u,!0)):s(n,i,u);return streamError.NoError}catch(h){t("Exception thrown from StreamTypeDetector "+h)}};fragmentState={Invalid:"Invalid",InPorgress:"InProgress",Completed:"Completed"};fragment=function(n,t){this.id=n;this.bitrate=t;this.timeStamp=(new Date).getTime();this.state=fragmentState.InPorgress;this.downloadTime=0;this.bytesDownloaded=0};streamFragments=function(){this.fragments={};this.fragmentId=0;this.downloadStarted=function(n){var t=new fragment(this.fragmentId,n);this.fragments[this.fragmentId.toString()]=t};this.cleanup=function(){for(var n in this.fragments)delete this.fragments[n]};this.downloadCompleted=function(n,i){if(this.fragments[this.fragmentId.toString()]&&this.fragments[this.fragmentId.toString()].state!==fragmentState.Completed){var r=this.fragments[this.fragmentId.toString()],u=(new Date).getTime();r.downloadTime=u-r.timeStamp;r.state=fragmentState.Completed;i?(r.bytesDownloaded=i,t("bytesDownloaded reported = "+i)):(r.bytesDownloaded=n*r.downloadTime,t("bytesDownloaded not reported and calculated one is = "+r.bytesDownloaded));this.fragmentId++}}};hlsStream=function(){var t=0,n=new streamFragments;this.streamFragmentDownloadStarted=function(i){n.downloadStarted(i);t!==i&&hf(i)};this.streamFragmentDownloadCompleted=function(t){n.downloadCompleted(t,0)};this.cleanupFragments=function(){n.cleanup()};this.getBandwidthFromFragments=function(){var r=0,i=0,t;for(index in n.fragments)t=n.fragments[index],t.state===fragmentState.Completed&&t.bytesDownloaded&&(r+=t.bytesDownloaded,i+=t.downloadTime);return i===0?0:r/i}};br="";bo=function(){var u,e,o,s,h;if(typeof akamaiBCVideoObject!="undefined")try{var i=document.getElementsByTagName("script"),t=0,f="";if(i.length)for(t=0;t<i.length;t++)i[t].src!=null&&(i[t].src.indexOf("79423.analytics.edgesuite.net")!=-1||i[t].src.indexOf("79423.analytics.edgekey.net")!=-1)&&(br=i[t].src,f=lt("configPath",i[t].src),f!=""&&(it.url=f))}catch(c){}else n&&n.configPath?(it.url=n.configPath,r.objectBased=!0):it.url=AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH;try{window&&(u=null,kr()?(u=lt("AkamaiAnalytics_configPath",window.parent.location),u&&(it.url=u)):(u=lt("AkamaiAnalytics_configPath",window.location),u&&(it.url=u)))}catch(c){}it.url&&(e=parseInt(lt("enableGenericAPI",it.url)),e==1&&(r.objectBased=!0),it.beaconSent=parseInt(lt("beaconSentNotify",it.url)),o=parseInt(lt("setVideoObject",it.url)),o==1&&(r.videoPassed=!0),s=parseInt(lt("subscribeVideo",it.url)),s==1&&(r.videoPassed=!0),h=parseInt(lt("exception",it.url)),h==1&&(w.printException=!0),w.configURLCsmaDebug=parseInt(lt("debug",it.url)))}();try{window&&(w.pageURLCsmaDebug=kr()?parseInt(lt("AkamaiAnalytics_debug",window.parent.location)):parseInt(lt("AkamaiAnalytics_debug",window.location)))}catch(vo){}try{typeof akamaiBCVideoObject!="undefined"&&typeof brightcovePerforceVersion!="undefined"&&eu("std:pluginVersion","Brightcove-"+brightcovePerforceVersion)}catch(vo){t("Exception,  pluginVersion: "+vo)}ie();li(rs,it.url,!1,!0);this.getValueFromQueryString=function(){return lt(key,searchURL)};this.logMessage=function(n,i){t(n,i)};var ru="AkamaiAnalytics_BrowserSessionId",ai=null,a=null,rf=null,ur=null,fr=null,vt=null,de=null;navigator&&navigator.userAgent&&(de=navigator.userAgent);ah();yh();ph();o={ended:0,init:1,playing:2,pause:3,seek:4,rebuffering:5,resumeBuffering:6};var g=[0,0,0,0,0,0,0,0,0,0,0,0],uf=[0,0,0,0,0,0,0,0,0,0,0,0],ge,ff="0,0,0,0,0,0,0,0";r.akamai=new ef(r);uu=["UNKNOWN","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"];this.getViewerId=function(){try{var n=r.akamai;return n&&n.viewerId?n.viewerId:null}catch(t){return null}};this.setData=function(n,t){if(eu(n,t),v&&r.objectBased){var i={methodName:"setData"};i[n]=t;this.processLogs({api:"reportAPI",value:i})}};this.handleStreamSwitch=function(){if(gh(),v&&r.objectBased){t("handleStreamSwitch()","API");this.processLogs({api:"reportAPI",value:{methodName:"handleStreamSwitch"}})}};this.handleTitleSwitch=function(n){if(nc(n),v&&r.objectBased){t("handleTitleSwitch()","API");var i={methodName:"handleTitleSwitch",customData:n};this.processLogs({api:"reportAPI",value:i},ot)}};this.handleFeedbackEvent=function(){eo()};this.handleApplicationExit=function(){if(tc(),v&&r.objectBased){t("handleApplicationExit()","API");this.processLogs({api:"reportAPI",value:{methodName:"handleApplicationExit"}})}};this.enableServerIpLookUp=function(){if(hr=!0,v&&r.objectBased){t("enableServerIpLookUp()","API");this.processLogs({api:"reportAPI",value:{methodName:"enableServerIpLookUp"}})}};this.disableServerIpLookUp=function(){if(hr=!1,v&&r.objectBased){t("disableServerIpLookUp()","API");this.processLogs({api:"reportAPI",value:{methodName:"disableServerIpLookUp"}},ot)}};this.enableLocation=function(n){if(bh(n),v&&r.objectBased){t("enableLocation("+n+")","API");var i={methodName:"enableLocation",enable:n};this.processLogs({api:"reportAPI",value:i})}};this.enableManifestRequest=function(n){su=n};this.setURLManifest=function(n){hu=n};this.handleSessionInit=function(i,f){try{if(i&&(typeof n!="object"&&(n={}),i.streamHeadPosition&&(n.streamHeadPosition=i.streamHeadPosition),i.streamLength&&(n.streamLength=i.streamLength),i.streamURL&&(n.streamURL=i.streamURL),i.bytesLoaded&&(n.bytesLoaded=i.bytesLoaded),i.customDataFunction&&(n.customDataFunction=i.customDataFunction),n.customDataFunction&&(ar=n.customDataFunction),i.firstBitRate&&(n.firstBitRate=i.firstBitRate),n.firstBitRate&&hf(n.firstBitRate,f)),v&&r.objectBased){setTimeout(function(n){n.setDiagnoserWindowLoaded(!0);n.processLogs({api:"setConfigXML",value:AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH});var t="";t+=r.objectBased===!0?"JS-":"HTML5-";t+=bt;kt.length!=0&&ii.length!=0&&(t+=":",t+=kt,t+="-",t+=ii);n.processLogs({api:"setCurrentVersion",value:t});n.processLogs({api:"setCustomDimension",value:dt});n.processLogs({api:"reportSetupParams",value:AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH});n.processLogs({api:"reportSetupParams",value:u.beaconUrl.toLowerCase()});n.processLogs({api:"reportSetupParams",value:ti})},3e3,this);t("handleSessionInit()","API");var e={methodName:"handleSessionInit",callback:i};typeof f!="undefined"&&(e.epochTime=f);self.processLogs({api:"reportAPI",value:e},ot)}yt(r,f)}catch(o){}};this.handleBitRateSwitch=function(n,i){if(hf(n,i),v&&r.objectBased){t("handleBitRateSwitch("+n+")","API");var u={methodName:"handleBitRateSwitch",bitRate:n};typeof i!="undefined"&&(u.epochTime=i);this.processLogs({api:"reportAPI",value:u})}};this.handlePlaying=function(n){if(yt(r,n),pt(r,n),v&&r.objectBased){t("handlePlaying()","API");var i={methodName:"handlePlaying"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i},ot)}};this.handlePlayEnd=function(n,i){if(r.objectBased&&(r.endReason=n),ro(r,i),v&&r.objectBased){t("handlePlayEnd("+n+")","API");var u={methodName:"handlePlayEnd",endReasonCode:n};typeof bitRateSwitchEpochTime!="undefined"&&(u.epochTime=i);this.processLogs({api:"reportAPI",value:u})}};this.handleMediaChangedEvent=function(){vi(r)};this.handlePause=function(n){if(sf(r,n),v&&r.objectBased){t("handlePause()","API");var i={methodName:"handlePause"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i},ot)}};this.handleResume=function(n){if(yt(r,n),pt(r,n),v&&r.objectBased){t("handleResume()","API");var i={methodName:"handleResume"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i})}};this.handleBufferStart=function(n){if(cf(r,n),v&&r.objectBased){t("handleBufferStart()","API");var i={methodName:"handleBufferStart"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i},ot)}};this.handleBufferEnd=function(n){if(yt(r,n),pt(r,n),v&&r.objectBased){t("handleBufferEnd()","API");var i={methodName:"handleBufferEnd"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i})}};this.handleError=function(n){try{if(r.objectBased?r.errorReason=n:r.externalError=n,fu(r),v&&r.objectBased){t("handleError("+n+")","API");var i={methodName:"handleError",errorReason:n};this.processLogs({api:"reportAPI",value:i},ot)}}catch(u){}};this.handleTimeupdateEvent=function(){lf(r)};this.updateAdObject=function(n){yf(n)};this.handleAdLoaded=function(n,i){try{if(co(n,i),v&&r.objectBased){t("handleAdLoaded()","API");var u={methodName:"handleAdLoaded",adSetDataObj:n};typeof i!="undefined"&&(u.epochTime=i);this.processLogs({api:"reportAPI",value:u})}}catch(f){}};this.handleAdStarted=function(n,i){if(ec(n,i),v&&r.objectBased){t("handleAdStarted()","API");var u={methodName:"handleAdStarted",adSetDataObj:n};typeof i!="undefined"&&(u.epochTime=i);this.processLogs({api:"reportAPI",value:u},ot)}};this.handleAdCompleted=function(n){if(oc(n),v&&r.objectBased){t("handleAdCompleted()","API");var i={methodName:"handleAdCompleted"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i})}};this.handleAdFirstQuartile=function(){if(sc(),v&&r.objectBased){t("handleAdFirstQuartile()","API");this.processLogs({api:"reportAPI",value:{methodName:"handleAdFirstQuartile"}},ot)}};this.handleAdMidPoint=function(){if(hc(),v&&r.objectBased){t("handleAdMidPoint()","API");this.processLogs({api:"reportAPI",value:{methodName:"handleAdMidPoint"}})}};this.handleAdThirdQuartile=function(){if(cc(),v&&r.objectBased){t("handleAdThirdQuartile()","API");this.processLogs({api:"reportAPI",value:{methodName:"handleAdThirdQuartile"}},ot)}};this.handleAdStopped=function(n){if(lc(n),v&&r.objectBased){t("handleAdStopped()","API");var i={methodName:"handleAdStopped"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i})}};this.handleAdError=function(n){if(ac(n),v&&r.objectBased){t("handleAdError()","API");var i={methodName:"handleAdError"};typeof n!="undefined"&&(i.epochTime=n);this.processLogs({api:"reportAPI",value:i},ot)}};this.handleSetupAISEvent=function(n,t,i){ic(n,t,i)};this.getStream=function(){var n=r.akamai;return n.stream};this.getChildWindow=function(){return kf};this.setDiagnoserWindowLoaded=function(n){cu=n};this.isDiagnoserWindowLoaded=function(){return cu};this.getHostedUrl=function(){return ot};this.pushToMessageStore=function(n){si.push(n)};this.getMessageStoreLength=function(){return si.length};this.flushMessageStore=function(){si=[]};this.getStoredMessageAt=function(n){return si[n]};this.getShouldAnalyze=function(){return v};this.processLogs=function(n){try{if(this.isDiagnoserWindowLoaded()){var r=this.getMessageStoreLength(),t=this.getChildWindow();if(t){if(r>0){for(i=0;i<r;i++)t.postMessage(this.getStoredMessageAt(i),this.getHostedUrl());this.flushMessageStore()}t.postMessage(n,this.getHostedUrl())}}else this.pushToMessageStore(n)}catch(u){}};this.receiveAISInitRequest=function(n){var i,r;try{if(f.initObj=n,oo(f.initUrlId),f.initObj==""||f.initObj==null){f.requestFailed=!0;return}if(f.requestFailed)return;if(f.initObj.authenticated){if(f.akamai={},f.akamai.ais_queryToken=f.initObj.querytoken,f.initObj.idps){i=f.initObj.idps;for(r in i)f.akamai.ais_idpId=r,f.akamai.ais_idpName=i[r].name,f.akamai.ais_idpDisplayName=i[r].display_name,f.akamai.ais_idpUrl=i[r].url}af(f.identityUrl,f.identityUrlId)}else f.requestFailed||(t("receiveAISInitRequest, retrying the request"),++f.aisRetries,f.aisRetries<f.aisRequestLimit&&(f.retryTimer=ft(af,f.aisRequestInterval,[f.initUrl,f.initUrlId])))}catch(u){f.requestFailed=!0}};this.receiveAISIdentityRequest=function(n){try{if(f.identityObj=n,oo(f.identityUrlId),n==null||n=="")return;f.akamai||(f.akamai={});n.indentity&&n.identity.aisuid&&(f.akamai.ais_aisuid=n.identity.aisuid);rc()}catch(t){f.requestFailed=!0}};this.subscribeVideoObject=function(n){try{n&&pf(n)}catch(t){}};ol()}function setAkamaiMediaAnalyticsData(n,t){try{if(akaMediaAnalytics&&(akaMediaAnalytics.setData(n,t),akaMediaAnalytics.getShouldAnalyze())){var i={methodName:"setAkamaiMediaAnalyticsData"};i[n]=t;akaMediaAnalytics.processLogs({api:"reportAPI",value:i})}}catch(r){}}function akamaiPlaybackCompleted(){try{if(akaMediaAnalytics&&(akaMediaAnalytics.handlePlayEnd(),akaMediaAnalytics.getShouldAnalyze())){var n={methodName:"akamaiPlaybackCompleted",endReasonCode:endReason};akaMediaAnalytics.processLogs({api:"reportAPI",value:n})}}catch(t){}}function akamaiGetViewerId(){try{var n=null;akaMediaAnalytics&&(n=akaMediaAnalytics.getViewerId())}catch(t){}return n}function akamaiSetStreamURL(n,t){try{n!=null&&n!=""&&setAkamaiMediaAnalyticsData("streamURL",n);akaMediaAnalytics&&typeof t!="undefined"&&akaMediaAnalytics.enableManifestRequest(t)}catch(i){}}function akamaiSetURLManifest(n){try{akaMediaAnalytics&&akaMediaAnalytics.setURLManifest(n)}catch(t){}}function akamaiSetViewerId(n){if((n==null||n=="")&&(n="-"),akaMediaAnalytics&&(akaMediaAnalytics.setData("viewerId",n),akaMediaAnalytics.setData("clientId",n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiSetViewerId"};t.viewerId=n;akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiSetViewerDiagnosticsId(n){if((n==null||n=="")&&(n="-"),akaMediaAnalytics&&(akaMediaAnalytics.setData("viewerDiagnosticsId",n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiSetViewerDiagnosticsId"};t.viewerDiagnosticsId=n;akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiUpdateAdObject(n){akaMediaAnalytics&&akaMediaAnalytics.updateAdObject(n)}function akamaiHandleAdStarted(n){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdStarted(n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiHandleAdStarted",adSetDataObj:n};akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiHandleAdCompleted(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdCompleted(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleAdCompleted"}})}function akamaiHandleAdLoaded(n){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdLoaded(n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiHandleAdLoaded",adSetDataObj:n};akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiHandleAdFirstQuartile(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdFirstQuartile(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleAdFirstQuartile"}})}function akamaiHandleAdMidPoint(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdMidPoint(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleAdMidPoint"}})}function akamaiHandleAdThirdQuartile(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdThirdQuartile(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleAdThirdQuartile"}})}function akamaiHandleAdError(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdError(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleAdError"}})}function akamaiHandleAdStopped(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleAdStopped(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleAdStopped"}})}function akamaiHandleStreamSwitch(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleStreamSwitch(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleStreamSwitch"}})}function akamaiHandleTitleSwitch(n){if(akaMediaAnalytics&&(akaMediaAnalytics.handleTitleSwitch(n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiHandleTitleSwitch",customData:n};akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiSetupAIS(n,t,i){akaMediaAnalytics&&akaMediaAnalytics.handleSetupAISEvent(n,t,i)}function akamaiHandleBitRateSwitch(n){if(akaMediaAnalytics&&(akaMediaAnalytics.handleBitRateSwitch(n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiHandleBitRateSwitch",bitRate:n};akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiHandleApplicationExit(){if(akaMediaAnalytics&&(akaMediaAnalytics.handleApplicationExit(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiHandleApplicationExit"}})}function akamaiSetVideoObject(n){akaMediaAnalytics&&akaMediaAnalytics.subscribeVideoObject(n)}function akamaiSubscribeVideoObject(n){akaMediaAnalytics&&akaMediaAnalytics.subscribeVideoObject(n)}function akamaiEnableLocation(n){if(akaMediaAnalytics&&(akaMediaAnalytics.enableLocation(n),akaMediaAnalytics.getShouldAnalyze())){var t={methodName:"akamaiEnableLocation",enable:enable};akaMediaAnalytics.processLogs({api:"reportAPI",value:t})}}function akamaiDisableServerIpLookup(){try{if(akaMediaAnalytics&&(akaMediaAnalytics.disableServerIpLookUp(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiDisableServerIpLookup"}})}catch(n){}}function akamaiEnableServerIpLookup(){try{if(akaMediaAnalytics&&(akaMediaAnalytics.enableServerIpLookUp(),akaMediaAnalytics.getShouldAnalyze()))akaMediaAnalytics.processLogs({api:"reportAPI",value:{methodName:"akamaiEnableServerIpLookup"}})}catch(n){}}function akamaiHandleError(n){try{akaMediaAnalytics&&akaMediaAnalytics.handleError(n)}catch(t){}}function fragmentDownloadStarted(n){akamaiFragmentDownloadStarted(n)}function fragmentDownloadCompleted(n){akamaiFragmentDownloadCompleted(n)}function akamaiFragmentDownloadStarted(n){var t=akaMediaAnalytics.getStream(),i;t&&n&&(t.streamFragmentDownloadStarted(n),akaMediaAnalytics.getShouldAnalyze()&&(i={methodName:"akamaiFragmentDownloadStarted",bitRate:n},akaMediaAnalytics.processLogs({api:"reportAPI",value:i})))}function akamaiFragmentDownloadCompleted(n){var t=akaMediaAnalytics.getStream(),i;t&&n&&(t.streamFragmentDownloadCompleted(n),akaMediaAnalytics.getShouldAnalyze()&&(i={methodName:"akamaiFragmentDownloadCompleted",bitRate:n},akaMediaAnalytics.processLogs({api:"reportAPI",value:i})))}function _handleMultipleEvents(n,t,i,r){vjs.arr.forEach(i,function(i){n(t,i,r)})}function _logType(n,t){var i,u,r;i=Array.prototype.slice.call(t);u=function(){};r=window.console||{log:u,warn:u,error:u};n?i.unshift(n.toUpperCase()+":"):n="log";vjs.log.history.push(i);i.unshift("VIDEOJS:");r[n].apply?r[n].apply(r,i):r[n](i.join(" "))}function ObjectIron(n){var t;for(t=[],i=0,len=n.length;i<len;i+=1)n[i].isRoot?t.push("root"):t.push(n[i].name);var e=function(n,t){var i;if(n!==null&&t!==null)for(i in n)n.hasOwnProperty(i)&&(t.hasOwnProperty(i)||(t[i]=n[i]))},u=function(n,t,i){var o,s,r,u,f;if(n!==null&&n.length!==0)for(o=0,s=n.length;o<s;o+=1)r=n[o],t.hasOwnProperty(r.name)&&(i.hasOwnProperty(r.name)?r.merge&&(u=t[r.name],f=i[r.name],typeof u=="object"&&typeof f=="object"?e(u,f):i[r.name]=r.mergeFunction!=null?r.mergeFunction(u,f):u+f):i[r.name]=t[r.name])},r=function(n,t){var f=n,o,c,s,l,h,i,e;if(f.children!==null&&f.children.length!==0)for(o=0,c=f.children.length;o<c;o+=1)if(i=f.children[o],t.hasOwnProperty(i.name))if(i.isArray)for(h=t[i.name+"_asArray"],s=0,l=h.length;s<l;s+=1)e=h[s],u(f.properties,t,e),r(i,e);else e=t[i.name],u(f.properties,t,e),r(i,e)},f=function(i){var u,h,c,e,o,s,l;if(i===null||typeof i!="object")return i;for(u=0,h=t.length;u<h;u+=1)t[u]==="root"&&(o=n[u],s=i,r(o,s));for(e in i)if(i.hasOwnProperty(e)){if(c=t.indexOf(e),c!==-1)if(o=n[c],o.isArray)for(l=i[e+"_asArray"],u=0,h=l.length;u<h;u+=1)s=l[u],r(o,s);else s=i[e],r(o,s);f(i[e])}return i};return{run:f}}function X2JS(n,t,i){function h(n){var t=n.localName;return t==null&&(t=n.baseName),(t==null||t=="")&&(t=n.nodeName),t}function p(n){return n.prefix}function c(n){return typeof n=="string"?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):n}function w(n){return n.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function f(r){var v,it,o,tt,y,c,s,rt,b,k,l,a,d,ut,g,nt;if(r.nodeType==u.DOCUMENT_NODE){for(c=r.firstChild,v=0,it=r.childNodes.length;v<it;v+=1)if(r.childNodes[v].nodeType!==u.COMMENT_NODE){c=r.childNodes[v];break}return i?o=f(c):(o={},s=h(c),o[s]=f(c)),o}if(r.nodeType==u.ELEMENT_NODE){for(o={},o.__cnt=0,tt=r.childNodes,y=0;y<tt.length;y++)if(c=tt.item(y),s=h(c),o.__cnt++,o[s]==null)o[s]=f(c),o[s+"_asArray"]=new Array(1),o[s+"_asArray"][0]=o[s];else{for(o[s]!=null&&(o[s]instanceof Array||(rt=o[s],o[s]=[],o[s][0]=rt,o[s+"_asArray"]=o[s])),b=0;o[s][b]!=null;)b++;o[s][b]=f(c)}for(k=0;k<r.attributes.length;k++){for(l=r.attributes.item(k),o.__cnt++,a=l.value,d=0,ut=n.length;d<ut;d++)g=n[d],g.test.call(this,l.value)&&(a=g.converter.call(this,l.value),o[t+l.name+g.suffix()]=a,a=null);a&&(o[t+l.name]=a)}return nt=p(r),nt!=null&&nt!=""&&(o.__cnt++,o.__prefix=nt),o.__cnt==1&&o["#text"]!=null&&(o=o["#text"]),o["#text"]!=null&&(o.__text=o["#text"],e&&(o.__text=w(o.__text)),delete o["#text"],delete o["#text_asArray"]),o["#cdata-section"]!=null&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],delete o["#cdata-section_asArray"]),(o.__text!=null||o.__cdata!=null)&&(o.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),o}return r.nodeType==u.TEXT_NODE||r.nodeType==u.CDATA_SECTION_NODE?r.nodeValue:r.nodeType==u.COMMENT_NODE?null:void 0}function r(n,t,i,r){var e="<"+(n!=null&&n.__prefix!=null?n.__prefix+":":"")+t,u,f,o;if(i!=null)for(u=0;u<i.length;u++)f=i[u],o=n[f],e+=" "+f.substr(1)+"='"+o+"'";return e+(r?"/>":">")}function o(n,t){return"<\/"+(n.__prefix!=null?n.__prefix+":":"")+t+">"}function b(n,t){return n.indexOf(t,n.length-t.length)!==-1}function l(n,t){return b(t.toString(),"_asArray")||t.toString().indexOf("_")==0||n[t]instanceof Function?!0:!1}function a(n){var t=0,i;if(n instanceof Object)for(i in n)l(n,i)||t++;return t}function v(n){var i=[],t;if(n instanceof Object)for(t in n)t.toString().indexOf("__")==-1&&t.toString().indexOf("_")==0&&i.push(t);return i}function k(n){var t="";return n.__cdata!=null&&(t+="<![CDATA["+n.__cdata+"]\]>"),n.__text!=null&&(t+=e?c(n.__text):n.__text),t}function y(n){var t="";return n instanceof Object?t+=k(n):n!=null&&(t+=e?c(n):n),t}function d(n,t,i){var f="",u;if(n.length==0)f+=r(n,t,i,!0);else for(u=0;u<n.length;u++)f+=r(n[u],t,v(n[u]),!1),f+=s(n[u]),f+=o(n[u],t);return f}function s(n){var i="",h=a(n),u,t,f,e;if(h>0)for(u in n)l(n,u)||(t=n[u],f=v(t),t==null||t==undefined?i+=r(t,u,f,!0):t instanceof Object?t instanceof Array?i+=d(t,u,f):(e=a(t),e>0||t.__text!=null||t.__cdata!=null?(i+=r(t,u,f,!1),i+=s(t),i+=o(t,u)):i+=r(t,u,f,!0)):(i+=r(t,u,f,!1),i+=y(t),i+=o(t,u)));return i+y(n)}(t===null||t===undefined)&&(t="_");(i===null||i===undefined)&&(i=!1);var g="1.0.11",e=!1,u={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(n){var t,i;return window.DOMParser?(i=new window.DOMParser,t=i.parseFromString(n,"text/xml")):(n.indexOf("<?")==0&&(n=n.substr(n.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)),t};this.xml2json=function(n){return f(n)};this.xml_str2json=function(n){var t=this.parseXmlString(n);return this.xml2json(t)};this.json2xml_str=function(n){return s(n)};this.json2xml=function(n){var t=this.json2xml_str(n);return this.parseXmlString(t)};this.getVersion=function(){return g};this.escapeMode=function(n){e=n}}function handleFairPlayErrors(n,t){amp.Player.raiseError.call(this.player(),"Html5FairPlayHLS",n,t)}function handleFairPlayEvent(n){this.player().trigger(n)}typeof akamaiBCVideoObject!="undefined"?akaMediaAnalytics=new AkaHTML5MediaAnalytics(null):typeof AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH!="undefined"&&AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH.indexOf("enableGenericAPI=1")==-1&&AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH.indexOf("subscribeVideo")==-1&&(akaMediaAnalytics=new AkaHTML5MediaAnalytics(null));var ampVersion="1.8.3.4",vjs,videojs,hasOwnProp,errNum,swfobject,Uint8ArrayUtil,__extends,AzureHtml5JS,amp,ampURL,org,AMP,UrlRewriter;for(document.createElement("video"),document.createElement("audio"),document.createElement("track"),vjs=function(n,t,i){var r;if(typeof n=="string"){if(n.indexOf("#")===0&&(n=n.slice(1)),vjs.players[n])return t&&vjs.log.warn('Player "'+n+'" is already initialised. Options will not be applied.'),i&&vjs.players[n].ready(i),vjs.players[n];r=vjs.el(n)}else r=n;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return r.player||new vjs.Player(r,t,i)},videojs=window.videojs=vjs,vjs.CDN_VERSION="GENERATED_CDN_VSN",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.VERSION="GENERATED_FULL_VSN",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],inactivityTimeout:2e3,children:{mediaLoader:{},posterImage:{},loadingSpinner:{},textTrackDisplay:{},bigPlayButton:{},controlBar:{},errorDisplay:{},textTrackSettings:{},hotKeys:{},progressTimeTips:{}},language:document.getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"SRC_PLAYER_MISMATCH"},vjs.addLanguage=function(n,t){return vjs.options.languages[n]=vjs.options.languages[n]!==undefined?vjs.util.mergeOptions(vjs.options.languages[n],t):t,vjs.options.languages},vjs.players={},typeof define=="function"&&define.amd?define("videojs",[],function(){return videojs}):typeof exports=="object"&&typeof module=="object"&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(n){var r,t,i;n=n||{};r=n.init||n.init||this.prototype.init||this.prototype.init||function(){};t=function(){r.apply(this,arguments)};t.prototype=vjs.obj.create(this.prototype);t.prototype.constructor=t;t.extend=vjs.CoreObject.extend;t.create=vjs.CoreObject.create;for(i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);return t},vjs.CoreObject.create=function(){var n=vjs.obj.create(this.prototype);return this.apply(n,arguments),n},vjs.on=function(n,t,i){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.on,n,t,i);var r=vjs.getData(n);r.handlers||(r.handlers={});r.handlers[t]||(r.handlers[t]=[]);i.guid||(i.guid=vjs.guid++);r.handlers[t].push(i);r.dispatcher||(r.disabled=!1,r.dispatcher=function(t){var u,f,i,e;if(!r.disabled&&(t=vjs.fixEvent(t),u=r.handlers[t.type],u))for(f=u.slice(0),i=0,e=f.length;i<e;i++)if(t.isImmediatePropagationStopped())break;else f[i].call(n,t)});r.handlers[t].length==1&&(n.addEventListener?n.addEventListener(t,r.dispatcher):n.attachEvent&&n.attachEvent("on"+t,r.dispatcher))},vjs.off=function(n,t,i){var r,e,o,u,f;if(vjs.hasData(n)&&(r=vjs.getData(n),r.handlers)){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.off,n,t,i);if(e=function(t){r.handlers[t]=[];vjs.cleanUpEvents(n,t)},!t){for(o in r.handlers)e(o);return}if(u=r.handlers[t],u){if(!i){e(t);return}if(i.guid)for(f=0;f<u.length;f++)u[f].guid===i.guid&&u.splice(f--,1);vjs.cleanUpEvents(n,t)}}},vjs.cleanUpEvents=function(n,t){var i=vjs.getData(n);i.handlers[t].length===0&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));vjs.isEmpty(i.handlers)&&(delete i.handlers,delete i.dispatcher,delete i.disabled);vjs.isEmpty(i)&&vjs.removeData(n)},vjs.fixEvent=function(n){function f(){return!0}function e(){return!1}var t,u,i,r;if(!n||!n.isPropagationStopped){t=n||window.event;n={};for(u in t)u!=="layerX"&&u!=="layerY"&&u!=="keyLocation"&&(u=="returnValue"&&t.preventDefault||(n[u]=t[u]));n.target||(n.target=n.srcElement||document);n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement;n.preventDefault=function(){t.preventDefault&&t.preventDefault();n.returnValue=!1;n.isDefaultPrevented=f;n.defaultPrevented=!0};n.isDefaultPrevented=e;n.defaultPrevented=!1;n.stopPropagation=function(){t.stopPropagation&&t.stopPropagation();n.cancelBubble=!0;n.isPropagationStopped=f};n.isPropagationStopped=e;n.stopImmediatePropagation=function(){t.stopImmediatePropagation&&t.stopImmediatePropagation();n.isImmediatePropagationStopped=f;n.stopPropagation()};n.isImmediatePropagationStopped=e;n.clientX!=null&&(i=document.documentElement,r=document.body,n.pageX=n.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),n.pageY=n.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0));n.which=n.charCode||n.keyCode;n.button!=null&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n},vjs.trigger=function(n,t){var u=vjs.hasData(n)?vjs.getData(n):{},i=n.parentNode||n.ownerDocument,r;return typeof t=="string"&&(t={type:t,target:n}),t=vjs.fixEvent(t),u.dispatcher&&u.dispatcher.call(n,t),i&&!t.isPropagationStopped()&&t.bubbles!==!1?vjs.trigger(i,t):i||t.defaultPrevented||(r=vjs.getData(t.target),t.target[t.type]&&(r.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),r.disabled=!1)),!t.defaultPrevented},vjs.one=function(n,t,i){if(vjs.obj.isArray(t))return _handleMultipleEvents(vjs.one,n,t,i);var r=function(){vjs.off(n,t,r);i.apply(this,arguments)};r.guid=i.guid=i.guid||vjs.guid++;vjs.on(n,t,r)},hasOwnProp=Object.prototype.hasOwnProperty,vjs.createEl=function(n,t){var i;return n=n||"div",t=t||{},i=document.createElement(n),vjs.obj.each(t,function(n,t){n.indexOf("aria-")!==-1||n=="role"?i.setAttribute(n,t):i[n]=t}),i},vjs.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(n){function t(){}return t.prototype=n,new t},vjs.obj.each=function(n,t,i){for(var r in n)hasOwnProp.call(n,r)&&t.call(i||this,r,n[r])},vjs.obj.merge=function(n,t){if(!t)return n;for(var i in t)hasOwnProp.call(t,i)&&(n[i]=t[i]);return n},vjs.obj.deepMerge=function(n,t){var i,r,u;n=vjs.obj.copy(n);for(i in t)hasOwnProp.call(t,i)&&(r=n[i],u=t[i],n[i]=vjs.obj.isPlain(r)&&vjs.obj.isPlain(u)?vjs.obj.deepMerge(r,u):t[i]);return n},vjs.obj.copy=function(n){return vjs.obj.merge({},n)},vjs.obj.isPlain=function(n){return!!n&&typeof n=="object"&&n.toString()==="[object Object]"&&n.constructor===Object},vjs.obj.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},vjs.isNaN=function(n){return n!==n},vjs.bind=function(n,t,i){t.guid||(t.guid=vjs.guid++);var r=function(){return t.apply(n,arguments)};return r.guid=i?i+"_"+t.guid:t.guid,r},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(n){var t=n[vjs.expando];return t||(t=n[vjs.expando]=vjs.guid++),vjs.cache[t]||(vjs.cache[t]={}),vjs.cache[t]},vjs.hasData=function(n){var t=n[vjs.expando];return!(!t||vjs.isEmpty(vjs.cache[t]))},vjs.removeData=function(n){var t=n[vjs.expando];if(t){delete vjs.cache[t];try{delete n[vjs.expando]}catch(i){n.removeAttribute?n.removeAttribute(vjs.expando):n[vjs.expando]=null}}},vjs.isEmpty=function(n){for(var t in n)if(n[t]!==null)return!1;return!0},vjs.hasClass=function(n,t){return(" "+n.className+" ").indexOf(" "+t+" ")!==-1},vjs.addClass=function(n,t){vjs.hasClass(n,t)||(n.className=n.className===""?t:n.className+" "+t)},vjs.removeClass=function(n,t){var i,r;if(vjs.hasClass(n,t)){for(i=n.className.split(" "),r=i.length-1;r>=0;r--)i[r]===t&&i.splice(r,1);n.className=i.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),function(){var n=document.createElement("track");n.kind="captions";n.srclang="en";n.label="English";vjs.TEST_VID.appendChild(n)}(),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var n=vjs.USER_AGENT.match(/OS (\d+)_/i);if(n&&n[1])return n[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=function(){var n=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i?parseFloat(n[1]+"."+n[2]):t?t:null):null}(),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_EDGE=/Edge/i.test(vjs.USER_AGENT),vjs.IS_IE=!!document.documentMode,vjs.IS_IE8=/MSIE\s8\.0/.test(vjs.USER_AGENT),vjs.IS_IEMOBILE=/IEMobile\/([0-9.]*)/.test(vjs.USER_AGENT),vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.FIREFOX_VERSION=function(){var n=vjs.USER_AGENT.match(/Firefox\/([0-9.]*)/i);if(n&&n[1])return n[1]}(),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT)&&!vjs.IS_EDGE,vjs.IS_SAFARI=/Safari/i.test(vjs.USER_AGENT)&&!vjs.IS_CHROME&&!vjs.IS_EDGE&&!vjs.IS_IEMOBILE,vjs.IS_MACWEBVIEW=/Macintosh/i.test(vjs.USER_AGENT)&&/AppleWebKit/i.test(vjs.USER_AGENT)&&!vjs.IS_SAFARI&&!vjs.IS_FIREFOX&&!vjs.IS_CHROME,vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.BACKGROUND_SIZE_SUPPORTED=("backgroundSize"in vjs.TEST_VID.style),vjs.setElementAttributes=function(n,t){vjs.obj.each(t,function(t,i){i===null||typeof i=="undefined"||i===!1?n.removeAttribute(t):n.setAttribute(t,i===!0?"":i)})},vjs.getElementAttributes=function(n){var f,e,i,r,u,t;if(f={},e=",autoplay,controls,loop,muted,default,",n&&n.attributes&&n.attributes.length>0)for(i=n.attributes,t=i.length-1;t>=0;t--)r=i[t].name,u=i[t].value,(typeof n[r]=="boolean"||e.indexOf(","+r+",")!==-1)&&(u=u!==null?!0:!1),f[r]=u;return f},vjs.getComputedDimension=function(n,t){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(n,"").getPropertyValue(t):n.currentStyle&&(i=n["client"+t.substr(0,1).toUpperCase()+t.substr(1)]+"px"),i},vjs.insertFirst=function(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},vjs.browser={},vjs.el=function(n){return n.indexOf("#")===0&&(n=n.slice(1)),document.getElementById(n)},vjs.formatTime=function(n,t){t=t||n;var i=Math.floor(n%60),r=Math.floor(n/60%60),u=Math.floor(n/3600),f=Math.floor(t/60%60),e=Math.floor(t/3600);return(isNaN(n)||n===Infinity)&&(u=r=i="-"),u=u>0||e>0?u+":":"",r=((u||f>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,u+r+i},vjs.blockTextSelection=function(){document.body.focus();document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(n){return(n+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(n,t){return t||(t=0),Math.round(n*Math.pow(10,t))/Math.pow(10,t)},vjs.createTimeRange=function(n,t){return{length:1,start:function(){return n},end:function(){return t}}},vjs.setLocalStorage=function(n,t){try{var r=window.localStorage||!1;if(!r)return;r[n]=t}catch(i){i.code==22||i.code==1014?vjs.log("LocalStorage Full (VideoJS)",i):i.code==18?vjs.log("LocalStorage not allowed (VideoJS)",i):vjs.log("LocalStorage Error (VideoJS)",i)}},vjs.getAbsoluteURL=function(n){var t=vjs.decodeURL(n);return t.hierarchical.match(/^(https?:)?\/\//i)?vjs.encodeURL(t):vjs.createEl("div",{innerHTML:'<a href="'+vjs.encodeURL(t)+'">x<\/a>'}).firstChild.href},vjs.urlQueryRegex_=/^[=&;\/]{1}/,vjs.urlQueryRegexCap_=/([=&;\/]{1})/,vjs.decodeURL=function(n){var u=n.indexOf("?"),r={hierarchical:decodeURI(n),query:[]},f,i,t;if(-1!==u)for(r.hierarchical=decodeURI(n.slice(0,u)),f=n.slice(u+1),i=f.split(vjs.urlQueryRegexCap_),t=0;t<i.length;t++)i[t].match(vjs.urlQueryRegex_)?r.query.push(i[t]):r.query.push(decodeURIComponent(i[t]));return r},vjs.encodeURL=function(n){var i="",t;if(n.query&&n.query.length)for(i="?",t=0;t<n.query.length;t++)i+=n.query[t].match(vjs.urlQueryRegex_)?n.query[t]:encodeURIComponent(n.query[t]);return encodeURI(n.hierarchical)+i},vjs.parseUrl=function(n){var i,r,e,f,t,u;for(n=encodeURI(n),f=["protocol","hostname","port","pathname","search","hash","host"],r=vjs.createEl("a",{href:n}),e=r.host===""&&r.protocol!=="file:",e&&(i=vjs.createEl("div"),i.innerHTML='<a href="'+n+'"><\/a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(i)),t={},u=0;u<f.length;u++)t[f[u]]=r[f[u]];return t.protocol==="http:"&&(t.host=t.host.replace(/:80$/,"")),t.protocol==="https:"&&(t.host=t.host.replace(/:443$/,"")),e&&document.body.removeChild(i),t},vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(n){var i,r,t,u,f,e,o,s,h;return(n.getBoundingClientRect&&n.parentNode&&(i=n.getBoundingClientRect()),!i)?{left:0,top:0}:(r=document.documentElement,t=document.body,u=r.clientLeft||t.clientLeft||0,f=window.pageXOffset||t.scrollLeft,e=i.left+f-u,o=r.clientTop||t.clientTop||0,s=window.pageYOffset||t.scrollTop,h=i.top+s-o,{left:vjs.round(e),top:vjs.round(h)})},vjs.arr={},vjs.arr.forEach=function(n,t,i){if(vjs.obj.isArray(n)&&t instanceof Function)for(var r=0,u=n.length;r<u;++r)t.call(i||vjs,n[r],r,n);return n},vjs.xhr=function(n,t){var u,i,f,e,h,c,o,s,r;typeof n=="string"&&(n={uri:n});videojs.util.mergeOptions({method:"GET",timeout:45e3},n);t=t||function(){};s=function(){window.clearTimeout(o);t(null,i,i.response||i.responseText)};r=function(n){window.clearTimeout(o);n&&typeof n!="string"||(n=new Error(n));t(n,i)};u=window.XMLHttpRequest;typeof u=="undefined"&&(u=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(n){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(i){}throw new Error("This browser does not support XMLHttpRequest.");});i=new u;i.uri=n.uri;f=vjs.parseUrl(n.uri);e=window.location;c=f.protocol+f.host!==e.protocol+e.host;!c||!window.XDomainRequest||"withCredentials"in i?(h=f.protocol=="file:"||e.protocol=="file:",i.onreadystatechange=function(){if(i.readyState===4){if(i.timedout)return r("timeout");i.status===200||h&&i.status===0?s():r()}},n.timeout&&(o=window.setTimeout(function(){i.readyState!==4&&(i.timedout=!0,i.abort())},n.timeout))):(i=new window.XDomainRequest,i.onload=s,i.onerror=r,i.onprogress=function(){},i.ontimeout=function(){});try{i.open(n.method||"GET",n.uri,!0)}catch(l){return r(l)}n.withCredentials&&(i.withCredentials=!0);n.responseType&&(i.responseType=n.responseType);try{i.send()}catch(l){return r(l)}return i},vjs.url={},vjs.url.isCrossOrigin=function(n){var t=window.location,i=vjs.parseUrl(n),r=i.protocol===":"?t.protocol:i.protocol;return r+i.host!==t.protocol+t.host},vjs.util={},vjs.util.mergeOptions=function(n,t){var i,r,u;n=vjs.obj.copy(n);for(i in t)t.hasOwnProperty(i)&&(r=n[i],u=t[i],n[i]=vjs.obj.isPlain(r)&&vjs.obj.isPlain(u)?vjs.util.mergeOptions(r,u):t[i]);return n},vjs.util.htmlEncode=function(n){var i,r;if(!n)return"";var u=new String(n),f=u.length,t=[];for(i=0;i<f;i++){r=u.charAt(i);switch(r){case"<":t.push("&lt;");break;case">":t.push("&gt;");break;case"&":t.push("&amp;");break;case'"':t.push("&quot;");break;case"'":t.push("&#39;");break;default:t.push(r)}}return t.join("")},vjs.Component=vjs.CoreObject.extend({init:function(n,t,i){this.player_=n;this.options_=vjs.obj.copy(this.options_);t=this.options(t);this.id_=t.id||t.el&&t.el.id;this.id_||(this.id_=(n.id&&n.id()||"no_player")+"_component_"+vjs.guid++);this.name_=t.name||null;this.el_=t.el||this.createEl();this.children_=[];this.childIndex_={};this.childNameIndex_={};this.initChildren();this.ready(i);t.reportTouchActivity!==!1&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_);vjs.removeData(this.el_);this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(n){return n===undefined?this.options_:this.options_=vjs.util.mergeOptions(this.options_,n)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(n,t){return vjs.createEl(n,t)},vjs.Component.prototype.localize=function(n){var t=this.player_.language(),i=this.player_.languages(),r;return!t||!i?n:(t=t.toLowerCase(),i[t]||(r=t.split("-"),t=r.length===2&&r[0]===r[1]?r[0]:"en"),i[t]&&i[t][n])?i[t][n]:n},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(n){return this.childIndex_[n]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(n){return this.childNameIndex_[n]},vjs.Component.prototype.addChild=function(n,t){var i,u,r;return typeof n=="string"?(r=n,t=t||{},u=t.componentClass||vjs.capitalize(r),t.name=r,i=new window.videojs[u](this.player_||this,t)):i=n,this.children_.push(i),typeof i.id=="function"&&(this.childIndex_[i.id()]=i),r=r||i.name&&i.name(),r&&(this.childNameIndex_[r]=i),typeof i.el=="function"&&i.el()&&this.contentEl().appendChild(i.el()),i},vjs.Component.prototype.removeChild=function(n){var i,t,r;if(typeof n=="string"&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(this.childIndex_[n.id()]=null,this.childNameIndex_[n.name()]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},vjs.Component.prototype.initChildren=function(){var i,r,n,t,f,e,o,u;if(i=this,r=i.options(),n=r.children,n)if(o=function(n,t){(r[n]!==undefined&&(t=r[n]),t!==!1)&&(i[n]=i.addChild(n,t))},vjs.obj.isArray(n))for(u=0;u<n.length;u++)t=n[u],typeof t=="string"?(f=t,e={}):(f=t.name,e=t),o(f,e);else vjs.obj.each(n,o)},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(n,t,i){var r,f,u,e,o,s;if(typeof n=="string"||vjs.obj.isArray(n))vjs.on(this.el_,n,vjs.bind(this,t));else{r=n;f=t;u=vjs.bind(this,i);s=this;e=function(){s.off(r,f,u)};e.guid=u.guid;this.on("dispose",e);if(o=function(){s.off("dispose",e)},o.guid=u.guid,n.nodeName){vjs.on(r,f,u);vjs.on(r,"dispose",o)}else if(typeof n.on=="function"){r.on(f,u);r.on("dispose",o)}}return this},vjs.Component.prototype.off=function(n,t,i){var u,f,r;return!n||typeof n=="string"||vjs.obj.isArray(n)?vjs.off(this.el_,n,t):(u=n,f=t,r=vjs.bind(this,i),this.off("dispose",r),n.nodeName?(vjs.off(u,f,r),vjs.off(u,"dispose",r)):(u.off(f,r),u.off("dispose",r))),this},vjs.Component.prototype.one=function(n,t,i){var u,f,e,o,r;if(typeof n=="string"||vjs.obj.isArray(n))vjs.one(this.el_,n,vjs.bind(this,t));else{u=n;f=t;e=vjs.bind(this,i);o=this;r=function(){o.off(u,f,r);e.apply(this,arguments)};r.guid=e.guid;this.on(u,f,r)}return this},vjs.Component.prototype.trigger=function(n){return vjs.trigger(this.el_,n),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(n){return n&&(this.isReady_?n.call(this):(this.readyQueue_===undefined&&(this.readyQueue_=[]),this.readyQueue_.push(n))),this},vjs.Component.prototype.triggerReady=function(){var n,t,i;if(this.isReady_=!0,n=this.readyQueue_,n&&n.length>0){for(t=0,i=n.length;t<i;t++)n[t].call(this);this.readyQueue_=[];this.trigger("ready")}},vjs.Component.prototype.hasClass=function(n){return vjs.hasClass(this.el_,n)},vjs.Component.prototype.addClass=function(n){return vjs.addClass(this.el_,n),this},vjs.Component.prototype.removeClass=function(n){return vjs.removeClass(this.el_,n),this},vjs.Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},vjs.Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide();this.show=function(){}},vjs.Component.prototype.width=function(n,t){return this.dimension("width",n,t)},vjs.Component.prototype.height=function(n,t){return this.dimension("height",n,t)},vjs.Component.prototype.dimensions=function(n,t){return this.width(n,!0).height(t)},vjs.Component.prototype.dimension=function(n,t,i){if(t!==undefined)return(t===null||vjs.isNaN(t))&&(t=0),this.el_.style[n]=(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?t:t==="auto"?"":t+"px",i||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return u!==-1?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+vjs.capitalize(n)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var i,n,e,t,r,u,f,o,s,h;i=0;n=null;s=10;h=200;this.on("touchstart",function(r){r.touches.length===1&&(n=vjs.obj.copy(r.touches[0]),i=(new Date).getTime(),t=!0)});this.on("touchmove",function(i){i.touches.length>1?t=!1:n&&(u=i.touches[0].pageX-n.pageX,f=i.touches[0].pageY-n.pageY,o=Math.sqrt(u*u+f*f),o>s&&(t=!1))});r=function(){t=!1};this.on("touchleave",r);this.on("touchcancel",r);this.on("touchend",function(r){n=null;t===!0&&(e=(new Date).getTime()-i,e<h&&(r.preventDefault(),this.trigger("tap")))})},vjs.Component.prototype.enableTouchActivity=function(){var n,t,i;if(this.player().reportUserActivity){n=vjs.bind(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},vjs.Component.prototype.setTimeout=function(n,t){n=vjs.bind(this,n);var i=setTimeout(n,t),r=function(){this.clearTimeout(i)};r.guid="vjs-timeout-"+i;this.on("dispose",r);return i},vjs.Component.prototype.clearTimeout=function(n){clearTimeout(n);var t=function(){};return t.guid="vjs-timeout-"+n,this.off("dispose",t),n},vjs.Component.prototype.setInterval=function(n,t){n=vjs.bind(this,n);var i=setInterval(n,t),r=function(){this.clearInterval(i)};r.guid="vjs-interval-"+i;this.on("dispose",r);return i},vjs.Component.prototype.clearInterval=function(n){clearInterval(n);var t=function(){};return t.guid="vjs-interval-"+n,this.off("dispose",t),n},vjs.Button=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.emitTapEvents();this.on("tap",this.onClick);this.on("click",this.onClick);this.on("focus",this.onFocus);this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(n,t){var i;return t=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},t),i=vjs.Component.prototype.createEl.call(this,n,t),t.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:vjs.util.htmlEncode(this.localize(this.buttonText))||"Need Text"}),this.contentEl_.appendChild(this.controlText_),i.appendChild(this.contentEl_)),i},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){this.on("keydown",this.onKeyPress)},vjs.Button.prototype.onKeyPress=function(n){if(n.which==32||n.which==13){n.preventDefault();this.onClick(n)}},vjs.Button.prototype.onBlur=function(){this.off("keydown",this.onKeyPress)},vjs.Slider=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.bar=this.getChild(this.options_.barName);this.handle=this.getChild(this.options_.handleName);this.on("mousedown",this.onMouseDown);this.on("touchstart",this.onMouseDown);this.on("focus",this.onFocus);this.on("blur",this.onBlur);this.on("click",this.onClick);this.on(n,"controlsvisible",this.update);this.on(n,this.playerEvent,this.update)}}),vjs.Slider.prototype.createEl=function(n,t){return t=t||{},t.className=t.className+" vjs-slider",t=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},t),vjs.Component.prototype.createEl.call(this,n,t)},vjs.Slider.prototype.onMouseDown=function(n){n.preventDefault();vjs.blockTextSelection();this.addClass("vjs-sliding");this.on(document,"mousemove",this.onMouseMove);this.on(document,"mouseup",this.onMouseUp);this.on(document,"touchmove",this.onMouseMove);this.on(document,"touchend",this.onMouseUp);this.onMouseMove(n)},vjs.Slider.prototype.onMouseMove=function(){},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection();this.removeClass("vjs-sliding");this.off(document,"mousemove",this.onMouseMove);this.off(document,"mouseup",this.onMouseUp);this.off(document,"touchmove",this.onMouseMove);this.off(document,"touchend",this.onMouseUp);this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,n=this.getPercent(),i=this.handle,r=this.bar;if((typeof n!="number"||n!==n||n<0||n===Infinity)&&(n=0),t=n,i){var o=this.el_,s=o.offsetWidth,u=i.el().offsetWidth,f=u?u/s:0,h=1-f,e=n*h;t=e+f/2;i.el().style.left=vjs.round(e*100,2)+"%"}r&&(r.el().style.width=vjs.round(t*100,2)+"%")}},vjs.Slider.prototype.calculateDistance=function(n){var r,o,u,f,e,i,t,c,l,s,h;return r=this.el_,o=vjs.findPosition(r),e=i=Math.max(r.offsetWidth,r.clientWidth),t=this.handle,this.options().vertical?(f=o.top,l=n.changedTouches?n.changedTouches[0].pageY:n.pageY,t&&(s=Math.max(t.el().offsetHeight,t.el().clientHeight),f=f+s/2,i=i-s),Math.max(0,Math.min(1,(f-l+i)/i))):(u=o.left,c=n.changedTouches?n.changedTouches[0].pageX:n.pageX,t&&(h=Math.max(t.el().offsetWidth,t.el().clientWidth),u=u+h/2,e=e-h),Math.max(0,Math.min(1,(c-u)/e)))},vjs.Slider.prototype.onFocus=function(){this.on(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onKeyPress=function(n){n.which==37||n.which==40?(n.preventDefault(),this.stepBack()):(n.which==38||n.which==39)&&(n.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){this.off(document,"keydown",this.onKeyPress)},vjs.Slider.prototype.onClick=function(n){n.stopImmediatePropagation();n.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(n,t){return t=t||{},t.className=t.className+" vjs-slider-handle",t=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.defaultValue)+"<\/span>"},t),vjs.Component.prototype.createEl.call(this,"div",t)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(n,t){this.addChild(n);n.parent=t;n.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var t=this.options().contentElType||"ul",n;this.contentEl_=vjs.createEl(t,{className:"vjs-menu-content"});n=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});n.appendChild(this.contentEl_);vjs.on(n,"click",function(n){n.preventDefault();n.stopImmediatePropagation()});return n},vjs.MenuItem=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.selected(t.selected)}}),vjs.MenuItem.prototype.createEl=function(n,t){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:vjs.util.htmlEncode(this.localize(this.options_.label))},t))},vjs.MenuItem.prototype.onClick=function(n){n.type!=="keydown"&&n.stopImmediatePropagation();this.selected(!0)},vjs.MenuItem.prototype.selected=function(n){n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0),this.parent&&this.parent.options_&&this.parent.items&&this.parent.items.length>0&&(this.parent.options_.selectedItemIndex=this.parent.items.indexOf(this))):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.update();this.on("keydown",this.onKeyPress);this.on("mouseover",this.onMouseOver);this.on("mouseleave",this.onMouseLeave);this.el_.setAttribute("aria-haspopup",!0);this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.update=function(){var n=this.createMenu();this.menu&&this.removeChild(this.menu);this.menu=n;this.addChild(n);this.items&&this.items.length===0?this.hide():this.items&&this.items.length>1&&this.show()},vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_),n;if(this.options().title&&t.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.util.htmlEncode(vjs.capitalize(this.options().title)),tabindex:-1})),this.items=this.createItems(),this.items)for(n=0;n<this.items.length;n++)t.addItem(this.items[n],this);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onMouseOver=function(){this.clearOtherMenus();this.buttonPressed_||this.pressButton()},vjs.MenuButton.prototype.onMouseLeave=function(){this.unpressButton()},vjs.MenuButton.prototype.onClick=function(n){if(n.type=="keydown"){this.onKeyPress(n);return}this.clearOtherMenus();this.player_.one("userinactive",vjs.bind(this,function(){this.unpressButton();this.el_.blur()}));this.buttonPressed_||this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(n){n.which==32||n.which==13?(this.clearOtherMenus(),this.buttonPressed_?this.unpressButton():this.pressButton(),n.preventDefault()):n.which==27&&(this.buttonPressed_&&(this.unpressButton(),this.el_.focus()),n.preventDefault())},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0;this.menu.lockShowing();this.el_.setAttribute("aria-pressed",!0);this.items&&this.items.length>0&&this.options_.selectedItemIndex>=0?this.items[this.options_.selectedItemIndex].el().focus():this.menu.el().style.display="block"},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1;this.menu.unlockShowing();this.menu.el().style.display="none";this.el_.setAttribute("aria-pressed",!1)},vjs.MenuButton.prototype.clearOtherMenus=function(){var t=this,n=this.player_.controlBar;n&&Object.getOwnPropertyNames(n).forEach(function(i){n[i]!==t&&n[i].el_&&n[i].el_.className&&n[i].el_.className.indexOf("vjs-menu-button")!==-1&&n[i].buttonPressed_&&n[i].unpressButton()})},vjs.MediaError=function(n){typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:typeof n=="object"&&vjs.obj.merge(this,n);this.message||(this.message=vjs.MediaError.errorTypes[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;if(function(){var t,r,i,n;for(vjs.browser.fullscreenAPI,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=t[0],n=0;n<t.length;n++)if(t[n][1]in document){i=t[n];break}if(i)for(vjs.browser.fullscreenAPI={},n=0;n<i.length;n++)vjs.browser.fullscreenAPI[r[n]]=i[n]}(),vjs.Player=vjs.Component.extend({init:function(n,t,i){this.tag=n;n.id=n.id||"vjs_video_"+vjs.guid++;this.tagAttributes=n&&vjs.getElementAttributes(n);t=vjs.obj.merge(this.getTagSettings(n),t);t.autoplay===undefined&&(t.autoplay=!1);this.language_=t.language||vjs.options.language;this.languages_=t.languages||vjs.options.languages;this.cache_={};t.muted&&(this.cache_.muted=!0);this.cache_.volume=1;this.poster_=t.poster||"";n.poster="";this.controls_=!!t.controls;n.controls=!1;t.reportTouchActivity=!1;this.isAudio(this.tag.nodeName.toLowerCase()==="audio");vjs.Component.call(this,this,t,i);this.el_.setAttribute("aria-label","Media Player");this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled");this.isAudio()&&this.addClass("vjs-audio");this.addThrottledWindowResizeListener(function(){this.height_==="auto"&&this.height(this.height_);this.trigger("resize")},100,this);vjs.players[this.id_]=this;this.options_.plugins&&vjs.obj.each(this.options_.plugins,function(n,t){this[n]&&this[n](t)},this);this.listenForUserActivity()}}),vjs.Player.prototype.language_,vjs.Player.prototype.language=function(n){return n===undefined?this.language_:(this.language_=n,this)},vjs.Player.prototype.languages_,vjs.Player.prototype.languages=function(){return this.languages_},vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.disposed_||(this.trigger("disposing"),this.disposed_=!0,this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech&&this.unloadTech(),vjs.Component.prototype.dispose.call(this))},vjs.Player.prototype.getTagSettings=function(n){var i,e,r={sources:[],tracks:[]},o,u,s,f,h,t;if(i=vjs.getElementAttributes(n),e=i["data-setup"],e!==null&&vjs.obj.merge(i,vjs.JSON.safeParseTuple(e||"{}")[1]),vjs.obj.merge(r,i),n.hasChildNodes())for(o=n.childNodes,f=0,h=o.length;f<h;f++)u=o[f],s=u.nodeName.toLowerCase(),s==="source"?(t=vjs.getElementAttributes(u),t=vjs.obj.merge(t,vjs.JSON.safeParseTuple(t["data-setup"]||"{}")[1]),r.sources.push(t)):s==="track"&&r.tracks.push(vjs.getElementAttributes(u));return r},vjs.Player.prototype.createEl=function(){var t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),n=this.tag,i;n.removeAttribute("width");n.removeAttribute("height");i=vjs.getElementAttributes(n);vjs.obj.each(i,function(n){n=="class"?t.className=i[n]:t.setAttribute(n,i[n])});n.id+="_html5_api";n.className="vjs-tech";n.player=t.player=this;this.addClass("vjs-paused");n.initNetworkState_=n.networkState;n.parentNode&&n.parentNode.insertBefore(t,n);vjs.insertFirst(n,t);this.width(this.options_.width,!0);this.height(this.options_.height,!0);this.el_=t;this.on("loadstart",this.onLoadStart);this.on("waiting",this.onWaiting);this.on(["canplay","canplaythrough","playing","ended","error","seeked"],this.onWaitEnd);this.on("seeking",this.onSeeking);this.on("seeked",this.onSeeked);this.on("ended",this.onEnded);this.on("play",this.onPlay);this.on("firstplay",this.onFirstPlay);this.on("pause",this.onPause);this.on("progress",this.onProgress);this.on("durationchange",this.onDurationChange);this.on("fullscreenchange",this.onFullscreenChange);return t},vjs.Player.prototype.height_,vjs.Player.prototype.dimension=function(n,t,i){var u,f;if(t!==undefined){if((t===null||vjs.isNaN(t))&&(t=0),n==="height"&&(this.height_=t),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1)this.el_.style[n]=t;else if(t==="auto")if(n==="height"){var e=10,o=this.dimension("width"),r=vjs.bind(this,function(){var n=this.videoHeight(),t=this.videoWidth();n&&t?(this.el_.style.height=Math.round(o*n/t)+"px",1080===n&&1920===t&&e--&&this.setTimeout(r,100)):e--&&this.setTimeout(r,100)});if(this.videoHeight()&&this.videoWidth())r();else{this.el_.style.height=Math.round(o*9/16)+"px";this.one("loadeddata",r)}}else this.el_.style[n]="";else this.el_.style[n]=t+"px";return i||this.trigger("resize"),this}return this.el_?(u=this.el_.style[n],f=u.indexOf("px"),f!==-1?parseInt(u.slice(0,f),10):parseInt(this.el_["offset"+vjs.capitalize(n)],10)):0},vjs.Player.prototype.loadTech=function(n,t){this.showPlayerLoad();this.tech&&this.unloadTech();n!=="Html5"&&n!=="Html5FairPlayHLS"&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null);this.techName=n;this.isReady_=!1;var r=function(){this.player_.muted(this.player_.cache_.muted);this.player_.triggerReady()},i=vjs.obj.merge({source:t,parentEl:this.el_},this.options_[n.toLowerCase()]);t&&(this.currentType_=t.type,t.src==this.cache_.src&&this.cache_.currentTime>0&&(i.startTime=this.cache_.currentTime),this.cache_.src=t.src);this.tech=new window.videojs[n](this,i);this.tech.ready(r)},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1;this.tech.dispose();this.tech=!1},vjs.Player.prototype.showPlayerLoad=function(){this.removeClass("vjs-waiting");this.removeClass("vjs-seeking");this.removeClass("vjs-paused");this.removeClass("vjs-playing");this.addClass("vjs-loading")},vjs.Player.prototype.onLoadStart=function(){this.removeClass("vjs-ended");this.error(null);this.paused()?this.hasStarted(!1):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(n){return n!==undefined?(this.hasStarted_!==n&&(this.hasStarted_=n,n?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0)},vjs.Player.prototype.onWaiting=function(){this.addClass("vjs-waiting")},vjs.Player.prototype.onWaitEnd=function(){this.removeClass("vjs-loading");this.removeClass("vjs-waiting")},vjs.Player.prototype.onSeeking=function(){this.addClass("vjs-seeking")},vjs.Player.prototype.onSeeked=function(){this.removeClass("vjs-seeking")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime);this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){this.bufferedPercent()==1&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause()},vjs.Player.prototype.onDurationChange=function(){var n=this.techGet("duration");n&&(n<0&&(n=Infinity),this.duration(n),n===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?(this.addClass("vjs-fullscreen"),vjs.IS_ANDROID&&(this.el_.style.position="relative")):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.onError,vjs.Player.prototype.addThrottledWindowResizeListener=function(n,t,i){i&&(n=n.bind(i));var r=vjs.Player.throttle(n,t);window.addEventListener("resize",r);this.on("dispose",function(){window.removeEventListener("resize",r)})},vjs.Player.throttle=function(n,t){var i=!1,r=!1,u;return u=function(){i?r=!0:(n.call(),i=!0,setTimeout(function(){i=!1;r&&(u(),r=!1)},t))}},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(n,t){if(this.tech)if(this.tech.isReady_)try{this.tech[n](t)}catch(i){vjs.log(i);throw i;}else this.tech.ready(function(){this[n](t)})},vjs.Player.prototype.techGet=function(n){if(this.tech&&this.tech.isReady_)try{return this.tech[n]()}catch(t){this.tech[n]===undefined?vjs.log("Video.js: "+n+" method not defined for "+this.techName+" playback technology.",t):t.name=="TypeError"?(vjs.log("Video.js: "+n+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady_=!1):vjs.log(t);throw t;}return},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return this.techGet("paused")===!1?!1:!0},vjs.Player.prototype.currentTime=function(n){return n!==undefined?(this.techCall("setCurrentTime",n),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(n){return n!==undefined?(this.cache_.duration=parseFloat(n),this):(this.cache_.duration===undefined&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var n=this.techGet("buffered");return n&&n.length||(n=vjs.createTimeRange(0,0)),n},vjs.Player.prototype.bufferedPercent=function(){var t=this.duration(),r=this.buffered(),u=0,f,i,n;if(!t)return 0;for(n=0;n<r.length;n++)f=r.start(n),i=r.end(n),i>t&&(i=t),u+=i-f;return u/t},vjs.Player.prototype.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return n>i&&(n=i),n},vjs.Player.prototype.volume=function(n){var t;return n!==undefined?(t=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=t,this.techCall("setVolume",t),vjs.setLocalStorage("volume",t),this):(t=parseFloat(this.techGet("volume")),isNaN(t)?1:t)},vjs.Player.prototype.muted=function(n){return n!==undefined?(n?this.cache_.muted=!0:(this.cache_.muted=!1,this.cache_.volume!==undefined&&this.volume(this.cache_.volume)),this.techCall("setMuted",n),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(n){return n!==undefined?(this.isFullscreen_=!!n,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(n){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(n)},vjs.Player.prototype.requestFullscreen=function(){var n=vjs.browser.fullscreenAPI;if(this.isFullscreen(!0),n){vjs.on(document,n.fullscreenchange,vjs.bind(this,function(t){this.isFullscreen(document[n.fullscreenElement]);this.isFullscreen()===!1&&vjs.off(document,n.fullscreenchange,arguments.callee);t.currentTarget&&t.currentTarget.nodeType==t.currentTarget.DOCUMENT_NODE&&this.trigger("fullscreenchange")}));this.el_[n.requestFullscreen]()}else this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"));return this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var n=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),n?document[n.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=document.documentElement.style.overflow;vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey));document.documentElement.style.overflow="hidden";vjs.addClass(document.body,"vjs-full-window");this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(n){n.keyCode===27&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1;vjs.off(document,"keydown",this.fullWindowOnEscKey);document.documentElement.style.overflow=this.docOrigOverflow;vjs.removeClass(document.body,"vjs-full-window");this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(n){for(var t,i,r,u,f,e=0,o=this.options_.techOrder;e<o.length;e++){if(t=vjs.capitalize(o[e]),i=window.videojs[t],!i){vjs.log.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.');continue}if(i.isSupported())for(r=0,u=n;r<u.length;r++)if(f=u[r],i.canPlaySource(f))return{source:f,tech:t}}return!1},vjs.Player.prototype.src=function(n){return n===undefined?this.techGet("src"):(vjs.obj.isArray(n)?this.sourceList_(n):typeof n=="string"?this.src({src:n}):n instanceof Object&&(n.type&&!window.videojs[this.techName].canPlaySource(n)?this.sourceList_([n]):(this.cache_.src=n.src,this.currentType_=n.type||"",this.ready(function(){window.videojs[this.techName].prototype.hasOwnProperty("setSource")?this.techCall("setSource",n):this.techCall("src",n.src);this.options_.preload=="auto"&&this.load();this.options_.autoplay&&this.play()}))),this)},vjs.Player.prototype.sourceList_=function(n){var t=this.selectSource(n);t?t.tech===this.techName?this.src(t.source):this.loadTech(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options().notSupportedMessage)})},0),this.triggerReady())},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.currentType=function(){return this.currentType_||""},vjs.Player.prototype.preload=function(n){return n!==undefined?(this.techCall("setPreload",n),this.options_.preload=n,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(n){return n!==undefined?(this.techCall("setAutoplay",n),this.options_.autoplay=n,this):this.techGet("autoplay",n)},vjs.Player.prototype.loop=function(n){return n!==undefined?(this.techCall("setLoop",n),this.options_.loop=n,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(n){return n===undefined?this.poster_:(n||(n=""),this.poster_=n,this.techCall("setPoster",n),this.trigger("posterchange"),this)},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(n){return n!==undefined?(n=!!n,this.controls_!==n&&(this.controls_=n,n?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(n){return n!==undefined?(n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,n?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(n){return n===undefined?this.error_:(this.tech&&vjs.MediaTechController.prototype.stopTracking.call(this.tech),n===null)?(this.error_=n,this.removeClass("vjs-error"),this):(this.error_=n instanceof vjs.MediaError?n:new vjs.MediaError(n),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(n){if(n!==undefined){if(n=!!n,n!==this.userActive_)if(this.userActive_=n,n)this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");else{if(this.userActivity_=!1,this.tech)this.tech.one("mousemove",function(n){n.stopPropagation();n.preventDefault()});this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}return this}return this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var n,i,r,t,u,s,f,e,o;n=vjs.bind(this,this.reportUserActivity);i=function(t){(t.screenX!=e||t.screenY!=o)&&(e=t.screenX,o=t.screenY,n())};r=function(){n();this.clearInterval(t);t=this.setInterval(n,250)};u=function(){n();this.clearInterval(t)};this.on("mousedown",r);this.on("mousemove",i);this.on("mouseup",u);this.on("keydown",n);this.on("keyup",n);s=this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(f);var n=this.options().inactivityTimeout;n>0&&(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},vjs.Player.prototype.playbackRate=function(n){return n!==undefined?(this.techCall("setPlaybackRate",n),this):this.tech&&this.tech.featuresPlaybackRate?this.techGet("playbackRate"):1},vjs.Player.prototype.isAudio_=!1,vjs.Player.prototype.isAudio=function(n){return n!==undefined?(this.isAudio_=!!n,this):this.isAudio_},vjs.Player.prototype.networkState=function(){return this.techGet("networkState")},vjs.Player.prototype.readyState=function(){return this.techGet("readyState")},vjs.Player.prototype.textTracks=function(){return this.tech&&this.tech.textTracks()},vjs.Player.prototype.remoteTextTracks=function(){return this.tech&&this.tech.remoteTextTracks()},vjs.Player.prototype.addTextTrack=function(n,t,i){return this.tech&&this.tech.addTextTrack(n,t,i)},vjs.Player.prototype.addRemoteTextTrack=function(n){return this.tech&&this.tech.addRemoteTextTrack(n)},vjs.Player.prototype.removeRemoteTextTrack=function(n){this.tech&&this.tech.removeRemoteTextTrack(n)},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.LiveDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control",tabIndex:0});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Stream Type"))+"<\/span>"+vjs.util.htmlEncode(this.localize("LIVE")),"aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.PlayToggle=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.on(n,"play",this.onPlay);this.on(n,"pause",this.onPause)}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){this.removeClass("vjs-paused");this.addClass("vjs-playing");this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Pause"))},vjs.PlayToggle.prototype.onPause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Play"))},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Current Time"))+" <\/span>0:00","aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var n=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Current Time"))+"<\/span> "+vjs.formatTime(n,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.DurationDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Duration Time"))+"<\/span> 0:00","aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.DurationDisplay.prototype.updateContent=function(){var n=this.player_.duration();n&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Duration Time"))+"<\/span> "+vjs.formatTime(n))},vjs.TimeDivider=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Remaining Time"))+"<\/span> -0:00","aria-live":"off"}),n.appendChild(this.contentEl_),n},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Remaining Time"))+"<\/span> -"+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML=vjs.util.htmlEncode(this.localize("Fullscreen"))):(this.player_.requestFullscreen(),this.controlText_.innerHTML=vjs.util.htmlEncode(this.localize("Non-Fullscreen")))},vjs.ProgressControl=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control",tabIndex:-1})},vjs.SeekBar=vjs.Slider.extend({init:function(n,t){vjs.Slider.call(this,n,t);this.on(n,"timeupdate",this.updateARIAAttributes);n.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var n=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(this.getPercent()*100,2));this.el_.setAttribute("aria-valuetext",vjs.formatTime(n,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()>this.player_.duration()?1:this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(n){this.player_.scrubbing=!0;this.player_.addClass("vjs-scrubbing");this.videoWasPlaying=!this.player_.paused();this.player_.pause();vjs.Slider.prototype.onMouseDown.call(this,n)},vjs.SeekBar.prototype.onMouseMove=function(n){var t=this.calculateDistance(n)*this.player_.duration();t==this.player_.duration()&&(t=t-.1);this.player_.currentTime(t)},vjs.SeekBar.prototype.onMouseUp=function(n){vjs.Slider.prototype.onMouseUp.call(this,n);this.player_.scrubbing=!1;this.player_.removeClass("vjs-scrubbing");this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.on(n,"progress",this.update)}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+vjs.util.htmlEncode(this.localize("Loaded"))+"<\/span>: 0%<\/span>"})},vjs.LoadProgressBar.prototype.update=function(){var n,r,o,t,i=this.player_.buffered(),s=this.player_.duration(),u=this.player_.bufferedEnd(),f=this.el_.children,e=function(n,t){var i=n/t||0;return i*100+"%"};for(this.el_.style.width=e(u,s),n=0;n<i.length;n++)r=i.start(n),o=i.end(n),t=f[n],t||(t=this.el_.appendChild(vjs.createEl())),t.style.left=e(r,u),t.style.width=e(o-r,u);for(n=f.length;n>i.length;n--)this.el_.removeChild(f[n-1])},vjs.PlayProgressBar=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text"><span>'+vjs.util.htmlEncode(this.localize("Progress"))+"<\/span>: 0%<\/span>"})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(n,t){vjs.SliderHandle.call(this,n,t);this.on(n,"timeupdate",this.updateContent)}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var n=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(n,this.player_.duration())+"<\/span>"},vjs.VolumeControl=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);n.tech&&n.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden");this.on(n,"loadstart",function(){n.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control",tabIndex:0})},vjs.VolumeBar=vjs.Slider.extend({init:function(n,t){vjs.Slider.call(this,n,t);this.on(n,"volumechange",this.updateARIAAttributes);n.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(this.player_.volume()*100,2));this.el_.setAttribute("aria-valuetext",vjs.round(this.player_.volume()*100,2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(n){this.player_.muted()&&this.player_.muted(!1);this.player_.volume(this.calculateDistance(n))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.on(n,"volumechange",this.update);n.tech&&n.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden");this.on(n,"loadstart",function(){n.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Mute"))+"<\/span><\/div>",tabIndex:0})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},vjs.MuteToggle.prototype.update=function(){var i=this.player_.volume(),n=3,t;for(i===0||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),this.player_.muted()?this.el_.children[0].children[0].innerHTML!=vjs.util.htmlEncode(this.localize("Unmute"))&&(this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Unmute"))):this.el_.children[0].children[0].innerHTML!=vjs.util.htmlEncode(this.localize("Mute"))&&(this.el_.children[0].children[0].innerHTML=vjs.util.htmlEncode(this.localize("Mute"))),t=0;t<4;t++)vjs.removeClass(this.el_,"vjs-vol-"+t);vjs.addClass(this.el_,"vjs-vol-"+n)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(n,t){vjs.MenuButton.call(this,n,t);this.on(n,"volumechange",this.volumeUpdate);n.tech&&n.tech.featuresVolumeControl===!1&&this.addClass("vjs-hidden");this.on(n,"loadstart",function(){n.tech.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")});this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var n=new vjs.Menu(this.player_,{contentElType:"div"}),t=new vjs.VolumeBar(this.player_,this.options_.volumeBar);t.on("focus",function(){n.lockShowing()});t.on("blur",function(){n.unlockShowing()});return n.addChild(t),n},vjs.VolumeMenuButton.prototype.onClick=function(n){vjs.MuteToggle.prototype.onClick.call(this,n);vjs.MenuButton.prototype.onClick.call(this,n)},vjs.VolumeMenuButton.prototype.onKeyPress=function(n){if(vjs.MenuButton.prototype.onKeyPress.call(this,n),n.which==32||n.which==13){var t=this.el().getElementsByClassName("vjs-volume-bar");t&&t[0]&&t[0].focus()}},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize("Mute"))+"<\/span><\/div>"})},vjs.VolumeMenuButton.prototype.volumeUpdate=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(n,t){vjs.MenuButton.call(this,n,t);this.updateVisibility();this.updateLabel();this.on(n,"loadstart",this.updateVisibility);this.on(n,"ratechange",this.updateLabel)}}),vjs.PlaybackRateMenuButton.prototype.buttonText="Playback Rate",vjs.PlaybackRateMenuButton.prototype.className="vjs-playback-rate",vjs.PlaybackRateMenuButton.prototype.createEl=function(){var n=vjs.MenuButton.prototype.createEl.call(this);return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),n.appendChild(this.labelEl_),n},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var i=new vjs.Menu(this.player()),t=this.player().options().playbackRates,n;if(t)for(n=t.length-1;n>=0;n--)i.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:t[n]+"x"}));return i},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var r=this.player().playbackRate(),n=this.player().options().playbackRates,i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.featuresPlaybackRate&&this.player().options().playbackRates&&this.player().options().playbackRates.length>0},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(n,t){var i=this.label=t.rate,r=this.rate=parseFloat(i,10);t.label=i;t.selected=r===1;vjs.MenuItem.call(this,n,t);this.on(n,"ratechange",this.update)}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.ProgressTimeTips=vjs.Component.extend({init:function(n,t){var i,r,u,f;vjs.Component.call(this,n,t);i=document.createElement("div");i.className="amp-time-tip";r=document.createElement("div");r.className="amp-time-tip-inner";i.appendChild(r);n.controlBar.el().appendChild(i);i.style.visibility="hidden";i.style.display="block";i.style.opacity="1";i.style.fontSize="11px";i.style.position="absolute";i.style.zIndex="100000";i.style.minWidth="40px";r.style.padding="4px 8px";r.style.backgroundColor="#3c454f";r.style.color="white";r.style.maxWidth="200px";r.style.textAlign="center";f=function(t){var c,e,o,s,f,h,l,a,v;s=n.controlBar.progressControl.seekBar;h=s.el().getBoundingClientRect();t.type=="mousemove"&&(u=t.clientX);v=(u-h.left)/s.width();f=v*n.duration();f===n.duration()&&(f=f-.1);n.isLive()&&f>n.duration()-n.currentPlayerSettingValue("livePlaybackOffsetInSec")?r.innerHTML="LIVE":f<=0?r.innerHTML="0:00":(c=Math.floor(f/3600),e=Math.floor(f/60)%60,o=Math.floor(f)%60,l=":",a=":",c==0?(c="",l=""):e<10&&(e="0"+e),o<10&&(o="0"+o),r.innerHTML=c+l+e+a+o);i.style.top=-1*(n.controlBar.el().offsetHeight+4)+"px";i.style.left=u-h.left<.625*i.offsetWidth?"0px":s.el().offsetWidth-u+h.left<.625*i.offsetWidth?s.el().offsetWidth-i.offsetWidth+"px":u-h.left-i.offsetWidth/2+"px";i.style.visibility="visible"};n.on("durationchange",function(n){i.style.visibility!=="hidden"&&f(n)});n.controlBar.progressControl.seekBar.on("mousemove",f);n.controlBar.progressControl.on("mouseout",function(){i.style.visibility="hidden"})}}),vjs.HotKeys=vjs.Component.extend({init:function(n,t){var f,e,i,o;vjs.Component.call(this,n,t);f=function(n){for(var t,i,r=1;r<arguments.length;r++){t=arguments[r];for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}return n};e={volumeStep:.1,seekStep:5,enableMute:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1};t=f({},n.options_.hotKeys||e,t||{});var s=t.volumeStep,r=t.seekStep,h=t.enableMute,u=t.enableFullscreen,l=t.enableNumbers,c=t.enableJogStyle;n.el().hasAttribute("tabIndex")||n.el().setAttribute("tabIndex","1");n.on("play",function(){var t=n.el().querySelector(".iframeblocker");t&&t.style.display===""&&(t.style.display="block",t.style.bottom="39px")});i=function(t){var i=t.which,f,e,o,a;if(n.controls()&&(e=document.activeElement,e==n.el()||n.isFocused||e==n.el().querySelector(".vjs-tech")||e==n.el().querySelector(".vjs-control-bar")||e==n.el().querySelector(".iframeblocker")))switch(i){case 32:t.preventDefault();n.paused()?n.play():n.pause();break;case 37:t.preventDefault();f=n.currentTime()-r;n.currentTime()<=r&&(f=0);n.currentTime(f);break;case 39:t.preventDefault();n.currentTime(n.currentTime()+r);break;case 40:t.preventDefault();c?(f=n.currentTime()-1,n.currentTime()<=1&&(f=0),n.currentTime(f)):n.volume((n.volume()-s).toFixed(1));break;case 38:t.preventDefault();c?n.currentTime(n.currentTime()+1):n.volume((n.volume()+s).toFixed(1));break;case 77:h&&(n.muted()?n.muted(!1):n.muted(!0));break;case 109:h&&(n.muted()?n.muted(!1):n.muted(!0));break;case 70:u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;case 102:u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:(i>47&&i<59||i>95&&i<106)&&l&&(o=48,i>95&&(o=96),a=i-o,t.preventDefault(),n.currentTime(n.duration()*a*.1))}};o=function(t){if(n.controls()){var i=t.relatedTarget||t.toElement||document.activeElement;(i==n.el()||i==n.el().querySelector(".vjs-tech")||i==n.el().querySelector(".iframeblocker"))&&u&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}};window.addEventListener("keydown",i,!1);n.on("dblclick",o);this.keyDown=i}}),vjs.HotKeys.prototype.dispose=function(){window.removeEventListener("keydown",this.keyDown,!1)},vjs.PosterImage=vjs.Button.extend({init:function(n,t){vjs.Button.call(this,n,t);this.update();n.on("posterchange",vjs.bind(this,this.update));n.on("fullscreenchange",vjs.bind(this,this.updateCss));n.on("resize",vjs.bind(this,this.updateCss))}}),vjs.PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update);vjs.Button.prototype.dispose.call(this)},vjs.PosterImage.prototype.createEl=function(){var n=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return this.span=vjs.createEl("span",{className:"vjs-poster-span",tabIndex:-1}),n.appendChild(this.span),this.fallbackImg_=vjs.createEl("img"),n.appendChild(this.fallbackImg_),n},vjs.PosterImage.prototype.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},vjs.PosterImage.prototype.setSrc=function(n){var t,n=vjs.getAbsoluteURL(n),i;n.search(/^(https?:)?\/\//i)===-1&&(vjs.log.warn("ignoring invalid poster URL"),n="");this.fallbackImg_?(i=this,this.fallbackImg_.onload=function(){i.updateCss()},this.fallbackImg_.src=n,vjs.url.isCrossOrigin(this.fallbackImg_.src)&&typeof this.player().options().corsPolicyForTextTracksAndPoster!="undefined"&&(this.player().options().corsPolicyForTextTracksAndPoster===vjs.CorsConfig.UseCredentials?vjs.setElementAttributes(this.fallbackImg_,{crossorigin:"use-credentials"}):vjs.setElementAttributes(this.fallbackImg_,{crossorigin:"anonymous"})),setTimeout(function(){i.updateCss()},500)):(t="",n&&(t='url("'+n+'")'),this.el_.style.backgroundImage=t)},vjs.PosterImage.prototype.updateCss=function(){var n="100%",t="auto",i,r,u,f;this.fallbackImg_.naturalHeight&&this.fallbackImg_.naturalWidth&&this.fallbackImg_.parentElement&&(i=this.fallbackImg_.parentElement.clientWidth,r=this.fallbackImg_.parentElement.clientHeight,!r||!i?this.fallbackImg_.naturalHeight>this.fallbackImg_.naturalWidth&&(t="100%",n="auto"):(u=i/r,f=this.fallbackImg_.naturalWidth/this.fallbackImg_.naturalHeight,u>f&&(t="100%",n="auto")));vjs.setElementAttributes(this.fallbackImg_,{width:n,height:t})},vjs.PosterImage.prototype.onClick=function(){this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",tabIndex:-1})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"><\/span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.update();this.on(n,"error",this.update);this.on(n,"fullscreenchange",this.onResize);this.on(n,"resize",this.onResize)}}),vjs.ErrorDisplay.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display",tabIndex:0});return this.contentEl_=vjs.createEl("div"),n.appendChild(this.contentEl_),n},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=vjs.util.htmlEncode(this.localize(this.player().error().message)))},vjs.ErrorDisplay.prototype.onResize=function(){var n=Math.max(this.player_.el_.clientWidth*.02,8);this.contentEl_.style.fontSize=parseInt(n)+"px"},vjs.EventEmitter=function(){},vjs.EventEmitter.prototype.allowedEvents_={},vjs.EventEmitter.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=Function.prototype;vjs.on(this,n,t);this.addEventListener=i},vjs.EventEmitter.prototype.addEventListener=vjs.EventEmitter.prototype.on,vjs.EventEmitter.prototype.off=function(n,t){vjs.off(this,n,t)},vjs.EventEmitter.prototype.removeEventListener=vjs.EventEmitter.prototype.off,vjs.EventEmitter.prototype.one=function(n,t){vjs.one(this,n,t)},vjs.EventEmitter.prototype.trigger=function(n){var t=n.type||n;typeof n=="string"&&(n={type:t});n=vjs.fixEvent(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);vjs.trigger(this,n)},vjs.EventEmitter.prototype.dispatchEvent=vjs.EventEmitter.prototype.trigger,function(){var n;vjs.MediaTechController=vjs.Component.extend({init:function(n,t,i){t=t||{};t.reportTouchActivity=!1;vjs.Component.call(this,n,t,i);this.featuresProgressEvents||this.manualProgressOn();this.featuresTimeupdateEvents||this.manualTimeUpdatesOn();this.initControlsListeners();this.featuresNativeTextTracks||this.emulateTextTracks();this.initTextTrackListeners()}});vjs.MediaTechController.prototype.initControlsListeners=function(){var n=this.player();this.ready(this.activateControls);this.on(n,"controlsenabled",this.activateControls);this.on(n,"controlsdisabled",this.removeControlsListeners);this.ready(function(){this.networkState&&this.networkState()>0&&this.player().trigger("loadstart")})};vjs.MediaTechController.prototype.removeControls=function(){var n=this.player();this.off(n,"controlsenabled",this.activateControls);this.off(n,"controlsdisabled",this.removeControlsListeners)};vjs.MediaTechController.prototype.addControlsListeners=function(){var n;this.on("mousedown",this.onClick);this.on("touchstart",function(){n=this.player_.userActive()});this.on("touchmove",function(){n&&this.player().reportUserActivity()});this.on("touchend",function(n){n.preventDefault()});this.emitTapEvents();this.on("tap",this.onTap)};vjs.MediaTechController.prototype.activateControls=function(){var n=this.player();n.controls()&&!n.usingNativeControls()&&this.addControlsListeners()};vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap");this.off("touchstart");this.off("touchmove");this.off("touchleave");this.off("touchcancel");this.off("touchend");this.off("click");this.off("mousedown")};vjs.MediaTechController.prototype.onClick=function(n){n.button===0&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())};vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())};vjs.MediaTechController.prototype.manualProgressOn=function(){this.manualProgress=!0;this.trackProgress()};vjs.MediaTechController.prototype.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress()};vjs.MediaTechController.prototype.trackProgress=function(){this.progressInterval=this.setInterval(function(){var n=this.player().bufferedPercent();this.bufferedPercent_!=n&&this.player().trigger("progress");this.bufferedPercent_=n;n===1&&this.stopTrackingProgress()},500)};vjs.MediaTechController.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)};vjs.MediaTechController.prototype.manualTimeUpdatesOn=function(){var n=this.player_;this.manualTimeUpdates=!0;this.on(n,"play",this.trackCurrentTime);this.on(n,"pause",this.stopTrackingCurrentTime);this.one("timeupdate",function(){this.featuresTimeupdateEvents=!0;this.manualTimeUpdatesOff()})};vjs.MediaTechController.prototype.manualTimeUpdatesOff=function(){var n=this.player_;this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off(n,"play",this.trackCurrentTime);this.off(n,"pause",this.stopTrackingCurrentTime)};vjs.MediaTechController.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.player().trigger("timeupdate")},250)};vjs.MediaTechController.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.player().trigger("timeupdate")};vjs.MediaTechController.prototype.stopTracking=function(){this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff()};vjs.MediaTechController.prototype.dispose=function(){this.stopTracking();this.removeControls();vjs.Component.prototype.dispose.call(this)};vjs.MediaTechController.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.player().trigger("timeupdate")};vjs.MediaTechController.prototype.initTextTrackListeners=function(){var i=this.player_,n,t=function(){var n=i.getChild("textTrackDisplay");n&&n.updateDisplay()};if(n=this.textTracks(),n){n.addEventListener("removetrack",t);n.addEventListener("addtrack",t);this.on("dispose",vjs.bind(this,function(){n.removeEventListener("removetrack",t);n.removeEventListener("addtrack",t)}))}};vjs.MediaTechController.prototype.emulateTextTracks=function(){var i=this.player_,t,n;if(n=this.textTracks(),n){t=function(){var t,r,n;for(n=i.getChild("textTrackDisplay"),n.updateDisplay(),t=0;t<this.length;t++)r=this[t],r.removeEventListener("cuechange",vjs.bind(n,n.updateDisplay)),r.mode==="showing"&&r.addEventListener("cuechange",vjs.bind(n,n.updateDisplay))};n.addEventListener("change",t);this.on("dispose",vjs.bind(this,function(){n.removeEventListener("change",t)}))}};vjs.MediaTechController.prototype.textTracks_;vjs.MediaTechController.prototype.textTracks=function(){return this.player_.textTracks_=this.player_.textTracks_||new vjs.TextTrackList,this.player_.textTracks_};vjs.MediaTechController.prototype.remoteTextTracks=function(){return this.player_.remoteTextTracks_=this.player_.remoteTextTracks_||new vjs.TextTrackList,this.player_.remoteTextTracks_};n=function(n,t,i,r,u){var e=n.textTracks(),f;return u=u||{},u.kind=t,i&&(u.label=i),r&&(u.language=r),u.player=n.player_,f=new vjs.TextTrack(u),e.addTrack_(f),f};vjs.MediaTechController.prototype.addTextTrack=function(t,i,r){if(!t)throw new Error("TextTrack kind is required but was not provided");return n(this,t,i,r)};vjs.MediaTechController.prototype.addRemoteTextTrack=function(t){var i=n(this,t.kind,t.label,t.language,t);return this.remoteTextTracks().addTrack_(i),{track:i}};vjs.MediaTechController.prototype.removeRemoteTextTrack=function(n){this.textTracks().removeTrack_(n);this.remoteTextTracks().removeTrack_(n)};vjs.MediaTechController.prototype.setPoster=function(){};vjs.MediaTechController.prototype.featuresVolumeControl=!0;vjs.MediaTechController.prototype.featuresFullscreenResize=!1;vjs.MediaTechController.prototype.featuresPlaybackRate=!1;vjs.MediaTechController.prototype.featuresProgressEvents=!1;vjs.MediaTechController.prototype.featuresTimeupdateEvents=!1;vjs.MediaTechController.prototype.featuresNativeTextTracks=!1;vjs.MediaTechController.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]);i===undefined&&(i=r.length);r.splice(i,0,t)};n.selectSourceHandler=function(t){for(var r=n.sourceHandlers||[],u,i=0;i<r.length;i++)if(u=r[i].canHandleSource(t),u)return r[i];return null};n.canPlaySource=function(t){var i=n.selectSourceHandler(t);return i?i.canHandleSource(t):""};n.prototype.setSource=function(t){var i=n.selectSourceHandler(t);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:vjs.log.error("No source hander found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);this.currentSource_=t;this.sourceHandler_=i.handleSource(t,this);this.on("dispose",this.disposeSourceHandler);return this};n.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}};vjs.media={}}(),vjs.Html5=vjs.MediaTechController.extend({init:function(n,t,i){var o,s,r,u,h,f,e;if((t.nativeCaptions===!1||t.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),vjs.MediaTechController.call(this,n,t,i),this.setupTriggers(),e=t.source,e&&(this.el_.currentSrc!==e.src||n.tag&&n.tag.initNetworkState_===3)&&this.setSource(e),this.el_.hasChildNodes()){for(o=this.el_.childNodes,s=o.length,f=[];s--;)u=o[s],h=u.nodeName.toLowerCase(),h==="track"&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(u.track):f.push(u));for(r=0;r<f.length;r++)this.el_.removeChild(f[r])}if(this.featuresNativeTextTracks)this.on("loadstart",vjs.bind(this,this.hideCaptions));vjs.TOUCH_ENABLED&&n.options().nativeControlsForTouch===!0&&this.useNativeControls();this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_);vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t=this.player_,u,r,i,n=t.tag,e,h,o,f,s;if(n&&this.movingMediaElementInDOM!==!1)n.parentNode!==t.el()&&vjs.insertFirst(n,t.el());else{if(n?(h=n.cloneNode(!1),vjs.Html5.disposeMediaElement(n),n=h,t.tag=null):(n=vjs.createEl("video"),e=videojs.util.mergeOptions({},t.tagAttributes),vjs.TOUCH_ENABLED&&t.options().nativeControlsForTouch===!0||delete e.controls,vjs.setElementAttributes(n,vjs.obj.merge(e,{id:t.id()+"_html5_api","class":"vjs-tech"}))),n.player=t,t.options_.tracks)for(i=0;i<t.options_.tracks.length;i++)u=t.options_.tracks[i],r=document.createElement("track"),r.kind=u.kind,r.label=u.label,r.srclang=u.srclang,r.src=u.src,"default"in u&&r.setAttribute("default","default"),n.appendChild(r);vjs.insertFirst(n,t.el())}for(vjs.setElementAttributes(n,{oncontextmenu:"return false;",preload:"none"}),o=["autoplay","preload","loop","muted"],i=o.length-1;i>=0;i--)f=o[i],s={},typeof t.options_[f]!="undefined"&&(s[f]=t.options_[f]),vjs.setElementAttributes(n,s);return n},vjs.Html5.prototype.hideCaptions=function(){for(var t=this.el_.querySelectorAll("track"),n,i=t.length,r={captions:1,subtitles:1};i--;)n=t[i].track,n&&n.kind in r&&!t[i]["default"]&&(n.mode="disabled")},vjs.Html5.prototype.setupTriggers=function(){for(var n=vjs.Html5.Events.length-1;n>=0;n--)this.on(vjs.Html5.Events[n],this.eventHandler)},vjs.Html5.prototype.eventHandler=function(n){"timeupdate"!==n.type&&"progress"!==n.type&&vjs.log("Html5 - Event: "+n.type);n.type=="error"&&this.error()?amp.Player.raiseError.call(this.player(),"html5",this.error().code<<20):this.processEvent(n)},vjs.Html5.prototype.processEvent=function(n){n.bubbles=!1;this.player().trigger(n);n.type=="canplaythrough"&&this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},vjs.Html5.prototype.useNativeControls=function(){var t,n,i,r,u;t=this;n=this.player();t.setControls(n.controls());i=function(){t.setControls(!0)};r=function(){t.setControls(!1)};n.on("controlsenabled",i);n.on("controlsdisabled",r);u=function(){n.off("controlsenabled",i);n.off("controlsdisabled",r)};t.on("dispose",u);n.on("usingcustomcontrols",u);n.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.currentAbsoluteTime=function(){return undefined},vjs.Html5.prototype.currentMediaTime=function(){return undefined},vjs.Html5.prototype.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.currentVideoStreamList=function(){return undefined},vjs.Html5.prototype.currentAudioStreamList=function(){return undefined},vjs.Html5.prototype.videoBufferData=function(){return undefined},vjs.Html5.prototype.audioBufferData=function(){return undefined},vjs.Html5.prototype.currentDownloadBitrate=function(){return undefined},vjs.Html5.prototype.currentPlaybackBitrate=function(){return undefined},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.isLive=function(){return this.duration()===Infinity||this.duration()===Number.MAX_VALUE?!0:!1},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(n){this.el_.volume=n},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(n){this.el_.muted=n},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.videoWidth=function(){return this.player().width()},vjs.Html5.prototype.videoHeight=function(){return this.player().height()},vjs.Html5.prototype.supportsFullScreen=function(){return typeof this.el_.webkitEnterFullScreen=="function"&&(/Android/.test(vjs.USER_AGENT)||!/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))?!0:!1},vjs.Html5.prototype.enterFullScreen=function(){var n=this.el_;if("webkitDisplayingFullscreen"in n)this.one("webkitbeginfullscreen",function(){this.player_.isFullscreen(!0);this.one("webkitendfullscreen",function(){this.player_.isFullscreen(!1);this.player_.trigger("fullscreenchange")});this.player_.trigger("fullscreenchange")});n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(n){if(n===undefined)return this.el_.src;this.setSrc(n)},vjs.Html5.prototype.setSrc=function(n){this.setAutoplay(this.player().options_.autoplay);this.el_.src=n},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(n){this.el_.preload=n},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(n){this.el_.autoplay=n},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(n){this.el_.controls=!!n},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(n){this.el_.loop=n},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(n){this.el_.playbackRate=n},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.prototype.readyState=function(){return this.el_.readyState},vjs.Html5.prototype.textTracks=function(){return this.featuresNativeTextTracks?this.el_.textTracks:vjs.MediaTechController.prototype.textTracks.call(this)},vjs.Html5.prototype.addTextTrack=function(n,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,t,i):vjs.MediaTechController.prototype.addTextTrack.call(this,n,t,i)},vjs.Html5.prototype.addRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.addRemoteTextTrack.call(this,n);var t=document.createElement("track");return n=n||{},n.kind&&(t.kind=n.kind),n.label&&(t.label=n.label),(n.language||n.srclang)&&(t.srclang=n.language||n.srclang),n["default"]&&(t["default"]=n["default"]),n.id&&(t.id=n.id),n.src&&(t.src=n.src),vjs.url.isCrossOrigin(t.src)&&(this.player().options().corsPolicyForTextTracksAndPoster===vjs.CorsConfig.UseCredentials?vjs.setElementAttributes(this.el(),{crossorigin:"use-credentials"}):vjs.setElementAttributes(this.el(),{crossorigin:"anonymous"})),this.el().appendChild(t),t.track.mode=t.track.kind==="metadata"?"hidden":"disabled",this.remoteTextTracks().addTrack_(t.track),t},vjs.Html5.prototype.removeRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return vjs.MediaTechController.prototype.removeRemoteTextTrack.call(this,n);var i,t;for(this.remoteTextTracks().removeTrack_(n),i=this.el().querySelectorAll("track"),t=0;t<i.length;t++)if(i[t]===n||i[t].track===n){i[t].parentNode.removeChild(i[t]);break}},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(n){return!1}return!!vjs.TEST_VID.canPlayType},vjs.MediaTechController.withSourceHandlers(vjs.Html5),vjs.Html5.nativeSourceHandler={},vjs.Html5.nativeSourceHandler.canHandleSource=function(n){function r(n){try{return vjs.TEST_VID.canPlayType(n)}catch(t){return""}}var i,u,t;if(n.protectionInfo&&n.protectionInfo.length>0)for(t=0;t<n.protectionInfo.length;t++)if(n.protectionInfo[t].type==="PlayReady"||n.protectionInfo[t].type==="Widevine"||n.protectionInfo[t].type==="FairPlay")return"";return n.type?r(n.type):n.src?(i=n.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),u=i&&i[1],r("video/"+u)):""},vjs.Html5.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)},vjs.Html5.nativeSourceHandler.dispose=function(){},vjs.Html5.registerSourceHandler(vjs.Html5.nativeSourceHandler),vjs.Html5.canControlVolume=function(){try{var n=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=n/2+.1,n!==vjs.TEST_VID.volume}catch(t){return!1}},vjs.Html5.canControlPlaybackRate=function(){try{var n=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=n/2+.1,n!==vjs.TEST_VID.playbackRate}catch(t){return!1}},vjs.Html5.supportsNativeTextTracks=function(){var n;return n=!!vjs.TEST_VID.textTracks,n&&vjs.TEST_VID.textTracks.length>0&&(n=typeof vjs.TEST_VID.textTracks[0].mode!="number"),n&&vjs.IS_FIREFOX&&(n=!1),n},vjs.Html5.prototype.featuresVolumeControl=vjs.Html5.canControlVolume(),vjs.Html5.prototype.featuresPlaybackRate=vjs.Html5.canControlPlaybackRate(),vjs.Html5.prototype.movingMediaElementInDOM=!vjs.IS_IOS,vjs.Html5.prototype.featuresFullscreenResize=!0,vjs.Html5.prototype.featuresProgressEvents=!0,vjs.Html5.prototype.featuresNativeTextTracks=vjs.Html5.supportsNativeTextTracks(),function(){var n,t=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,i=/^video\/mp4/i;vjs.Html5.patchCanPlayType=function(){vjs.ANDROID_VERSION>=4&&(n||(n=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(i){return i&&t.test(i)?"maybe":n.call(this,i)});vjs.IS_OLD_ANDROID&&(n||(n=vjs.TEST_VID.constructor.prototype.canPlayType),vjs.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&i.test(t)?"maybe":n.call(this,t)})};vjs.Html5.unpatchCanPlayType=function(){var t=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=n,n=null,t};vjs.Html5.patchCanPlayType()}(),vjs.Html5.Events="loadstart,progress,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,play,pause,ratechange,resize,volumechange".split(","),vjs.Html5.disposeMediaElement=function(n){if(n){for(n.player=null,n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(n,t,i){vjs.MediaTechController.call(this,n,t,i);var u=t.source,o=t.parentEl,f=this.el_=vjs.createEl("div",{id:n.id()+"_temp_flash"}),e=n.id()+"_flash_api",r=n.options_,s=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:r.autoplay,preload:r.preload,loop:r.loop,muted:r.muted},t.flashVars),h=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},t.params),c=vjs.obj.merge({id:e,name:e,"class":"vjs-tech"},t.attributes);u&&this.ready(function(){this.setSource(u)});vjs.insertFirst(f,o);t.startTime&&this.ready(function(){this.load();this.play();this.currentTime(t.startTime)});vjs.IS_FIREFOX&&this.ready(function(){this.on("mousemove",function(){this.player().trigger({type:"mousemove",bubbles:!1})})});n.on("stageclick",n.reportUserActivity);this.el_=vjs.Flash.embed(t.swf,f,s,h,c)}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(n){return n===undefined?this.currentSrc():this.setSrc(n)},vjs.Flash.prototype.setSrc=function(n){if(n=vjs.getAbsoluteURL(n),this.el_.vjs_src(n),this.player_.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},vjs.Flash.prototype.setCurrentTime=function(n){this.lastSeekTarget_=n;this.el_.vjs_setProperty("currentTime",n);vjs.MediaTechController.prototype.setCurrentTime.call(this)},vjs.Flash.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},vjs.Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1},function(){function f(n){var t=n.charAt(0).toUpperCase()+n.slice(1);r["set"+t]=function(t){return this.el_.vjs_setProperty(n,t)}}function i(n){r[n]=function(){return this.el_.vjs_getProperty(n)}}for(var r=vjs.Flash.prototype,t="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),u="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),n=0;n<t.length;n++)i(t[n]),f(t[n]);for(n=0;n<u.length;n++)i(u[n])}(),vjs.Flash.isSupported=function(){return swfobject.hasFlashPlayerVersion("11.4")},vjs.MediaTechController.withSourceHandlers(vjs.Flash),vjs.Flash.nativeSourceHandler={},vjs.Flash.nativeSourceHandler.canHandleSource=function(n){var t;return n.type?(t=n.type.replace(/;.*/,"").toLowerCase(),t in vjs.Flash.formats)?"maybe":"":""},vjs.Flash.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)},vjs.Flash.nativeSourceHandler.dispose=function(){},vjs.Flash.registerSourceHandler(vjs.Flash.nativeSourceHandler),vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.onReady=function(n){var t,i;t=vjs.el(n);i=t&&t.parentNode&&t.parentNode.player;i&&(t.player=i,vjs.Flash.checkReady(i.tech))},vjs.Flash.checkReady=function(n){n.el()&&(n.el().vjs_getProperty?n.triggerReady():this.setTimeout(function(){vjs.Flash.checkReady(n)},50))},vjs.Flash.onEvent=function(n,t){var i=vjs.el(n).player;i.trigger(t)},vjs.Flash.onError=function(n,t){var i=vjs.el(n).player,r="FLASH: "+t;t=="srcnotfound"?i.error({code:4,message:r}):i.error(r)},vjs.Flash.embed=function(n,t,i,r,u){var o=vjs.Flash.getEmbedCode(n,i,r,u),f=vjs.createEl("div",{innerHTML:o}).childNodes[0],s=t.parentNode,e;return t.parentNode.replaceChild(f,t),e=s.childNodes[0],setTimeout(function(){e.style.display="block"},1e3),f},vjs.Flash.getEmbedCode=function(n,t,i,r){var u="",f="",e="";return t&&vjs.obj.each(t,function(n,t){u+=encodeURIComponent(n)+"="+encodeURIComponent(t)+"&amp;"}),delete i.flashvars,i=vjs.obj.merge({movie:n,flashvars:u,allowScriptAccess:"always",allowNetworking:"all"},i),vjs.obj.each(i,function(n,t){f+='<param name="'+encodeURIComponent(n)+'" value="'+(n!=="flashvars"?encodeURI(t):t)+'" />'}),r=vjs.obj.merge({data:n,width:"100%",height:"100%"},r),vjs.obj.each(r,function(n,t){e+=encodeURIComponent(n)+'="'+encodeURI(t)+'" '}),'<object type="application/x-shockwave-flash" '+e+">"+f+"<\/object>"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.streamFromParts=function(n,t){return n+"&"+t},vjs.Flash.streamToParts=function(n){var i={connection:"",stream:""},t,r;return n?(t=n.indexOf("&"),t!==-1?r=t+1:(t=r=n.lastIndexOf("/")+1,t===0&&(t=r=n.length)),i.connection=n.substring(0,t),i.stream=n.substring(r,n.length),i):i},vjs.Flash.isStreamingType=function(n){return n in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(n){return vjs.Flash.RTMP_RE.test(n)},vjs.Flash.rtmpSourceHandler={},vjs.Flash.rtmpSourceHandler.canHandleSource=function(n){return vjs.Flash.isStreamingType(n.type)||vjs.Flash.isStreamingSrc(n.src)?"maybe":""},vjs.Flash.rtmpSourceHandler.handleSource=function(n,t){var i=vjs.Flash.streamToParts(n.src);t.setRtmpConnection(i.connection);t.setRtmpStream(i.stream)},vjs.Flash.registerSourceHandler(vjs.Flash.rtmpSourceHandler),vjs.MediaLoader=vjs.Component.extend({init:function(n,t,i){var r,u,f,e;if(vjs.Component.call(this,n,t,i),n.options_.sources&&n.options_.sources.length!==0)n.src(n.options_.sources);else for(r=0,u=n.options_.techOrder;r<u.length;r++)if(f=vjs.capitalize(u[r]),e=window.videojs[f],e&&e.isSupported()){n.loadTech(f);break}}}),swfobject=function(){function n(n){return parseInt(n,10)}function o(t){t+="";var r=e.pv,i=t.split(".");return i[0]=n(i[0]),i[1]=n(i[1])||0,i[2]=n(i[2])||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?!0:!1}var i="undefined",s="object",u="Shockwave Flash",h="ShockwaveFlash.ShockwaveFlash",f="application/x-shockwave-flash",c=window,r=document,t=navigator,l=!1,e=function(){var w=typeof r.getElementById!==i&&typeof r.getElementsByTagName!==i&&typeof r.createElement!==i,a=t.userAgent.toLowerCase(),v=t.platform.toLowerCase(),b=v?/win/.test(v):/win/.test(a),k=v?/mac/.test(v):/mac/.test(a),d=/webkit/.test(a)?parseFloat(a.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,y=t.appName==="Microsoft Internet Explorer",o=[0,0,0],e=null,p;if(typeof t.plugins!==i&&typeof t.plugins[u]===s)e=t.plugins[u].description,e&&typeof t.mimeTypes!==i&&t.mimeTypes[f]&&t.mimeTypes[f].enabledPlugin&&(l=!0,y=!1,e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=n(e.replace(/^(.*)\..*$/,"$1")),o[1]=n(e.replace(/^.*\.(.*)\s.*$/,"$1")),o[2]=/[a-zA-Z]/.test(e)?n(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof c.ActiveXObject!==i)try{p=new ActiveXObject(h);p&&(e=p.GetVariable("$version"),e&&(y=!0,e=e.split(" ")[1].split(","),o=[n(e[0]),n(e[1]),n(e[2])]))}catch(g){}return{w3:w,pv:o,wk:d,ie:y,win:b,mac:k}}();return{ua:e,hasFlashPlayerVersion:o}}(),function(){"use strict";vjs.TextTrackDisplay=vjs.Component.extend({init:function(n,t,i){vjs.Component.call(this,n,t,i);n.on("loadstart",vjs.bind(this,this.toggleDisplay));n.ready(vjs.bind(this,function(){if(n.tech&&n.tech.featuresNativeTextTracks){this.hide();return}var t,i,r;n.on("fullscreenchange",vjs.bind(this,this.updateDisplay));for(i=n.options_.tracks||[],t=0;t<i.length;t++)r=i[t],this.player_.addRemoteTextTrack(r);n.options_.tracks.length=0}))}});vjs.TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech&&this.player_.tech.featuresNativeTextTracks?this.hide():this.show()};vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})};vjs.TextTrackDisplay.prototype.clearDisplay=function(){typeof WebVTT=="function"&&window.WebVTT.processCues(window,[],this.el_)};var t=function(n,t){return"rgba("+parseInt(n[1]+n[1],16)+","+parseInt(n[2]+n[2],16)+","+parseInt(n[3]+n[3],16)+","+t+")"},n="#222",r="#ccc",u={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},i=function(n,t,i){try{n.style[t]=i}catch(r){}};vjs.TextTrackDisplay.prototype.updateDisplay=function(){var n=this.player_.textTracks(),t=0,i;if(this.clearDisplay(),n)for(;t<n.length;t++)i=n[t],i.mode==="showing"&&this.updateForTrack(i)};vjs.TextTrackDisplay.prototype.updateForTrack=function(f){if(typeof WebVTT=="function"&&f.activeCues){for(var s=0,o,e=this.player_.textTrackSettings.getValues(),c,h=[];s<f.activeCues.length;s++)h.push(f.activeCues[s]);for(window.WebVTT.processCues(window,f.activeCues,this.el_),s=h.length;s--;)o=h[s].displayState,e.color&&(o.firstChild.style.color=e.color),e.textOpacity&&i(o.firstChild,"color",t(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(o.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&i(o.firstChild,"backgroundColor",t(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?i(o,"backgroundColor",t(e.windowColor,e.windowOpacity)):o.style.backgroundColor=e.windowColor),e.edgeStyle&&(e.edgeStyle==="dropshadow"?o.firstChild.style.textShadow="2px 2px 3px "+n+", 2px 2px 4px "+n+", 2px 2px 5px "+n:e.edgeStyle==="raised"?o.firstChild.style.textShadow="1px 1px "+n+", 2px 2px "+n+", 3px 3px "+n:e.edgeStyle==="depressed"?o.firstChild.style.textShadow="1px 1px "+r+", 0 1px "+r+", -1px -1px "+n+", 0 -1px "+n:e.edgeStyle==="uniform"&&(o.firstChild.style.textShadow="0 0 4px "+n+", 0 0 4px "+n+", 0 0 4px "+n+", 0 0 4px "+n)),e.fontPercent&&e.fontPercent!==1&&(c=window.parseFloat(o.style.fontSize),o.style.fontSize=c*e.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"),e.fontFamily&&e.fontFamily!=="default"&&(e.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=u[e.fontFamily])}};vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(n,t){function e(n){var t=vjs.getIsoLangs();return!n||!t||!t[n]?null:t[n].nativeName}var u=this.track=t.track,i=n.textTracks(),f,r;if(i){f=vjs.bind(this,function(){var t=this.track.mode==="showing",r,n,u;if(this instanceof vjs.OffTextTrackMenuItem)for(t=!0,n=0,u=i.length;n<u;n++)if(r=i[n],r.kind===this.track.kind&&r.mode==="showing"){t=!1;break}this.selected(t)});i.addEventListener("change",f);n.on("dispose",function(){i.removeEventListener("change",f)})}if(t.label=u.label||e(u.language)||"Unknown",t.selected=u["default"]||u.mode==="showing",vjs.MenuItem.call(this,n,t),i&&i.onchange===undefined)this.on(["tap","click"],function(){if(typeof Event!="object")try{r=new window.Event("change")}catch(n){}r||(r=document.createEvent("Event"),r.initEvent("change",!0,!0));i.dispatchEvent(r)})}});vjs.TextTrackMenuItem.prototype.onClick=function(n){var u=this.track.kind,i=this.player_.textTracks(),t,r=0;if(vjs.MenuItem.prototype.onClick.call(this,n),i)for(;r<i.length;r++)(t=i[r],t.kind===u)&&(t.mode=t===this.track?"showing":"disabled")};vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(n,t){t.track={kind:t.kind,player:n,label:t.kind+" off","default":!1,mode:"disabled"};vjs.TextTrackMenuItem.call(this,n,t);this.selected(!0)}});vjs.CaptionSettingsMenuItem=vjs.TextTrackMenuItem.extend({init:function(n,t){t.track={kind:t.kind,player:n,label:"Settings","default":!1,mode:"disabled"};vjs.TextTrackMenuItem.call(this,n,t);this.addClass("vjs-texttrack-settings")}});vjs.CaptionSettingsMenuItem.prototype.onClick=function(){this.player().getChild("textTrackSettings").show()};vjs.TextTrackButton=vjs.MenuButton.extend({init:function(n,t){var i,r;if(vjs.MenuButton.call(this,n,t),i=this.player_.textTracks(),this.items.length<=1&&this.hide(),r=vjs.bind(this,this.update),this.player_.ready(r),i){i.addEventListener("removetrack",r);i.addEventListener("addtrack",r);this.player_.on("dispose",function(){i.removeEventListener("removetrack",r);i.removeEventListener("addtrack",r)})}}});vjs.TextTrackButton.prototype.createItems=function(){var n=[],r,t,i;if(this instanceof vjs.CaptionsButton&&!(this.player().tech&&this.player().tech.featuresNativeTextTracks)&&n.push(new vjs.CaptionSettingsMenuItem(this.player_,{kind:this.kind_})),n.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_})),t=this.player_.textTracks(),!t)return n;for(i=0;i<t.length;i++)r=t[i],r.kind===this.kind_&&n.push(new vjs.TextTrackMenuItem(this.player_,{track:r}));return n};vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(n,t,i){vjs.TextTrackButton.call(this,n,t,i);this.el_.setAttribute("aria-label","Captions Menu")}});vjs.CaptionsButton.prototype.kind_="captions";vjs.CaptionsButton.prototype.buttonText="Captions";vjs.CaptionsButton.prototype.className="vjs-captions-button";vjs.CaptionsButton.prototype.update=function(){var n=2;vjs.MenuButton.prototype.update.call(this);this.player().tech&&this.player().tech.featuresNativeTextTracks&&(n=1);this.items&&this.items.length>n?this.show():this.hide()};vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(n,t,i){vjs.TextTrackButton.call(this,n,t,i);this.el_.setAttribute("aria-label","Subtitles Menu")}});vjs.SubtitlesButton.prototype.kind_="subtitles";vjs.SubtitlesButton.prototype.buttonText="Subtitles";vjs.SubtitlesButton.prototype.className="vjs-subtitles-button";vjs.SubtitlesButton.prototype.update=function(){vjs.MenuButton.prototype.update.call(this);this.items&&this.items.length>1?this.show():this.hide()};vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(n,t,i){vjs.TextTrackButton.call(this,n,t,i);this.el_.setAttribute("aria-label","Chapters Menu")}});vjs.ChaptersButton.prototype.kind_="chapters";vjs.ChaptersButton.prototype.buttonText="Chapters";vjs.ChaptersButton.prototype.className="vjs-chapters-button";vjs.ChaptersButton.prototype.createItems=function(){var i=[],r,n,t;if(n=this.player_.textTracks(),!n)return i;for(t=0;t<n.length;t++)r=n[t],r.kind===this.kind_&&i.push(new vjs.TextTrackMenuItem(this.player_,{track:r}));return i};vjs.ChaptersButton.prototype.createMenu=function(){for(var o=this.player_.textTracks()||[],n=0,u=o.length,i,r,h=this.items=[],t,f,s,e;n<u;n++)if(i=o[n],i.kind==this.kind_)if(i.cues){r=i;break}else i.mode="hidden",window.setTimeout(vjs.bind(this,function(){this.createMenu()}),100);if(t=this.menu,t===undefined&&(t=new vjs.Menu(this.player_),t.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.util.htmlEncode(vjs.capitalize(this.kind_)),tabindex:-1}))),r){for(f=r.cues,n=0,u=f.length;n<u;n++)s=f[n],e=new vjs.ChaptersTrackMenuItem(this.player_,{track:r,cue:s}),h.push(e),t.addChild(e);this.addChild(t)}return this.items.length>0&&this.show(),t};vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(n,t){var u=this.track=t.track,i=this.cue=t.cue,r=n.currentTime();t.label=i.text;t.selected=i.startTime<=r&&r<i.endTime;vjs.MenuItem.call(this,n,t);u.addEventListener("cuechange",vjs.bind(this,this.update))}});vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)};vjs.ChaptersTrackMenuItem.prototype.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)}}(),vjs.TextTrackCueList=function(n){var t=this,i;if(vjs.IS_IE8){t=document.createElement("custom");for(i in vjs.TextTrackCueList.prototype)t[i]=vjs.TextTrackCueList.prototype[i]}return vjs.TextTrackCueList.prototype.setCues_.call(t,n),Object.defineProperty(t,"length",{get:function(){return this.length_}}),vjs.IS_IE8?t:void 0},vjs.TextTrackCueList.prototype.setCues_=function(n){var i=this.length||0,t=0,r=n.length,u;if(this.cues_=n,this.length_=n.length,u=function(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})},i<r)for(t=i;t<r;t++)u.call(this,t)},vjs.TextTrackCueList.prototype.getCueById=function(n){for(var t=0,u=this.length,r=null,i;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},vjs.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},vjs.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},vjs.TextTrackList=function(n){var t=this,i,r=0;if(vjs.IS_IE8){t=document.createElement("custom");for(i in vjs.TextTrackList.prototype)t[i]=vjs.TextTrackList.prototype[i]}for(n=n||[],t.tracks_=[],Object.defineProperty(t,"length",{get:function(){return this.tracks_.length}});r<n.length;r++)t.addTrack_(n[r]);if(vjs.IS_IE8)return t},vjs.TextTrackList.prototype=vjs.obj.create(vjs.EventEmitter.prototype),vjs.TextTrackList.prototype.constructor=vjs.TextTrackList,vjs.TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},function(){for(var n in vjs.TextTrackList.prototype.allowedEvents_)vjs.TextTrackList.prototype["on"+n]=null}(),vjs.TextTrackList.prototype.addTrack_=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});n.addEventListener("modechange",vjs.bind(this,function(){this.trigger("change")}));this.tracks_.push(n);this.trigger({type:"addtrack",track:n})},vjs.TextTrackList.prototype.removeTrack_=function(n){for(var t=0,r=this.length,i;t<r;t++)if(i=this[t],i===n){this.tracks_.splice(t,1);break}this.trigger({type:"removetrack",track:n})},vjs.TextTrackList.prototype.getTrackById=function(n){for(var t=0,u=this.length,r=null,i;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},function(){"use strict";function n(n){var t;return n.selectedOptions?t=n.selectedOptions[0]:n.options&&(t=n.options[n.options.selectedIndex]),t.value}function t(n,t){var i,r;if(t){for(i=0;i<n.options.length;i++)if(r=n.options[i],r.value===t)break;n.selectedIndex=i}}function i(){return'<div class="vjs-tracksettings"><div class="vjs-tracksettings-colors"><div class="vjs-fg-color vjs-tracksetting"><label class="vjs-label">Foreground<\/label><select><option value="">---<\/option><option value="#FFF">White<\/option><option value="#000">Black<\/option><option value="#F00">Red<\/option><option value="#0F0">Green<\/option><option value="#00F">Blue<\/option><option value="#FF0">Yellow<\/option><option value="#F0F">Magenta<\/option><option value="#0FF">Cyan<\/option><\/select><span class="vjs-text-opacity vjs-opacity"><select><option value="">---<\/option><option value="1">Opaque<\/option><option value="0.5">Semi-Opaque<\/option><\/select><\/span><\/div><div class="vjs-bg-color vjs-tracksetting"><label class="vjs-label">Background<\/label><select><option value="">---<\/option><option value="#FFF">White<\/option><option value="#000">Black<\/option><option value="#F00">Red<\/option><option value="#0F0">Green<\/option><option value="#00F">Blue<\/option><option value="#FF0">Yellow<\/option><option value="#F0F">Magenta<\/option><option value="#0FF">Cyan<\/option><\/select><span class="vjs-bg-opacity vjs-opacity"><select><option value="">---<\/option><option value="1">Opaque<\/option><option value="0.5">Semi-Transparent<\/option><option value="0">Transparent<\/option><\/select><\/span><\/div><div class="window-color vjs-tracksetting"><label class="vjs-label">Window<\/label><select><option value="">---<\/option><option value="#FFF">White<\/option><option value="#000">Black<\/option><option value="#F00">Red<\/option><option value="#0F0">Green<\/option><option value="#00F">Blue<\/option><option value="#FF0">Yellow<\/option><option value="#F0F">Magenta<\/option><option value="#0FF">Cyan<\/option><\/select><span class="vjs-window-opacity vjs-opacity"><select><option value="">---<\/option><option value="1">Opaque<\/option><option value="0.5">Semi-Transparent<\/option><option value="0">Transparent<\/option><\/select><\/span><\/div><\/div><div class="vjs-tracksettings-font"><div class="vjs-font-percent vjs-tracksetting"><label class="vjs-label">Font Size<\/label><select><option value="0.50">50%<\/option><option value="0.75">75%<\/option><option value="1.00" selected>100%<\/option><option value="1.25">125%<\/option><option value="1.50">150%<\/option><option value="1.75">175%<\/option><option value="2.00">200%<\/option><option value="3.00">300%<\/option><option value="4.00">400%<\/option><\/select><\/div><div class="vjs-edge-style vjs-tracksetting"><label class="vjs-label">Text Edge Style<\/label><select><option value="none">None<\/option><option value="raised">Raised<\/option><option value="depressed">Depressed<\/option><option value="uniform">Uniform<\/option><option value="dropshadow">Dropshadow<\/option><\/select><\/div><div class="vjs-font-family vjs-tracksetting"><label class="vjs-label">Font Family<\/label><select><option value="">Default<\/option><option value="monospaceSerif">Monospace Serif<\/option><option value="proportionalSerif">Proportional Serif<\/option><option value="monospaceSansSerif">Monospace Sans-Serif<\/option><option value="proportionalSansSerif">Proportional Sans-Serif<\/option><option value="casual">Casual<\/option><option value="script">Script<\/option><option value="small-caps">Small Caps<\/option><\/select><\/div><\/div><\/div><div class="vjs-tracksettings-controls"><button class="vjs-default-button">Defaults<\/button><button class="vjs-done-button">Done<\/button><\/div>'}vjs.TextTrackSettings=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t);this.hide();vjs.on(this.el().querySelector(".vjs-done-button"),"click",vjs.bind(this,function(){this.saveSettings();this.hide()}));vjs.on(this.el().querySelector(".vjs-default-button"),"click",vjs.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0;this.el().querySelector(".vjs-bg-color > select").selectedIndex=0;this.el().querySelector(".window-color > select").selectedIndex=0;this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0;this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0;this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0;this.el().querySelector(".vjs-edge-style select").selectedIndex=0;this.el().querySelector(".vjs-font-family select").selectedIndex=0;this.el().querySelector(".vjs-font-percent select").selectedIndex=2;this.updateDisplay()}));vjs.on(this.el().querySelector(".vjs-fg-color > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-bg-color > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".window-color > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-text-opacity > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-window-opacity > select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-font-percent select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-edge-style select"),"change",vjs.bind(this,this.updateDisplay));vjs.on(this.el().querySelector(".vjs-font-family select"),"change",vjs.bind(this,this.updateDisplay));n.options().persistTextTrackSettings&&this.restoreSettings()}});vjs.TextTrackSettings.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:i()})};vjs.TextTrackSettings.prototype.getValues=function(){var t,u,f,e,o,s,h,c,l,i,r,a;t=this.el();o=n(t.querySelector(".vjs-edge-style select"));s=n(t.querySelector(".vjs-font-family select"));h=n(t.querySelector(".vjs-fg-color > select"));f=n(t.querySelector(".vjs-text-opacity > select"));c=n(t.querySelector(".vjs-bg-color > select"));u=n(t.querySelector(".vjs-bg-opacity > select"));l=n(t.querySelector(".window-color > select"));e=n(t.querySelector(".vjs-window-opacity > select"));a=window.parseFloat(n(t.querySelector(".vjs-font-percent > select")));i={backgroundOpacity:u,textOpacity:f,windowOpacity:e,edgeStyle:o,fontFamily:s,color:h,backgroundColor:c,windowColor:l,fontPercent:a};for(r in i)(i[r]===""||i[r]==="none"||r==="fontPercent"&&i[r]===1)&&delete i[r];return i};vjs.TextTrackSettings.prototype.setValues=function(n){var i=this.el(),r;t(i.querySelector(".vjs-edge-style select"),n.edgeStyle);t(i.querySelector(".vjs-font-family select"),n.fontFamily);t(i.querySelector(".vjs-fg-color > select"),n.color);t(i.querySelector(".vjs-text-opacity > select"),n.textOpacity);t(i.querySelector(".vjs-bg-color > select"),n.backgroundColor);t(i.querySelector(".vjs-bg-opacity > select"),n.backgroundOpacity);t(i.querySelector(".window-color > select"),n.windowColor);t(i.querySelector(".vjs-window-opacity > select"),n.windowOpacity);r=n.fontPercent;r&&(r=r.toFixed(2));t(i.querySelector(".vjs-font-percent > select"),r)};vjs.TextTrackSettings.prototype.restoreSettings=function(){var n=vjs.JSON.safeParseTuple(window.localStorage.getItem("vjs-text-track-settings"))[1];n&&this.setValues(n)};vjs.TextTrackSettings.prototype.saveSettings=function(){var n;if(this.player_.options().persistTextTrackSettings){n=this.getValues();try{vjs.isEmpty(n)?window.localStorage.removeItem("vjs-text-track-settings"):window.localStorage.setItem("vjs-text-track-settings",JSON.stringify(n))}catch(t){}}};vjs.TextTrackSettings.prototype.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()}}(),function(){vjs.TextTrack=function(n){var r,c,u,e,l,a,v,o,s,f,h;if(n=n||{},!n.player)throw new Error("A player was not provided.");if(r=this,vjs.IS_IE8){r=document.createElement("custom");for(h in vjs.TextTrack.prototype)r[h]=vjs.TextTrack.prototype[h]}if(r.player_=n.player,u=vjs.TextTrackMode[n.mode]||"disabled",e=vjs.TextTrackKind[n.kind]||"subtitles",l=n.label||"",a=n.language||n.srclang||"",c=n.id||"vjs_text_track_"+vjs.guid++,(e==="metadata"||e==="chapters")&&(u="hidden"),r.cues_=[],r.activeCues_=[],v=new vjs.TextTrackCueList(r.cues_),o=new vjs.TextTrackCueList(r.activeCues_),f=!1,s=vjs.bind(r,function(){this.activeCues;f&&(this.trigger("cuechange"),f=!1)}),u!=="disabled")r.player_.on("timeupdate",s);return Object.defineProperty(r,"kind",{get:function(){return e},set:Function.prototype}),Object.defineProperty(r,"label",{get:function(){return l},set:Function.prototype}),Object.defineProperty(r,"language",{get:function(){return a},set:Function.prototype}),Object.defineProperty(r,"id",{get:function(){return c},set:Function.prototype}),Object.defineProperty(r,"mode",{get:function(){return u},set:function(n){if(vjs.TextTrackMode[n]){if(u=n,u==="showing")this.player_.on("timeupdate",s);this.trigger("modechange")}}}),Object.defineProperty(r,"cues",{get:function(){return this.loaded_?v:null},set:Function.prototype}),Object.defineProperty(r,"activeCues",{get:function(){var t,e,r,u,n;if(!this.loaded_)return null;if(this.cues.length===0)return o;for(u=this.player_.currentTime(),t=0,e=this.cues.length,r=[];t<e;t++)n=this.cues[t],n.startTime<=u&&n.endTime>=u?r.push(n):n.startTime===n.endTime&&n.startTime<=u&&n.startTime+.5>=u&&r.push(n);if(f=!1,r.length!==this.activeCues_.length)f=!0;else for(t=0;t<r.length;t++)i.call(this.activeCues_,r[t])===-1&&(f=!0);return this.activeCues_=r,o.setCues_(this.activeCues_),o},set:Function.prototype}),n.src?t(n.src,r,r.player_.options().corsPolicyForTextTracksAndPoster===vjs.CorsConfig.UseCredentials):r.loaded_=!0,vjs.IS_IE8?r:void 0};vjs.TextTrack.prototype=vjs.obj.create(vjs.EventEmitter.prototype);vjs.TextTrack.prototype.constructor=vjs.TextTrack;vjs.TextTrack.prototype.allowedEvents_={cuechange:"cuechange"};vjs.TextTrack.prototype.addCue=function(n){var t=this.player_.textTracks(),i=0;if(t)for(;i<t.length;i++)t[i]!==this&&t[i].removeCue(n);this.cues_.push(n);this.cues.setCues_(this.cues_)};vjs.TextTrack.prototype.removeCue=function(n){for(var t=0,u=this.cues_.length,i,r=!1;t<u;t++)i=this.cues_[t],i===n&&(this.cues_.splice(t,1),r=!0);r&&this.cues.setCues_(this.cues_)};var t,n,i;t=function(t,i,r){vjs.xhr({uri:t,withCredentials:r},vjs.bind(this,function(t,r,u){if(t)return vjs.log.error(t);i.loaded_=!0;n(u,i)}))};n=function(t,i){if(typeof WebVTT!="function")return window.setTimeout(function(){n(t,i)},25);var r=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());r.oncue=function(n){i.addCue(n)};r.onparsingerror=function(n){vjs.log.error(n)};r.parse(t);r.flush()};i=function(n,t){var r,f,u,i;if(this==null)throw new TypeError('"this" is null or not defined');if((f=Object(this),u=f.length>>>0,u===0)||(i=+t||0,Math.abs(i)===Infinity&&(i=0),i>=u))return-1;for(r=Math.max(i>=0?i:u-Math.abs(i),0);r<u;){if(r in f&&f[r]===n)return r;r++}return-1}}(),function(n){var t=n.vttjs={},i=t.VTTCue,r=t.VTTRegion,u=n.VTTCue,f=n.VTTRegion;t.shim=function(){t.VTTCue=i;t.VTTRegion=r};t.restore=function(){t.VTTCue=u;t.VTTRegion=f}}(this),function(n,t){function f(n){if(typeof n!="string")return!1;var t=o[n.toLowerCase()];return t?n.toLowerCase():!1}function r(n){if(typeof n!="string")return!1;var t=s[n.toLowerCase()];return t?n.toLowerCase():!1}function i(n){for(var t=1,i,r;t<arguments.length;t++){i=arguments[t];for(r in i)n[r]=i[r]}return n}function u(n,t,u){var o=this,h=/MSIE\s8\.0/.test(navigator.userAgent),s={};h?o=document.createElement("custom"):s.enumerable=!0;o.hasBeenReset=!1;var c="",l=!1,a=n,v=t,y=u,p=null,w="",b=!0,k="auto",d="start",g=50,nt="middle",tt=50,it="middle";return Object.defineProperty(o,"id",i({},s,{get:function(){return c},set:function(n){c=""+n}})),Object.defineProperty(o,"pauseOnExit",i({},s,{get:function(){return l},set:function(n){l=!!n}})),Object.defineProperty(o,"startTime",i({},s,{get:function(){return a},set:function(n){if(typeof n!="number")throw new TypeError("Start time must be set to a number.");a=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},s,{get:function(){return v},set:function(n){if(typeof n!="number")throw new TypeError("End time must be set to a number.");v=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},s,{get:function(){return y},set:function(n){y=""+n;this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},s,{get:function(){return p},set:function(n){p=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},s,{get:function(){return w},set:function(n){var t=f(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");w=t;this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},s,{get:function(){return b},set:function(n){b=!!n;this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},s,{get:function(){return k},set:function(n){if(typeof n!="number"&&n!==e)throw new SyntaxError("An invalid number or illegal string was specified.");k=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},s,{get:function(){return d},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");d=t;this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},s,{get:function(){return g},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");g=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},s,{get:function(){return nt},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");nt=t;this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},s,{get:function(){return tt},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");tt=n;this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},s,{get:function(){return it},set:function(n){var t=r(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");it=t;this.hasBeenReset=!0}})),o.displayState=undefined,h?o:void 0}var e="auto",o={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};u.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};n.VTTCue=n.VTTCue||u;t.VTTCue=u}(this,this.vttjs||{}),function(n,t){function u(n){if(typeof n!="string")return!1;var t=f[n.toLowerCase()];return t?n.toLowerCase():!1}function i(n){return typeof n=="number"&&n>=0&&n<=100}function r(){var n=100,t=3,r=0,f=100,e=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if(typeof n!="number")throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return f},set:function(n){if(!i(n))throw new Error("RegionAnchorX must be between 0 and 100.");f=n}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(n){if(!i(n))throw new Error("RegionAnchorY must be between 0 and 100.");r=n}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(n){if(!i(n))throw new Error("ViewportAnchorY must be between 0 and 100.");o=n}},viewportAnchorX:{enumerable:!0,get:function(){return e},set:function(n){if(!i(n))throw new Error("ViewportAnchorX must be between 0 and 100.");e=n}},scroll:{enumerable:!0,get:function(){return s},set:function(n){var t=u(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}var f={"":!0,up:!0};n.VTTRegion=n.VTTRegion||r;t.VTTRegion=r}(this,this.vttjs||{}),function(n){function i(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function c(n){function i(n,t,i,r){return(n|0)*3600+(t|0)*60+(i|0)+(r|0)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function u(){this.values=s(null)}function o(n,t,i,r){var f=r?n.split(r):[n],e,u,o,s;for(e in f)typeof f[e]=="string"&&(u=f[e].split(i),u.length===2)&&(o=u[0],s=u[1],t(o,s))}function v(n,t,r){function e(){var t=c(n);if(t===null)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+s);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function h(n,t){var i=new u;o(n,function(n,t){var f,u,e;switch(n){case"region":for(f=r.length-1;f>=0;f--)if(r[f].id===t){i.set(n,r[f].region);break}break;case"vertical":i.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];i.integer(n,e);i.percent(n,e)?i.set("snapToLines",!1):null;i.alt(n,e,["auto"]);u.length===2&&i.alt("lineAlign",u[1],["start","middle","end"]);break;case"position":u=t.split(",");i.percent(n,u[0]);u.length===2&&i.alt("positionAlign",u[1],["start","middle","end"]);break;case"size":i.percent(n,t);break;case"align":i.alt(n,t,["start","middle","end","left","right"])}},/:/,/\s/);t.region=i.get("region",null);t.vertical=i.get("vertical","");t.line=i.get("line","auto");t.lineAlign=i.get("lineAlign","start");t.snapToLines=i.get("snapToLines",!0);t.size=i.get("size",100);t.align=i.get("align","middle");t.position=i.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=i.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function f(){n=n.replace(/^\s+/,"")}var s=n;if(f(),t.startTime=e(),f(),n.substr(0,3)!=="-->")throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+s);n=n.substr(3);f();t.endTime=e();f();h(n,t)}function l(n,t){function h(){function i(n){return t=t.substr(n.length),n}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return i(n[1]?n[1]:n[2])}function l(n){return b[n]}function v(n){while(i=n.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))n=n.replace(i[0],l);return n}function y(n,t){return!a[t.localName]||a[t.localName]===n.localName}function p(t,i){var u=k[t],r,f;return u?(r=n.document.createElement(u),r.localName=u,f=d[t],f&&i&&(r[f]=i.trim()),r):null}for(var s=n.document.createElement("div"),f=s,r,e=[],o,u,i;(r=h())!==null;){if(r[0]==="<"){if(r[1]==="/"){e.length&&e[e.length-1]===r.substr(2).replace(">","")&&(e.pop(),f=f.parentNode);continue}if(o=c(r.substr(1,r.length-2)),o){u=n.document.createProcessingInstruction("timestamp",o);f.appendChild(u);continue}if(i=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!i)continue;if(u=p(i[1],i[3]),!u)continue;if(!y(f,u))continue;i[2]&&(u.className=i[2].substr(1).replace("."," "));e.push(i[1]);f.appendChild(u);f=u;continue}f.appendChild(n.document.createTextNode(v(r)))}return s}function y(n){function f(n,t){for(var i=t.childNodes.length-1;i>=0;i--)n.push(t.childNodes[i])}function r(n){var t,i,u;return!n||!n.length?null:(t=n.pop(),i=t.textContent||t.innerText,i)?(u=i.match(/^.*(\n|\r)/),u)?(n.length=0,u[0]):i:t.tagName==="ruby"?r(n):t.childNodes?(f(n,t),r(n)):void 0}var e=[],u="",o,t,i;if(!n||!n.childNodes)return"ltr";for(f(e,n);u=r(e);)for(t=0;t<u.length;t++)for(o=u.charCodeAt(t),i=0;i<h.length;i++)if(h[i]===o)return"rtl";return"ltr"}function p(n){var t;if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;var r=n.track,i=r.textTrackList,u=0;for(t=0;t<i.length&&i[t]!==r;t++)i[t].mode==="showing"&&u++;return++u*-1}function f(){}function e(n,t,i){var e=/MSIE\s8\.0/.test(navigator.userAgent),o="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)",r,u;e&&(o="rgb(255, 255, 255)",s="rgb(0, 0, 0)");f.call(this);this.cue=t;this.cueDiv=l(n,t.text);r={color:o,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};e||(r.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",r.unicodeBidi="plaintext");this.applyStyles(r,this.cueDiv);this.div=n.document.createElement("div");r={textAlign:t.align==="middle"?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};e||(r.direction=y(this.cueDiv),r.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext");this.applyStyles(r);this.div.appendChild(this.cueDiv);u=0;switch(t.positionAlign){case"start":u=t.position;break;case"middle":u=t.position-t.size/2;break;case"end":u=t.position-t.size}t.vertical===""?this.applyStyles({left:this.formatStyle(u,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(u,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function t(n){var e=/MSIE\s8\.0/.test(navigator.userAgent),i,r,f,u,t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=i!==undefined?i:n.lineHeight;e&&!this.lineHeight&&(this.lineHeight=13)}function w(n,i,r,u){function w(n,i){for(var e,o,s=new t(n),h=1,f=0;f<i.length;f++){while(n.overlapsOppositeAxis(r,i[f])||n.within(r)&&n.overlapsAny(u))n.move(i[f]);if(n.within(r))return n;e=n.intersectPercentage(r);h>e&&(o=new t(n),h=e);n=new t(s)}return o||s}var s=new t(i),o=i.cue,e=p(o),f=[],c,a,v;if(o.snapToLines){switch(o.vertical){case"":f=["+y","-y"];c="height";break;case"rl":f=["+x","-x"];c="width";break;case"lr":f=["-x","+x"];c="width"}var l=s.lineHeight,h=l*Math.round(e),y=r[c]+l,b=f[0];Math.abs(h)>y&&(h=(h<0?-1:1)*Math.ceil(y/l)*l);e<0&&(h+=o.vertical===""?r.height:r.width,f=f.reverse());s.move(b,h)}else{a=s.lineHeight/r.height*100;switch(o.lineAlign){case"middle":e-=a/2;break;case"end":e-=a}switch(o.vertical){case"":i.applyStyles({top:i.formatStyle(e,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(e,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(e,"%")})}f=["+y","-x","+x","-y"];s=new t(i)}v=w(s,f);i.move(v.toCSSCompatValues(r))}function r(){}var s=Object.create||function(){function n(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}(),h;i.prototype=s(Error.prototype);i.prototype.constructor=i;i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};u.prototype={set:function(n,t){this.get(n)||t===""||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){var i;return(i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(n,t),!0):!1}};var b={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":" "},k={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={v:"title",lang:"lang"},a={rt:"ruby"};h=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];f.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};f.prototype.formatStyle=function(n,t){return n===0?0:n+t};e.prototype=s(f.prototype);e.prototype.constructor=e;t.prototype.move=function(n,t){t=t!==undefined?t:this.lineHeight;switch(n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};t.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};t.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};t.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};t.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};t.prototype.intersectPercentage=function(n){var t=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),r=t*i;return r/(this.height*this.width)};t.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};t.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n,{left:n.left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};r.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};r.convertCueToDOMTree=function(n,t){return!n||!t?null:l(n,t)};var g=.05,nt="sans-serif",tt="1.5%";r.processCues=function(n,i,r){function h(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}var u,f;if(!n||!i||!r)return null;while(r.firstChild)r.removeChild(r.firstChild);if(u=n.document.createElement("div"),u.style.position="absolute",u.style.left="0",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.margin=tt,r.appendChild(u),!h(i)){for(f=0;f<i.length;f++)u.appendChild(i[f].displayState);return}var o=[],s=t.getSimpleBoxPosition(u),c=Math.round(s.height*g*100)/100,l={font:c+"px "+nt};(function(){for(var r,f,h=0;h<i.length;h++)f=i[h],r=new e(n,f,l),u.appendChild(r.div),w(n,r,s,o),f.displayState=r.div,o.push(t.getSimpleBoxPosition(r))})()};r.Parser=function(n,t,i){i||(i=t,t={});t||(t={});this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]};r.Parser.prototype={reportOrThrowError:function(n){if(n instanceof i)this.onparsingerror&&this.onparsingerror(n);else throw n;},parse:function(n){function s(){for(var i=t.buffer,n=0,r;n<i.length&&i[n]!=="\r"&&i[n]!=="\n";)++n;return r=i.substr(0,n),i[n]==="\r"&&++n,i[n]==="\n"&&++n,t.buffer=i.substr(n),r}function l(n){var i=new u,r;o(n,function(n,t){var f,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(f=t.split(","),f.length!==2)break;if(r=new u,r.percent("x",f[0]),r.percent("y",f[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/);i.has("id")&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}function a(n){o(n,function(n,t){switch(n){case"Region":l(t)}},/:/)}var t=this,r,e,f,h;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;if(r=s(),e=r.match(/^WEBVTT([ \t].*)?$/),!e||!e[0])throw new i(i.Errors.BadSignature);t.state="HEADER"}for(f=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;f?f=!1:r=s();switch(t.state){case"HEADER":/:/.test(r)?a(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",r.indexOf("-->")===-1){t.cue.id=r;continue}case"CUE":try{v(r,t.cue,t.regionList)}catch(c){t.reportOrThrowError(c);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(h=r.indexOf("-->")!==-1,!r||h&&(f=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=r;continue;case"BADCUE":r||(t.state="ID");continue}}}catch(c){if(t.reportOrThrowError(c),t.state==="CUETEXT"&&t.cue&&t.oncue)t.oncue(t.cue);t.cue=null;t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+="\n\n",n.parse()),n.state==="INITIAL")throw new i(i.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};n.WebVTT=r}(this,this.vttjs||{}),vjs.JSON={},vjs.JSON.safeParseTuple=function(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(u){r=u;vjs.log("JSON.parse(): invalid or malformed JSON data")}return[r,i]},vjs.autoSetup=function(){var e,t,o,n,i,u=document.getElementsByTagName("video"),f=document.getElementsByTagName("audio"),r=[];if(u&&u.length>0)for(n=0,i=u.length;n<i;n++)r.push(u[n]);if(f&&f.length>0)for(n=0,i=f.length;n<i;n++)r.push(f[n]);if(r&&r.length>0)for(n=0,i=r.length;n<i;n++)if(t=r[n],t&&t.getAttribute)t.player===undefined&&(e=t.getAttribute("data-setup"),e!==null&&(o=videojs(t)));else{vjs.autoSetupTimeout(1);break}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(n){setTimeout(vjs.autoSetup,n)},document.readyState==="complete")vjs.windowLoaded=!0;else vjs.one(window,"load",function(){vjs.windowLoaded=!0});vjs.autoSetupTimeout(1);vjs.plugin=function(n,t){vjs.Player.prototype[n]=t};vjs.getIsoLangs=function(){return{ab:{name:"Abkhaz",nativeName:""},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:" "},ar:{name:"Arabic",nativeName:""},an:{name:"Aragonese",nativeName:"Aragons"},hy:{name:"Armenian",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" ,  "},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:" "},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:""},bn:{name:"Bengali",nativeName:""},bh:{name:"Bihari",nativeName:""},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:" "},my:{name:"Burmese",nativeName:""},ca:{name:"Catalan; Valencian",nativeName:"Catal "},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:" "},ny:{name:"Chichewa; Chewa; Nyanja",nativeName:"chiChea, chinyanja"},zh:{name:"Chinese",nativeName:" (Zhngwn), , "},cv:{name:"Chuvash",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:""},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"etina"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi; Dhivehi; Maldivian;",nativeName:""},nl:{name:"Dutch",nativeName:"Nederlands"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti"},ee:{name:"Ewe",nativeName:"Eegbe"},fo:{name:"Faroese",nativeName:"froyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi"},fr:{name:"French",nativeName:"franais"},ff:{name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:" "},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek, Modern",nativeName:""},gn:{name:"Guaran",nativeName:"Avae"},gu:{name:"Gujarati",nativeName:""},ht:{name:"Haitian; Haitian Creole",nativeName:"Kreyl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, "},he:{name:"Hebrew (modern)",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:", "},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:", "},kk:{name:"Kazakh",nativeName:" "},km:{name:"Khmer",nativeName:""},ki:{name:"Kikuyu, Gikuyu",nativeName:"Gky"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kirghiz, Kyrgyz",nativeName:" "},kv:{name:"Komi",nativeName:" "},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:" (),   ()"},ku:{name:"Kurdish",nativeName:""},kj:{name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish, Letzeburgesch",nativeName:"Ltzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latvieu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:" "},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu,  "},ml:{name:"Malayalam",nativeName:""},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Mori",nativeName:"te reo Mori"},mr:{name:"Marathi (Marh)",nativeName:" "},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mn:{name:"Mongolian",nativeName:""},na:{name:"Nauru",nativeName:"Ekakair Naoero"},nv:{name:"Navajo, Navaho",nativeName:"Din bizaad, Dinkeh"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:"  Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe, Ojibwa",nativeName:""},cu:{name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:" "},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian, Ossetic",nativeName:" "},pa:{name:"Panjabi, Punjabi",nativeName:", "},pi:{name:"Pli",nativeName:""},fa:{name:"Persian",nativeName:""},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto, Pushto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian, Moldavian, Moldovan",nativeName:"romn"},ru:{name:"Russian",nativeName:""},sa:{name:"Sanskrit (Saskta)",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:",  "},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yng t sng"},sr:{name:"Serbian",nativeName:" "},gd:{name:"Scottish Gaelic; Gaelic",nativeName:"G idhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhala, Sinhalese",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovene",nativeName:"slovenina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"espaol"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},bo:{name:"Tibetan Standard, Tibetan, Central",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:""},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uighur, Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:"zbek, , "},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang, Chuang",nativeName:"Sa cue, Saw cuengh"},mis:{name:"uncoded languages",nativeName:"uncoded languages"},mul:{name:"multiple languages",nativeName:"multiple languages"},und:{name:"undetermined",nativeName:"undetermined"},zxx:{name:"no linguistic content/not applicable",nativeName:"no linguistic content/not applicable"}}};vjs.get2LetterLangCode=function(n){return{aar:"aa",abk:"ab",ave:"ae",afr:"af",aka:"ak",amh:"am",ara:"ar",asm:"as",ava:"av",aym:"ay",aze:"az",bak:"ba",bel:"be",bul:"bg",bih:"bh",bis:"bi",bam:"bm",ben:"bn",bod:"bo",tib:"bo",bre:"br",bos:"bs",cat:"ca",che:"ce",cha:"ch",cos:"co",cre:"cr",ces:"cs",cze:"cs",chu:"cu",chv:"cv",cym:"cy",wel:"cy",dan:"da",deu:"de",ger:"de",div:"dv",dzo:"dz",ewe:"ee",ell:"el",gre:"el",eng:"en",epo:"eo",spa:"es",est:"et",baq:"eu",eus:"eu",fas:"fa",per:"fa",ful:"ff",fin:"fi",fij:"fj",fao:"fo",fre:"fr",fra:"fr",fry:"fy",gle:"ga",gla:"gd",glg:"gl",grn:"gn",glv:"gv",guj:"gu",hau:"ha",heb:"he",hin:"hi",hmo:"ho",hrv:"hr",hat:"ht",hun:"hu",arm:"hy",hye:"hy",her:"hz",ina:"ia",ind:"id",ile:"ie",ibo:"ig",iii:"ii",ipk:"ik",ido:"io",ice:"is",isl:"is",ita:"it",iku:"iu",jpn:"ja",jav:"jv",geo:"ka",kat:"ka",kon:"kg",kik:"ki",kua:"kj",kaz:"kk",kal:"kl",khm:"km",kan:"kn",kor:"ko",kau:"kr",kas:"ks",kur:"ku",kom:"kv",cor:"kw",kir:"ky",lat:"la",ltz:"lb",lug:"lg",lim:"li",lin:"ln",lao:"lo",lit:"lt",lub:"lu",lav:"lv",mlg:"mg",mah:"mh",mao:"mi",mri:"mi",mac:"mk",mkd:"mk",mal:"ml",mon:"mn",mar:"mr",may:"ms",msa:"ms",mlt:"mt",bur:"my",mya:"my",nau:"na",nob:"nb",nde:"nd",nep:"ne",ndo:"ng",dut:"nl",nld:"nl",nno:"nn",nor:"no",nbl:"nr",nav:"nv",nya:"ny",oci:"oc",oji:"oj",orm:"om",ori:"or",oss:"os",pan:"pa",pli:"pi",pol:"pl",pus:"ps",por:"pt",que:"qu",roh:"rm",run:"rn",ron:"ro",rum:"ro",rus:"ru",kin:"rw",san:"sa",srd:"sc",snd:"sd",sme:"se",sag:"sg",sin:"si",slk:"sk",slo:"sk",slv:"sl",smo:"sm",sna:"sn",som:"so",alb:"sq",sqi:"sq",srp:"sr",ssw:"ss",sot:"st",sun:"su",swe:"sv",swa:"sw",tam:"ta",tel:"te",tgk:"tg",tha:"th",tir:"ti",tuk:"tk",tgl:"tl",tsn:"tn",ton:"to",tur:"tr",tso:"ts",tat:"tt",twi:"tw",tah:"ty",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",chi:"zh",zho:"zh",zul:"zu"}[n]};Dash=function(){"use strict";return{modules:{},dependencies:{},vo:{},di:{}}}();Dash.dependencies.DashParser=function(){"use strict";var f=31536e3,e=2592e3,o=86400,s=3600,n=60,h=60,t=1e3,i=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,r=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,c=[{type:"duration",test:function(n){return i.test(n)},converter:function(t){var r=i.exec(t),u=parseFloat(r[2]||0)*f+parseFloat(r[4]||0)*e+parseFloat(r[6]||0)*o+parseFloat(r[8]||0)*s+parseFloat(r[10]||0)*n+parseFloat(r[12]||0);return parseFloat(u.toFixed(9))},suffix:function(){return""}},{type:"datetime",test:function(n){return r.test(n)},converter:function(i){var u=r.exec(i),f,e;return f=Date.UTC(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10),u[6]&&parseInt(u[6],10)||0,u[7]&&parseFloat(u[7])*t||0),u[9]&&u[10]&&(e=parseInt(u[9],10)*h+parseInt(u[10],10),f+=(u[8]==="+"?-1:1)*e*n*t),new Date(f)},suffix:function(){return""}},{type:"numeric",test:function(n){return u.test(n)},converter:function(n){return parseFloat(n)},suffix:function(){return""}},{type:"numeric",test:function(n){return u.test(n)},converter:function(n){return n},suffix:function(){return"_str"}}],l=function(){var n,t,i,r;return r=[{name:"profiles",merge:!1},{name:"width",merge:!1},{name:"height",merge:!1},{name:"sar",merge:!1},{name:"frameRate",merge:!1},{name:"audioSamplingRate",merge:!1},{name:"mimeType",merge:!1},{name:"segmentProfiles",merge:!1},{name:"codecs",merge:!1},{name:"maximumSAPPeriod",merge:!1},{name:"startsWithSap",merge:!1},{name:"maxPlayoutRate",merge:!1},{name:"codingDependency",merge:!1},{name:"scanType",merge:!1},{name:"FramePacking",merge:!0},{name:"AudioChannelConfiguration",merge:!0},{name:"ContentProtection",merge:!0}],n={},n.name="AdaptationSet",n.isRoot=!1,n.isArray=!0,n.parent=null,n.children=[],n.properties=r,t={},t.name="Representation",t.isRoot=!1,t.isArray=!0,t.parent=n,t.children=[],t.properties=r,n.children.push(t),i={},i.name="SubRepresentation",i.isRoot=!1,i.isArray=!0,i.parent=t,i.children=[],i.properties=r,t.children.push(i),n},a=function(){var n,t,i,r;return r=[{name:"SegmentBase",merge:!0},{name:"SegmentTemplate",merge:!0},{name:"SegmentList",merge:!0}],n={},n.name="Period",n.isRoot=!1,n.isArray=!0,n.parent=null,n.children=[],n.properties=r,t={},t.name="AdaptationSet",t.isRoot=!1,t.isArray=!0,t.parent=n,t.children=[],t.properties=r,n.children.push(t),i={},i.name="Representation",i.isRoot=!1,i.isArray=!0,i.parent=t,i.children=[],i.properties=r,t.children.push(i),n},v=function(){var i,n,t,r,u;return u=[{name:"BaseURL",merge:!0,mergeFunction:function(n,t){return t.indexOf("http://")===0?t:n+t}}],i={},i.name="mpd",i.isRoot=!0,i.isArray=!0,i.parent=null,i.children=[],i.properties=u,n={},n.name="Period",n.isRoot=!1,n.isArray=!0,n.parent=null,n.children=[],n.properties=u,i.children.push(n),t={},t.name="AdaptationSet",t.isRoot=!1,t.isArray=!0,t.parent=n,t.children=[],t.properties=u,n.children.push(t),r={},r.name="Representation",r.isRoot=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=u,t.children.push(r),i},y=function(){var n=[];return n.push(l()),n.push(a()),n.push(v()),n},p=function(n,t){var i,e=new X2JS(c,"",!0),o=new ObjectIron(y()),f=new Date,r=null,u=null;try{i=e.xml_str2json(n);r=new Date;i.hasOwnProperty("BaseURL")?(i.BaseURL=i.BaseURL_asArray[0],i.BaseURL.toString().indexOf("http")!==0&&(i.BaseURL=t+i.BaseURL)):i.BaseURL=t;o.run(i);u=new Date;this.debug.log("Parsing complete: ( xml2json: "+(r.getTime()-f.getTime())+"ms, objectiron: "+(u.getTime()-r.getTime())+"ms, total: "+(u.getTime()-f.getTime())/1e3+"s)")}catch(s){return this.errHandler.manifestError("parsing the manifest failed","parse",n),null}return i};return{debug:undefined,errHandler:undefined,parse:p}};Dash.dependencies.DashParser.prototype={constructor:Dash.dependencies.DashParser},function(){function n(n){function i(n){var r,u;if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(t.isArrayBuffer(n)||t.isArrayBufferView(n)){r=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,r)}catch(f){for(u=0;u<r.length;++u)this.putByte(r[u])}}else(n instanceof i||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}var t=n.util=n.util||{},r;t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.isArrayBuffer=function(n){return typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer};t.isArrayBufferView=function(n){return n&&t.isArrayBuffer(n.buffer)&&n.byteLength!==undefined};t.ByteBuffer=i;t.ByteStringBuffer=i;r=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n;this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))};t.ByteStringBuffer.prototype.fillWithByte=function(n,t){n=String.fromCharCode(n);for(var i=this.data;t>0;)t&1&&(i+=n),t>>>=1,t>0&&(n+=n);return this.data=i,this._optimizeConstructedString(t),this};t.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this};t.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(t.encodeUtf8(n))};t.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))};t.ByteStringBuffer.prototype.putInt=function(n,t){var i="";do t-=8,i+=String.fromCharCode(n>>t&255);while(t>0);return this.putBytes(i)};t.ByteStringBuffer.prototype.putSignedInt=function(n,t){return n<0&&(n+=2<<t-1),this.putInt(n,t)};t.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n};t.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n};t.ByteStringBuffer.prototype.getInt=function(n){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(n){var t=this.getInt(n),i=2<<n-2;return t>=i&&(t-=i<<1),t};t.ByteStringBuffer.prototype.getBytes=function(n){var t;return n?(n=Math.min(this.length(),n),t=this.data.slice(this.read,this.read+n),this.read+=n):n===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};t.ByteStringBuffer.prototype.bytes=function(n){return typeof n=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)};t.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)};t.ByteStringBuffer.prototype.setAt=function(n,t){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(t)+this.data.substr(this.read+n+1),this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var n=t.createBuffer(this.data);return n.read=this.read,n};t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};t.ByteStringBuffer.prototype.truncate=function(n){var t=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,t),this.read=0,this};t.ByteStringBuffer.prototype.toHex=function(){for(var n,t="",i=this.read;i<this.data.length;++i)n=this.data.charCodeAt(i),n<16&&(t+="0"),t+=n.toString(16);return t};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.createBuffer=function(n,i){return i=i||"raw",n!==undefined&&i==="utf8"&&(n=t.encodeUtf8(n)),new t.ByteBuffer(n)};t.encodeUtf8=function(n){return unescape(encodeURIComponent(n))};t.decodeUtf8=function(n){return decodeURIComponent(escape(n))}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){n.cipher=n.cipher||{};n.cipher.algorithms=n.cipher.algorithms||{};n.cipher.createDecipher=function(t,i){var r=t;if(typeof r=="string"&&(r=n.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:i,decrypt:!0})};n.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase();n.cipher.algorithms[t]=i};n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase(),t in n.cipher.algorithms)?n.cipher.algorithms[t]:null};var t=n.cipher.BlockCipher=function(n){this.algorithm=n.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=n.decrypt;this.algorithm.initialize(n)};t.prototype.start=function(t){var i,r;t=t||{};i={};for(r in t)i[r]=t[r];i.decrypt=this._decrypt;this._finish=!1;this._input=n.util.createBuffer();this.output=t.output||n.util.createBuffer();this.mode.start(i)};t.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};t.prototype.finish=function(n){n&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return n(this.blockSize,t,!1)},this.mode.unpad=function(t){return n(this.blockSize,t,!0)});var t={};return(t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))?!1:(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))?!1:this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)?!1:!0}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function i(t){var r,i;if(typeof t=="string"&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4)for(r=t,t=n.util.createBuffer(),i=0;i<r.length;++i)t.putByte(r[i]);return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}n.cipher=n.cipher||{};var t=n.cipher.modes=n.cipher.modes||{};t.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};t.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in n)this._iv=i(n.iv),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.");};t.cbc.prototype.encrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};t.cbc.prototype.decrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(n){var t=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(t,t),!0};t.cbc.prototype.unpad=function(n,t){if(t.overflow>0)return!1;var r=n.length(),i=n.at(r-1);return i>this.blockSize<<2?!1:(n.truncate(i),!0)}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function l(t,i){var r=function(){return new n.aes.Algorithm(t,i)};n.cipher.registerAlgorithm(t,r)}function s(){var u,f,h,l,w,a,s,b,v,y,n,p;for(e=!0,c=[0,1,2,4,8,16,32,64,128,27,54],u=new Array(256),n=0;n<128;++n)u[n]=n<<1,u[n+128]=n+128<<1^283;for(t=new Array(256),o=new Array(256),r=new Array(4),i=new Array(4),n=0;n<4;++n)r[n]=new Array(256),i[n]=new Array(256);for(f=0,h=0,n=0;n<256;++n){for(s=h^h<<1^h<<2^h<<3^h<<4,s=s>>8^s&255^99,t[f]=s,o[s]=f,b=u[s],l=u[f],w=u[l],a=u[w],v=b<<24^s<<16^s<<8^s^b,y=(l^w^a)<<24^(f^a)<<16^(f^w^a)<<8^f^l^a,p=0;p<4;++p)r[p][f]=v,i[p][s]=y,v=v<<24|v>>>8,y=y<<24|y>>>8;f===0?f=h=1:(f=l^u[u[u[l^a]]],h^=u[u[h]])}}function h(n,r){for(var s,a,e=n.slice(0),o,p=1,h=e.length,w=h+6+1,v=u*w,f=h;f<v;++f)o=e[f-1],f%h==0?(o=t[o>>>16&255]<<24^t[o>>>8&255]<<16^t[o&255]<<8^t[o>>>24]^c[p]<<24,p++):h>6&&f%h==4&&(o=t[o>>>24]<<24^t[o>>>16&255]<<16^t[o>>>8&255]<<8^t[o&255]),e[f]=e[f-h]^o;if(r){var y,b=i[0],k=i[1],d=i[2],g=i[3],l=e.slice(0);for(v=e.length,f=0,s=v-u;f<v;f+=u,s-=u)if(f===0||f===v-u)l[f]=e[s],l[f+1]=e[s+3],l[f+2]=e[s+2],l[f+3]=e[s+1];else for(a=0;a<u;++a)y=e[s+a],l[f+(3&-a)]=b[t[y>>>24]]^k[t[y>>>16&255]]^d[t[y>>>8&255]]^g[t[y&255]];e=l}return e}function f(n,u,f,e){var tt=n.length/4-1,y,p,w,b,s,h,c,l,a,d,g,nt,v,k;for(e?(y=i[0],p=i[1],w=i[2],b=i[3],s=o):(y=r[0],p=r[1],w=r[2],b=r[3],s=t),h=u[0]^n[0],c=u[e?3:1]^n[1],l=u[2]^n[2],a=u[e?1:3]^n[3],v=3,k=1;k<tt;++k)d=y[h>>>24]^p[c>>>16&255]^w[l>>>8&255]^b[a&255]^n[++v],g=y[c>>>24]^p[l>>>16&255]^w[a>>>8&255]^b[h&255]^n[++v],nt=y[l>>>24]^p[a>>>16&255]^w[h>>>8&255]^b[c&255]^n[++v],a=y[a>>>24]^p[h>>>16&255]^w[c>>>8&255]^b[l&255]^n[++v],h=d,c=g,l=nt;f[0]=s[h>>>24]<<24^s[c>>>16&255]<<16^s[l>>>8&255]<<8^s[a&255]^n[++v];f[e?3:1]=s[c>>>24]<<24^s[l>>>16&255]<<16^s[a>>>8&255]<<8^s[h&255]^n[++v];f[2]=s[l>>>24]<<24^s[a>>>16&255]<<16^s[h>>>8&255]<<8^s[c&255]^n[++v];f[e?1:3]=s[a>>>24]<<24^s[h>>>16&255]<<16^s[c>>>8&255]<<8^s[l&255]^n[++v]}n.aes=n.aes||{};n.aes.Algorithm=function(n,t){e||s();var i=this;i.name=n;i.mode=new t({blockSize:16,cipher:{encrypt:function(n,t){return f(i._w,n,t,!1)},decrypt:function(n,t){return f(i._w,n,t,!0)}}});i._init=!1};n.aes.Algorithm.prototype.initialize=function(t){var i,f,r,u,e,o;if(!this._init){if(i=t.key,typeof i=="string"&&(i.length===16||i.length===24||i.length===32))i=n.util.createBuffer(i);else if(n.util.isArray(i)&&(i.length===16||i.length===24||i.length===32))for(f=i,i=n.util.createBuffer(),u=0;u<f.length;++u)i.putByte(f[u]);if(!n.util.isArray(i)&&(f=i,i=[],r=f.length(),r===16||r===24||r===32))for(r=r>>>2,u=0;u<r;++u)i.push(f.getInt32());if(!n.util.isArray(i)||!(i.length===4||i.length===6||i.length===8))throw new Error("Invalid key parameter.");e=this.mode.name;o=["CFB","OFB","CTR","GCM"].indexOf(e)!==-1;this._w=h(i,t.decrypt&&!o);this._init=!0}};n.aes._expandKey=function(n,t){return e||s(),h(n,t)};n.aes._updateBlock=f;l("AES-CBC",n.cipher.modes.cbc);var e=!1,u=4,t,o,c,r,i}return typeof forge=="undefined"&&(forge={}),n(forge)}();!function(){var n,t,r,i;!function(){var u={},f={};n=function(n,t,i){u[n]={deps:t,callback:i}};i=r=t=function(n){function l(t){var i;if("."!==t.charAt(0))return t;for(var f=t.split("/"),r=n.split("/").slice(0,-1),u=0,e=f.length;e>u;u++)if(i=f[u],".."===i)r.pop();else{if("."===i)continue;r.push(i)}return r.join("/")}var s;if(i._eak_seen=u,f[n])return f[n];if(f[n]={},!u[n])throw new Error("Could not find module "+n);for(var h,c=u[n],e=c.deps,a=c.callback,o=[],r=0,v=e.length;v>r;r++)"exports"===e[r]?o.push(h={}):o.push(t(l(e[r])));return s=a.apply(this,o),f[n]=h||s}}();n("promise/all",["./utils","exports"],function(n,t){"use strict";function i(n){var t=this;if(!r(n))throw new TypeError("You must pass an array to all.");return new t(function(t,i){function h(n){return function(t){e(n,t)}}function e(n,i){o[n]=i;0==--s&&t(o)}var f,o=[],s=n.length,r;for(0===s&&t([]),r=0;r<n.length;r++)f=n[r],f&&u(f.then)?f.then(h(r),i):e(r,f)})}var r=n.isArray,u=n.isFunction;t.all=i});n("promise/asap",["exports"],function(n){"use strict";function e(){return function(){process.nextTick(i)}}function o(){var n=0,r=new f(i),t=document.createTextNode("");return r.observe(t,{characterData:!0}),function(){t.data=n=++n%2}}function s(){return function(){c.setTimeout(i,1)}}function i(){for(var n=0;n<t.length;n++){var i=t[n],r=i[0],u=i[1];r(u)}t=[]}function h(n,i){var u=t.push([n,i]);1===u&&r()}var r,u="undefined"!=typeof window?window:{},f=u.MutationObserver||u.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,t=[];r="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():f?o():s();n.asap=h});n("promise/config",["exports"],function(n){"use strict";function i(n,i){return 2!==arguments.length?t[n]:(t[n]=i,void 0)}var t={instrument:!1};n.config=t;n.configure=i});n("promise/polyfill",["./promise","./utils","exports"],function(n,t,i){"use strict";function r(){var n,t;n="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;t="Promise"in n&&"resolve"in n.Promise&&"reject"in n.Promise&&"all"in n.Promise&&"race"in n.Promise&&function(){var t;return new n.Promise(function(n){t=n}),f(t)}();t||(n.Promise=u)}var u=n.Promise,f=t.isFunction;i.polyfill=r});n("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(n,t,i,r,u,f,e,o){"use strict";function s(n){if(!v(n))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof s))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[];nt(n,this)}function nt(n,t){function r(n){c(t,n)}function i(n){h(t,n)}try{n(r,i)}catch(u){i(u)}}function w(n,t,i,r){var u,e,f,o,s=v(i);if(s)try{u=i(r);f=!0}catch(l){o=!0;e=l}else u=r,f=!0;k(t,u)||(s&&f?c(t,u):o?h(t,e):n===y?c(t,u):n===p&&h(t,u))}function tt(n,t,i,r){var u=n._subscribers,f=u.length;u[f]=t;u[f+y]=i;u[f+p]=r}function b(n,t){for(var u,f,r=n._subscribers,e=n._detail,i=0;i<r.length;i+=3)u=r[i],f=r[i+t],w(t,u,f,e);n._subscribers=null}function k(n,t){var i,r=null;try{if(n===t)throw new TypeError("A promises callback cannot return that same promise.");if(ut(t)&&(r=t.then,v(r)))return r.call(t,function(r){return i?!0:(i=!0,t!==r?c(n,r):a(n,r),void 0)},function(t){return i?!0:(i=!0,h(n,t),void 0)}),!0}catch(u){return i?!0:(h(n,u),!0)}return!1}function c(n,t){n===t?a(n,t):k(n,t)||a(n,t)}function a(n,t){n._state===d&&(n._state=g,n._detail=t,l.async(it,n))}function h(n,t){n._state===d&&(n._state=g,n._detail=t,l.async(rt,n))}function it(n){b(n,n._state=y)}function rt(n){b(n,n._state=p)}var l=n.config,ut=(n.configure,t.objectOrFunction),v=t.isFunction,ft=(t.now,i.all),et=r.race,ot=u.resolve,st=f.reject,ht=e.asap;l.async=ht;var d=void 0,g=0,y=1,p=2;s.prototype={constructor:s,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(n,t){var i=this,r=new this.constructor(function(){}),u;return this._state?(u=arguments,l.async(function(){w(i._state,r,u[i._state-1],i._detail)})):tt(this,r,n,t),r},"catch":function(n){return this.then(null,n)}};s.all=ft;s.race=et;s.resolve=ot;s.reject=st;o.Promise=s});n("promise/race",["./utils","exports"],function(n,t){"use strict";function i(n){var t=this;if(!r(n))throw new TypeError("You must pass an array to race.");return new t(function(t,i){for(var r,u=0;u<n.length;u++)r=n[u],r&&"function"==typeof r.then?r.then(t,i):t(r)})}var r=n.isArray;t.race=i});n("promise/reject",["exports"],function(n){"use strict";function t(n){var t=this;return new t(function(t,i){i(n)})}n.reject=t});n("promise/resolve",["exports"],function(n){"use strict";function t(n){if(n&&"object"==typeof n&&n.constructor===this)return n;var t=this;return new t(function(t){t(n)})}n.resolve=t});n("promise/utils",["exports"],function(n){"use strict";function i(n){return t(n)||"object"==typeof n&&null!==n}function t(n){return"function"==typeof n}function r(n){return"[object Array]"===Object.prototype.toString.call(n)}var u=Date.now||function(){return(new Date).getTime()};n.objectOrFunction=i;n.isFunction=t;n.isArray=r;n.now=u});t("promise/polyfill").polyfill()}();Uint8ArrayUtil={},function(){Uint8ArrayUtil.subarray=function(n,t){return this.slice(n,t)};Uint8ArrayUtil.set_=function(n,t){arguments.length<2&&(t=0);for(var i=0,r=n.length;i<r;++i,++t)this[t]=n[i]&255};Uint8ArrayUtil.TypedArray=function(n){var t,i;if(typeof n=="number")for(t=new Array(n),i=0;i<n;++i)t[i]=0;else t=n.slice(0);return t.subarray=Uint8ArrayUtil.subarray,t.buffer=t,t.byteLength=t.length,t.set=Uint8ArrayUtil.set_,typeof n=="object"&&n.buffer&&(t.buffer=n.buffer),t}}();window.Uint8Array===undefined&&(window.Uint8Array=Uint8ArrayUtil.TypedArray),function(n){(function(t){"use strict";var s,h,c,u,f,e,o,i,r;(function(n){n[n.proceed=0]="proceed";n[n.endOfStream=1]="endOfStream";n[n.retry=2]="retry"})(t.RequestState||(t.RequestState={}));s=t.RequestState,function(n){n[n.arraybuffer=0]="arraybuffer";n[n.blob=1]="blob";n[n.document=2]="document";n[n.json=3]="json";n[n.text=4]="text"}(t.ResponseType||(t.ResponseType={}));h=t.ResponseType,function(n){n[n.manifest=0]="manifest";n[n.mediaSegment=1]="mediaSegment";n[n.initSegment=2]="initSegment";n[n.initBandwidth=3]="initBandwidth"}(t.RequestType||(t.RequestType={}));c=t.RequestType;u=function(){function i(i,r,u){this.azureHtml5=i;this.videoTag=r;this.appConfig=u;this.emeManager=new n.KeySystem.EmeManager(r);this.eventMgr=new n.Events.Manager(i,!1);this.workflows=null;this.presentationUrl=null;this.presentationQueryStr=null;this.presentationJson=null;this.commonPresentation=null;this.isLiveToVod=!1;this.videoBufferData=new t.BufferData;this.audioBufferData=new t.BufferData;this.startPositionInSec=NaN;this.authenticationTokens={};this.heuristicSettings=new n.Settings.Heuristics;this.httpRetryPolicySettings=new n.Settings.HttpRetryPolicy;this.httpDataRetrieverSettings=new n.Settings.HttpDataRetriever;this.decryptionTracker=new n.Heuristics.DecryptionTracker;this._disposed=!1;this._xmlHttpRequestFactory=null}return i.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.videoTag=null,this.appConfig=null,this.workflows&&this.workflows.forEach(function(n){n.dispose()}),this.workflows=null,this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.authenticationTokens=null,this._xmlHttpRequestFactory=null,this.emeManager&&(this.emeManager.dispose(),this.emeManager=null),this.eventMgr&&(this.eventMgr.dispose(),this.eventMgr=null),this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null),this.heuristicSettings=null,this.decryptionTracker=null,this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=null),this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=null))},Object.defineProperty(i.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.presentationUrl=null;this.presentationQueryStr=null;this.presentationJson=null;this.startPositionInSec=NaN;this.authenticationTokens={};this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null);this.emeManager&&this.emeManager.reset();this.heuristicSettings&&this.heuristicSettings.reset();this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=new t.BufferData);this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=new t.BufferData)},i.prototype.setUserConfig=function(n){n.maxBufferInSec!==undefined&&(this.heuristicSettings.buffer.maxBufferInSec=n.maxBufferInSec);n.prerollPercent!==undefined&&(this.heuristicSettings.buffer.prerollPercent=n.prerollPercent);n.livePlaybackOffsetPercent!==undefined&&(this.heuristicSettings.buffer.livePlaybackOffsetPercent=n.livePlaybackOffsetPercent);n.windowSizeHeuristicsEnabled!==undefined&&(this.heuristicSettings.windowSizeHeuristicsEnabled=n.windowSizeHeuristicsEnabled);n.decryptionTimeHeuristicsEnabled===undefined||n.decryptionTimeHeuristicsEnabled||(this.decryptionTracker=null);n.preFetchDataEnabled!==undefined&&(this.heuristicSettings.preFetchDataEnabled=n.preFetchDataEnabled);n.maxRetryPerSegment!==undefined&&(this.httpRetryPolicySettings.maxRetryPerSegment=n.maxRetryPerSegment);n.maxSkipSegments!==undefined&&(this.httpRetryPolicySettings.maxSkipSegments=n.maxSkipSegments);n.maxTotalRetries!==undefined&&(this.httpRetryPolicySettings.maxTotalRetries=n.maxTotalRetries)},i.prototype.maxBufferInSec=function(){return this.appConfig&&this.appConfig.maxBufferInSec&&this.appConfig.maxBufferInSec!="0"?parseInt(this.appConfig.maxBufferInSec):this.heuristicSettings.buffer.maxBufferInSec},i.prototype.prerollBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.buffer.prerollPercent},i.prototype.lowBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.vodDowngradeBufferLevelPercent*this.heuristicSettings.buffer.lowBufferPercent},i.prototype.liveStartBufferInSec=function(){return this.maxBufferInSec()*(this.heuristicSettings.buffer.prerollPercent+this.heuristicSettings.buffer.livePlaybackOffsetPercent)},i.prototype.updatePresentation=function(n){this.commonPresentation?(this.commonPresentation.isLive&&!n.isLive&&(this.isLiveToVod=!0),this.commonPresentation.transferPresentationState(n),this.presentationJson=n.toJson(),n.dispose()):(this.commonPresentation=n,this.presentationJson=n.toJson())},i.prototype.setXmlHttpRequestFactory=function(n){this._xmlHttpRequestFactory=n},i.prototype.createXmlHttpRequest=function(){return this._xmlHttpRequestFactory?this._xmlHttpRequestFactory():new n.HttpRequest.XMLHttpRequestWrapper},i}();t.Session=u;f=function(){function n(n,t){this.workflowType=n;this.sessionContext=t;this.state=0;this.retryWaitTimeMSec=0;this.currentModuleId=null;this.requestedStream=null;this.urlsToRetrieve=[];this.selectedTrack=null;this.selectedSegment=null;this.heuristicData=null;this.externalFailure=null;this.failTracker=new r;this._disposed=!1}return n.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.workflowType=null,this.sessionContext=null,this.state=null,this.currentModuleId=null,this.requestedStream=null,this.urlsToRetrieve.forEach(function(n,t,i){i[t].dispose()}),this.urlsToRetrieve=[],this.selectedTrack=null,this.selectedSegment=null,this.heuristicData&&(this.heuristicData.dispose(),this.heuristicData=null),this.externalFailure&&(this.externalFailure.dispose(),this.externalFailure=null),this.failTracker&&(this.failTracker.dispose(),this.failTracker=null))},n.prototype.reset=function(){this.state=0;this.retryWaitTimeMSec=0;this.currentModuleId=null;this.selectedTrack=null;this.selectedSegment=null;1===this.workflowType&&(this.urlsToRetrieve=[]);this.heuristicData&&this.heuristicData.reset();this.externalFailure=null},Object.defineProperty(n.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),n}();t.Request=f;e=function(){function n(n,t,i,r,u,f,e){typeof t=="undefined"&&(t=0);typeof i=="undefined"&&(i=4);typeof r=="undefined"&&(r="");typeof u=="undefined"&&(u=NaN);typeof f=="undefined"&&(f=NaN);typeof e=="undefined"&&(e=NaN);this.url=n;this.httpResponseCode=-1;this.httpResposeContentType="";this.mediaData=null;this.presentationData=null;this.streamId=r;this.bitrate=u;this.presTimeInSec=f;this.durationInSec=e;this.responseType=i;this.requestType=t}return n.prototype.dispose=function(){this.url=null;this.httpResponseCode=null;this.httpResposeContentType="";this.mediaData=null;this.presentationData=null;this.streamId="";this.bitrate=NaN;this.presTimeInSec=NaN;this.durationInSec=NaN;this.responseType=null},n.prototype.clone=function(){var t=new n(this.url,this.requestType,this.responseType,this.streamId,this.bitrate,this.presTimeInSec,this.durationInSec);return t.httpResponseCode=this.httpResponseCode,t.httpResposeContentType=this.httpResposeContentType,t.mediaData=this.mediaData.slice(0),t.presentationData=this.presentationData,t},n}();t.UrlRequest=e;o=function(){function n(n){var t=[];n.tracks.forEach(function(n){n.streamingInfo.selectable&&t.push(new i(n))});this.tracksData=t}return n.prototype.dispose=function(){this.tracksData.forEach(function(n,t,i){i[t].dispose()});this.tracksData=[]},n.prototype.reset=function(){this.tracksData.forEach(function(n,t,i){i[t].reset()})},n}();t.HeuristicData=o;i=function(){function n(n){this.trackInfo=n;this.selectable=!0;this.dataRetrieverEstimationInSec=null}return n.prototype.dispose=function(){this.trackInfo=null;this.selectable=null;this.dataRetrieverEstimationInSec=null},n.prototype.reset=function(){this.selectable=!0;this.dataRetrieverEstimationInSec=null},n}();t.TrackData=i;r=function(){function n(){this.reset()}return n.prototype.dispose=function(){this.lastFailure=null;this.lastTrack=null;this.tracksToTry=[]},n.prototype.reset=function(){this.lastFailure=null;this.lastTrack=null;this.totalRetried=0;this.tracksToTry=[];this.trackToTryIdx=0;this.sameRequestRetried=0;this.segmentsSkipped=0},n.prototype.resetForSegment=function(){this.sameRequestRetried=0;this.trackToTryIdx=0},n.prototype.log=function(n,t){this.lastFailure=n;this.lastTrack=t},n.prototype.isNone=function(){return null===this.lastFailure},n.prototype.isLastNetworkFail=function(){return this.lastFailure.code>=2097752&&this.lastFailure.code<3145727},n.prototype.isLastNotReady=function(){return this.lastFailure.code===2097564},n.prototype.isLastServerError=function(){return this.lastFailure.code>=2097652&&this.lastFailure.code<=2097751},n.prototype.isLastNotFound=function(){return this.lastFailure.code===2097556},n}();t.FailTracker=r})(n.Context||(n.Context={}));var t=n.Context}(AzureHtml5JS||(AzureHtml5JS={})),function(n){"use strict";function r(n,t){return new i(n,t)}var u,t,i;n.CreateAzureHtml5=r,function(n){n[n.internalErrStart=0]="internalErrStart";n[n.internalErrDisposed=0]="internalErrDisposed";n[n.internalErrSegmentNotFound=1]="internalErrSegmentNotFound";n[n.internalErrEnd=1048575]="internalErrEnd"}(n.ErrorCode||(n.ErrorCode={}));u=n.ErrorCode;t=function(){function n(){}return n.exception="exception",n.flushvideo="flushvideo",n}();n.InternalEventName=t;i=function(){function i(t,i){this._sessionContext=new n.Context.Session(this,t,i);this._playerType=null;this._autoplay=!0;this._type="";this._error=null;this._dispose=!1;this._retryAttempt=!1;this._passThroughEventNames=[n.EventName.volumechange,n.EventName.ended,n.EventName.timeupdate,n.EventName.pause,n.EventName.play,n.EventName.playing,n.EventName.seeking,n.EventName.seeked,n.EventName.suspend,n.EventName.loadstart,n.EventName.loadeddata];this._conditionalEventNames=[n.EventName.waiting,n.EventName.canplaythrough,n.EventName.error];this._registerVideoTagEvents(!0);this._registerInternalEvents(!0)}return i.prototype.dispose=function(){this._dispose=!0;this._workflowCoordinator&&this._workflowCoordinator.dispose();this._sessionContext&&(this._registerVideoTagEvents(!1),this._registerInternalEvents(!1),this._sessionContext.dispose(),this._sessionContext=null);this._error=null},Object.defineProperty(i.prototype,"currentVideoStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentAudioStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"src",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.src:this._sessionContext.videoTag.src},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentTime:this._sessionContext.videoTag.currentTime},set:function(t){n.Log.verbose(7,"currentTime: "+t+" sec");this._workflowCoordinator?this._workflowCoordinator.currentTime=t:this._sessionContext.videoTag.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentAbsoluteTime",{get:function(){return this._sessionContext.videoTag.currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentMediaTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentMediaTime:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentDownloadBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.downloadBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPlaybackBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.playbackBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"audioBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"volume",{get:function(){return this._sessionContext.videoTag.volume},set:function(t){n.Log.verbose(7,"volume: "+t.toString);var i=t;NaN!==t&&undefined!==t&&null!==t&&(t<0?i=0:t>1&&(i=1),this._sessionContext.videoTag.volume=i)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"paused",{get:function(){return this._sessionContext.videoTag.paused},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"seeking",{get:function(){return this._sessionContext.videoTag.seeking},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"ended",{get:function(){return this._sessionContext.videoTag.ended},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._sessionContext.videoTag.height},set:function(n){this._sessionContext.videoTag.height=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this._sessionContext.videoTag.width},set:function(n){this._sessionContext.videoTag.width=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoHeight",{get:function(){return this._sessionContext.videoTag.videoHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoWidth",{get:function(){return this._sessionContext.videoTag.videoWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFullScreen",{get:function(){var n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;return n===this._sessionContext.videoTag?document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled:!1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isLive",{get:function(){return!!this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.duration:this._sessionContext.videoTag.duration},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.buffered:this._sessionContext.videoTag.buffered},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"manifestPlayableWindowLength",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?this._sessionContext.commonPresentation.timeShiftBufferDepth:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentPlayableWindow",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?new n.Common.TimeRange(this._sessionContext.commonPresentation.playableWindow.startInSec,this._sessionContext.commonPresentation.playableWindow.endInSec):undefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"segmentBoundaries",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation?this._sessionContext.commonPresentation.segmentBoundaries:undefined},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"error",{get:function(){return this._workflowCoordinator&&this._workflowCoordinator.error?this._workflowCoordinator.error:this._error},enumerable:!0,configurable:!0}),i.prototype.canPlayType=function(t){return n.PlayerType.getByPresentationType(t,this._sessionContext.videoTag)?"maybe":""},i.prototype.setSrc=function(n,t){this.setSrcInternal(n,t,!1)},i.prototype.setSrcInternal=function(t,r,u){this._playStarted=!1;var f="",e=0;if(u?e=i._dtsOffsetToAddForChrome:(this._src=t,this._options=r?r:null,this._retryAttempt=!1),window.location.protocol.toLowerCase()==="https:"&&t.toLowerCase().indexOf("http:")===0){f="The page was loaded over HTTPS, but the source was set to serve over HTTP. The content must be served over HTTPS. Source URL: "+t+", Page URL: "+window.location.href;n.Log.error(7,f);this._handleError(new n.Failure.External(1048578,f));return}this._sessionContext.reset();this._reset(r);this._playerType=n.PlayerType.getByPresentationType(this._type,this._sessionContext.videoTag);this._playerType||(this._playerType=n.PlayerType.getByUrl(t,this._sessionContext.videoTag));n.Log.verbose(7,"src: "+t+" autoplay: "+this._autoplay+" type: "+(this._type&&this._type.length>0?this._type:"unknown")+" player: "+(null===this._playerType?"unknown":n.PlayerDetector.Type[this._playerType]));this._workflowCoordinator&&(this._workflowCoordinator.dispose(),this._workflowCoordinator=null);this._playerType===1?(this._sessionContext.videoTag.autoplay=this._autoplay,this._sessionContext.videoTag.src=t):this._playerType===3?(this._workflowCoordinator=n.Workflow.CreateCoordinator(this._sessionContext),this._workflowCoordinator.dtsOffsetToAdd=e,this._sessionContext.videoTag.autoplay=!1,this._workflowCoordinator.autoplay=this._autoplay,this._workflowCoordinator.src=t):(n.Log.error(7,t+" not supported by AzureHtml5 Video Element"),this._handleError(new n.Failure.External(4194307,t)))},i.prototype.play=function(){n.Log.verbose(7,"play");this._workflowCoordinator?this._workflowCoordinator.play():this._sessionContext.videoTag.play()},i.prototype.pause=function(){n.Log.verbose(7,"pause");this._workflowCoordinator?this._workflowCoordinator.pause():this._sessionContext.videoTag.pause()},i.prototype.requestFullscreen=function(){var i,t;(n.Log.verbose(7,"requestFullscreen"),i=!1,this.isFullScreen)||(t=this._sessionContext.videoTag,t.requestFullscreen?(i=!0,t.requestFullscreen()):t.msRequestFullscreen?(i=!0,t.msRequestFullscreen()):t.webkitRequestFullscreen?(i=!0,t.webkitRequestFullscreen()):t.mozRequestFullScreen&&(i=!0,t.mozRequestFullScreen()),i&&this._sessionContext.eventMgr.dispatchEvent(n.EventName.fullscreenchange))},i.prototype.exitFullscreen=function(){n.Log.verbose(7,"exitFullscreen");var t=!1;this.isFullScreen&&(document.exitFullscreen?(t=!0,document.exitFullscreen()):document.webkitExitFullscreen?(t=!0,document.webkitExitFullscreen()):document.mozCancelFullScreen?(t=!0,document.mozCancelFullScreen()):document.msExitFullscreen&&(t=!0,document.msExitFullscreen()),t&&this._sessionContext.eventMgr.dispatchEvent(n.EventName.fullscreenchange))},i.prototype.addEventListener=function(n,t,i){typeof i=="undefined"&&(i=null);this._sessionContext.eventMgr.addHandler(n,t,i)},i.prototype.removeEventListener=function(n,t){this._sessionContext.eventMgr.removeHandler(n,t)},i.prototype.addKeySystem=function(n){return this._sessionContext.emeManager.addKeySystem(n)},i.prototype.setXmlHttpRequestFactory=function(n){this._sessionContext.setXmlHttpRequestFactory(n)},i.prototype._reset=function(n){function i(n){t._dispose||t._handleError(n)}var t=this;this._playerType=null;this._autoplay=!0;this._type="";this._error=null;n&&(this._type=n.type,"autoPlay"in n&&(this._autoplay=n.autoPlay),"authenticationTokens"in n&&(this._sessionContext.authenticationTokens=n.authenticationTokens),n.userConfig&&this._sessionContext.setUserConfig(n.userConfig));this._sessionContext.emeManager.setup(i,this._sessionContext.authenticationTokens)},i.prototype._registerVideoTagEvents=function(t){function u(t){i._dispose||i._error||(t.type&&(t.type===n.EventName.play||t.type===n.EventName.playing)&&(i._playStarted=!0),n.Log.verbose(7,"dispatching event: "+t.type+" currentTime: "+i._sessionContext.videoTag.currentTime),i._sessionContext.eventMgr.dispatchEvent(t.type))}function f(t){if(!i._dispose&&!i._error)if(n.EventName.error===t.type){if(i._sessionContext.videoTag.readyState===HTMLMediaElement.HAVE_NOTHING){n.Log.warning(7,"Ignoring video element error since state is HAVE_NOTHING "+n.Failure.mediaErrorToString(i._sessionContext.videoTag.error));return}var r=new n.Failure.External;r.translateMediaError(i._sessionContext.videoTag.error);i._handleError(r)}else i._workflowCoordinator||(n.Log.verbose(7,"dispatching event: "+t.type),i._sessionContext.eventMgr.dispatchEvent(t.type))}var r=this,i=this;this._passThroughEventNames.forEach(function(n){t?r._sessionContext.videoTag.addEventListener(n,u):r._sessionContext.videoTag.removeEventListener(n,u)});this._conditionalEventNames.forEach(function(n){t?r._sessionContext.videoTag.addEventListener(n,f):r._sessionContext.videoTag.removeEventListener(n,f)})},i.prototype._registerInternalEvents=function(i){function r(t){function i(){n.Log.error(7,"Throwing error "+t.message);throw new Error(t.message);}u._dispose||t.message&&!u._checkErrorAndRetryPlayback()&&n.Util.setTimeout(i,0)}var u=this;i?this._sessionContext.eventMgr.addHandler(t.exception,r,this):this._sessionContext.eventMgr.removeHandler(t.exception,r)},i.prototype._checkErrorAndRetryPlayback=function(){return!this._playStarted&&n.Common.isChrome&&!this._retryAttempt?(n.Log.verbose(7,"Retrying Playback with Adjusted DTS"),this._retryAttempt=!0,this.setSrcInternal(this._src,this._options,!0),!0):!1},i.prototype._handleError=function(t){this._checkErrorAndRetryPlayback()||this._workflowCoordinator&&this._workflowCoordinator.error||(this._error=t,this._workflowCoordinator&&(n.Log.verbose(7,"Disposing WorkflowCoordinator b/c "+t.toString()),this._workflowCoordinator.dispose(),this._workflowCoordinator=null),n.Log.verbose(7,"dispatching event: "+n.EventName.error),this._sessionContext.eventMgr.dispatchEvent(n.EventName.error))},i._dtsOffsetToAddForChrome=.1,i}()}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var e=function(){function n(){this.windowSizeHeuristicsEnabled=n._windowSizeHeuristicsEnabledDefault;this.preFetchDataEnabled=n._preFetchDataEnabledDefault;this.preFetchDataMiddle=n._preFetchDataMiddleDefault;this.vodStableBufferLevelPercent=n._vodStableBufferLevelPercentDefault;this.vodDowngradeBufferLevelPercent=n._vodDowngradeBufferLevelPercentDefault;this.belowDowngradeBufferLevelDownloadTimeFactor=n._belowDowngradeBufferLevelDownloadTimeFactorDefault;this.bandwidth=null;this.stepRule=null;this.buffer=null;this.bandwidth=new t;this.stepRule=new i;this.buffer=new r}return n.prototype.reset=function(){this.windowSizeHeuristicsEnabled=n._windowSizeHeuristicsEnabledDefault;this.preFetchDataEnabled=n._preFetchDataEnabledDefault;this.preFetchDataMiddle=n._preFetchDataMiddleDefault;this.vodStableBufferLevelPercent=n._vodStableBufferLevelPercentDefault;this.vodDowngradeBufferLevelPercent=n._vodDowngradeBufferLevelPercentDefault;this.belowDowngradeBufferLevelDownloadTimeFactor=n._belowDowngradeBufferLevelDownloadTimeFactorDefault;this.bandwidth.reset();this.stepRule.reset();this.buffer.reset()},n._windowSizeHeuristicsEnabledDefault=!0,n._preFetchDataEnabledDefault=!0,n._preFetchDataMiddleDefault=!0,n._vodStableBufferLevelPercentDefault=.7,n._vodDowngradeBufferLevelPercentDefault=.15,n._belowDowngradeBufferLevelDownloadTimeFactorDefault=.75,n}(),t,i,r,u,f;n.Heuristics=e;t=function(){function n(){this.bandwidthUsabilityPercent=n._bandwidthUsabilityPercentDefault;this.bandwidthDataSizeThresholdInBytes=n._bandwidthDataSizeThresholdInBytesDefault;this.bandwidthEstimationMaxKbps=n._bandwidthEstimationMaxKbpsDefault;this.bandwidthOutlierFactor=n._bandwidthOutlierFactorDefault;this.maxBandwidthHistoryCount=n._maxBandwidthHistoryCountDefault}return n.prototype.reset=function(){this.bandwidthUsabilityPercent=n._bandwidthUsabilityPercentDefault;this.bandwidthDataSizeThresholdInBytes=n._bandwidthDataSizeThresholdInBytesDefault;this.bandwidthEstimationMaxKbps=n._bandwidthEstimationMaxKbpsDefault;this.bandwidthOutlierFactor=n._bandwidthOutlierFactorDefault;this.maxBandwidthHistoryCount=n._maxBandwidthHistoryCountDefault},n._bandwidthUsabilityPercentDefault=.85,n._bandwidthDataSizeThresholdInBytesDefault=1e4,n._bandwidthEstimationMaxKbpsDefault=1e5,n._bandwidthOutlierFactorDefault=50,n._maxBandwidthHistoryCountDefault=5,n}();n.Bandwidth=t;i=function(){function n(){this.minSegmentsBeforeDowngrade=n._minSegmentsBeforeDowngradeDefault;this.minSegmentsBeforeUpgrade=n._minSegmentsBeforeUpgradeDefault;this.maxStepDownInQuality=n._maxStepDownInQualityDefault;this.maxStepUpInQuality=n._maxStepUpInQualityDefault}return n.prototype.reset=function(){this.minSegmentsBeforeDowngrade=n._minSegmentsBeforeDowngradeDefault;this.minSegmentsBeforeUpgrade=n._minSegmentsBeforeUpgradeDefault;this.maxStepDownInQuality=n._maxStepDownInQualityDefault;this.maxStepUpInQuality=n._maxStepUpInQualityDefault},n._minSegmentsBeforeDowngradeDefault=0,n._minSegmentsBeforeUpgradeDefault=2,n._maxStepDownInQualityDefault=10,n._maxStepUpInQualityDefault=3,n}();n.StepRule=i;r=function(){function n(){this.maxBufferInSec=n._maxBufferInSecDefault;this.prerollPercent=n._prerollPercentDefault;this.livePlaybackOffsetPercent=n._livePlaybackOffsetPercentDefault;this.leftEdgeBackoffInSec=n._leftEdgeBackoffInSecDefault;this.lowBufferPercent=n._lowBufferPercentDefault}return n.prototype.reset=function(){this.maxBufferInSec=n._maxBufferInSecDefault;this.prerollPercent=n._prerollPercentDefault;this.lowBufferPercent=n._lowBufferPercentDefault;this.livePlaybackOffsetPercent=n._livePlaybackOffsetPercentDefault;this.leftEdgeBackoffInSec=n._leftEdgeBackoffInSecDefault},n._maxBufferInSecDefault=30,n._prerollPercentDefault=.25,n._lowBufferPercentDefault=.25,n._livePlaybackOffsetPercentDefault=.25,n._leftEdgeBackoffInSecDefault=4,n}();n.Buffer=r;u=function(){function n(){this.maxTotalRetries=n._maxTotalRetriesDefault;this.maxRetryPerSegment=n._maxRetryPerSegmentDefault;this.maxRetryPresentation=n._maxRetryPresentationDefault;this.maxSkipSegments=n._maxSkipSegmentsDefault;this.retryLowerBitrateOnly=!1;this.retryMediaInMSec=n._retryMediaInMSecDefault;this.retryMediaServerErrorInMSec=n._retryMediaServerErrorInMSecDefault;this.retryPresentationInMSec=n._retryPresentationInMSecDefault}return n._maxTotalRetriesDefault=50,n._maxRetryPerSegmentDefault=10,n._maxRetryPresentationDefault=5,n._maxSkipSegmentsDefault=30,n._retryMediaInMSecDefault=2e3,n._retryMediaServerErrorInMSecDefault=4e3,n._retryPresentationInMSecDefault=500,n}();n.HttpRetryPolicy=u;f=function(){function n(){this.initBandwidthTimeoutInMSec=n._initBandwidthTimeout;this.timeoutInMSec=n._minTimeoutInMSecDefault;this.liveEdgeAdjustmentInSec=n._liveEdgeAdjustmentDefaultInSec}return Object.defineProperty(n.prototype,"maxTimeoutInMSec",{get:function(){return 6e4},enumerable:!0,configurable:!0}),n._minTimeoutInMSecDefault=5e3,n._initBandwidthTimeout=1e3,n._liveEdgeAdjustmentDefaultInSec=-1,n}();n.HttpDataRetriever=f})(n.Settings||(n.Settings={}));var t=n.Settings}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(){return new e}function r(n,t){var i=null;if(window.hasOwnProperty("MediaSource")||window.hasOwnProperty("WebKitMediaSource"))i=window.MediaSource||window.WebKitMediaSource;else return!1;return i&&i.isTypeSupported&&(i.isTypeSupported(n)||i.isTypeSupported(n+";"+t))}t.CreateAdapter=i;t.supported=r;var u={closed:0,open:1,ended:2},f=function(){function n(n,t,i){this.bufferIndex=n;this.startTime=t;this.endTime=i}return n}(),e=function(){function i(){this._mediaSource=new MediaSource;this._adapterSourceBuffers=new o;this._disposed=!1;this._videoTag=null;this._buffered=null}return i.prototype.dispose=function(){this._disposed||(this._mediaSource=null,this._adapterSourceBuffers.dispose(),this._adapterSourceBuffers=null,this._videoTag&&(this._videoTag=null),this._disposed=!0)},Object.defineProperty(i.prototype,"readyState",{get:function(){return this._disposed?0:u[this._mediaSource.readyState]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationInSec",{get:function(){return this._disposed?NaN:this._mediaSource.duration},set:function(n){this._disposed||(this._mediaSource.duration=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"adapterBuffers",{get:function(){return this._disposed?null:this._adapterSourceBuffers.adapterBuffers},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){return this._buffered},enumerable:!0,configurable:!0}),i.prototype.setVideoElementSrcAsync=function(n){var t=this;return this._videoTag=n,new Promise(function(i,r){if(t._disposed){r("VideoElementAdapter already disposed");return}t._mediaSource.addEventListener("sourceopen",function(){if(t._disposed){r("VideoElementAdapter already disposed");return}i()});n.src=URL.createObjectURL(t._mediaSource)})},i.prototype.setStartTime=function(t){function u(){!r._disposed&&r._videoTag&&r._videoTag.currentTime===0&&(r._videoTag.readyState!==HTMLMediaElement.HAVE_NOTHING?(r._videoTag.currentTime=t,n.Log.verbose(3,"StartTime set: "+t)):(n.Log.verbose(3,"Video tag not ready, will retry to set StartTime to "+t),n.Util.setTimeout(u,i._setCurrentTimeTimeoutInMSec)))}var r=this;u()},i.prototype.addAdapterBuffer=function(i,r,u,f){function h(){s._updateBuffered()}function c(){u.call(s)}if(this._disposed)return null;var s=this,e,o=null;try{e=this._mediaSource.addSourceBuffer(i);o=new t.VideoElementAdapterBuffer(f,r,e,h,c);this._adapterSourceBuffers.add(o,e);n.Log.verbose(3,"Adapter buffer added: "+i+" Adapter buffer total: "+this._adapterSourceBuffers.length)}catch(l){n.Log.error(3,"Failed to add SourceBuffer to MediaSource: "+l)}return o},i.prototype.removeAdapterBuffer=function(t){if(!this._disposed){var i;i=this._adapterSourceBuffers.find(t);-1!==i?(this._mediaSource.removeSourceBuffer(this._adapterSourceBuffers.sourceBuffers[i]),this._adapterSourceBuffers.remove(i),n.Log.verbose(3,"Adapter buffer removed, remaining: "+this._adapterSourceBuffers.length)):n.Log.error(3,"Failed to remove adapter buffer: instance not found")}},i.prototype.endOfStream=function(t){function u(){if(!r._disposed)try{f?r._mediaSource.endOfStream(f):r._mediaSource.endOfStream();n.Log.verbose(3,"End of stream signaled")}catch(t){if(t.code===DOMException.INVALID_STATE_ERR&&e++<10)n.Log.warning(3,"MediaSource not ready, will retry: "+t),n.Util.setTimeout(u,i._retryTimeoutInMSec);else{n.Log.error(3,"Failed to set end-of-stream: "+t);throw t;}}}var r=this,f=t,e=0;u()},i.prototype._updateBuffered=function(){var t,f,r,o,i;if(!this._disposed){var s=this._adapterSourceBuffers.adapterBuffers,h=new n.Common.TimeRangeSet,u=this._findUniqueStartTimes();for(t=0;t<u.length;t++){var c=u[t].startTime,e=u[t].endTime,l=!0;for(f=0;f<s.length;f++)if(r=s[f].buffered,f!==u[t].bufferIndex){for(o=!1,i=0;i<r.length;i++)if(r.start(i)<=c&&c<=r.end(i)){o=!0;r.end(i)<e&&(e=r.end(i));break}if(!o){l=!1;break}}l&&(n.Log.verbose(3,"Intersecting buffer found ("+u[t].startTime+", "+e+")"),h.addRange(new n.Common.TimeRange(u[t].startTime,e)))}this._buffered=h}},i.prototype._findUniqueStartTimes=function(){for(var t,n,i=[],u=this._adapterSourceBuffers.adapterBuffers,r=0;r<u.length;r++)for(t=u[r].buffered,n=0;n<t.length;n++)-1===i.findIndexOf(function(i){return i.startTime===t.start(n)})&&i.push(new f(r,t.start(n),t.end(n)));return i.sort(function(n,t){return n.startTime-t.startTime}),i},i._setCurrentTimeTimeoutInMSec=500,i._retryTimeoutInMSec=100,i}(),o=function(){function n(){this.adapterBuffers=[];this.sourceBuffers=[]}return n.prototype.dispose=function(){for(var n=this.adapterBuffers.length-1;n>=0;n--)this.adapterBuffers[n].dispose(),this.adapterBuffers[n]=null;for(n=this.sourceBuffers.length-1;n>=0;n--)this.sourceBuffers[n]=null},Object.defineProperty(n.prototype,"length",{get:function(){if(this.sourceBuffers.length!==this.adapterBuffers.length)throw new Error("AdapterSourceBuffers in invalid state");return this.sourceBuffers.length},enumerable:!0,configurable:!0}),n.prototype.find=function(n){return this.adapterBuffers.indexOf(n)},n.prototype.add=function(n,t){this.adapterBuffers.push(n);this.sourceBuffers.push(t)},n.prototype.remove=function(n){n>=0&&n<this.sourceBuffers.length&&(this.sourceBuffers.splice(n,1),this.adapterBuffers.splice(n,1))},n}()})(n.VideoElementAdapter||(n.VideoElementAdapter={}));var t=n.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(t,i,r,u,f){function s(){n.Log.verbose(3,"SourceBuffer 'update' event completed.");o()}function h(){n.Log.error(3,"SourceBuffer append failed with 'error' event.");o()}function o(){e._notifyBufferUpdated();e._tryInternalRemove();e._tryInternalAppend()}var e=this;this._disposed=!1;this._pendingBufferRanges=new n.Common.TimeRangeSet;this._sourceBuffer=r;this._maxAdapterBufferInSec=t;this._playbackPosFn=i;this._notifyBufferUpdated=u;this._pendingBuffer=[];this._pendingRemove=[];this._submittedRemove=null;this._appendErrorHandler=f;this._sourceBuffer.addEventListener("update",s);this._sourceBuffer.addEventListener("error",h)}return Object.defineProperty(t.prototype,"buffered",{get:function(){var i=new n.Common.TimeRangeSet,s,e,o,r,t,u,f;try{for(i.addRanges(this._sourceBuffer.buffered),e=i.length>0?i.end(i.length-1):NaN,t=0;t<this._pendingBufferRanges.length;t++)o=this._pendingBufferRanges.start(t),r=this._pendingBufferRanges.end(t),n.Common.diffTimes(o,e)===0?i.extendLast(r):(s=new n.Common.TimeRange(o,r),i.addRange(s)),e=r;for(t=0;t<this._pendingRemove.length;t++)u=this._pendingRemove[t].startInSec,f=this._pendingRemove[t].endInSec,i.removeRange(u,f);this._submittedRemove&&(u=this._submittedRemove.startInSec,f=this._submittedRemove.endInSec,i.removeRange(u,f))}catch(h){n.Log.error(3,"buffered() threw exception "+h)}return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._sourceBuffer.timestampOffset},set:function(n){this._sourceBuffer.timestampOffset=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this._sourceBuffer.audioTracks},enumerable:!0,configurable:!0}),t.prototype.getBufferedAheadOfCurrentTimeInSec=function(){var n;if(this._disposed)return 0;var t=this.buffered,i=this._playbackPosFn(),r=0;if(0===t.length)return 0;for(n=0;n<t.length;n++)t.start(n)<=i&&i<t.end(n)?r+=t.end(n)-i:i<t.start(n)&&(r+=t.end(n)-t.start(n));return r},t.prototype.bufferFull=function(){return this.getBufferedAheadOfCurrentTimeInSec()>this._maxAdapterBufferInSec},t.prototype.contains=function(n){for(var i=this.buffered,t=0;t<i.length;t++)if(i.start(t)<=n&&n<i.end(t))return!0;return!1},t.prototype.dispose=function(){var n;if(!this._disposed){for(this._disposed=!0,n=this._pendingBuffer.length-1;n>=0;n--)this._pendingBuffer[n]=null;for(this._sourceBuffer=null,n=this._pendingRemove.length-1;n>=0;n--)this._pendingRemove[n]=null;this._submittedRemove&&(this._submittedRemove=null);this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null)}},t.prototype.append=function(t,i,r){for(var s,f,e,o,u=0;u<this._pendingBuffer.length;u++)if(i<this._pendingBuffer[u].presTimeInSec)break;if(r){if(u>0&&(f=this._pendingBuffer[u-1],o=n.Common.diffTimes(i,f.presTimeInSec+f.durationInSec),o>0))throw new Error("append ("+i+","+r+") failed, overlaps with ("+f.presTimeInSec+","+f.durationInSec+")");if(u<this._pendingBuffer.length&&(e=this._pendingBuffer[u],o=n.Common.diffTimes(e.presTimeInSec,i+r),o>0))throw new Error("append ("+i+","+r+") failed, overlaps with ("+e.presTimeInSec+","+e.durationInSec+")");}s=new n.Common.SegmentData(t,i,r);this._pendingBuffer.splice(u,0,s);this._updatePendingRanges();n.Log.verbose(3,"Appending segment: "+i+" sec "+t.byteLength+" bytes");this._tryInternalAppend();this._notifyBufferUpdated()},t.prototype.remove=function(t,i){var r;t=Math.max(t,0);r=new n.Common.TimeRange(t,i);this._pendingRemove.push(r);n.Log.verbose(3,"Added to remove pending list ["+t+","+i+")");this._tryInternalRemove()},t.prototype.flushFrom=function(n){var r=this._sourceBuffer.buffered,t,i,u;if(this._sourceBuffer.updating&&this._sourceBuffer.abort(),t=0,i=0,r.length>0&&(t=r.start(0)),this._pendingBuffer.length>0&&(t=Math.min(t,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0&&(u=this._pendingBuffer[this._pendingBuffer.length-1],i=u.presTimeInSec+u.durationInSec),r.length>0&&(i=Math.max(i,r.end(r.length-1))),undefined!==n&&(t=n),i>t)this.remove(t,i);else if(0!==t||0!==i)throw new Error("flush failed, endTime ("+i+") not greater than startime ("+t+")");},t.prototype.flushUntil=function(n){var r=this._sourceBuffer.buffered,i=0,t=0,u;if(r.length>0&&(i=r.start(0)),this._pendingBuffer.length>0&&(i=Math.min(i,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0&&(u=this._pendingBuffer[this._pendingBuffer.length-1],t=u.presTimeInSec+u.durationInSec),r.length>0&&(t=Math.max(t,r.end(r.length-1))),t=Math.min(t,n),t>i)this.remove(i,t);else if(0!==i||0!==t)throw new Error("flush failed, endTime ("+t+") not greater than startime ("+i+")");},t.prototype._tryInternalAppend=function(){if(this._pendingBuffer&&this._sourceBuffer&&0!==this._pendingBuffer.length&&!this._sourceBuffer.updating)try{this._sourceBuffer.appendBuffer(this._pendingBuffer[0].data);n.Log.verbose(3,"Appended segment to SourceBuffer: "+this._pendingBuffer[0].presTimeInSec+" sec "+this._pendingBuffer[0].data.byteLength+" bytes");this._pendingBuffer.splice(0,1);this._updatePendingRanges()}catch(t){switch(t.code){case DOMException.INVALID_STATE_ERR:case DOMException.QUOTA_EXCEEDED_ERR:n.Log.error(3,"Failed to append segment to SourceBuffer, will retry: "+t);this._appendErrorHandler&&this._appendErrorHandler(this._sourceBuffer);break;default:n.Log.error(3,"Failed to append segment to SourceBuffer: "+t);throw t;}}},t.prototype._tryInternalRemove=function(){var t,r,f,i,e;if(this._sourceBuffer&&(this._sourceBuffer.updating||(this._submittedRemove=null),this._pendingBuffer&&this._pendingRemove))while(0!==this._pendingRemove.length&&!this._sourceBuffer.updating){for(t=this._pendingRemove[0],r=this._pendingBuffer.length-1;r>=0;r--)f=this._pendingBuffer[r],i=f.presTimeInSec,e=f.durationInSec,i>=t.startInSec&&i<t.endInSec&&(i+e<=t.endInSec?(this._pendingBuffer.splice(r,1),this._updatePendingRanges(),this._notifyBufferUpdated(),n.Log.verbose(3,"Segment removed: "+t.startInSec)):n.Log.verbose(3,"Failed to remove range ("+t.startInSec+", "+t.endInSec+") from                             segment ("+i+", "+(i+e)+") - range ends mid - segment"));try{this._sourceBuffer.remove(t.startInSec,t.endInSec);this._submittedRemove=this._pendingRemove.splice(0,1)[0];n.Log.verbose(3,"Removing range from SourceBuffer: ["+t.startInSec+","+t.endInSec+")")}catch(u){switch(u.code){case DOMException.INVALID_ACCESS_ERR:case DOMException.INVALID_STATE_ERR:n.Log.error(3,"Failed to remove segment from SourceBuffer, will retry: "+u);break;default:n.Log.error(3,"Failed to remove segment from SourceBuffer: "+u);throw u;}}}},t.prototype._updatePendingRanges=function(){var t=this,i,r=NaN;this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null);this._pendingBufferRanges=new n.Common.TimeRangeSet;this._pendingBuffer.forEach(function(u){n.Common.diffTimes(u.presTimeInSec,r)===0?t._pendingBufferRanges.extendLast(u.endTimestampInSec):(i=new n.Common.TimeRange(u.presTimeInSec,u.endTimestampInSec),t._pendingBufferRanges.addRange(i));r=u.endTimestampInSec})},t}();t.VideoElementAdapterBuffer=i})(n.VideoElementAdapter||(n.VideoElementAdapter={}));var t=n.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(n){return new r(n)}t.CreateCoordinator=i;var r=function(){function i(r){this._sessionContext=r;this._workflowSeq=t.CreateSequencer(this._sessionContext);this._mediaSource=null;this._lastPresentation=new Date(0);this._pendingPresentation=new Date;this._disposed=!1;this._pendingPlay=!0;this._pendingTryMediaRequestCount=0;this._prerollMet=!1;this._error=null;this._playbackPosInSec=null;this._pendingPlaybackPosInSec=null;this._lastDuration=0;this._videoStreamList=null;this._audioStreamList=null;this._healthCheckLastTime=0;this._healthCheckPeriodInMSec=i._healthCheckPeriodMinInMSec;this._healthCheckId=n.Util.setTimeout(this._periodicHealthCheck,this._healthCheckPeriodInMSec,this);this._healthCheckRetries=0;this._dtOffsetToAdd=0;this._lastPlaybackBitrate=null;this._lastDownloadBitrate=null;this._registerInternalEvents(!0)}return i.prototype.dispose=function(){this._disposed||(this._registerInternalEvents(!1),this._disposed=!0,this._sessionContext=null,this._lastPresentation=null,this._pendingPresentation=null,this._mediaSource&&(this._mediaSource.dispose(),this._mediaSource=null),this._workflowSeq&&(this._workflowSeq.dispose(),this._workflowSeq=null),this._videoStreamList&&this._videoStreamList.dispose(),this._audioStreamList&&this._audioStreamList.dispose(),n.Util.clearTimeout(this._healthCheckId))},Object.defineProperty(i.prototype,"videoStreamList",{get:function(){return this._videoStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"audioStreamList",{get:function(){return this._audioStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"videoBufferData",{get:function(){return this._sessionContext.videoBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"audioBufferData",{get:function(){return this._sessionContext.audioBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"src",{get:function(){return this._sessionContext.presentationUrl},set:function(t){function u(t){function u(){return null!==i._playbackPosInSec&&i._sessionContext.videoTag.seeking?i._playbackPosInSec:i._sessionContext.videoTag.currentTime}function f(t){var u,f,r;if(this._mediaSource){for(u=this._mediaSource.sourceBuffers,f=!1,r=0;r<u.length;r++)if(u[r]===t){f=!0;break}f||i._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception," SourceBuffer has benn removed from MediaSource")}}function e(){i._disposed||(r.periods[0].streams.forEach(function(r){r.streamingInfo.selected&&(r.streamingInfo.sourceBuffer=i._mediaSource.addAdapterBuffer(r.codec,u,f,t.sessionContext.maxBufferInSec()),n.assert(null!=r.streamingInfo.sourceBuffer,"presentationWorkflowResolved: Failed to create source buffer for stream "+n.Presentation.StreamType[r.type]),r.type===0?i._sessionContext.videoBufferData.updateBuffer(r.streamingInfo.sourceBuffer):r.type===1&&i._sessionContext.audioBufferData.updateBuffer(r.streamingInfo.sourceBuffer),r.streamingInfo.sourceBuffer.presentationTimeOffsetInSec=r.presentationTimeOffsetInSec+i._dtOffsetToAdd)}),i._updateStartPosition(),i._updateDuration(),i._registerVideoDownloadedEvents(),i._registerVideoTagEvents(),i._checkMediaWorkflow(),i._tryTimeUpdateEvent(),t.dispose())}function o(n){throw new Error(n);}if(!i._disposed){var r=null;if(n.Log.verbose(1,"presentationWorkflowResolved"),null===t.sessionContext.commonPresentation)throw new Error("presentationWorkflowResolved: unexpected null values");r=t.sessionContext.commonPresentation;i._videoStreamList=new n.Presentation.VideoStreamList(i._sessionContext,r.periods[0].streams);i._audioStreamList=new n.Presentation.AudioStreamList(i._sessionContext,r.periods[0].streams);i._sessionContext.emeManager.setContentTypes(i._audioStreamList.streams[0].codec,i._videoStreamList.streams[0].codec);i._sessionContext.eventMgr.dispatchEvent(n.EventName.loadedmetadata);i._mediaSource=n.VideoElementAdapter.CreateAdapter();i._mediaSource.setVideoElementSrcAsync(t.sessionContext.videoTag).then(e,o).catch(function(t){i._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception,t)})}}function f(t){i._disposed||(n.Log.error(1,"presentationWorkflowRejected:  module: "+t.currentModuleId),t.externalFailure&&n.Failure.isExternalError(t.externalFailure.code)&&(i._error=new n.Failure.External(t.externalFailure.code,t.externalFailure.message),n.Log.error(1,"Dispatching error: "+i.error.toString()),t.sessionContext.eventMgr.dispatchEvent(n.EventName.error)),t.dispose())}n.Log.verbose(1,"src("+t+")");var i=this,r;this._sessionContext.presentationUrl=t;r=t.indexOf("?");-1!==r&&(this._sessionContext.presentationQueryStr=t.slice(r));this._presentationWorkflowAsync(u,f)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dtsOffsetToAdd",{get:function(){return this._dtOffsetToAdd},set:function(n){this._dtOffsetToAdd=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentTime",{get:function(){var t=this._sessionContext.videoTag,n=0;return this._sessionContext.commonPresentation&&(n=null!==this._pendingPlaybackPosInSec?this._pendingPlaybackPosInSec:t.currentTime,n=Math.max(this._fromPresentationTime(n),0)),n},set:function(t){var f,e,i;n.Log.verbose(1,"currentTime("+t.toFixed(3)+")");var r=this._sessionContext,u=r.commonPresentation.periods[0].streams,o=!1,s=0,h=0,c=this.duration;if(r.commonPresentation.isLive){var a=r.commonPresentation.timeShiftBufferDepth||Infinity,l=r.heuristicSettings.buffer.leftEdgeBackoffInSec,v=a-l;s=r.liveStartBufferInSec();h=c<v?0:l}for(t=Math.max(t,h),t=Math.min(t,c-s),t=this._toPresentationTime(t),n.Log.verbose(1,"seeking from presentation time "+r.videoTag.currentTime.toFixed(3)+" to "+t.toFixed(3)),f=t,i=0;i<u.length;i++)if(u[i].streamingInfo.selected){if(e=u[i].segments.getByInSegmentTimestamp(t),e)continue;e=u[i].segments.getByInDiscontinuityTimestamp(t);e&&(f=Math.max(f,e.segmentInfo.presTimeInSec))}for(f!==t&&(n.Log.verbose(1,"skipping discontinuity from presentation time "+t+" to "+f),t=f),this._playbackPosInSec=t,r.videoTag.currentTime=t,this._pendingPlaybackPosInSec=null,n.Common.diffTimes(r.videoTag.currentTime,t)&&(n.Log.verbose(1,"set currentTime failed to update videoTag: requested="+t+", actual="+r.videoTag.currentTime),this._pendingPlaybackPosInSec=t),i=0;i<u.length;i++)u[i].streamingInfo.selected&&u[i].streamingInfo.sourceBuffer&&!1===u[i].streamingInfo.sourceBuffer.contains(t)&&(u[i].streamingInfo.pendingSeekPositionInSec=t,u[i].streamingInfo.sourceBuffer.flushFrom(),o=!0,2===u[i].streamingInfo.workflowState&&(u[i].streamingInfo.workflowState=0));this._checkMediaWorkflow();o||this._buffersAbovePreroll()||this._endOfSelectedStreams()||(o=!0);o&&(r.videoTag.paused||(this._pendingPlay=!0,r.eventMgr.dispatchEvent(n.EventName.waiting),r.videoTag.pause()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentMediaTime",{get:function(){var r=this._sessionContext.videoTag,t=0,n,i;return this._sessionContext.commonPresentation&&(n=this._sessionContext.commonPresentation.periods[0].streams,n&&n[0]&&(i=n[0].presentationTimeOffsetInSec,t=(null!==this._pendingPlaybackPosInSec?this._pendingPlaybackPosInSec:r.currentTime)-i)),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"downloadBitrate",{get:function(){return this._lastDownloadBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playbackBitrate",{get:function(){return this._lastPlaybackBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoplay",{set:function(t){n.Log.verbose(1,"autoplay("+t+")");this._pendingPlay=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){var t=this._sessionContext,i=t.commonPresentation,r=Infinity,n;return i&&(n=i.playableWindow,r=n.endInSec-n.startInSec),Math.min(t.videoTag.duration||0,r)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){var t=null,i;return this._mediaSource&&(i=this._sessionContext.commonPresentation.playableWindow,t=new n.Common.TimeRangeSet,t.addRanges(this._mediaSource.buffered),t.rebase(i.startInSec)),t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),i.prototype.play=function(){n.Log.verbose(1,"play()");var i=this._sessionContext,r=i.heuristicSettings.buffer.leftEdgeBackoffInSec,t=i.videoTag;if(!this._mediaSource){this._pendingPlay=!0;return}this._mediaSource.readyState===0&&t.load();i.commonPresentation&&i.commonPresentation.isLive&&t.paused&&!t.seeking&&this._fromPresentationTime(t.currentTime)<r&&(n.Log.verbose(1,"play: skipping from "+t.currentTime+" to left edge"),this.currentTime=0);t.paused&&n.Common.diffTimes(t.currentTime,t.duration)<=0&&(this.currentTime=0);this._buffersAbovePreroll()||this._endOfSelectedStreams()?this._startPlayback():(this._pendingPlay=!0,i.eventMgr.dispatchEvent(n.EventName.waiting));this._resetHealthCheckTime()},i.prototype.pause=function(){var t=this._sessionContext;n.Log.verbose(1,"pause()");this._pendingPlay&&(this._pendingPlay=!1);t.videoTag.pause();this._tryTimeUpdateEvent()},i.prototype._presentationWorkflowAsync=function(t,r){function f(){u._disposed||(!u._sessionContext.commonPresentation||u._sessionContext.commonPresentation.isLive)&&u._workflowSeq.presentationRequestAsync().then(s,h).catch(function(t){u._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception,t)})}function s(e){var o,s,h;if(u._disposed){r&&r(e);return}if(n.Log.verbose(1,"presentationRequestResolved"),o=e.sessionContext.commonPresentation,null===o)throw new Error("presentationRequestResolved: unexpected null values");u._updateDuration();s=new Date;o.isLive&&o.minimumUpdatePeriodInSec>0&&u._pendingPresentation<=s&&(h=Math.max(i._minPresentationUpdatePeriodInMSec,o.minimumUpdatePeriodInSec*1e3),u._pendingPresentation.setTime(s.getTime()+h),n.Util.setTimeout(f,h));u._lastPresentation=s;t&&(t(e),t=null)}function h(t){u._disposed||n.Log.error(1,"presentationRequestRejected:  module: "+t.currentModuleId);r&&r(t)}var u=this,e=0,o=Date.now()-u._lastPresentation.getTime();o<i._minPresentationUpdatePeriodInMSec&&(e=i._minPresentationUpdatePeriodInMSec-o);n.Util.setTimeout(f,e)},i.prototype._checkMediaWorkflow=function(){function u(){var c,h,s,o;if(!t._disposed){for(n.Log.verbose(1,"_doCheckMediaWorkflow"),c=[],t._pendingTryMediaRequestCount--,r.videoTag.paused||t._endOfSelectedStreams()||!t._buffersNearEmpty()?t._buffersAbovePreroll()&&(t._dispatchCanPlayThroughEvent(),t._pendingPlay&&t._startPlayback()):(r.eventMgr.dispatchEvent(n.EventName.waiting),t._pendingPlay=!0,r.videoTag.pause()),h=!1,s=0;s<r.commonPresentation.periods[0].streams.length;s++)o=r.commonPresentation.periods[0].streams[s],o.streamingInfo.selected&&0===o.streamingInfo.workflowState&&(!o.streamingInfo.sourceBuffer||t._isBufferAheadOtherStreams(o)||o.streamingInfo.sourceBuffer.bufferFull()||t._buffersAtLiveEdge(o)?h=!0:(n.Log.verbose(1,"starting media workflow "+n.Presentation.StreamType[o.type]),o.streamingInfo.workflowState=1,t._workflowSeq.mediaRequestAsync(o).then(f,e).catch(function(t){r.eventMgr.dispatchEvent(n.InternalEventName.exception,t)})));h&&0===t._pendingTryMediaRequestCount&&(n.Log.verbose(1,"_doCheckMediaWorkflow: schedule try again"),t._pendingTryMediaRequestCount++,n.Util.setTimeout(u,i._mediaSegmentTimeoutInMSec))}}function f(i){var f,s,e,o,u;if(!t._disposed){for(f=i.requestedStream,f.streamingInfo.workflowState=0,1===i.state&&null===f.streamingInfo.pendingSeekPositionInSec&&(n.Log.verbose(1,"mediaRequestResolved: "+n.Presentation.StreamType[f.type]+" end of stream"),f.streamingInfo.workflowState=2,t._endOfSelectedStreams()&&(n.Log.verbose(1,"End of selected streams"),t._mediaSource.endOfStream(),t._dispatchCanPlayThroughEvent(),t._pendingPlay&&t._startPlayback())),u=0;u<i.urlsToRetrieve.length;u++){if(null===i.urlsToRetrieve[u].mediaData)throw new Error("mediaRequestResolved: data is null url: "+i.urlsToRetrieve[u].url);if(f.streamingInfo)if(f.streamingInfo.selected&&null===f.streamingInfo.pendingSeekPositionInSec)s=i.urlsToRetrieve[u].presTimeInSec+i.urlsToRetrieve[u].durationInSec,n.Log.verbose(1,"mediaRequestResolved appending url: "+i.urlsToRetrieve[u].url+"("+i.urlsToRetrieve[u].httpResposeContentType+", "+i.urlsToRetrieve[u].mediaData.byteLength+" bytes, "+s+" secs)"),f.streamingInfo.sourceBuffer.append(i.urlsToRetrieve[u].mediaData,i.urlsToRetrieve[u].presTimeInSec,i.urlsToRetrieve[u].durationInSec);else{n.Log.verbose(1,"mediaRequestResolved discarding,"+(f.streamingInfo.selected?"seek in progress":"stream no longer selected ")+"url: "+i.urlsToRetrieve[u].url+"("+i.urlsToRetrieve[u].httpResposeContentType+", "+i.urlsToRetrieve[u].mediaData.byteLength+")");break}}if(null!==t._pendingPlaybackPosInSec){for(e=r.videoTag.buffered,o=!1,u=0;u<e.length;u++)if(e.start(u)<=t._pendingPlaybackPosInSec&&t._pendingPlaybackPosInSec<e.end(u)){o=!0;break}o&&(r.videoTag.currentTime=t._pendingPlaybackPosInSec,n.Common.diffTimes(r.videoTag.currentTime,t._pendingPlaybackPosInSec)?n.Log.verbose(1,"mediaRequestResolved failed to update videoTag currentTime: pending="+t._pendingPlaybackPosInSec+", actual="+r.videoTag.currentTime):t._pendingPlaybackPosInSec=null)}t._checkMediaWorkflow();i.dispose()}}function e(i){function u(i){if(!t._disposed){if(n.Log.verbose(1,"refreshPresentationWorkflowResolved"),null===i.sessionContext.commonPresentation)throw new Error("refreshPresentationWorkflowResolved: unexpected null values");e.streamingInfo.workflowState=0;t._checkMediaWorkflow();i.dispose()}}function f(i){t._disposed||(n.Log.error(1,"refreshPresentationWorkflowRejected:  module: "+i.currentModuleId),i.externalFailure&&n.Failure.isExternalError(i.externalFailure.code)&&(t._error=new n.Failure.External(i.externalFailure.code,i.externalFailure.message),n.Log.error(1,"Dispatching error: "+t.error.toString()),i.sessionContext.eventMgr.dispatchEvent(n.EventName.error)),i.dispose())}if(!t._disposed){var e=i.requestedStream;if(n.Log.error(1,"mediaRequestRejected: "+n.Presentation.StreamType[i.requestedStream.type]+" module: "+i.currentModuleId),i.externalFailure){if((2097556===i.externalFailure.code||1===i.externalFailure.code)&&i.sessionContext.commonPresentation.isLive&&0===i.sessionContext.commonPresentation.minimumUpdatePeriodInSec&&i.failTracker.isNone()){t._presentationWorkflowAsync(u,f);return}n.Failure.isExternalError(i.externalFailure.code)&&(t._error=new n.Failure.External(i.externalFailure.code,i.externalFailure.message),n.Log.error(1,"Dispatching error: "+t.error.toString()),r.eventMgr.dispatchEvent(n.EventName.error))}i.dispose()}}var t=this,r=t._sessionContext;this._pendingTryMediaRequestCount++;n.Util.setTimeout(u,0)},i.prototype._updateStartPosition=function(){var t=this._sessionContext,n=t.commonPresentation,r=t.liveStartBufferInSec(),i=Infinity;n&&isNaN(t.startPositionInSec)&&(i=n.isLive?Math.max(n.playableWindow.startInSec,n.playableWindow.endInSec-r):n.playableWindow.startInSec,0!==i&&(this._mediaSource.setStartTime(i),t.startPositionInSec=i))},i.prototype._updateDuration=function(){var i=this._sessionContext.commonPresentation,t,r;i&&this._mediaSource&&(i.isLive?t=Infinity:this._sessionContext.isLiveToVod?(t=i.playableWindow.endInSec,n.Common.isChrome&&(r=Math.floor(t*1e6)/1e6,t=parseFloat(r.toFixed(6)),n.Log.verbose(1,"newDuration: "+t))):t=i.durationInSec,this._mediaSource.durationInSec!==t&&(this._mediaSource.durationInSec=t))},i.prototype._toPresentationTime=function(n){var t=this._sessionContext.commonPresentation.playableWindow.startInSec;return n+t},i.prototype._fromPresentationTime=function(n){var t=this._sessionContext.commonPresentation.playableWindow.startInSec;return n-t},i.prototype._endOfSelectedStreams=function(){var t,n;if(!this._sessionContext.commonPresentation)return!1;for(t=this._sessionContext.commonPresentation.periods[0].streams,n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&2!==t[n].streamingInfo.workflowState)return!1;return!0},i.prototype._buffersAbovePreroll=function(){var i=!0,r=this._sessionContext.videoTag,t,n;if(!this._sessionContext.commonPresentation)return!1;if(t=this._sessionContext.commonPresentation.periods[0].streams,r.readyState<r.HAVE_METADATA)i=!1;else for(n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&t[n].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.prerollBufferInSec()){i=!1;break}return i},i.prototype._buffersNearEmpty=function(){for(var t=this._sessionContext.commonPresentation.periods[0].streams,n=0;n<t.length;n++)if(t[n].streamingInfo.selected&&t[n].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.lowBufferInSec())return!0;return!1},i.prototype._isBufferAheadOtherStreams=function(n){for(var t,e=0,f=Infinity,o=null,s=0,u=this._sessionContext.commonPresentation.periods[0].streams,r=0;r<u.length;r++)u[r].streamingInfo.selected&&u[r].type!==2&&u[r].streamingInfo.workflowState!==2&&(e++,t=u[r].streamingInfo.sourceBuffer.buffered,t.length>0&&t.end(t.length-1)<f&&(f=t.end(t.length-1),o=u[r],s=u[r].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()));return(t=n.streamingInfo.sourceBuffer.buffered,1===e||o===n||t.length===0)?!1:n.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()>s&&t.end(t.length-1)-f>i._bufferTooFarAheadInSec},i.prototype._buffersAtLiveEdge=function(n){var t=this._sessionContext.commonPresentation,i,r,u;return n.streamingInfo.currentSegment?(i=n.streamingInfo.currentSegment.segmentInfo,r=i.presTimeInSec+i.durationInSec,u=t.playableWindow.endInSec,t.isLive&&t.minimumUpdatePeriodInSec===0&&u<=r):!1},i.prototype._startPlayback=function(){var t=this._sessionContext.videoTag,r=this._dtOffsetToAdd;t.buffered&&t.buffered.length>0&&t.currentTime<t.buffered.start(0)&&(n.Common.isSafari&&n.Common.isOSXElCapitanOrEarlier()&&(r=r+i._startTimeThresholdInSecForSafari),t.currentTime=t.buffered.start(0)+r,n.Log.verbose(1,"_startPlayback: skipping over missing data at the beginning. currentTime: "+t.currentTime+", buffer start: "+t.buffered.start(0)));this._pendingPlay=!1;this._sessionContext.videoTag.play()},i.prototype._dispatchCanPlayThroughEvent=function(){this._prerollMet||(n.Log.verbose(7,"dispatching event: canplaythrough"),this._prerollMet=!0,this._sessionContext.eventMgr.dispatchEvent(n.EventName.canplaythrough))},i.prototype._registerVideoDownloadedEvents=function(){function i(){if(!r._disposed){var i=t.downloadCompleted.mediaDownload.bitrate;i!=this._lastDownloadBitrate&&(this._lastDownloadBitrate=i,this._sessionContext.eventMgr.dispatchEvent(n.EventName.downloadbitratechanged))}}var r=this,t=this._sessionContext.videoBufferData;t.addEventListener(n.BufferDataEventName.downloadcompleted,i,this)},i.prototype._registerVideoTagEvents=function(){function e(){t._disposed||t._pendingPlay&&t._buffersAbovePreroll()&&t._startPlayback()}function o(){if(!t._disposed){var r=t._sessionContext;r.eventMgr.dispatchEvent(n.EventName.durationchange);r.commonPresentation&&r.commonPresentation.isLive&&n.Util.setTimeout(u,i._durationChangeMinIntervalInMSec)}}function u(){if(!t._disposed){var r=t._sessionContext;r.commonPresentation&&r.commonPresentation.isLive&&(t._lastDuration!==t.duration?(t._lastDuration=t.duration,r.eventMgr.dispatchEvent(n.EventName.durationchange),n.Util.setTimeout(u,i._durationChangeMinIntervalInMSec)):0===t._lastDuration&&n.Util.setTimeout(u,i._durationChangeMinIntervalInMSec))}}function f(){t._resetHealthCheckTime()}function s(){if(!t._disposed){var r=t._sessionContext.videoBufferData,i=r.getPlaybackBitrate(t.currentMediaTime);i!=t._lastPlaybackBitrate&&(t._lastPlaybackBitrate=i,t._sessionContext.eventMgr.dispatchEvent(n.EventName.playbackbitratechanged))}}var t=this,r=t._sessionContext.videoTag;r.addEventListener(n.EventName.canplaythrough,e);r.addEventListener(n.EventName.durationchange,o);r.addEventListener(n.EventName.playing,f);r.addEventListener(n.EventName.seeked,f);r.addEventListener(n.EventName.timeupdate,s)},i.prototype._registerInternalEvents=function(t){t?this._sessionContext.eventMgr.addHandler(n.InternalEventName.flushvideo,this._flushVideoToPreroll,this):this._sessionContext.eventMgr.removeHandler(n.InternalEventName.flushvideo,this._flushVideoToPreroll)},i.prototype._periodicHealthCheck=function(t){var r,s;if(t._sessionContext&&t._sessionContext.videoTag){if(r=t._sessionContext.videoTag,t._healthCheckLastTime)if(r.paused||r.seeking||r.ended||t._healthCheckLastTime!==r.currentTime)t._healthCheckRetries=0,t._healthCheckPeriodInMSec=i._healthCheckPeriodMinInMSec;else{n.Log.verbose(1,"Health Check: currentTime stopped");t._sessionContext.eventMgr.dispatchEvent(n.EventName.playbackstalled);var o=r.currentTime,f=-1,e=new n.Common.TimeRangeSet,u;e.addRanges(r.buffered);u=e.getIndexByInRangeTimestamp(o);u>=0&&(e.beforeDiscontinuity(o,u)?(f=e.start(u+1),n.Log.verbose(1,"Health Check: skipping over discontinuity")):e.atOrAfterDiscontinuity(o,u)&&(f=e.start(u),n.Log.verbose(1,"Health Check: resetting on discontinuity")));f<0&&(f=o+i._healthCheckSkipInSec,n.Log.verbose(1,"Health Check: skipping "+i._healthCheckSkipInSec+" seconds ahead"),t._healthCheckPeriodInMSec+=i._healthCheckPeriodIncrementInMSec,t._healthCheckPeriodInMSec=Math.min(t._healthCheckPeriodInMSec,i._healthCheckPeriodMaxInMSec));n.Log.verbose(1,"Health Check: seeking from "+o+" to "+f);r.currentTime=f;u===-2&&(t._healthCheckRetries++,s=t._sessionContext.commonPresentation.isLive,(!s||s&&t._healthCheckRetries>=i._healthCheckMaxRetries)&&t.pause())}t._healthCheckLastTime=r.currentTime}t._healthCheckId=n.Util.setTimeout(t._periodicHealthCheck,t._healthCheckPeriodInMSec,t)},i.prototype._resetHealthCheckTime=function(){this._disposed||(this._healthCheckLastTime=0)},i.prototype._flushVideoToPreroll=function(){function f(i,r){var o=r.prerollBufferInSec(),e=r.videoTag.currentTime+o,u=null,f;t.flushStream=!1;f=i.segments.getByInSegmentTimestamp(e);f?u=f.segmentInfo.presTimeInSec:(f=i.segments.getByInDiscontinuityTimestamp(e),f&&(u=f.segmentInfo.presTimeInSec));null!=u&&t.sourceBuffer&&t.sourceBuffer.contains(u)&&(n.Log.verbose(7,"flushing at "+u+" from track selection"),t.sourceBuffer.flushFrom(u),t.pendingSeekPositionInSec=u,2===i.streamingInfo.workflowState&&(i.streamingInfo.workflowState=0))}var u=this._sessionContext.commonPresentation.periods[0].streams,i=u.filter(function(n){return n.streamingInfo.flushStream===!0}),r,t;for(i.length===0&&(i=u),r=0;r<i.length;r++)t=i[r].streamingInfo,i[r].type===0&&t.selected&&f(i[r],this._sessionContext);this._checkMediaWorkflow()},i.prototype._tryTimeUpdateEvent=function(){function r(){t.disposed||t.videoTag.paused&&t.commonPresentation&&t.commonPresentation.isLive&&(t.eventMgr.dispatchEvent(n.EventName.timeupdate),n.Util.setTimeout(r,i._timeupdateLivePausedIntervalInMSec))}if(!this._disposed){var t=this._sessionContext;r()}},i._mediaSegmentTimeoutInMSec=2e3,i._minPresentationUpdatePeriodInMSec=1e3,i._bufferTooFarAheadInSec=4,i._timeupdateLivePausedIntervalInMSec=1e3,i._durationChangeMinIntervalInMSec=1e3,i._healthCheckPeriodMinInMSec=1e3,i._healthCheckPeriodMaxInMSec=5e3,i._healthCheckPeriodIncrementInMSec=2e3,i._healthCheckSkipInSec=.5,i._healthCheckMaxRetries=2,i._startTimeThresholdInSecForSafari=.2,i}()})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";function r(){return new f}function u(){return new e}t.CreatePresentation=r;t.CreateMedia=u;var i=function(){function t(t){this._eventManager=new n.Events.Manager;this._eventsOrdered=t;this._stepList=[]}return t.prototype.dispose=function(){this._eventManager.dispose();this._eventManager=null;this._eventsOrdered=null;this._stepList=null},t.prototype.addHandler=function(n,t,i){this._eventManager.addHandler(n,t,i)},t.prototype.createSteps=function(){var i=this,r=0,n,t;for(n in this._eventsOrdered)t=this._eventManager.getHandlers(this._eventsOrdered[n]),t.forEach(function(n){i._stepList[r++]=n})},Object.defineProperty(t.prototype,"stepList",{get:function(){return this._stepList},enumerable:!0,configurable:!0}),t}(),f=function(n){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];n.call(this,t)}return __extends(t,n),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(i),e=function(n){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];n.call(this,t)}return __extends(t,n),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(i)})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(n){return new r(n)}t.CreateSequencer=i;var r=function(){function i(t){this._disposed=!1;this._sessionContext=t;this._orderedModules=[new n.DataRetriever.HttpRetryPolicy,new n.SegmentLocator.Dash,new n.Heuristics.InitialBandwidthDataUrlFormatter,new n.Heuristics.WindowSizeRule,new n.Heuristics.StepRule,new n.Heuristics.Engine,new n.UrlBuilder.DashUrlFormatter,new n.DataRetriever.HttpDataRetriever(t),new n.DashPresentation.Parser,new n.ContentProtection.PlayReady,new n.ContentProtection.Widevine,new n.ContentProtection.AesHandler,new n.DashMediaSegment.Parser,new n.Presentation.InitialStreamSelector];this._createWorkflows(t)}return i.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._orderedModules.forEach(function(n){n.dispose()}),this._orderedModules=null,this._sessionContext=null)},i.prototype.presentationRequestAsync=function(){var i=this,t=this;return new Promise(function(r,u){var f=new n.Context.Request(0,t._sessionContext);f.urlsToRetrieve.push(new n.Context.UrlRequest(t._sessionContext.presentationUrl));i._processSteps(f,r,u)})},i.prototype.mediaRequestAsync=function(t){var i=this;return new Promise(function(r,u){var f=new n.Context.Request(1,i._sessionContext);f.requestedStream=t;f.heuristicData=new n.Context.HeuristicData(t);i._processSteps(f,r,u)})},i.prototype._processSteps=function(t,i,r){function f(){if(s._disposed||t.disposed||t.sessionContext.disposed){r();return}if(u===t.sessionContext.workflows[t.workflowType].stepList.length){t.workflowType===1?n.Log.verbose(0,"Finished process steps for "+n.Presentation.StreamType[t.requestedStream.type]+" media workflow"):n.Log.verbose(0,"Finished process steps for presentation workflow");i(t);return}var f=t.sessionContext.workflows[t.workflowType].stepList[u],h=f.functionHandler.call(f.callerInstance,t);u++;h.then(e,o)}function e(){switch(t.state){case 0:n.Util.setTimeout(f,0);break;case 2:u=0;n.Util.setTimeout(f,t.retryWaitTimeMSec);t.reset();break;case 1:i(t);break;default:throw new Error("processSteps unexpected state"+t.state);}}function o(i){if(null===t.externalFailure){t.sessionContext.eventMgr.dispatchEvent(n.InternalEventName.exception,i);return}var u="stepRejected: "+t.externalFailure.toString();i&&(u+="err: "+i);n.Log.error(0,u);r(t)}var s=this,u;t.workflowType===1?n.Log.verbose(0,"Starting process steps for "+n.Presentation.StreamType[t.requestedStream.type]+" media workflow"):n.Log.verbose(0,"Starting process steps for presentation workflow");u=0;n.Util.setTimeout(f,0)},i.prototype._createWorkflows=function(n){n.workflows=[t.CreatePresentation(),t.CreateMedia()];this._orderedModules.forEach(function(t){t.init(n)});this._sessionContext.workflows.forEach(function(n){n.createSteps()})},i}()})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this.name="com.microsoft.playready";this.type="PlayReady";this._videoElement=null;this._errorHandler=null;this._session=null;this._active=!1;this._authenticationToken=""}return Object.defineProperty(t.prototype,"systemId",{get:function(){return t.systemId},enumerable:!0,configurable:!0}),t.prototype.isSupported=function(i,r,u){return i.isEqual(t.systemId)?n.EmeUtil.isTypeSupported(this.name,r,u):new Promise(function(n,t){t();return})},t.prototype.activate=function(n,t,i){this._videoElement=n;this._errorHandler=t;this._authenticationToken=i;this._active=!0},t.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(n.EmeUtil.unlistenToKeyMessage(this._session,this._keyMessageHandler),n.EmeUtil.unlistenKeyError(this._session,this._keyErrorHandler),this._session.close(),this._session=null),this._videoElement=null,this._errorHandler=null,this._authenticationToken="")},t.prototype.initData=function(t,i,r){function h(n){e._keyMessageHandler(n)}function c(){e._keyErrorHandler()}var e=this,u,o,s,f;if(!this._session){if(u=n.EmeUtil.createMediaKeys(this.name),!u){n.Log.error(12,this.name+" createMediaKeys failed");f=new n.Failure.External(5242881,this.name+" createMediaKeys failed");this._reportError(f);return}if(n.EmeUtil.setMediaKeys(this._videoElement,u),o=i.substr(i.indexOf("=")+2),s=r.substr(0,r.length-1)+", "+o,this._session=u.createSession(s,t),!this._session){n.Log.error(12,this.name+" createSession failed");f=new n.Failure.External(5242881,this.name+" createSession failed");this._reportError(f);return}n.EmeUtil.listenToKeyMessage(this._session,h);n.EmeUtil.listenKeyError(this._session,c)}},t.prototype._keyMessageHandler=function(n){var t=this,i=new Uint16Array(n.message.buffer),r=String.fromCharCode.apply(null,i),u=n.destinationURL;this._getPlayReadyLicense(r,u).then(function(n){t._active&&t._session&&t._session.update(n)},function(n){t._active&&t._reportError(n)})},t.prototype._keyErrorHandler=function(){if(this._active&&this._session.error){var t="MSMediaKeyError code: "+this._session.error.code+", systemCode: "+n.Common.toHexString(this._session.error.systemCode),i=new n.Failure.External(5242880,t);this._reportError(i)}},t.prototype._getPlayReadyLicense=function(i,r){var u=this;return new Promise(function(f,e){var v=null,c=[],y=new DOMParser,h=y.parseFromString(i,"application/xml"),l,s,a,o;if(h.getElementsByTagName("Challenge")[0])l=h.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue,l&&(v=atob(l));else{n.Log.error(12,"Playready: Can not find Challenge in keyMessage");e(new n.Failure.External(5242886,"No challenge"));return}if(s=h.getElementsByTagName("name"),a=h.getElementsByTagName("value"),s.length!=a.length){n.Log.error(12,"Playready update, invalid header name/value pair in keyMessage");e(new n.Failure.External(5242886,"Invalid headers"));return}for(o=0;o<s.length;o++)c[o]={name:s[o].childNodes[0].nodeValue,value:a[o].childNodes[0].nodeValue};u._authenticationToken&&u._authenticationToken.length>0&&(c[s.length]={name:n.HttpUtil.authorizationHeader,value:u._authenticationToken});t.overrideLicenseAcquisitionUrl&&(n.Log.verbose(12,"overriding license acquisition url: "+r+" with: "+t.overrideLicenseAcquisitionUrl),r=t.overrideLicenseAcquisitionUrl);n.HttpUtil.httpRequest(r,"POST","arraybuffer",c,v).then(function(n){f(new Uint8Array(n))},function(t){var i=new n.Failure.External(5242886,"Http: "+n.Common.toHexString(t));e(i)})})},t.prototype._reportError=function(n){this._errorHandler&&this._errorHandler(n)},t.systemId=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),t}();t.PlayReady=i})(n.KeySystem||(n.KeySystem={}));var t=n.KeySystem}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function i(){this.name="com.widevine.alpha";this.type="Widevine";this._videoElement=null;this._errorHandler=null;this._laUrl="";this._session=null;this._active=!1;this._authenticationToken=""}return Object.defineProperty(i.prototype,"systemId",{get:function(){return i.systemId},enumerable:!0,configurable:!0}),i.prototype.isSupported=function(t,r,u){return t.isEqual(i.systemId)?n.EmeUtil.isTypeSupported(this.name,r,u):new Promise(function(n,t){t();return})},i.prototype.activate=function(n,t,i){this._videoElement=n;this._errorHandler=t;this._authenticationToken=i;this._active=!0},i.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(n.EmeUtil.unlistenToMessage(this._session,this._messageHandler),this._session.close(),this._session=null),this._videoElement&&(this._videoElement.src="",this._videoElement.setMediaKeys(null),this._videoElement=null),this._errorHandler=null,this._laUrl="",this._authenticationToken="")},i.prototype.initData=function(t,i,r,u){function s(n){return n.createMediaKeys()}function h(i){if(f._session=i.createSession(),!f._session){n.Log.error(12,f.name+" createSession failed");var r=new n.Failure.External(5242881,f.name+" createSession failed");f._reportError(r);return}n.EmeUtil.listenToMessage(f._session,c);f._session.generateRequest("cenc",t).catch(function(){n.Log.error(12,f.name+" generateRequest failed");var t=new n.Failure.External(5242881,f.name+" generateRequest failed");f._reportError(t)});f._videoElement.setMediaKeys(i).catch(function(){n.Log.error(12,f.name+" setMediaKeys failed");var t=new n.Failure.External(5242881,f.name+" setMediaKeys failed");f._reportError(t)})}function c(n){f._messageHandler(n)}var f=this,e,o;u&&!this._laUrl&&(this._laUrl=u,e=n.EmeUtil.createSupportedKeySystem(this.name,i,r),e.catch(function(){n.Log.error(12,f.name+" createSupportedKeySystem failed");var t=new n.Failure.External(5242882,f.name+" createSupportedKeySystem failed");f._reportError(t)}),o=e.then(s),o.catch(function(){n.Log.error(12,f.name+" createMediaKeys failed");var t=new n.Failure.External(5242882,f.name+" createMediaKeys failed");f._reportError(t)}),o.then(h).catch(function(){n.Log.error(12,f.name+" createKeySession failed");var t=new n.Failure.External(5242882,f.name+" createKeySession failed");f._reportError(t)}))},i.prototype._messageHandler=function(n){var t=this;n.messageType==="license-request"&&this._getWidevineLicense(n.message,this._laUrl).then(function(n){t._active&&t._session&&t._session.update(n)},function(n){t._active&&t._reportError(n)})},i.prototype._getWidevineLicense=function(r,u){var f=this;return new Promise(function(e,o){var s=[];f._authenticationToken&&f._authenticationToken.length>0&&s.push({name:t.WidevineCustomAuthorizationHeader||n.HttpUtil.authorizationHeader,value:f._authenticationToken});i.overrideLicenseAcquisitionUrl&&(n.Log.verbose(12,"overriding license acquisition url: "+u+" with: "+i.overrideLicenseAcquisitionUrl),u=i.overrideLicenseAcquisitionUrl);n.HttpUtil.httpRequest(u,"POST","arraybuffer",s,r).then(function(n){e(new Uint8Array(n))},function(t){var i=new n.Failure.External(5242886,"Http: "+n.Common.toHexString(t));o(i)})})},i.prototype._reportError=function(n){this._errorHandler&&this._errorHandler(n)},i.systemId=new Uint8Array([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),i}();t.Widevine=i;t.WidevineCustomAuthorizationHeader=""})(n.KeySystem||(n.KeySystem={}));var t=n.KeySystem}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function i(i){function e(n){r._needKeyHandler(n)}function o(n){r._encryptedHandler(n)}var r=this,u,f;this._videoElement=i;this._errorHandler=null;this.matchedKeySystem=null;this._audioContentType=null;this._videoContentType=null;this._psshBoxes=[];this._keySystems={};this._laUrls={};this._authenticationTokens={};this._disposed=!1;u=new t.PlayReady;this.addKeySystem(u);f=new t.Widevine;this.addKeySystem(f);n.EmeUtil.listenToNeedKey(i,e);n.EmeUtil.listenToEncrypted(i,o)}return i.prototype.reset=function(){this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null);this._psshBoxes=[];this._laUrls={};this._errorHandler=null;this._audioContentType=null;this._videoContentType=null;this._authenticationTokens={}},i.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null),this._psshBoxes=[],this._keySystems={},this._laUrls={},this._videoElement=null,this._errorHandler=null,this._audioContentType=null,this._videoContentType=null,this._authenticationTokens=null)},i.prototype.setup=function(n,t){this._errorHandler=n;this._authenticationTokens=t},i.prototype.setContentTypes=function(n,t){this._audioContentType=n;this._videoContentType=t},i.prototype.addKeySystem=function(t){var i=n.Common.uint8ArrayToHexString(t.systemId);return i&&i.length>0?(this._keySystems[i]&&n.Log.warning(12,"Overwriting "+t.name),this._keySystems[i]=t,t):null},i.prototype.addPsshBoxes=function(n){var t=this;n.forEach(function(n){t._psshBoxes.push(n)})},i.prototype.addLaUrl=function(t,i){var r=n.Common.uint8ArrayToHexString(t);if(!this._keySystems[r]){n.Log.warning(12,"Cannot set license acquisition URL for system ID "+r);return}this._laUrls[r]&&this._laUrls[r]!==i&&n.Log.warning(12,"Overwriting license acquisition URL for "+this._keySystems[r].name);this._laUrls[r]=i},i.prototype._needKeyHandler=function(t){var i=this,r,u;this._disposed||(t.initData&&(r=new DataView(t.initData.buffer),u=n.Mp4Util.GetPsshBoxes(r),this.addPsshBoxes(u)),this._findMatchedKeySystem().then(function(t){var r,u;if(t)for(r=0;r<i._psshBoxes.length;r++)i._psshBoxes[r].systemId.isEqual(t.systemId)&&(u=new Uint8Array(i._psshBoxes[r].serialize()),n.Log.verbose(12,"Sending initData to: "+t.name),t.initData(u,i._audioContentType,i._videoContentType));else i._reportKeySystemNotFound()},function(){i._reportKeySystemNotFound()}))},i.prototype._encryptedHandler=function(t){var i=this,r,u;this._disposed||(t.initData&&(r=new DataView(t.initData),u=n.Mp4Util.GetPsshBoxes(r),this.addPsshBoxes(u)),this._findMatchedKeySystem().then(function(t){var u,r,f;if(t)for(u=n.Common.uint8ArrayToHexString(t.systemId),r=0;r<i._psshBoxes.length;r++)i._psshBoxes[r].systemId.isEqual(t.systemId)&&(f=new Uint8Array(i._psshBoxes[r].serialize()),n.Log.verbose(12,"Sending initData to: "+t.name),t.initData(f,i._audioContentType,i._videoContentType,i._laUrls[u]));else i._reportKeySystemNotFound()},function(){i._reportKeySystemNotFound()}))},i.prototype._findMatchedKeySystem=function(){var t=this;return new Promise(function(i,r){function f(){if(u>=t._psshBoxes.length){r();return}var e=n.Common.uint8ArrayToHexString(t._psshBoxes[u].systemId);t._keySystems[e]?t._keySystems[e].isSupported(t._psshBoxes[u].systemId,t._audioContentType,t._videoContentType).then(function(){t.matchedKeySystem=t._keySystems[e];t.matchedKeySystem.activate(t._videoElement,t._errorHandler,t._authenticationTokens[t.matchedKeySystem.type]);n.Log.verbose(12,"Matched key system found: "+t.matchedKeySystem.name);i(t.matchedKeySystem);return},function(){++u;f()}):(++u,f())}if(t.matchedKeySystem){i(t.matchedKeySystem);return}var u=0;f()})},i.prototype._reportKeySystemNotFound=function(){var t=new n.Failure.External(5242881,"no matching keySystem found");this._errorHandler(t)},i}();t.EmeManager=i})(n.KeySystem||(n.KeySystem={}));var t=n.KeySystem}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var f=function(){function u(){this._disposed=!1;this._bandwidthTracker=null;this._buffer=null;this._downloadRequested=null;this._downloadCompleted=null;this._downloadFailed=null;this._downloadTracker=null;this._eventMgr=new n.Events.Manager(null,!1)}return u.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._bandwidthTracker=null,this._buffer=null,this._downloadRequested=null,this._downloadCompleted=null,this._downloadFailed=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null),this._downloadTracker&&(this._downloadTracker.dispose(),this._downloadTracker=null))},Object.defineProperty(u.prototype,"bufferLevel",{get:function(){return this._disposed||!this._buffer?null:this._buffer.getBufferedAheadOfCurrentTimeInSec()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"perceivedBandwidth",{get:function(){return this._disposed||!this._bandwidthTracker?null:this._bandwidthTracker.perceivedBandwidth()},enumerable:!0,configurable:!0}),u.prototype.updateBuffer=function(n){this._buffer=n},u.prototype.updateBandwidthTracker=function(n){this._bandwidthTracker=n;this._downloadTracker&&this._downloadTracker.dispose();this._downloadTracker=new t.DownloadTracker},u.prototype.getPlaybackBitrate=function(n){return this._disposed||!this._downloadTracker?-1:this._downloadTracker.findBitrate(n)},Object.defineProperty(u.prototype,"downloadRequested",{get:function(){return this._downloadRequested},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"downloadCompleted",{get:function(){return this._downloadCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"downloadFailed",{get:function(){return this._downloadFailed},enumerable:!0,configurable:!0}),u.prototype.dispatchDownloadRequested=function(t){this._downloadRequested=t;this._eventMgr.dispatchEvent(n.BufferDataEventName.downloadrequested)},u.prototype.dispatchDownloadCompleted=function(t,r){if(this._downloadCompleted=new i(t,r),this._eventMgr.dispatchEvent(n.BufferDataEventName.downloadcompleted),this._downloadTracker&&null!=t.mediaTime&&(this._downloadTracker.add(t.mediaTime,t.bitrate),this._buffer.buffered&&this._buffer.buffered.length>0)){var u=this._buffer.buffered.start(0);this._downloadTracker.cleanup(u)}},u.prototype.dispatchDownloadFailed=function(t,i,u){typeof u=="undefined"&&(u="");this._downloadFailed=new r(t,i,u);this._eventMgr.dispatchEvent(n.BufferDataEventName.downloadfailed)},u.prototype.addEventListener=function(n,t,i){this._eventMgr.addHandler(n,t,i)},u.prototype.removeEventListener=function(n,t){this._eventMgr.removeHandler(n,t)},u}(),u,i,r;t.BufferData=f;u=function(){function n(n,t,i,r,u){this._url=n;this._bitrate=t;this._mediaTime=i;this._data=r;this._presentationTimeOffsetInSec=u}return Object.defineProperty(n.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaTime",{get:function(){return this._mediaTime},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentationTimeOffsetInSec",{get:function(){return this._presentationTimeOffsetInSec},enumerable:!0,configurable:!0}),n}();t.MediaDownload=u;i=function(){function n(n,t){this._mediaDownload=n;this._measuredBw=t.bandwidth*1e3;this._bytes=t.responseLengthInBytes;this._downloadTimeMs=t.totalDownloadTimeMs}return Object.defineProperty(n.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"measuredBandwidth",{get:function(){return this._measuredBw},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalBytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"totalDownloadMs",{get:function(){return this._downloadTimeMs},enumerable:!0,configurable:!0}),n}();t.MediaDownloadCompleted=i;r=function(){function n(n,t,i){this._mediaDownload=n;this._code=t;this._message=i}return Object.defineProperty(n.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),n}();t.MediaDownloadFailed=r})(n.Context||(n.Context={}));var t=n.Context}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._downloads=[]}return t.prototype.dispose=function(){this._downloads=[]},t.prototype.add=function(t,i){var u,r;if(this._downloads.length===0){this._downloads.push({time:t,bitrate:i});return}if(u=this._downloads[this._downloads.length-1],t>u.time){i!=u.bitrate&&this._downloads.push({time:t,bitrate:i});return}r=n.Common.binarySearchTimeline(t,this._downloads,this._compareTime);(-1===r||t>this._downloads[r].time)&&r++;this._downloads.splice(r,this._downloads.length-r);this._downloads.push({time:t,bitrate:i});return},t.prototype.findBitrate=function(t){var i=n.Common.binarySearchTimeline(t,this._downloads,this._compareTime);return i===-1?-1:this._downloads[i].bitrate},t.prototype.cleanup=function(t){if(!(this._downloads.length>0)||!(t<=this._downloads[0].time)){var i=n.Common.binarySearchTimeline(t,this._downloads,this._compareTime);i>0&&this._downloads.splice(0,i)}},t.prototype._compareTime=function(n,t,i){var r=0;return i?(n<t.time?r=-1:n>=i.time&&(r=1),r):t.time<=n?0:-1},t}();t.DownloadTracker=i})(n.Context||(n.Context={}));var t=n.Context}(AzureHtml5JS||(AzureHtml5JS={})),function(n){"use strict";var u=function(){function n(){}return n.volumechange="volumechange",n.ended="ended",n.timeupdate="timeupdate",n.durationchange="durationchange",n.pause="pause",n.play="play",n.playing="playing",n.seeking="seeking",n.seeked="seeked",n.suspend="suspend",n.loadstart="loadstart",n.loadedmetadata="loadedmetadata",n.loadeddata="loadeddata",n.fullscreenchange="fullscreenchange",n.waiting="waiting",n.canplaythrough="canplaythrough",n.error="error",n.playbackstalled="playbackstalled",n.downloadbitratechanged="downloadbitratechanged",n.playbackbitratechanged="playbackbitratechanged",n}(),t,i,r,f;n.EventName=u;t=function(){function n(){}return n.trackselected="trackselected",n}();n.StreamEventName=t;i=function(){function n(){}return n.streamselected="streamselected",n.streamindexinvalid="streamindexinvalid",n.streamselectnotsupported="streamselectnotsupported",n}();n.StreamListEventName=i;r=function(){function n(){}return n.downloadrequested="downloadrequested",n.downloadcompleted="downloadcompleted",n.downloadfailed="downloadfailed",n}();n.BufferDataEventName=r,function(n){n[n.abortedErrStart=1048576]="abortedErrStart";n[n.abortedErrUnknown=1048576]="abortedErrUnknown";n[n.abortedErrNotImplemented=1048577]="abortedErrNotImplemented";n[n.abortedErrHttpMixedContentBlocked=1048578]="abortedErrHttpMixedContentBlocked";n[n.abortedErrEnd=2097151]="abortedErrEnd";n[n.networkErrStart=2097152]="networkErrStart";n[n.networkErrUnknown=2097152]="networkErrUnknown";n[n.networkErrHttpResponseBegin=2097552]="networkErrHttpResponseBegin";n[n.networkErrHttpBadUrlFormat=2097552]="networkErrHttpBadUrlFormat";n[n.networkErrHttpUserAuthRequired=2097553]="networkErrHttpUserAuthRequired";n[n.networkErrHttpUserForbidden=2097555]="networkErrHttpUserForbidden";n[n.networkErrHttpUrlNotFound=2097556]="networkErrHttpUrlNotFound";n[n.networkErrHttpNotAllowed=2097557]="networkErrHttpNotAllowed";n[n.networkErrHttpGone=2097562]="networkErrHttpGone";n[n.networkErrHttpPreconditionFailed=2097564]="networkErrHttpPreconditionFailed";n[n.networkErrHttpInternalServerFailure=2097652]="networkErrHttpInternalServerFailure";n[n.networkErrHttpBadGateway=2097654]="networkErrHttpBadGateway";n[n.networkErrHttpServiceUnavailable=2097655]="networkErrHttpServiceUnavailable";n[n.networkErrHttpGatewayTimeout=2097656]="networkErrHttpGatewayTimeout";n[n.networkErrHttpResponseEnd=2097751]="networkErrHttpResponseEnd";n[n.networkErrTimeout=2097752]="networkErrTimeout";n[n.networkErrEnd=3145727]="networkErrEnd";n[n.decodeErrStart=3145728]="decodeErrStart";n[n.decodeErrUnknown=3145728]="decodeErrUnknown";n[n.decodeErrEnd=4194303]="decodeErrEnd";n[n.srcErrStart=4194304]="srcErrStart";n[n.srcErrUnknown=4194304]="srcErrUnknown";n[n.srcErrParsePresentation=4194305]="srcErrParsePresentation";n[n.srcErrParseSegment=4194306]="srcErrParseSegment";n[n.srcErrUnsupportedPresentation=4194307]="srcErrUnsupportedPresentation";n[n.srcErrInvalidSegment=4194308]="srcErrInvalidSegment";n[n.srcErrEnd=5242879]="srcErrEnd";n[n.encryptErrStart=5242880]="encryptErrStart";n[n.encryptErrUnknown=5242880]="encryptErrUnknown";n[n.encryptErrDecrypterNotFound=5242881]="encryptErrDecrypterNotFound";n[n.encryptErrDecrypterInit=5242882]="encryptErrDecrypterInit";n[n.encryptErrDecrypterNotSupported=5242883]="encryptErrDecrypterNotSupported";n[n.encryptErrKeyAcquire=5242884]="encryptErrKeyAcquire";n[n.encryptErrDecryption=5242885]="encryptErrDecryption";n[n.encryptErrLicenseAcquire=5242886]="encryptErrLicenseAcquire";n[n.encryptErrCertAcquire=5242887]="encryptErrCertAcquire";n[n.encryptErrEnd=6291455]="encryptErrEnd"}(n.ErrorCode||(n.ErrorCode={}));f=n.ErrorCode}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t,i;(function(n){n[n.video=0]="video";n[n.audio=1]="audio";n[n.text=2]="text"})(n.StreamType||(n.StreamType={}));t=n.StreamType,function(n){n[n.playReadySpecificData=0]="playReadySpecificData";n[n.widevineSpecificData=1]="widevineSpecificData";n[n.seaEncryptionSystemId=2]="seaEncryptionSystemId";n[n.seaKeyUri=3]="seaKeyUri";n[n.seaIV=4]="seaIV"}(n.ContentProtectionDataType||(n.ContentProtectionDataType={}));i=n.ContentProtectionDataType})(n.Presentation||(n.Presentation={}));var t=n.Presentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";(function(n){n[n.closed=0]="closed";n[n.open=1]="open";n[n.ended=2]="ended"})(n.ReadyState||(n.ReadyState={}));var t=n.ReadyState})(n.VideoElementAdapter||(n.VideoElementAdapter={}));var t=n.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";(function(n){n[n.presentation=0]="presentation";n[n.media=1]="media";n[n.max=2]="max"})(n.Type||(n.Type={}));var t=n.Type})(n.Workflow||(n.Workflow={}));var t=n.Workflow}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var r=function(){function t(t,i){this._bandwidthSettings=t;this._decryptionTracker=i;this._averageCalc=new n.Util.AverageCalculator(this._bandwidthSettings.maxBandwidthHistoryCount)}return Object.defineProperty(t.prototype,"averageBandwidthInKbps",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestInKbps",{get:function(){return this._averageCalc.latest},enumerable:!0,configurable:!0}),t.prototype.perceivedBandwidth=function(){var n=this._averageCalc.average*1e3;return n*this._bandwidthSettings.bandwidthUsabilityPercent},t.prototype.updateBandwidthInfo=function(t){if(t.responseLengthInBytes<this._bandwidthSettings.bandwidthDataSizeThresholdInBytes){n.Log.verbose(5,"Ignoring Bandwidth data as data size :"+t.responseLengthInBytes+" which is less than the limit :"+this._bandwidthSettings.bandwidthDataSizeThresholdInBytes);return}if(this._averageCalc.average===0&&t.bandwidth>this._bandwidthSettings.bandwidthEstimationMaxKbps){n.Log.verbose(5,"Ignoring Bandwidth estimation :"+Math.floor(t.bandwidth)+" which is greater than the max configured :"+this._bandwidthSettings.bandwidthEstimationMaxKbps);return}if(this._averageCalc.average&&t.bandwidth>this._averageCalc.average*this._bandwidthSettings.bandwidthOutlierFactor){n.Log.verbose(5,"Ignoring Bandwidth data outlier :"+Math.floor(t.bandwidth)+" which is too far from the average :"+Math.floor(this._averageCalc.average));return}var i=t.totalDownloadTimeMs,r=t.bandwidth;this._averageCalc.addValue(r);n.Log.verbose(5,"updateBandWidthInfo -  currentBw: "+Math.floor(this._averageCalc.latest*1e3)+" averageBw: "+Math.floor(this._averageCalc.average*1e3)+" size: "+t.responseLengthInBytes+" time-taken: "+i)},t.prototype.reportHeuristicsData=function(t,i){var u=this.perceivedBandwidth(),f=this._decryptionTracker?this._decryptionTracker.averageDecryptionSpeed:Infinity,r,e,o,s;if(n.Log.verbose(5,"averageBW reporting is : "+Math.round(u)+" decryptionBW is : "+Math.round(f)),!i)throw new Error("reportHeuristicsData failed, invalid chunkDuration");for(r=0;r<t.tracksData.length;r++)t.tracksData[r].selectable&&(e=t.tracksData[r].trackInfo.bitrate*i,u?(o=e/u,s=f?e/f:0,t.tracksData[r].dataRetrieverEstimationInSec=o+s):t.tracksData[r].dataRetrieverEstimationInSec=Infinity)},t}(),i;t.BandwidthTracker=r;i=function(){function t(){this.requestStartTimeInMS=(new Date).getTime();this.responseStartTimeInMS=null;this.responseEndTimeInMS=null;this.responseLengthInBytes=0}return Object.defineProperty(t.prototype,"totalDownloadTimeMs",{get:function(){return n.assert(this.responseEndTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.totalDownloadTimeMs: unexpected values:"+this.responseEndTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseEndTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latencyTimeMs",{get:function(){return n.assert(this.responseStartTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.latencyTimeMs: unexpected values:"+this.responseStartTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseStartTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bandwidth",{get:function(){return n.assert(this.totalDownloadTimeMs>0,"BandwidthInfo.bandwidth: unexpected value:"+this.totalDownloadTimeMs+" should be > 0"),this.responseLengthInBytes*8/this.totalDownloadTimeMs},enumerable:!0,configurable:!0}),t}();t.BandwidthInfo=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var r=function(){function t(){this._moduleId="DashMediaSegmentParser"}return t.prototype.dispose=function(){},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.dataRetrieved,this.onGetData,this)},t.prototype.onGetData=function(t){function r(){var a,h,e,c,l,s,o,r,f,v;if(r=t.requestedStream.streamingInfo.currentSegment,f=t.urlsToRetrieve.findFirst(function(n){return n.requestType===1}),!f||!f.mediaData)throw new Error(f.url+": no media segment data found");if(a=new DataView(f.mediaData),h=n.Mp4Util.GetBoxByType(a,"moof"),!h)return new i(4194306,"moof not found");if(e=n.Mp4Util.GetBoxByType(h.data,"traf"),!e)return new i(4194306,"traf not found");if(c=n.Mp4Util.GetTfhdBox(e.data),!c)return new i(4194306,"tfhd not found");if(l=n.Mp4Util.GetTrunBox(e.data),!l)return new i(4194306,"trun not found");if(s=n.Mp4Util.GetTfdtBox(e.data),!s)return new i(4194306,"tfdt not found");if(n.Common.diffTimes(s.baseMediaDecodeTime,r.segmentInfo.mediaTimestamp))throw new Error("Segment mismatch, requested: "+r.segmentInfo.mediaTimestamp+" got: "+s.baseMediaDecodeTime);return(o=u(c,l),0===o)?new i(4194308,"failed to derive segment duration"):(n.Log.verbose(10,"Segment duration: "+o),v=t.requestedStream.segments.updateSegmentDuration(r.segmentInfo.presTimeInSec,o),!v)?new i(4194308,"failed to update segment duration in container"):(r.segmentInfo.mediaDuration=o,f.durationInSec=r.segmentInfo.durationInSec,null)}function u(t,i){var r=0;return i.flags&n.Mp4Util.TrunBox.flags_sampleDurationPresent?i.sampleInfoArray.forEach(function(n){r+=n.sampleDuration}):t.defaultSampleDuration?r=t.defaultSampleDuration*i.sampleCount:n.Log.warning(10,"Cannot calculate segment duration from 'tfhd' and 'trun'"),r}function f(){var r=t.requestedStream,u=r.streamingInfo.currentSegment,i=u.segmentInfo,f=r.segments;i.mediaDuration&&f.addMediaSegmentInfo(i.index+1,n.Timestamp.add(i.mediaTimestampStr,i.mediaDuration),NaN,i.presentationOffset,i.timescale)}return t.currentModuleId=this._moduleId,new Promise(function(i,u){var o,e;if(o=t.requestedStream.streamingInfo.currentSegment,!t.sessionContext.commonPresentation.isLive||t.sessionContext.commonPresentation.minimumUpdatePeriodInSec||o.next){i();return}if(!o.segmentInfo.mediaDuration&&(e=r(),e)){n.Failure.attachFailureToRequest(t,t.currentModuleId,e.errorCode,e.message);u();return}f();i()})},t}(),i;t.Parser=r;i=function(){function n(n,t){this.errorCode=n;this.message=t}return n}()})(n.DashMediaSegment||(n.DashMediaSegment={}));var t=n.DashMediaSegment}(AzureHtml5JS||(AzureHtml5JS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";function l(n){var t;if("schemeIdUri"in n)t=n.schemeIdUri;else throw new Error("ContentProtection missing @schemeIdUri");return t.toLowerCase()===r.schemeIdUri?new r(n):t.toLowerCase()===u.schemeIdUri?new u(n):t.toLowerCase()===f.schemeIdUri?new f(n):new c(n)}var a=function(){function t(){this._moduleId="DashPresentationParser"}return t.prototype.dispose=function(){},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.dataRetrieved,this.onParse,this)},t.prototype.onParse=function(i){return i.currentModuleId=this._moduleId,new Promise(function(r,u){var f,h,o,s;if(!i.urlsToRetrieve[0].presentationData)throw new Error(i.urlsToRetrieve[0].url+": no presentation data found");if(f=i.sessionContext,s=t._getPublishTime(i.urlsToRetrieve[0].presentationData),s&&f.commonPresentation&&f.commonPresentation.publishTime&&f.commonPresentation.publishTime.getTime()>=Date.parse(s)){n.Log.verbose(4,"skipping MPD parse, not newer than last parsed: "+i.urlsToRetrieve[0].url);r();return}if(h=t._getBaseURL(f.presentationUrl),o=new e(i.urlsToRetrieve[0].presentationData,h),!o||!o.periods){n.Failure.attachFailureToRequest(i,i.currentModuleId,4194305,i.urlsToRetrieve[0].url+": failed to generate DASH presentation");u("failed to generate DASH presentation");return}if(!t._validPresentation(o)){n.Failure.attachFailureToRequest(i,i.currentModuleId,4194307,i.urlsToRetrieve[0].url+": unsupported presentation");u("unsupported presentation");return}f.updatePresentation(o);n.Log.verbose(4,"MPD updated");r()})},t._validPresentation=function(t){return t.periods.length===0||t.periods.length>1?(n.Log.error(4,"invalid period count: "+(t.periods?t.periods.length.toString():"undefined")),!1):t.periods[0].streams?!0:(n.Log.error(4,"no streams found"),!1)},t._getPublishTime=function(n){var t,i,r="";return n&&(t=n.match(/<MPD[^>]*>/i),t&&t.length>0&&(i=t[0].match(/publishTime="[^"]*/i),i&&i.length>0&&(r=i[0].slice(13)))),r},t._getBaseURL=function(n){var t=n,i;if(i=t.indexOf("?"),-1!==i&&(t=t.slice(0,i)),i=t.lastIndexOf("/"),-1!==i)t=t.slice(0,i+1);else throw new Error(n+": could not derive base URL");return t},t}(),e,o,s,h,i,r,u,f,c;t.Parser=a;e=function(){function t(n,t){var u=this,i,r=[];if(this._lastRetrievalTime=new Date,i=Dash.dependencies.DashParser(),i.debug=new y,i.errHandler=new p,this._manifest=i.parse(n,t),this._manifest){if("Period_asArray"in this._manifest&&this._manifest.Period_asArray.length>0&&this._manifest.Period_asArray.forEach(function(n){r.push(new o(n,u.publishTime,u.isLive))}),this._periods=r,r.length>1)throw new Error("Error parsing MPD: multiple periods not supported");"dynamic"===this._manifest.type&&0===this._manifest.minimumUpdatePeriod&&(this._timeShiftTracker=new v(r,this._manifest.timeShiftBufferDepth))}}return Object.defineProperty(t.prototype,"segmentBoundaries",{get:function(){var i=[],n,t;if(this.periods&&this.periods.length>0&&this.periods[0].streams&&this.periods[0].streams.length>0)for(n=0;n<this.periods[0].streams.length;n++)if(this.periods[0].streams[n].type===0&&this.periods[0].streams[n].segments){for(t=this.periods[0].streams[n].segments.first;t;)i.push(t.segmentInfo.presTimeInSec),t=t.next;break}return i},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._periods&&(this._periods.forEach(function(n){n.dispose()}),this._periods=[]);this._manifest=null;this._lastRetrievalTime=null},Object.defineProperty(t.prototype,"startTime",{get:function(){var n=null;return"availabilityStartTime"in this._manifest&&(n=new Date(this._manifest.availabilityStartTime)),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publishTime",{get:function(){return"publishTime"in this._manifest?new Date(this._manifest.publishTime):this._lastRetrievalTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLive",{get:function(){return this._manifest.type==="dynamic"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumUpdatePeriodInSec",{get:function(){return this._manifest.minimumUpdatePeriod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationInSec",{get:function(){var n=0;return"mediaPresentationDuration"in this._manifest&&(n=this._manifest.mediaPresentationDuration),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeShiftBufferDepth",{get:function(){return this._manifest.timeShiftBufferDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playableWindow",{get:function(){return new n.Common.TimeRange(this._playWindowLeftEdge(),this._playWindowLiveEdge())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var n=0;return this._periods.forEach(function(t){n=Math.max(n,t.maxSegmentDuration)}),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periods",{get:function(){return this._periods},enumerable:!0,configurable:!0}),t.prototype.toJson=function(){return this._manifest},t.prototype.transferPresentationState=function(t){var e=t,i=[],r=[],f,u;for(this._manifest=e._manifest,this._lastRetrievalTime=e._lastRetrievalTime,this._timeShiftTracker=e._timeShiftTracker,this.periods.forEach(function(n){i.push(n)}),e.periods.forEach(function(n){r.push(n)}),f=0;f<r.length;f++)for(u=0;u<i.length;u++)if(i[u]&&r[f].startInSec===i[u].startInSec){i[u].transferPeriodState(r[f]);r[f]=null;i[u]=null;break}i=i.filter(function(n){return!!n});r=r.filter(function(n){return!!n});i.length>0&&n.Log.verbose(4,"Periods removed from MPD: "+i.length);r.length>0&&n.Log.verbose(4,"Periods added to MPD: "+r.length)},t.prototype.adjustPlayableWindow=function(n){this._timeShiftTracker&&this._timeShiftTracker.adjust(n)},t.prototype._playWindowLeftEdge=function(){var t=0,n;return this._timeShiftTracker?this._timeShiftTracker.leftEdge:!this._periods||!this._periods.length?0:(n=this._periods[0].streams,!n||!n.length)?0:(n.forEach(function(n){n.type!==2&&n.segments&&n.segments.first&&(t=Math.max(t,n.segments.first.segmentInfo.presTimeInSec))}),t)},t.prototype._playWindowLiveEdge=function(){var t=Infinity,n;return this._timeShiftTracker?this._timeShiftTracker.liveEdge:!this._periods||!this._periods.length?0:(n=this._periods[0].streams,!n||!n.length)?0:(n.forEach(function(n){if(n.type!==2&&n.segments&&n.segments.last){var i=n.segments.last.segmentInfo;t=Math.min(t,i.presTimeInSec+(i.durationInSec||0))}}),t)},t}();t.Mpd=e;o=function(){function t(n,t,i){var u=this,r=[];this.startInSec="start"in n?n.start:0;"AdaptationSet_asArray"in n&&n.AdaptationSet_asArray.length>0&&n.AdaptationSet_asArray.forEach(function(n){r.push(new s(n,t,i,u.startInSec))});this._streams=r}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var n=0;return this._streams.forEach(function(t){n=Math.max(n,t.maxSegmentDuration)}),n},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._streams&&(this._streams.forEach(function(n){n.dispose()}),this._streams=[])},t.prototype.transferPeriodState=function(t){var i=[],r=[],f,u;for(this.streams.forEach(function(n){i.push(n)}),t.streams.forEach(function(n){r.push(n)}),f=0;f<r.length;f++)for(u=0;u<i.length;u++)if(i[u]&&r[f].id===i[u].id){i[u].transferStreamState(r[f]);r[f]=null;i[u]=null;break}i=i.filter(function(n){return!!n});r=r.filter(function(n){return!!n});i.length>0&&n.Log.verbose(4,"Adaptation Sets removed from period: "+i.length);r.length>0&&n.Log.verbose(4,"Adaptation Sets added to period: "+r.length)},t}();t.Period=o;s=function(){function t(t,i,r,u){var b=[],k=[],s,e,o,v,y,p,c,f,w,a,d;if(this._adaptationSet=t,this.streamingInfo=new n.Presentation.MediaStreamStreamingInfo,"SegmentTemplate"in t&&(this._segmentTemplate=t.SegmentTemplate,"SegmentTimeline"in this._segmentTemplate&&(s=this._segmentTemplate.SegmentTimeline,e=this._segmentTemplate.timescale?this._segmentTemplate.timescale:1,o=u*e,o-=this._segmentTemplate.presentationTimeOffset?this._segmentTemplate.presentationTimeOffset:0,this._normalizedPtoInSec=o/e,v=new n.Presentation.MediaSegmentInfoContainer(e,o,i,r),"S_asArray"in s))){for(y="0",p=this._segmentTemplate.startNumber?this._segmentTemplate.startNumber:0,c=0;c<s.S_asArray.length;c++)f=s.S_asArray[c],w="t"in f?f.t_str:y,a="r"in f?f.r:0,d=new n.Presentation.SegmentRunEntry(p,w,f.d,o,e,a),v.addMediaSegmentRun(d),p+=a+1,y=n.Timestamp.add(w,f.d*(a+1));this.segments=v}"Representation"in t&&t.Representation_asArray.forEach(function(n){b.push(new h(n))});this._tracks=b.sort(function(n,t){return n.bitrate-t.bitrate});"ContentProtection"in t&&t.ContentProtection_asArray.forEach(function(n){k.push(l(n))});this._contentProtections=k}return t.prototype.dispose=function(){this._tracks&&(this._tracks.forEach(function(n){n.dispose()}),this._tracks=[]);this._contentProtections&&(this._contentProtections.forEach(function(n){n.dispose()}),this._contentProtections=[]);this.segments&&(this.segments.dispose(),this.segments=null);this.streamingInfo&&(this.streamingInfo.dispose(),this.streamingInfo=null);this._adaptationSet=null;this._segmentTemplate=null},Object.defineProperty(t.prototype,"codec",{get:function(){var n=this._adaptationSet;return n.mimeType+';codecs="'+n.codecs+'"'},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;switch(this._adaptationSet.contentType){case"video":t=0;break;case"audio":t=1;break;default:n.Log.error(4,"Stream type not supported: "+this._adaptationSet.contentType)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){var n=null;return"id"in this._adaptationSet?n=this._adaptationSet.id.toString():(n=this._adaptationSet.codecs,"lang"in this._adaptationSet&&(n+=this._adaptationSet.lang)),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var n=null;return"lang"in this._adaptationSet&&(n=this._adaptationSet.lang),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initUrlTemplate",{get:function(){var n=null;return"initialization"in this._segmentTemplate&&(n=this._adaptationSet.BaseURL+this._segmentTemplate.initialization),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaUrlTemplate",{get:function(){var n=null;return"media"in this._segmentTemplate&&(n=this._adaptationSet.BaseURL+this._segmentTemplate.media),n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._normalizedPtoInSec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentProtections",{get:function(){return this._contentProtections},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){return this.segments.maxSegmentDuration},enumerable:!0,configurable:!0}),t.prototype.transferStreamState=function(t){var i=[],r=[],f,u;for(this.tracks.forEach(function(n){i.push(n)}),t.tracks.forEach(function(n){r.push(n)}),f=0;f<r.length;f++)for(u=0;u<i.length;u++)if(i[u]&&r[f].id===i[u].id){r[f]=null;i[u]=null;break}i=i.filter(function(n){return!!n});r=r.filter(function(n){return!!n});i.length>0&&n.Log.verbose(4,"Representations removed from MPD: "+i.length);r.length>0&&n.Log.verbose(4,"Representations added to MPD: "+r.length);this.segments.update(t.segments)},t}();t.AdaptationSet=s;h=function(){function t(t){if("id"in t)this._id=t.id;else throw new Error("Representation missing @id");if("bandwidth"in t)this._bitrate=t.bandwidth;else throw new Error("Representation missing @bandwidth");this._height=t.height;this._width=t.width;this.streamingInfo=new n.Presentation.MediaTrackStreamingInfo}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){},t}();t.Representation=h;i=function(){function n(n){if("schemeIdUri"in n)this.schemeIdUri=n.schemeIdUri;else throw new Error("ContentProtection missing @schemeIdUri");"value_str"in n?this._value=n.value_str:"value"in n&&(this._value=n.value);"id"in n&&(this._id=n.id)}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),n.prototype.dispose=function(){},n}();t.BaseContentProtection=i;r=function(n){function t(t){n.call(this,t);"pro"in t&&(this._specificData=t.pro.__text)}return __extends(t,n),t.prototype.data=function(n){return 0===n?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",t}(i);t.PlayReadyContentProtection=r;u=function(n){function t(t){n.call(this,t);"pssh"in t&&(this._specificData=t.pssh.__text);"laurl"in t&&(this._laUrl=t.laurl.licenseUrl)}return __extends(t,n),Object.defineProperty(t.prototype,"laUrl",{get:function(){return this._laUrl},enumerable:!0,configurable:!0}),t.prototype.data=function(n){return 1===n?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t}(i);t.WidevineContentProtection=u;f=function(n){function t(t){if(n.call(this,t),"SegmentEncryption"in t&&(this._seaEncryptionSystemId=t.SegmentEncryption.schemeIdUri,"CryptoPeriod"in t)){var i=t.CryptoPeriod;"keyUriTemplate"in i&&(this._keyUri=i.keyUriTemplate);"IV"in i&&(this._iv=i.IV)}}return __extends(t,n),t.prototype.data=function(n){switch(n){case 2:return this._seaEncryptionSystemId;case 3:return this._keyUri;case 4:return this._iv;default:return null}},t.prototype.dispose=function(){},t.schemeIdUri="urn:mpeg:dash:sea:2012",t}(i);t.SegmentEncryptionContentProtection=f;c=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.data=function(){return null},t.prototype.dispose=function(){},t}(i);t.GenericContentProtection=c;var v=function(){function t(t,i){var f,r=0,u=Infinity;t.length&&(f=t[0].streams,f&&f.length)&&(f.forEach(function(n){n.type!==2&&n.segments&&n.segments.first&&n.segments.last&&(r=Math.max(r,n.segments.first.segmentInfo.presTimeInSec),u=Math.min(u,n.segments.last.segmentInfo.presTimeInSec+n.segments.last.segmentInfo.durationInSec))}),n.Log.verbose(4,"TimeShiftBufferTracker: leftEdge: "+r+" liveEdge: "+u+" duration: "+(u-r)),this._dvrWindowLenInSec=i?i:Infinity,this._leftEdgeReferenceInPresentation=r,this._liveEdgeReferenceInPresentation=u,this._liveEdgeReferenceLocalTime=Date.now())}return Object.defineProperty(t.prototype,"liveEdge",{get:function(){var n=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3;return this._liveEdgeReferenceInPresentation+n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftEdge",{get:function(){var t=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3,n=this._liveEdgeReferenceInPresentation+t;return n-this._leftEdgeReferenceInPresentation<this._dvrWindowLenInSec?this._leftEdgeReferenceInPresentation:n-this._dvrWindowLenInSec},enumerable:!0,configurable:!0}),t.prototype.adjust=function(t){var i=this._liveEdgeReferenceInPresentation+t;if(i<=0){n.Log.warning(4,"TimeShiftBufferTracker error, ignoring invalid adjustment: "+t);return}n.Log.verbose(4,"Adjusting TimeShiftBufferTracker: "+t);this._liveEdgeReferenceInPresentation=i},t}(),y=function(){function t(){this.log=function(t){n.Log.verbose(4,t)}}return t}(),p=function(){function t(){this.manifestError=function(t){n.Log.error(4,t)}}return t}()})(n.DashPresentation||(n.DashPresentation={}));var t=n.DashPresentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="DashUrlFormatter"}return t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onUrlFormat,this)},t.prototype.dispose=function(){},t.prototype.onUrlFormat=function(t){return t.currentModuleId=this._moduleId,new Promise(function(i){var f,r,u,e,o,h,c,s,l,a;if(!t.selectedTrack)throw new Error("Selected Track not set");if(f=t.requestedStream.id,!f)throw new Error("stream id not set");if(r=t.selectedTrack.bitrate,r===null||r===undefined)throw new Error("incorrect bitrate");if(u=t.requestedStream.streamingInfo.currentSegment,!u)throw new Error("current segment not selected.");if(e=u.segmentInfo.presTimeInSec,t.requestedStream.streamingInfo.fetchInitSegment){if(o=t.requestedStream.initUrlTemplate,!o)throw new Error("initialization url template is not set for the stream");h=n.Util.UrlFormatter.FormatDashInitUrl(o,r.toString(),t.sessionContext.presentationQueryStr);t.requestedStream.streamingInfo.fetchInitSegment=!1;c=new n.Context.UrlRequest(h,2,0,f,r,e);t.urlsToRetrieve.push(c)}if(s=t.requestedStream.mediaUrlTemplate,!s)throw new Error("media url template is not set for the stream");l=u.segmentInfo.mediaTimestampStr;a=n.Util.UrlFormatter.FormatDashMediaUrl(s,r.toString(),l,t.sessionContext.presentationQueryStr);t.urlsToRetrieve.push(new n.Context.UrlRequest(a,1,0,f,r,e,u.segmentInfo.durationInSec));i()})},t}();t.DashUrlFormatter=i})(n.UrlBuilder||(n.UrlBuilder={}));var t=n.UrlBuilder}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._averageCalc=new n.Util.AverageCalculator(t._maxHistoryCount)}return Object.defineProperty(t.prototype,"averageDecryptionSpeed",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),t.prototype.updateDecryptionSpeedInfo=function(n,t){var i=8*n/t;this._averageCalc.addValue(i)},t._maxHistoryCount=3,t}();t.DecryptionTracker=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="heuristics.Engine";this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onGetIndex,this)},t.prototype.onGetIndex=function(t){function i(){t.selectedTrack!==t.requestedStream.streamingInfo.lastDownloadedTrack&&(t.requestedStream.streamingInfo.fetchInitSegment=!0)}function r(n){if(!n)throw new Error("findHighestTrack failed, invalid timeEstimationThresholdInSec");for(var i=t.heuristicData.tracksData.length-1;i>=0;i--)if(t.heuristicData.tracksData[i].selectable&&t.heuristicData.tracksData[i].dataRetrieverEstimationInSec<n)return t.heuristicData.tracksData[i].trackInfo;return null}var u=this,f;return n.Log.verbose(8,"OnGetIndex"),t.currentModuleId=this._moduleId,f=this,new Promise(function(f,e){function s(){i();f()}var c,l,h,a,v,o;if(u._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);e("object is already disposed.");return}if(t.selectedTrack){s();return}if(t.requestedStream.type!==0){t.selectedTrack=t.requestedStream.tracks[0];s();return}if(c=t.heuristicData.tracksData.findFirst(function(n){return n.selectable===!0}),c)t.selectedTrack=c.trackInfo;else{t.selectedTrack=t.heuristicData.tracksData[0].trackInfo;s();return}if(l=t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec(),h=5,!t.requestedStream.streamingInfo.currentSegment){s();return}h=n.StreamUtil.getSegmentDuration(t);a=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodStableBufferLevelPercent;v=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodDowngradeBufferLevelPercent;l<v&&!t.sessionContext.videoTag.paused&&(h*=t.sessionContext.heuristicSettings.belowDowngradeBufferLevelDownloadTimeFactor);o=r(h);(!o||l>a&&o.bitrate<t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate)&&t.heuristicData.tracksData.findFirst(function(n){return n.trackInfo===t.requestedStream.streamingInfo.lastDownloadedTrack&&n.selectable})&&(o=t.requestedStream.streamingInfo.lastDownloadedTrack);o&&(t.selectedTrack=o);s()})},t}();t.Engine=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="stepRule";this._disposed=!1;this._currentTrackSegmentCount=0;this._previousTrackSelected=null;this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0;this._previousTrackSelected=null;this._currentSelectedVideoStream=null},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunStepRule,this)},t.prototype.onRunStepRule=function(t){var r=this,i;return n.Log.verbose(8,"onRunStepRule"),t.currentModuleId=this._moduleId,i=this,new Promise(function(u,f){var e;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(t.selectedTrack||t.requestedStream.streamingInfo.lastDownloadedTrack===null||t.requestedStream.type!==0){u();return}t.requestedStream!==r._currentSelectedVideoStream&&(i._currentSelectedVideoStream=t.requestedStream,i._previousTrackSelected=null);t.requestedStream.streamingInfo.lastDownloadedTrack===i._previousTrackSelected?i._currentTrackSegmentCount++:(i._previousTrackSelected=t.requestedStream.streamingInfo.lastDownloadedTrack,i._currentTrackSegmentCount=1);var c=i._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeDowngrade,l=i._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeUpgrade,o=t.requestedStream.tracks.indexOf(i._previousTrackSelected),s=o,h=o;for(c&&t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality>0&&(s=Math.max(0,o-t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality)),l&&t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality>0&&(h=Math.min(t.heuristicData.tracksData.length-1,o+t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality)),e=0;e<t.heuristicData.tracksData.length;e++)(e>h||e<s)&&(t.heuristicData.tracksData[e].selectable=!1);u()})},t}();t.StepRule=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="windowSizeRule";this._disposed=!1;this._windowHeight=0;this._windowWidth=0;this._highestTrackIndexAllowed=0;this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0;this._currentSelectedVideoStream=null},t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunWindowSizeRule,this)},t.prototype.onRunWindowSizeRule=function(t){n.Log.verbose(8,"onRunWindowSizeRule");t.currentModuleId=this._moduleId;var r=!1,i=this;return new Promise(function(u,f){var s,h,e,c,o;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(t.selectedTrack||!t.sessionContext.heuristicSettings.windowSizeHeuristicsEnabled||t.requestedStream.type!==0){u();return}if(t.requestedStream!==i._currentSelectedVideoStream&&(i._currentSelectedVideoStream=t.requestedStream,i._highestTrackIndexAllowed=0),s=Math.max(t.sessionContext.videoTag.scrollWidth,t.sessionContext.videoTag.width),h=Math.max(t.sessionContext.videoTag.scrollHeight,t.sessionContext.videoTag.height),h===0||s===0){n.Log.warning(8,"Ignoring window size heuristic rule, as one of the window dimensions is 0.");u();return}for((i._windowWidth!==s||i._windowHeight!==h)&&((i._windowWidth<s||i._windowHeight<h)&&(r=!0),i._windowWidth=s,i._windowHeight=h,i._highestTrackIndexAllowed=0),e=t.heuristicData.tracksData,c=!1,o=i._highestTrackIndexAllowed;o<e.length;o++)e[o].selectable&&e[o].trackInfo.width>s&&e[o].trackInfo.height>h&&(c?e[o].selectable=!1:(c=!0,i._highestTrackIndexAllowed=o));c||(i._highestTrackIndexAllowed=e.length-1);r&&t.requestedStream.streamingInfo.lastDownloadedTrack&&e[i._highestTrackIndexAllowed].trackInfo.bitrate>t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate&&t.sessionContext.eventMgr.dispatchEvent(n.InternalEventName.flushvideo);u()})},t}();t.WindowSizeRule=i})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,r,u;(function(n){n[n.success=200]="success";n[n.notFound=404]="notFound";n[n.badGateway=502]="badGateway"})(i||(i={}));r=function(){function t(t){this._moduleId="httpDataRetriever";this._requestList=[];this._disposed=!1;this._bandwidthRequest=null;this._bandwidthData=new n.Heuristics.BandwidthTracker(t.heuristicSettings.bandwidth,t.decryptionTracker);t.videoBufferData.updateBandwidthTracker(this._bandwidthData)}return t.prototype.dispose=function(){while(this._requestList.length>0){var n=this._requestList.pop();n.request=null;n=null}this._bandwidthRequest=null;this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0],i=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onGetData,this);t.addHandler(t.stepEvents.requestEnd,this.onGetData,this);i.addHandler(i.stepEvents.requestBegin,this.onReportHeuristicData,this);i.addHandler(i.stepEvents.requestSend,this.onGetData,this)},t.prototype.onReportHeuristicData=function(t){n.Log.verbose(5,"onReportHeuristicData");t.currentModuleId=this._moduleId;var i=this;return new Promise(function(r,u){if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("object is already disposed.");return}if(t.requestedStream.type!==0){r();return}i._bandwidthData.reportHeuristicsData(t.heuristicData,n.StreamUtil.getSegmentDuration(t));r()})},t.prototype.onGetData=function(t){n.Log.verbose(5,"onGetData");t.currentModuleId=this._moduleId;var i=this;return new Promise(function(r,f){function o(){var y,s,p,f,w;n.assert(null!=t.urlsToRetrieve[e],"Failed to start the download as urlToRetrieve at index "+e+" is null");n.assert(null!=t.urlsToRetrieve[e].url&&t.urlsToRetrieve[e].url.length>0,"Failed to start the download as urlToRetrieve at index "+e+" is empty");i._bandwidthRequest&&i._bandwidthRequest.streamId===t.urlsToRetrieve[e].streamId&&i._bandwidthRequest.presTimeInSec===t.urlsToRetrieve[e].presTimeInSec&&(y=t.heuristicData.tracksData.findFirst(function(n){return n.trackInfo.bitrate===i._bandwidthRequest.bitrate}),y&&i._bandwidthRequest.bitrate>=t.urlsToRetrieve[e].bitrate?t.urlsToRetrieve[e].requestType===2?i._bandwidthRequest.bitrate!==t.urlsToRetrieve[e].bitrate&&(n.Log.verbose(5,"Switching init segment request "+t.urlsToRetrieve[e].url+" to "+i._bandwidthRequest.bitrate),t.urlsToRetrieve[e].bitrate=i._bandwidthRequest.bitrate,t.urlsToRetrieve[e].url=n.Util.UrlFormatter.FormatDashInitUrl(t.requestedStream.initUrlTemplate,i._bandwidthRequest.bitrate.toString(),t.sessionContext.presentationQueryStr),t.selectedTrack=y.trackInfo):(n.Log.verbose(5,"Reusing bandwidth request "+i._bandwidthRequest.url),t.urlsToRetrieve[e].dispose(),t.urlsToRetrieve[e]=i._bandwidthRequest,i._bandwidthRequest=null):(i._bandwidthRequest.dispose(),i._bandwidthRequest=null));t.urlsToRetrieve[e].responseType===0&&t.urlsToRetrieve[e].mediaData!=null||t.urlsToRetrieve[e].responseType===4&&t.urlsToRetrieve[e].presentationData!=null?(t.urlsToRetrieve[e].responseType===4&&t.sessionContext.commonPresentation!=null&&(s=t.sessionContext.httpDataRetrieverSettings,p=1e3*t.sessionContext.commonPresentation.maxSegmentDuration,s.timeoutInMSec=Math.max(s.timeoutInMSec,2*p),s.timeoutInMSec=Math.min(s.timeoutInMSec,s.maxTimeoutInMSec),n.Log.verbose(5,"Setting data retriever timeout: "+s.timeoutInMSec+" ms")),e++,e>=t.urlsToRetrieve.length?r():o()):(t.workflowType===1&&n.StreamUtil.getBufferData(t).dispatchDownloadRequested(h(e)),f=t.sessionContext.createXmlHttpRequest(),f.open("GET",t.urlsToRetrieve[e].url),f.onprogress=l,f.onload=a,f.onerror=c,f.ontimeout=v,f.onabort=c,t.urlsToRetrieve[e].responseType===0&&(f.responseType=n.Context.ResponseType[0]),f.msCaching&&(f.msCaching="disabled"),f.timeout=t.sessionContext.httpDataRetrieverSettings.timeoutInMSec,w=new u(t.urlsToRetrieve[e],f),t.requestedStream&&t.requestedStream.type==0&&t.selectedTrack?n.Log.verbose(5,"HeuristicInfo: SuggestedBr: "+t.selectedTrack.bitrate+" CurrentBw: "+Math.floor(i._bandwidthData.latestInKbps*1e3)+" AverageBw: "+Math.floor(i._bandwidthData.averageBandwidthInKbps*1e3)+" BufferSize: "+t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()+" StreamType: "+n.Presentation.StreamType[t.requestedStream.type]+" StreamName: "+t.requestedStream.language+" Index: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" TimeInMS: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.presTimeInSec+" MediaTimeStamp: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.mediaTimestamp+" Index: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" Duration: "+(t.requestedStream.streamingInfo.currentSegment.segmentInfo.durationInSec||0)+" Url: "+t.urlsToRetrieve[e].url):0===t.workflowType&&n.Log.verbose(5,"Getting "+t.urlsToRetrieve[e].url),i._requestList.push(w),f.send())}function l(r){var s=this,f,u,e,o;i._disposed||(f=Date.now(),u=i._requestList.findFirst(function(n){return n.request===s}),n.assert(null!=u,"cannot find the request in the request queue"),u.bandwidthInfo.responseStartTimeInMS||(!r.lengthComputable||r.lengthComputable&&r.total!=r.loaded)&&(u.bandwidthInfo.responseStartTimeInMS=f),n.Common.isSafari&&n.Common.isOSXElCapitanOrEarlier()&&u.getIsAbortInProgress())||u.urlRequest.requestType===3&&(e=u.bandwidthInfo.responseStartTimeInMS,o=t.sessionContext.httpDataRetrieverSettings.initBandwidthTimeoutInMSec,f-e>o&&(u.bandwidthInfo.responseLengthInBytes=r.loaded,u.bandwidthInfo.responseEndTimeInMS=f,i._bandwidthData.updateBandwidthInfo(u.bandwidthInfo),u.abortRequest(),n.Log.verbose(5,"Aborting init bandwidth request due to timeout: "+u.urlRequest.url)))}function a(){var c=this,u,f;if(!i._disposed)if(u=i._requestList.findFirst(function(n){return n.request===c}),n.assert(null!=u,"cannot find the request in the request queue"),u.bandwidthInfo.responseEndTimeInMS=Date.now(),f=t.urlsToRetrieve.indexOf(u.urlRequest),t.urlsToRetrieve[f].httpResposeContentType=this.getResponseHeader("Content-Type"),t.urlsToRetrieve[f].httpResponseCode=this.status,200===this.status){i._requestList.removeFirst(function(n){return n.request===c});switch(u.urlRequest.responseType){case 0:t.urlsToRetrieve[f].mediaData=this.response;u.bandwidthInfo.responseLengthInBytes=t.urlsToRetrieve[f].mediaData.byteLength;t.workflowType===1?n.StreamUtil.getBufferData(t).dispatchDownloadCompleted(h(f),u.bandwidthInfo):(i._bandwidthRequest=t.urlsToRetrieve[f].clone(),i._bandwidthRequest.requestType=1);break;case 4:t.urlsToRetrieve[f].presentationData=this.response;u.bandwidthInfo.responseLengthInBytes=t.urlsToRetrieve[f].presentationData.length;break;default:n.assert(!1,"Unexpected response Type in the request Context")}if(n.Log.verbose(5,"Download Finished for :"+u.urlRequest.url),t.requestedStream&&(i._bandwidthData&&t.requestedStream.type===0&&i._bandwidthData.updateBandwidthInfo(u.bandwidthInfo),t.requestedStream.streamingInfo.lastDownloadedTrack=t.selectedTrack),e++,e>=t.urlsToRetrieve.length){r();return}o()}else n.Log.error(5,u.urlRequest.url+" failed, httpStatus: "+this.status),s.call(this,n.Failure.translateHttpStatusToCode(this.status))}function c(n){i._disposed||s.call(this,2097152,"http: "+n.type)}function v(){i._disposed||s.call(this,2097752,"http timed out")}function s(u,e){var p=this,o=i._requestList.removeFirst(function(n){return n.request===p}),a,s,v,y,c,l;n.Common.isSafari&&n.Common.isOSXElCapitanOrEarlier()||n.assert(null!=o,"cannot find the request in the request queue");a=o!=null?o.urlRequest.url:"no details info";e&&(a+=", "+e);s=new n.Failure.Record(t.currentModuleId,u,a);(e!=="http: abort"||o==null)&&n.Log.error(5,s.toString());o!=null&&(t.requestedStream?(t.urlsToRetrieve.findIndexOf(function(n){return n.requestType===2})!==-1&&(t.requestedStream.streamingInfo.fetchInitSegment=!0),v=t.urlsToRetrieve.indexOf(o.urlRequest),t.workflowType===1&&n.StreamUtil.getBufferData(t).dispatchDownloadFailed(h(v),u,e),2097556===u&&t.sessionContext.commonPresentation.isLive&&t.requestedStream.streamingInfo&&t.requestedStream.streamingInfo.currentSegment&&!t.requestedStream.streamingInfo.currentSegment.next?(c=t.requestedStream.streamingInfo.currentSegment.segmentInfo,l=c?c.presTimeInSec:null,t.requestedStream.streamingInfo.currentSegment=t.requestedStream.streamingInfo.currentSegment.prev,t.failTracker.reset(),n.Log.verbose(5,"hit past live edge with 404: "+(e?e+", ":"")+"presTimeInSec: "+l+" "+o.urlRequest.url),t.externalFailure=s,f()):2097564===u&&t.sessionContext.commonPresentation.isLive&&t.requestedStream.streamingInfo&&t.requestedStream.streamingInfo.currentSegment&&!t.requestedStream.streamingInfo.currentSegment.next?(t.state=2,t.retryWaitTimeMSec=t.sessionContext.httpRetryPolicySettings.retryMediaInMSec,t.failTracker.log(s,t.selectedTrack),y=t.sessionContext.httpDataRetrieverSettings.liveEdgeAdjustmentInSec,t.sessionContext.commonPresentation.adjustPlayableWindow(y),c=t.requestedStream.streamingInfo.currentSegment.segmentInfo,l=c?c.presTimeInSec:null,n.Log.verbose(5,"hit past live edge with 412: "+(e?e+", ":"")+"presTimeInSec: "+l+" "+o.urlRequest.url),r()):(t.workflowType!==0&&o&&o.urlRequest&&o.urlRequest.requestType!==3&&(t.state=2,t.failTracker.log(s,t.selectedTrack),t.retryWaitTimeMSec=t.failTracker.isLastServerError()?t.sessionContext.httpRetryPolicySettings.retryMediaServerErrorInMSec:0),n.Log.warning(5,"failed to download: "+(e?e+", ":"")+o.urlRequest.url),r())):0===t.workflowType&&(2097556===u||2097752===u)?(t.state=2,t.retryWaitTimeMSec=2097556===u?t.sessionContext.httpRetryPolicySettings.retryPresentationInMSec:0,t.failTracker.log(s),n.Log.warning(5,"failed to download: "+(e?e+", ":"")+o.urlRequest.url),r()):(t.externalFailure=s,n.Log.warning(5,"failed to download: "+(e?e+", ":"")+o.urlRequest.url),f()))}function h(i){var r=t.urlsToRetrieve[i],f=t.requestedStream.presentationTimeOffsetInSec,u=t.requestedStream.streamingInfo.currentSegment.segmentInfo,e=r.requestType===2?null:u.mediaTimestamp/u.timescale;return new n.Context.MediaDownload(r.url,t.selectedTrack.bitrate,e,r.mediaData,f)}if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}n.assert(t.urlsToRetrieve.length!==0,"Failed to start the download as urlsToRetrieve is empty.");var e=0;o()})},t}();t.HttpDataRetriever=r;u=function(){function t(t,i){this.urlRequest=t;this.request=i;this.bandwidthInfo=new n.Heuristics.BandwidthInfo;this.abortStarted=!1}return t.prototype.abortRequest=function(){this.abortStarted=!0;this.request.abort()},t.prototype.getIsAbortInProgress=function(){return this.abortStarted},t}()})(n.DataRetriever||(n.DataRetriever={}));var t=n.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,r;(function(n){n[n.noRetry=0]="noRetry";n[n.nextTrack=1]="nextTrack";n[n.nextSegment=2]="nextSegment";n[n.same=3]="same"})(i||(i={}));r=function(){function t(){this._moduleId="httpRetryPolicy";this._disposed=!1}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0)},t.prototype.init=function(n){var i=n.workflows[0],t=n.workflows[1];i.addHandler(t.stepEvents.requestBegin,this.onPresentationRetry,this);t.addHandler(t.stepEvents.requestBegin,this.onMediaRetry,this)},t.prototype.onPresentationRetry=function(t){var r=this;return n.Log.verbose(5,"onPresentationRetry"),t.currentModuleId=this._moduleId,new Promise(function(u,f){var e,s,o;if(r._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(e=t.failTracker,s=t.sessionContext.httpRetryPolicySettings,e.isNone()){u();return}o=r._getAction(0,s,t);switch(o){case 0:t.externalFailure=e.lastFailure;n.Log.verbose(5,"onPresentationRetry: noRetry, "+t.urlsToRetrieve[0].url);f();return;case 3:e.sameRequestRetried++;break;default:throw new Error("unexpected retry action: "+o);}e.totalRetried++;n.Log.verbose(5,"onPresentationRetry: "+i[o]+" URL: "+t.urlsToRetrieve[0].url);u()})},t.prototype.onMediaRetry=function(t){var r=this;return n.Log.verbose(5,"onMediaRetry"),t.currentModuleId=this._moduleId,new Promise(function(u,f){var s;if(r._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);f("object is already disposed.");return}if(!t.requestedStream){u();return}var e=t.failTracker,o=t.requestedStream.streamingInfo,h=t.sessionContext.httpRetryPolicySettings;if(e.isNone()||null!==o.pendingSeekPositionInSec){u();return}0===e.totalRetried&&(e.tracksToTry=r._createTrackToTry(h,t.requestedStream,e.lastTrack));s=r._getAction(1,h,t);switch(s){case 0:t.externalFailure=e.lastFailure;n.Log.verbose(5,"onMediaRetry: noRetry,mediaTimestamp: "+o.currentSegment.segmentInfo.mediaTimestamp);f();return;case 1:e.sameRequestRetried++;t.selectedSegment=o.currentSegment;e.trackToTryIdx<e.tracksToTry.length-1?e.trackToTryIdx++:e.trackToTryIdx=0;t.selectedTrack=e.tracksToTry[e.trackToTryIdx];break;case 2:if(o.currentSegment.next)o.currentSegment=o.currentSegment.next,e.segmentsSkipped++,e.resetForSegment(),t.selectedSegment=o.currentSegment,t.selectedTrack=e.tracksToTry[0];else{t.externalFailure=e.lastFailure;n.Log.verbose(5,"onRetry: noRetry, EOS mediaTimestamp: "+o.currentSegment.segmentInfo.mediaTimestamp);f();return}break;case 3:e.sameRequestRetried++;t.selectedSegment=o.currentSegment;t.selectedTrack=e.tracksToTry[0];break;default:throw new Error("unexpected retry action: "+s);}e.totalRetried++;n.Log.verbose(5,"onRetry: "+i[s]+" bitrate: "+t.selectedTrack.bitrate+" mediaTimestamp: "+t.selectedSegment.segmentInfo.mediaTimestamp);u()})},t.prototype._getAction=function(n,t,i){var u=0,f=!1,r=i.failTracker;return i.sessionContext&&i.sessionContext.commonPresentation&&(f=i.sessionContext.commonPresentation.isLive),0===n?u=r.sameRequestRetried>=t.maxRetryPresentation?0:3:r.totalRetried>=t.maxTotalRetries||r.segmentsSkipped>=t.maxSkipSegments&&(r.trackToTryIdx>=r.tracksToTry.length-1||r.sameRequestRetried>=t.maxRetryPerSegment)?u=0:r.isLastNotFound()||r.isLastNotReady()&&f&&!this._isLiveEdge(i)?u=r.trackToTryIdx<r.tracksToTry.length-1&&r.sameRequestRetried<t.maxRetryPerSegment?1:2:f&&this._isLiveEdge(i)&&r.isLastNotReady()?(u=3,r.sameRequestRetried>=t.maxRetryPerSegment&&(u=0)):u=r.isLastServerError()?1:r.isLastNetworkFail()?r.sameRequestRetried<t.maxRetryPerSegment?3:2:0,u},t.prototype._isLiveEdge=function(n){var t;return!n.requestedStream||!n.requestedStream.streamingInfo?!1:(t=n.requestedStream.streamingInfo.currentSegment,t&&!t.next?!0:!1)},t.prototype._createTrackToTry=function(n,t,i){var u=[],f=t.tracks.indexOf(i),e=t.tracks.length,r;for(u.push(t.tracks[f]),r=f-1;r>=0;r--)t.tracks[r].streamingInfo.selectable&&u.push(t.tracks[r]);if(!n.retryLowerBitrateOnly)for(r=f+1;r<e;r++)t.tracks[r].streamingInfo.selectable&&u.push(t.tracks[r]);return u},t}();t.HttpRetryPolicy=r})(n.DataRetriever||(n.DataRetriever={}));var t=n.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,r;(function(n){n[n.success=200]="success";n[n.notFound=404]="notFound";n[n.badGateway=502]="badGateway"})(i||(i={}));r=function(){function t(){this._moduleId="InitialBandwidthDataUrlFormatter";this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onPreFetchUrlFormat,this)},t.prototype.onPreFetchUrlFormat=function(t){n.Log.verbose(6,"OnPreFetchUrlFormat");t.currentModuleId=this._moduleId;var i=this;return new Promise(function(r,u){var c,f,e,l,s,h,o,a,v;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("object is already disposed.");return}if(!t.sessionContext.heuristicSettings.preFetchDataEnabled){r();return}if(c=t.sessionContext.commonPresentation.periods[0].streams,f=c.findFirst(function(n){return n.type===0}),t.requestedStream=f,t.sessionContext.heuristicSettings.preFetchDataMiddle?(l=Math.round(f.tracks.length/2)-1,e=f.tracks[l].bitrate):e=f.tracks[0].bitrate,!e)throw new Error("bitrate of video track not set in presentation");if(s=t.requestedStream.mediaUrlTemplate,!s)throw new Error("media url template is not set for the video stream");h=f.segments;o=t.sessionContext.commonPresentation.isLive?h.last.segmentInfo:h.first.segmentInfo;a=n.Util.UrlFormatter.FormatDashMediaUrl(s,e.toString(),o.mediaTimestampStr,t.sessionContext.presentationQueryStr);v=new n.Context.UrlRequest(a,3,0,f.id,e,o.presTimeInSec,o.durationInSec);t.urlsToRetrieve.push(v);t.sessionContext.heuristicSettings.preFetchDataEnabled=!1;r()})},t}();t.InitialBandwidthDataUrlFormatter=r})(n.Heuristics||(n.Heuristics={}));var t=n.Heuristics}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="streamSelector";this._disposed=!1;this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onSelectStreams,this)},t.prototype.onSelectStreams=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){var o=!1,s=!1,f=t.sessionContext.commonPresentation,e;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("Disposed");return}if(!i._initial){r();return}if(!f)throw new Error("CommonPresentation is empty");for(f.periods[0].streams.forEach(function(n){n.streamingInfo.selected=!1}),e=f.periods[0].streams.length-1;e>=0;e--)0!==f.periods[0].streams[e].type||o?1!==f.periods[0].streams[e].type||s||(s=!0,f.periods[0].streams[e].streamingInfo.selected=!0):(o=!0,f.periods[0].streams[e].streamingInfo.selected=!0);if(!o||!s){n.Failure.attachFailureToRequest(t,t.currentModuleId,4194307);u("Video or audio streams not found");return}i._initial=!1;r()})},t}();t.InitialStreamSelector=i})(n.Presentation||(n.Presentation={}));var t=n.Presentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var r=function(){function n(n,t,i,r,u){this.index=n;this._timescale=u;this._presentationOffset=r;this._mediaTimestampStr=t;this._mediaTimestamp=parseInt(t);this._presTimeInSec=(this._mediaTimestamp+r)/u;i&&(this._mediaDuration=i,this._durationInSec=i/u)}return Object.defineProperty(n.prototype,"timescale",{get:function(){return this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presentationOffset",{get:function(){return this._presentationOffset},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaTimestampStr",{get:function(){return this._mediaTimestampStr},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaTimestamp",{get:function(){return this._mediaTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mediaDuration",{get:function(){return this._mediaDuration},set:function(n){this._mediaDuration=n;this._durationInSec=n/this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"presTimeInSec",{get:function(){return this._presTimeInSec},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"durationInSec",{get:function(){return this._durationInSec},enumerable:!0,configurable:!0}),n.prototype.update=function(n,t){n&&(this.index+=n);this._presentationOffset!==t&&(this._presentationOffset=t,this._presTimeInSec=(this._mediaTimestamp+t)/this._timescale)},n}(),f,i,e,v,u,o,s,h,c,l,a;t.MediaSegmentInfo=r;f=function(){function n(n,t,i,u,f,e){this.firstSegment=new r(n,t,i,u,f);this.repeat=e;this.containerIndex=NaN}return n}();t.SegmentRunEntry=f;i=function(){function t(t,i,u){this._container=t;this._pubTime=t.pubTime;this._runEntry=i;this._runEntryRepeatPosition=u;var f=i.firstSegment.mediaTimestampStr;u&&(f=n.Timestamp.add(f,u*i.firstSegment.mediaDuration));this.segmentInfo=new r(i.firstSegment.index+u,f,i.firstSegment.mediaDuration,t.presentationTimeOffset,t.timescale)}return t.prototype.dispose=function(){this.segmentInfo=null;this._container=null;this._pubTime=null;this._runEntry=null;this._runEntryRepeatPosition=NaN},Object.defineProperty(t.prototype,"next",{get:function(){var i,r,u;if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;if(i=this._runEntry,r=0,this._runEntryRepeatPosition+1>this._runEntry.repeat)if(u=this._runEntry.containerIndex+1,u<this._container.segmentTable.length)i=this._container.segmentTable[u];else return n.Log.verbose(4,"Cannot get next iterator"),null;else r=this._runEntryRepeatPosition+1;return new t(this._container,i,r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){var i,u,r;if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;if(i=this._runEntry,this._runEntryRepeatPosition===0)if(r=this._runEntry.containerIndex-1,r>=0&&r<this._container.segmentTable.length)i=this._container.segmentTable[r],u=i.repeat;else return n.Log.warning(4,"Cannot get previous iterator"),null;else u=this._runEntryRepeatPosition-1;return new t(this._container,i,u)},enumerable:!0,configurable:!0}),t.prototype._updateIterator=function(){var i,t,r,u;if(this._container.pubTime.getTime()>this._pubTime.getTime()){for(this._pubTime=this._container.pubTime,i=this._runEntry.containerIndex,t=this._container.segmentTable[i];!t&&i>0;)i--,t=this._container.segmentTable[i];if(t){if(t.firstSegment.index<=this.segmentInfo.index&&this.segmentInfo.index<=t.firstSegment.index+t.repeat){this._runEntry=t;this._runEntryRepeatPosition=this.segmentInfo.index-t.firstSegment.index;this._updateInfo();return}if(this.segmentInfo.index>t.firstSegment.index+t.repeat&&this._container.segmentTable.length>i+1&&(r=this._container.segmentTable[i+1],this.segmentInfo.index<=r.firstSegment.index+r.repeat)){this._runEntry=r;this._runEntryRepeatPosition=this.segmentInfo.index-r.firstSegment.index;this._updateInfo();return}}if(u=this._container.getByIndex(this.segmentInfo.index),!u){n.Log.warning(4,"Referenced segment not found in presentation, disposing iterator");this.dispose();return}this._runEntry=u._runEntry;this._runEntryRepeatPosition=u._runEntryRepeatPosition;this._updateInfo()}},t.prototype._updateInfo=function(){var t=this._container.getByIndex(this.segmentInfo.index),n;t&&(n=t.segmentInfo,(this.segmentInfo.mediaTimestampStr!==n.mediaTimestampStr||this.segmentInfo.mediaDuration!==n.mediaDuration)&&(this.segmentInfo=new r(n.index,n.mediaTimestampStr,n.mediaDuration,n.presentationOffset,n.timescale)))},t}();t.MediaSegmentInfoIterator=i;e=function(){function r(n,t,i,r){this.maxSegmentDuration=0;this.timescale=n;this.presentationTimeOffset=t;this.pubTime=i;this.segmentTable=[];this._isLive=r}return r.prototype.dispose=function(){this.segmentTable.length=0},Object.defineProperty(r.prototype,"first",{get:function(){var n=null;return this.segmentTable.length>0&&(n=new i(this,this.segmentTable[0],0)),n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"last",{get:function(){var n,t=null;return this.segmentTable.length>0&&(n=this.segmentTable[this.segmentTable.length-1],t=new i(this,n,n.repeat)),t},enumerable:!0,configurable:!0}),r.prototype.addMediaSegmentRun=function(t){var i=null,r=0,u;this.segmentTable.length>0&&(i=this.segmentTable[this.segmentTable.length-1],r=i.firstSegment.mediaTimestamp+i.firstSegment.mediaDuration*(i.repeat+1),u=n.Common.timestampDeltaThreshold*this.timescale,r-t.firstSegment.mediaTimestamp>u&&(n.Log.error(4,"Cannot add segment with timestamp "+t.firstSegment.mediaTimestamp+" to middle of table ["+this.segmentTable[0].firstSegment.mediaTimestamp+","+r+"]"),t=null));t&&(t.containerIndex=this.segmentTable.length,this.segmentTable.push(t),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,t.firstSegment.durationInSec||0),n.Log.verbose(4,"Added segment with idx="+t.firstSegment.index+" mt="+t.firstSegment.mediaTimestamp+" pt="+t.firstSegment.presTimeInSec.toFixed(7)+" r="+t.repeat+(t.firstSegment.durationInSec?" d="+t.firstSegment.durationInSec.toFixed(7):"")))},r.prototype.addMediaSegmentInfo=function(n,i,r,u,f){var e;if(this.segmentTable.length>0&&NaN===this.segmentTable[this.segmentTable.length-1].firstSegment.mediaDuration)throw new Error("Failed to add segment: previous entry doesn't have duration");e=new t.SegmentRunEntry(n,i,r,u,f,0);this.addMediaSegmentRun(e)},r.prototype.updateSegmentDuration=function(t,i){var r,u;if(0===this.segmentTable.length)return!1;if(r=this.segmentTable[this.segmentTable.length-1],r.firstSegment.presTimeInSec!==t){if(u=n.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),u===-1)return n.Log.verbose(4,"Failed to update segment duration, run entry with presentation time "+t+" not found"),!1;r=this.segmentTable[u]}return r.firstSegment.mediaDuration!==i&&(n.assert(!r.firstSegment.mediaDuration&&0===r.repeat,"Failed to update segment duration, run entry (s:"+r.firstSegment.presTimeInSec+" d:"+r.firstSegment.durationInSec+" r:"+r.repeat+") cannot be overwritten by segment (s:"+t+" d:"+i/this.timescale+")"),r.firstSegment.mediaDuration=i),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,r.firstSegment.durationInSec||0),!0},r.prototype.getByIndex=function(t){var r=null,u,f,e;return 0===this.segmentTable.length?null:(u=n.Common.binarySearch(t,this.segmentTable,this._compareIndex),u!==-1&&(f=this.segmentTable[u],e=t-f.firstSegment.index,r=new i(this,f,e)),r||n.Log.verbose(4,"Entry with index "+t+" not found"),r)},r.prototype.getBySegmentStartTime=function(t,r){var o=null,e,u,f,s;if(0===this.segmentTable.length)return null;if(r||(r=n.Common.timestampDeltaThreshold),Math.abs(t-this.segmentTable[0].firstSegment.presTimeInSec)<r)return this.first;if(e=n.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),e!==-1){if(u=this.segmentTable[e],f=0,n.Common.diffTimes(t,u.firstSegment.presTimeInSec)&&(f=Math.round((t-u.firstSegment.presTimeInSec)/u.firstSegment.durationInSec)||0),f>u.repeat)if(e+1<this.segmentTable.length)u=this.segmentTable[e+1],f=0;else return n.Log.verbose(4,"Cannot find match for "+t),null;if(s=u.firstSegment.presTimeInSec+f*u.firstSegment.durationInSec,Math.abs(t-s)>r)return n.Log.verbose(4,"Cannot find match within error range for "+t),null;o=new i(this,u,f)}return o},r.prototype.getByInSegmentTimestamp=function(t){var u=null,f,r,e;return 0===this.segmentTable.length?null:(f=n.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec),f!==-1&&(r=this.segmentTable[f],e=Math.floor(Math.abs(t-r.firstSegment.presTimeInSec)/r.firstSegment.durationInSec),u=new i(this,r,e)),u||n.Log.verbose(4,"Entry including timestamp "+t+" not found"),u)},r.prototype.getByInDiscontinuityTimestamp=function(t){var r=null,u;return 0===this.segmentTable.length?null:(u=n.Common.binarySearchInGaps(t,this.segmentTable,this._compareTimestampInSecInGaps),u!==-1&&(r=new i(this,this.segmentTable[u],0)),r||n.Log.verbose(4,"Discontinuity including timestamp "+t+" not found"),r)},r.prototype.update=function(t){var o=this,r=t,i=null,f=0;if(!(r.pubTime.getTime()<=this.pubTime.getTime())){if(this.pubTime=r.pubTime,i=this.getBySegmentStartTime(r.first.segmentInfo.presTimeInSec),i&&i.segmentInfo.index!==r.first.segmentInfo.index){if(f=i.segmentInfo.index,n.Common.diffTimes(r.first.segmentInfo.presTimeInSec,i.segmentInfo.presTimeInSec))throw new Error("Segment mismatch during container update");n.Log.verbose(4,"Segment index offset="+f)}if(r._isLive){var u=r.last.segmentInfo,s=u.index,e=u.mediaTimestamp+u.mediaDuration;for(i=this.getBySegmentStartTime(u.presTimeInSec);e&&i&&i.next;){if(i=i.next,i.segmentInfo.mediaTimestamp<e)break;u=i.segmentInfo;e=u.mediaTimestamp+u.mediaDuration;r.addMediaSegmentInfo(++s,u.mediaTimestampStr,u.mediaDuration,u.presentationOffset,u.timescale)}}this._isLive=r._isLive;this.segmentTable.length=0;r.segmentTable.forEach(function(n){n.firstSegment.update(f,o.presentationTimeOffset);o.segmentTable.push(n)});this.maxSegmentDuration=r.maxSegmentDuration}},r.prototype._compareTimestampInSec=function(t,i){var r=0;return n.Common.diffTimes(t,i.firstSegment.presTimeInSec)>0?r=-1:n.Common.diffTimes(t,i.firstSegment.presTimeInSec)&&n.Common.diffTimes(t,i.firstSegment.presTimeInSec+(i.repeat+1)*(i.firstSegment.durationInSec||0))<=0&&(r=1),r},r.prototype._compareIndex=function(n,t){var i=0;return n<t.firstSegment.index?i=-1:n>=t.firstSegment.index+(t.repeat+1)&&(i=1),i},r.prototype._compareTimestampInSecInGaps=function(n,t,i){var r=0,u=t.firstSegment.presTimeInSec+(t.repeat+1)*(t.firstSegment.durationInSec||0),f=i.firstSegment.presTimeInSec;return n<u?r=-1:n>=f&&(r=1),r},r}();t.MediaSegmentInfoContainer=e,function(n){n[n.needsToBeScheduled=0]="needsToBeScheduled";n[n.inProgress=1]="inProgress";n[n.endOfStream=2]="endOfStream"}(t.WorkflowState||(t.WorkflowState={}));v=t.WorkflowState;u=function(){function n(){this.forge=null;this.webCrypto=null}return n.prototype.dispose=function(){this.forge=null;this.webCrypto=null},n}();t.AesInfo=u;o=function(){function n(){this.selected=!1;this.fetchInitSegment=!0;this.currentSegment=null;this.pendingSeekPositionInSec=null;this.workflowState=0;this.sourceBuffer=null;this.lastDownloadedTrack=null;this.aes=new u;this.flushStream=!1}return n.prototype.dispose=function(){this.currentSegment=null;this.sourceBuffer&&(this.sourceBuffer.dispose(),this.sourceBuffer=null);this.lastDownloadedTrack=null;this.aes&&(this.aes.dispose(),this.aes=null)},n}();t.MediaStreamStreamingInfo=o;s=function(){function n(){this.selectable=!0}return n}();t.MediaTrackStreamingInfo=s;h=function(){function n(n,t){var i,r;for(this._streams=[],i=0;i<t.length;i++)t[i].type==0&&(r=new c(n,t[i]),this._streams.push(r))}return n.prototype.dispose=function(){for(var n=0;n<this._streams.length;n++)this._streams[n].dispose();this._streams=[]},Object.defineProperty(n.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedIndex",{get:function(){for(var t=-1,n=0;n<this._streams.length;n++)if(this._streams[n].commonStream.streamingInfo.selected){t=n;break}return t},enumerable:!0,configurable:!0}),n}();t.VideoStreamList=h;c=function(){function t(t,i){this._commonStream=i;this._eventMgr=new n.Events.Manager(t.azureHtml5,!1);this._sessionContext=t}return t.prototype.dispose=function(){this._commonStream=null;this._sessionContext=null;this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null)},Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._commonStream.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._commonStream.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commonStream",{get:function(){return this._commonStream},enumerable:!0,configurable:!0}),t.prototype.selectTrackByIndex=function(t){var r=!1,i,u;for((t<-1||t>=this._commonStream.tracks.length)&&(n.Log.warning(7,"selectTrackByIndex: "+t+" switching back to auto track selection"),t=-1),n.Log.verbose(7,"selectTrackByIndex: "+t),i=0;i<this._commonStream.tracks.length;i++)u=this._commonStream.tracks[i].streamingInfo.selectable,this._commonStream.tracks[i].streamingInfo.selectable=-1===t||i===t?!0:!1,u!=this._commonStream.tracks[i].streamingInfo.selectable&&(r=!0);r&&(this.commonStream.streamingInfo.flushStream=!0,this._eventMgr.dispatchEvent(n.StreamEventName.trackselected),this._sessionContext.eventMgr.dispatchEvent(n.InternalEventName.flushvideo))},t.prototype.addEventListener=function(n,t,i){this._eventMgr.addHandler(n,t,i)},t.prototype.removeEventListener=function(n,t){this._eventMgr.removeHandler(n,t)},t}();l=function(){function t(t,i){var r,u;for(this._streams=[],r=0;r<i.length;r++)i[r].type==1&&(u=new a(t,i[r]),this._streams.push(u));this._eventMgr=new n.Events.Manager(t.azureHtml5,!1);this._sessionContext=t}return t.prototype.dispose=function(){for(var n=0;n<this._streams.length;n++)this._streams[n].dispose();this._sessionContext=null;this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null);this._streams=[]},Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var t=[],n=0;n<this._streams.length;n++)if(this._streams[n].enabled){t.push(n);break}return t},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){var i,r,u,f;if(this.enabledIndices.length!=1){n.Log.error(7,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled");this._eventMgr.dispatchEvent(n.StreamListEventName.streamselectnotsupported);return}if(t>=this.streams.length||t<0){n.Log.error(7,"audioChange failed - tried to enable invalid index: "+t);this._eventMgr.dispatchEvent(n.StreamListEventName.streamindexinvalid);return}if(i=this._streams[this.enabledIndices[0]],r=this._streams[t],t===this.enabledIndices[0]){n.Log.verbose(7,"audioChange failed because current stream selected");this._eventMgr.dispatchEvent(n.StreamListEventName.streamselected);return}this._switchEnabledIndex(t);u=this._sessionContext.videoTag.currentTime;f=this._sessionContext.prerollBufferInSec();r.swapBuffersAndCleanUp(i,u,f);this._eventMgr.dispatchEvent(n.StreamListEventName.streamselected)},t.prototype.addEventListener=function(n,t,i){this._eventMgr.addHandler(n,t,i)},t.prototype.removeEventListener=function(n,t){this._eventMgr.removeHandler(n,t)},t.prototype._switchEnabledIndex=function(t){n.assert(this.enabledIndices.length==1,"Current implementation only allows one enabled stream at a time");var i=this.enabledIndices[0];this._streams[i].enabled=!1;this._streams[t].enabled=!0},t}();t.AudioStreamList=l;a=function(){function t(n,t){this._commonStream=t}return t.prototype.dispose=function(){this._commonStream=null},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._commonStream.streamingInfo.selected},set:function(n){this._commonStream.streamingInfo.selected=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=this._commonStream.mediaUrlTemplate.toLowerCase(),i="fragments(",r=t.indexOf(i),u=t.indexOf("=",r);return n.assert(u>r+i.length,"mediaUrlTemplate ("+t+") did not follow expected schema"),this._commonStream.mediaUrlTemplate.substring(r+i.length,u)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._commonStream.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._commonStream.tracks[0].bitrate},enumerable:!0,configurable:!0}),t.prototype.swapBuffersAndCleanUp=function(n,t,i){if(n._commonStream.streamingInfo.sourceBuffer){this._commonStream.streamingInfo.sourceBuffer||(this._commonStream.streamingInfo.sourceBuffer=n._commonStream.streamingInfo.sourceBuffer);var r=this._commonStream.streamingInfo.sourceBuffer;this._commonStream.streamingInfo.workflowState=0;n._commonStream.streamingInfo.workflowState=2;this._commonStream.streamingInfo.pendingSeekPositionInSec=t;r.buffered.end(r.buffered.length-1)>t+i&&r.flushFrom(t+i);r.flushUntil(t)}},t}()})(n.Presentation||(n.Presentation={}));var t=n.Presentation}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="SegmentLocator.Dash";this._disposed=!1}return t.prototype.init=function(n){var t=n.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onFindSegment,this)},t.prototype.dispose=function(){this._disposed=!0},t.prototype.onFindSegment=function(i){n.Log.verbose(9,"onFindSegment");i.currentModuleId=this._moduleId;var r=this;return new Promise(function(u,f){var h;if(r._disposed){n.Failure.attachFailureToRequest(i,i.currentModuleId,0);f("object is already disposed.");return}var e=i.requestedStream,o=e.streamingInfo.currentSegment,s=e.segments;if(i.selectedSegment){u();return}if(null!==e.streamingInfo.pendingSeekPositionInSec?(e.streamingInfo.currentSegment=s.getByInSegmentTimestamp(e.streamingInfo.pendingSeekPositionInSec),e.streamingInfo.currentSegment&&(e.streamingInfo.pendingSeekPositionInSec=null,i.requestedStream.streamingInfo.fetchInitSegment=!0)):o?e.streamingInfo.currentSegment=o.next:(h=i.sessionContext,e.streamingInfo.currentSegment=isNaN(h.startPositionInSec)?s.first:s.getByInSegmentTimestamp(h.startPositionInSec)),null===e.streamingInfo.currentSegment)if(i.sessionContext.commonPresentation.isLive&&o&&(o.segmentInfo.mediaTimestamp>=s.last.segmentInfo.mediaTimestamp||e.streamingInfo.pendingSeekPositionInSec))if(e.streamingInfo.currentSegment=o,i.sessionContext.commonPresentation.minimumUpdatePeriodInSec)i.state=2,i.retryWaitTimeMSec=t._retryWaitTimeMSec;else{n.Failure.attachFailureToRequest(i,i.currentModuleId,1);f();return}else i.state=1;u()})},t._retryWaitTimeMSec=2e3,t}();t.Dash=i})(n.SegmentLocator||(n.SegmentLocator={}));var t=n.SegmentLocator}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="playReady";this._disposed=!1;this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){var f=[],e=t.sessionContext.commonPresentation;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("Disposed");return}if(!i._initial){r();return}if(!e)throw new Error("CommonPresentation is empty");e.periods[0].streams.forEach(function(t){for(var r,i,u=0;u<t.contentProtections.length;u++)r=t.contentProtections[u].data(0),r&&(i=new n.Mp4Util.PsshBox,i.systemId=n.KeySystem.PlayReady.systemId,i.specificData=n.Common.stringToUint8Array(atob(r)),f.push(i))});f.length>0&&t.sessionContext.emeManager.addPsshBoxes(f);i._initial=!1;r()})},t}();t.PlayReady=i})(n.ContentProtection||(n.ContentProtection={}));var t=n.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="widevine";this._disposed=!1;this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(n){var t=n.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){var f=[],e=t.sessionContext.commonPresentation;if(i._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u("Disposed");return}if(!i._initial){r();return}if(!e)throw new Error("CommonPresentation is empty");e.periods[0].streams.forEach(function(i){for(var u,r=0;r<i.contentProtections.length;r++){if(u=i.contentProtections[r].data(1),u){var o=n.Common.stringToUint8Array(atob(u)),s=new DataView(o.buffer),e=n.Mp4Util.GetPsshBoxes(s);if(e.length!=1)throw new Error("Each cenc:pssh element should contain a 'pssh' box");f.push(e[0])}i.contentProtections[r].laUrl&&t.sessionContext.emeManager.addLaUrl(n.KeySystem.Widevine.systemId,i.contentProtections[r].laUrl)}});f.length>0&&t.sessionContext.emeManager.addPsshBoxes(f);i._initial=!1;r()})},t}();t.Widevine=i})(n.ContentProtection||(n.ContentProtection={}));var t=n.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){this._moduleId="AesHandler";this._disposed=!1;this._decryptor=new n.WebCryptoUtil.Decryptor}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._decryptor&&(this._decryptor.dispose(),this._decryptor=null))},t.prototype.init=function(n){var t=n.workflows[0],i=n.workflows[1];t.addHandler(t.stepEvents.requestEnd,this.onDownloadKey,this);i.addHandler(i.stepEvents.dataRetrieved,this.onDecrypt,this)},t.prototype.onDownloadKey=function(i){var r=this;return i.currentModuleId=this._moduleId,new Promise(function(u,f){function e(){h<s.length?n.Util.setTimeout(c,0,s[h++]):u()}function c(r){var c,l,u,a,y;if(o._disposed){n.Failure.attachFailureToRequest(i,i.currentModuleId,0);f();return}if(o._decryptor.isInitialized(r.streamingInfo.aes)){e();return}if(c=t._getAesContentProtectionIndex(r),isNaN(c)){e();return}var p=r.contentProtections[c],h=p.data(3),v=p.data(4);if(!h||!v){n.Failure.attachFailureToRequest(i,i.currentModuleId,5242883,"Missing IV or keyUrl");f();return}if(l=o._findExistingAesInfo(s,r,h,v),l){r.streamingInfo.aes=l;e();return}if(u=i.sessionContext.authenticationTokens[t._tokenId],!n.AesUtil.verifyKeyUrlWithToken(h,u)){n.Failure.attachFailureToRequest(i,i.currentModuleId,5242883,"verify AMS hostname failed");f();return}a=[];u&&u.length>0&&(a[0]={name:n.HttpUtil.authorizationHeader,value:u});y=Date.now();n.Log.verbose(12,"Starting AES key acquisition");n.HttpUtil.httpRequest(h,"POST","arraybuffer",a).then(function(t){o._decryptor.initialize(r.streamingInfo.aes,t,n.Common.hexStringToUint8Array(v)).then(function(){n.Log.verbose(12,"AES key acquisition in "+(Date.now()-y)+" ms");e();return},function(t){n.Log.error(12,"Failed to initialize decryptor: ");n.Failure.attachFailureToRequest(i,i.currentModuleId,5242882,"AES: "+t);f()})},function(t){n.Log.error(12,"Failed to download AES key url: "+h+", "+n.Common.toHexString(t));n.Failure.attachFailureToRequest(i,i.currentModuleId,5242884,"Http: "+n.Common.toHexString(t));f();return})}var o=r,s=i.sessionContext.commonPresentation.periods[0].streams,h=0;e()})},t.prototype.onDecrypt=function(t){var i=this;return t.currentModuleId=this._moduleId,new Promise(function(r,u){function f(){o<t.urlsToRetrieve.length?n.Util.setTimeout(h,0,t.urlsToRetrieve[o++]):r()}function h(i){if(e._disposed){n.Failure.attachFailureToRequest(t,t.currentModuleId,0);u();return}if(!i.mediaData){f();return}var r=Date.now();e._decryptor.decrypt(s,i.mediaData).then(function(u){var e=Date.now()-r;n.Log.verbose(12,"AES decrypt data in "+e+" ms, bytes: "+i.mediaData.byteLength+" url: "+i.url);i.mediaData=u;t.sessionContext.decryptionTracker&&t.sessionContext.decryptionTracker.updateDecryptionSpeedInfo(i.mediaData.byteLength,e/1e3);f();return},function(r){n.Log.error(12,"Failed to AES decrypt url: "+i.url+" "+r);n.Failure.attachFailureToRequest(t,t.currentModuleId,5242885,"Failed to AES decrypt segment");u();return})}var e=i,o=0,s=t.requestedStream.streamingInfo.aes;if(!e._decryptor.isInitialized(s)){r();return}f()})},t._getAesContentProtectionIndex=function(n){for(var r,u=n.contentProtections,i=0;i<u.length;i++)if(r=u[i].data(2),r===t._aesCbc128SystemId)return i;return NaN},t.prototype._findExistingAesInfo=function(n,t,i,r){for(var e,f,o,s,u=0;u<n.length;u++)if(n[u]!==t)for(e=n[u].contentProtections,f=0;f<e.length;f++)if(o=e[f].data(3),s=e[f].data(4),o===i&&s===r&&this._decryptor.isInitialized(n[u].streamingInfo.aes))return n[u].streamingInfo.aes;return null},t._aesCbc128SystemId="urn:mpeg:dash:sea:aes128-cbc:2013",t._tokenId="AES",t}();t.AesHandler=i})(n.ContentProtection||(n.ContentProtection={}));var t=n.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));Object.defineProperty(Array.prototype,"findFirst",{value:function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,Object(this)))return i;return null},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"findLast",{value:function(n){for(var i,t=this.length-1;t>=0;t--)if(i=this[t],n.call(this,i,t,Object(this)))return i;return null},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"findIndexOf",{value:function(n){for(var i,t=0;t<this.length;t++)if(i=this[t],n.call(this,i,t,Object(this)))return t;return-1},enumerable:!1,configurable:!0});Object.defineProperty(Array.prototype,"removeFirst",{value:function(n){var t=this.findIndexOf(n),i=null;return t!==-1&&(i=this.splice(t,1)[0]),i},enumerable:!1,configurable:!0});Object.defineProperty(Uint8Array.prototype,"isEqual",{value:function(n){if(this.length===n.length){for(var t=0;t<this.length;t++)if(this[t]!==n[t])return!1;return!0}return!1},enumerable:!1,configurable:!0});window.ArrayBuffer&&(ArrayBuffer.prototype.polyfill_slice=function(n,t){var u,r,i;for(t=t||this.byteLength,u=new Uint8Array(this),r=new Uint8Array(t-n),i=n;i<t;i++)r[i-n]=u[i];return r.buffer},ArrayBuffer.prototype.slice=ArrayBuffer.prototype.slice||ArrayBuffer.prototype.polyfill_slice),function(n){"use strict";function t(n,t){if(!n)throw new Error(t);}n.assert=t}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t=function(){function n(n){if(this._slidingWindow=[],this._sum=0,this._maxWindowLength=n,n<1)throw new Error("window length for average class should be greater than 0");}return n.prototype.dispose=function(){this._slidingWindow=null},Object.defineProperty(n.prototype,"average",{get:function(){return this._slidingWindow.length===0?0:this._sum/this._slidingWindow.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"latest",{get:function(){return this._slidingWindow.length===0?0:this._slidingWindow[this._slidingWindow.length-1]},enumerable:!0,configurable:!0}),n.prototype.addValue=function(n){if(this._slidingWindow.length>=this._maxWindowLength){var t=this._slidingWindow.splice(0,1);t[0]!=Infinity?this._sum-=t[0]:this._sum=this._slidingWindow.reduce(function(n,t){return n+t})}this._slidingWindow.push(n);this._sum+=n},n}();n.AverageCalculator=t})(n.Util||(n.Util={}));var t=n.Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function f(){var n=/.*Mac OS X (\d+)_(\d+)_*.*\).*/.exec(navigator.userAgent),t,i;return n&&n.length===3?(t=parseInt(n[1],10),i=parseInt(n[2],10),t==10&&i<=11||t<10):!1}function i(t,i,r){typeof r=="undefined"&&(r=n.timestampDeltaThreshold);var u=i-t;return Math.abs(u)<r&&(u=0),u}function e(n,t,i){for(var u=0,f=t.length-1,r=0,e;u<=f;)if(r=Math.floor((u+f)/2),e=i(n,t[r]),e<0)f=r-1;else if(e>0)u=r+1;else return r;return-1}function o(n,t,i){var f=0,u=t.length-1,r=0,e;if(u<=0)return-1;while(f<=u){if(r=Math.floor((f+u)/2),0===r)return i(n,t[f],t[u])?-1:1;if(e=i(n,t[r-1],t[r]),e<0)u=r-1;else if(e>0)f=r+1;else return r}return-1}function s(n,t,i){var f=0,u=t.length-1,r=0,e;if(u<0)return-1;if(u===0)return i(n,t[0]);while(f<=u){if(r=Math.floor((f+u)/2),0===r)return i(n,t[f],t[u]);if(e=i(n,t[r-1],t[r]),e<0)u=r-1;else if(e>0)f=r+1;else return r-1}return t.length-1}function h(n){for(var t,r="",i=0;i<n.length;i++)t=n[i].toString(16),r+=t.length<2?"0"+t:t;return r}function c(n){var t,r,i,u;if(n.length<=2||n.substr(0,2).toLowerCase()!="0x")throw new Error("Invalid hexString");for(t=n.substr(2),n.length%2!=0&&(t="0"+t),r=new Uint8Array(t.length/2),i=0;i<t.length;i+=2){if(u=parseInt(t.substr(i,2),16),isNaN(u))throw new Error("Invalid hexString");r[i/2]=u}return r}function l(n){return n<0&&(n=4294967295+n+1),"0x"+("00000000"+n.toString(16).toUpperCase()).substr(-8)}function a(n){for(var i="",t=0;t<n.byteLength;t++)i+=String.fromCharCode(n[t]);return i}function v(n){for(var i=new Uint8Array(n.length),t=0;t<i.byteLength;t++)i[t]=n.charCodeAt(t);return i}var t,r,u;n.timestampDeltaThreshold=.0005;n.nearDiscontinuityThreshold=2;n.isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);n.isEdge=/Edge/i.test(navigator.userAgent);n.isIEMobile=/IEMobile\/([0-9.]*)/.test(navigator.userAgent);n.isSafari=/Safari/i.test(navigator.userAgent)&&!n.isChrome&&!n.isEdge&&!n.isIEMobile;n.isOSXElCapitanOrEarlier=f;n.diffTimes=i;t=function(){function n(n,t){this.startInSec=n;this.endInSec=t}return n}();n.TimeRange=t;r=function(){function r(){this._timeRanges=[]}return r.prototype.dispose=function(){this._timeRanges=null},Object.defineProperty(r.prototype,"length",{get:function(){return this._timeRanges.length},enumerable:!0,configurable:!0}),r.prototype.start=function(n){return this._timeRanges[n].startInSec},r.prototype.end=function(n){return this._timeRanges[n].endInSec},r.prototype.duration=function(n){return this._timeRanges[n].endInSec-this._timeRanges[n].startInSec},r.prototype.extendLast=function(n){this._timeRanges[this._timeRanges.length-1].endInSec=n},r.prototype.addRange=function(n){this._timeRanges.push(n)},r.prototype.addRanges=function(n){if(n)for(var i=0;i<n.length;i++)this.addRange(new t(n.start(i),n.end(i)))},r.prototype.removeRange=function(i,r){var u,e,f;if(i<r)for(u=0;u<this._timeRanges.length;u++)(e=this._timeRanges[u].startInSec,f=this._timeRanges[u].endInSec,n.diffTimes(f,i)>=0)||n.diffTimes(r,e)>=0||(n.diffTimes(e,i)>=0&&n.diffTimes(i,f)>=0&&n.diffTimes(f,r)>=0?this._timeRanges[u].endInSec=i:n.diffTimes(e,i)>=0&&n.diffTimes(r,f)>=0?(this._timeRanges[u].endInSec=i,this._timeRanges.splice(u+1,0,new t(r,f))):n.diffTimes(i,e)>=0&&n.diffTimes(f,r)>=0?(this._timeRanges.splice(u,1),--u):n.diffTimes(i,e)>=0&&n.diffTimes(e,r)>=0&&n.diffTimes(r,f)>=0&&(this._timeRanges[u].startInSec=r),n.diffTimes(this._timeRanges[u].endInSec,this._timeRanges[u].startInSec)>=0&&(this._timeRanges.splice(u,1),--u))},r.prototype.rebase=function(n){this._timeRanges.forEach(function(t){t.startInSec-=n;t.endInSec-=n})},r.prototype.removeGaps=function(n){for(var t=0;t+1<this._timeRanges.length;)this._timeRanges[t+1].startInSec-this._timeRanges[t].endInSec<n?(this._timeRanges[t].endInSec=this._timeRanges[t+1].endInSec,this._timeRanges.splice(t+1,1)):t++},r.prototype.getIndexByInRangeTimestamp=function(n){for(var i,r,t=0;t<this._timeRanges.length;t++){if(i=this._timeRanges[t],n<i.startInSec)return-1;if(i.startInSec<=n&&n<i.endInSec)return t;if(t+1>=this._timeRanges.length)return-2;if(r=this._timeRanges[t+1],i.endInSec<=n&&n<=r.startInSec)return t+1}return-1},r.prototype.beforeDiscontinuity=function(t,r){return r<0||r+1>=this._timeRanges.length||this._timeRanges[r].startInSec>t||t>=this._timeRanges[r].endInSec?!1:0!==i(this._timeRanges[r].endInSec,this._timeRanges[r+1].startInSec)&&this._timeRanges[r].endInSec-t<n.nearDiscontinuityThreshold},r.prototype.atOrAfterDiscontinuity=function(t,r){return r<=0||r>=this._timeRanges.length||this._timeRanges[r-1].endInSec>t||t>=this._timeRanges[r].endInSec?!1:0!==i(this._timeRanges[r-1].endInSec,this._timeRanges[r].startInSec)&&(t<this._timeRanges[r].startInSec||t-this._timeRanges[r].startInSec<n.nearDiscontinuityThreshold)},r}();n.TimeRangeSet=r;u=function(){function n(n,t,i){this.presTimeInSec=t;this.durationInSec=i;this.data=n}return Object.defineProperty(n.prototype,"endTimestampInSec",{get:function(){return this.presTimeInSec+this.durationInSec},enumerable:!0,configurable:!0}),n}();n.SegmentData=u;n.binarySearch=e;n.binarySearchInGaps=o;n.binarySearchTimeline=s;n.uint8ArrayToHexString=h;n.hexStringToUint8Array=c;n.toHexString=l;n.uint8ArrayToString=a;n.stringToUint8Array=v})(n.Common||(n.Common={}));var t=n.Common}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var i=function(){function n(n,t){typeof t=="undefined"&&(t=0);this.data=n;this.readPos=t}return n.prototype.getUint8=function(){return this.data.getUint8(this.readPos++)},n.prototype.getUint32=function(){var n=this.data.getUint32(this.readPos);return this.readPos+=4,n},n.prototype.getInt32=function(){var n=this.data.getInt32(this.readPos);return this.readPos+=4,n},n.prototype.getBytes=function(n){for(var i=new Uint8Array(n),t=0;t<n;t++)i[t]=this.getUint8();return i},n.prototype.readString=function(n){for(var t="",i=0;i<n;i++)t+=String.fromCharCode(this.getUint8());return t},n}(),t;n.Reader=i;t=function(){function n(n,t){typeof t=="undefined"&&(t=0);this.data=n;this.writePos=t}return n.prototype.setUint8=function(n){this.data.setUint8(this.writePos++,n)},n.prototype.setUint32=function(n){this.data.setUint32(this.writePos,n);this.writePos+=4},n.prototype.setInt32=function(n){this.data.setInt32(this.writePos,n);this.writePos+=4},n.prototype.setString=function(n){for(var t=0;t<n.length;t++)this.setUint8(n.charCodeAt(t))},n.prototype.setBytes=function(n){for(var t=0;t<n.length;t++)this.setUint8(n[t])},n}();n.Writer=t})(n.DataViewReaderWriter||(n.DataViewReaderWriter={}));var t=n.DataViewReaderWriter}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var r=function(){function n(n,t){typeof n=="undefined"&&(n=null);typeof t=="undefined"&&(t=!0);this._azureHtml5=n;this._allowDuplicateHandlers=t;this._registrations={}}return n.prototype.dispose=function(){this._registrations=null},n.prototype.getHandlers=function(n){return n in this._registrations||(this._registrations[n]=[]),this._registrations[n]},n.prototype.addHandler=function(n,t,r){var u=this.getHandlers(n),f;(this._allowDuplicateHandlers||-1===this._findHandlerByFunction(u,t))&&(f=new i(r,t),u[u.length]=f)},n.prototype.removeHandler=function(n,t){for(var i=this.getHandlers(n),r=this._findHandlerByFunction(i,t);r!==-1;)i.splice(r,1),r=this._findHandlerByFunction(i,t)},n.prototype.dispatchEvent=function(n,i){for(var f,e=this,r=0,u=this.getHandlers(n).slice(),r=0;r<u.length;r++)f=new t(n,e._azureHtml5,i),u[r].functionHandler.call(u[r].callerInstance,f)},n.prototype._findHandlerByFunction=function(n,t){for(var r=-1,i=0;i<n.length;i++)if(n[i].functionHandler===t){r=i;break}return r},n}(),t,i;n.Manager=r;t=function(){function n(n,t,i){this.type=n;this.currentDate=new Date;this.azureHtml5=t;this.presentationTimeInSec=t?t.currentTime:0;this.message=i}return n}();n.EventInfo=t;i=function(){function n(n,t){this.callerInstance=n;this.functionHandler=t}return n}();n.Handler=i})(n.Events||(n.Events={}));var t=n.Events}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function u(n){return n>=400&&n<600?2097152|n:2097152}function f(n){var t="";return n.filename&&(t+=" file: "+n.filename),n.lineno&&(t+=" line: "+n.lineno),n.colno&&(t+=" colno: "+n.colno),n.error&&(t+="error: "+n.error),n.message&&(t+="msg: "+n.message),t}function e(t){if(undefined===t||null===t)return"undefined";var i=s(t.code);return t.msExtendedCode&&(i+=", msErrorCode: "+n.Common.toHexString(t.msExtendedCode)),i}function o(n,t,r,u){var f=new i(t,r,u);null!=n&&(n.externalFailure=f)}function s(n){switch(n){case MediaError.MEDIA_ERR_ABORTED:return"MEDIA_ERR_ABORTED";case MediaError.MEDIA_ERR_NETWORK:return"MEDIA_ERR_NETWORK";case MediaError.MEDIA_ERR_DECODE:return"MEDIA_ERR_DECODE";case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return n.toString()}}function h(n){return n>1048575}var i=function(){function t(n,t,i){this.originModuleId=n;this.code=t;this.message=i}return t.prototype.dispose=function(){this.originModuleId=null;this.code=null;this.message=null},t.prototype.toString=function(){var t;return t="Module = "+this.originModuleId+" FailureCode = "+n.Common.toHexString(this.code),this.message&&(t+=" "+this.message),t},t}(),r;t.Record=i;t.translateHttpStatusToCode=u;t.errorEventToString=f;t.mediaErrorToString=e;t.attachFailureToRequest=o;t.isExternalError=h;r=function(){function t(n,t){n?(this.code=n,this.message=t):(this.code=0,this.message=null)}return t.prototype.translateMediaError=function(t){this.code=t.code<<20;t.msExtendedCode&&(this.message="msErrorCode: "+n.Common.toHexString(t.msExtendedCode))},t.prototype.toString=function(){var t="code: "+n.Common.toHexString(this.code);return this.message&&(t+=", msg: "+this.message),t},t}();t.External=r})(n.Failure||(n.Failure={}));var t=n.Failure}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function l(n,t){r(n,3,t)}function a(n,t){r(n,2,t)}function v(n,t){r(n,1,t)}function y(n){i=n}function p(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!0}):t[n]=!0}function w(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!1}):t[n]=!1}function b(n){typeof n=="undefined"&&(n=!0);h=n}function k(n){typeof n=="undefined"&&(n=!0);var t=e;return n&&(e=""),t}function d(n,t){o=n;c=t}function r(n,r,f){var l,a;if(o&&r<=i){o(c,r,u[n]+": "+f);return}l=new Date(Date.now());r<=i&&t[n]&&(a="["+l.getHours()+":"+l.getMinutes()+":"+(l.getSeconds()+l.getMilliseconds()/1e3).toFixed(3)+"] "+s[r]+": "+u[n]+": "+f,h&&(e+="\n"+a),console.log(a))}var s,u,i,t,f;for(function(n){n[n.none=0]="none";n[n.error=1]="error";n[n.warning=2]="warning";n[n.verbose=3]="verbose"}(n.Level||(n.Level={})),s=n.Level,function(n){n[n.workflowSequencer=0]="workflowSequencer";n[n.workflowCoordinator=1]="workflowCoordinator";n[n.htmlAdapter=2]="htmlAdapter";n[n.videoElementAdapter=3]="videoElementAdapter";n[n.manifestParser=4]="manifestParser";n[n.httpDataRetriever=5]="httpDataRetriever";n[n.dashUrlFormatter=6]="dashUrlFormatter";n[n.azureHTML5=7]="azureHTML5";n[n.heuristics=8]="heuristics";n[n.segmentLocator=9]="segmentLocator";n[n.mediaParser=10]="mediaParser";n[n.mp4Parser=11]="mp4Parser";n[n.encrypted=12]="encrypted";n[n.common=13]="common";n[n.functionalTest=14]="functionalTest";n[n.max=15]="max"}(n.Area||(n.Area={})),u=n.Area,n.verbose=l,n.warning=a,n.error=v,n.setConsoleOutputByLevel=y,n.enableConsoleOutputByArea=p,n.disableConsoleOutputByArea=w,n.enableMemoryLog=b,n.getMemoryLog=k,n.setLoggerFunction=d,i=0,t=[],f=0;f<15;f++)t.push(!1);var h=!1,e="",o=undefined,c=null;n.enableConsoleOutputByArea();n.setConsoleOutputByLevel(1)})(n.Log||(n.Log={}));var t=n.Log}(AzureHtml5JS||(AzureHtml5JS={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";function r(t,i,r){typeof r=="undefined"&&(r=0);var u,f=r;if(!i||i.length!==4)return n.Log.error(11,"Parameter error, box type must have four characters"),null;if(!t||t.byteLength<8)return n.Log.error(11,"Parameter error, not enough data"),null;while(f<t.byteLength){if(u=c(t,f),!u)break;if(u.type===i)return u;f+=u.size}return null}function c(t,i){if(!t||t.byteLength-i<8)return n.Log.error(11,"MP4 box parsing error, not enough data for box header"),null;var r=new f(t,i);if(r.size=r.getUint32(),r.type=r.readString(4),r.size===1){if(t.byteLength-i<16)return n.Log.error(11,"MP4 box parsing error, not enough data for largesize"),null;if(r.size=r.getUint32()<<32,r.size+=r.getUint32(),r.size>9007199254740991)return n.Log.error(11,"Box size too big for precise representation as Javascript number"),null}else r.size===0&&(r.size=t.byteLength);if(r.size>t.byteLength-i)return null;if(r.type==="uuid"){if(t.byteLength-r.readPosition<16)return n.Log.error(11,"MP4 box parsing error, not enough data for usertype"),null;r.usertype=r.readString(16)}return r.data=new DataView(t.buffer,t.byteOffset+r.readPosition,t.byteLength-r.readPosition),r}function l(t){var i,u=null;return(i=r(t,"tfhd"),!i)?(n.Log.warning(11,"tfhd not found"),null):(u=e.parse(i),u||n.Log.warning(11,"Parsing of tfhd failed"),u)}function a(t){var i,u=null;return(i=r(t,"trun"),!i)?(n.Log.warning(11,"trun not found"),null):(u=o.parse(i),u||n.Log.warning(11,"Parsing of trun failed"),u)}function v(t){var i,u=null;return(i=r(t,"tfdt"),!i)?(n.Log.warning(11,"tfdt not found"),null):(u=h.parse(i),u||n.Log.warning(11,"Parsing of tfdt failed"),u)}function y(t){for(var i,f=[],e=0,o;e<t.byteLength;){if(i=r(t,u.typeStr,e),!i)return n.Log.warning(11,"pssh not found"),f;o=u.parse(i);o?f.push(o):n.Log.warning(11,"Parsing of pssh failed");e+=i.size}return f}var f=function(){function t(t,i){t&&typeof i!="undefined"&&(this.data=t,this.reader=new n.DataViewReaderWriter.Reader(t,i))}return t.prototype.getUint32=function(){return this.reader.getUint32()},t.prototype.getInt32=function(){return this.reader.getInt32()},t.prototype.getUint8=function(){return this.reader.getUint8()},t.prototype.getBytes=function(n){return this.reader.getBytes(n)},t.prototype.readString=function(n){return this.reader.readString(n)},Object.defineProperty(t.prototype,"readPosition",{get:function(){return this.reader.readPos},enumerable:!0,configurable:!0}),t}(),i,e,o,s,h,u;t.Mp4Box=f;i=function(t){function i(i){t.call(this);i&&(this.size=i.size,this.type=i.type,this.usertype=i.usertype,this.data=i.data,this.reader=new n.DataViewReaderWriter.Reader(this.data),this._versionFlags=i._versionFlags)}return __extends(i,t),i.parse=function(t){var r=null;return t.data.byteLength<4?(n.Log.error(11,"Full box parsing error, not enough bytes"),null):(r=new i,r.size=t.size,r.type=t.type,r.usertype=t.usertype,r._versionFlags=t.data.getUint32(0),r.data=new DataView(t.data.buffer,t.data.byteOffset+4,t.data.byteLength-4),r.reader=new n.DataViewReaderWriter.Reader(r.data),r)},i.serialize=function(t,i){var f=(t.type==="uuid"?16:0)+12,u=i+f,e=new ArrayBuffer(u),o=new DataView(e),r=new n.DataViewReaderWriter.Writer(o);if(u>4294967295)throw new Error("Mp4FullBox::serialize, large size is not supported");if(r.setUint32(u),r.setString(t.type),t.type==="uuid"&&r.setString(t.usertype),r.setUint32(t._versionFlags),r.writePos!==f)throw new Error("Mp4FullBox::serialize, inconsistent bytes written");return r},Object.defineProperty(i.prototype,"version",{get:function(){return this._versionFlags>>24},set:function(n){this._versionFlags&=16777215;this._versionFlags|=n<<24},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"flags",{get:function(){return this._versionFlags&16777215},set:function(n){this._versionFlags&=4278190080;this._versionFlags|=n&16777215},enumerable:!0,configurable:!0}),i.prototype.getUint32Cond=function(n){var t;return n&this.flags&&(t=this.reader.getUint32()),t},i}(f);t.Mp4FullBox=i;e=function(t){function r(n){t.call(this,n)}return __extends(r,t),r.parse=function(t){var u=null,f=null;return(f=i.parse(t),!f)?null:(u=new r(f),f.data.byteLength<u._calculatedSize())?(n.Log.error(11,"tfhd box parsing error, not enough data"),null):(u.trackId=u.getUint32(),u.baseDataOffsetHi=u.getUint32Cond(r.flags_baseDataOffsetPresent),u.baseDataOffsetLo=u.getUint32Cond(r.flags_baseDataOffsetPresent),u.sampleDescriptionIndex=u.getUint32Cond(r.flags_sampleDescriptionIndexPresent),u.defaultSampleDuration=u.getUint32Cond(r.flags_defaultSampleDurationPresent),u.defaultSampleSize=u.getUint32Cond(r.flags_defaultSampleSizePresent),u.defaultSampleFlags=u.getUint32Cond(r.flags_defaultSampleFlagsPresent),u)},r.prototype._calculatedSize=function(){var n=4;return n+=this.flags&r.flags_baseDataOffsetPresent?8:0,n+=this.flags&r.flags_sampleDescriptionIndexPresent?4:0,n+=this.flags&r.flags_defaultSampleDurationPresent?4:0,n+=this.flags&r.flags_defaultSampleSizePresent?4:0,n+(this.flags&r.flags_defaultSampleFlagsPresent?4:0)},r.typeStr="tfhd",r.flags_baseDataOffsetPresent=1,r.flags_sampleDescriptionIndexPresent=2,r.flags_defaultSampleDurationPresent=8,r.flags_defaultSampleSizePresent=16,r.flags_defaultSampleFlagsPresent=32,r.flags_durationIsEmpty=65536,r.flags_defaultBaseIsMoof=131072,r}(i);t.TfhdBox=e;o=function(t){function r(n){t.call(this,n)}return __extends(r,t),r.parse=function(t){var u=null,e=null,o,f;if(e=i.parse(t),!e)return null;if((u=new r(e),e.data.byteLength<4)||(u.sampleCount=u.getUint32(),e.data.byteLength<u._calculatedSize()))return n.Log.error(11,"trun box parsing error, not enough data"),null;for(u.dataOffset=u.getUint32Cond(r.flags_dataOffsetPresent),u.firstSampleFlags=u.getUint32Cond(r.flags_firstSampleFlagsPresent),u.sampleInfoArray=[],o=0;o<u.sampleCount;o++)f=new s,f.sampleDuration=u.getUint32Cond(r.flags_sampleDurationPresent),f.sampleSize=u.getUint32Cond(r.flags_sampleSizePresent),f.sampleFlags=u.getUint32Cond(r.flags_sampleFlagsPresent),u.flags&r.flags_sampleCompositionTimeOffsetsPresent&&(f.sampleCompositionTimeOffset=u.version===0?u.getUint32():u.getInt32()),u.sampleInfoArray.push(f);return u},r.prototype._calculatedSize=function(){var t=4,n;return t+=this.flags&r.flags_dataOffsetPresent?4:0,t+=this.flags&r.flags_firstSampleFlagsPresent?4:0,n=this.flags&r.flags_sampleDurationPresent?4:0,n+=this.flags&r.flags_sampleSizePresent?4:0,n+=this.flags&r.flags_sampleFlagsPresent?4:0,n+=this.flags&r.flags_sampleCompositionTimeOffsetsPresent?4:0,t+this.sampleCount*n},r.typeStr="trun",r.flags_dataOffsetPresent=1,r.flags_firstSampleFlagsPresent=4,r.flags_sampleDurationPresent=256,r.flags_sampleSizePresent=512,r.flags_sampleFlagsPresent=1024,r.flags_sampleCompositionTimeOffsetsPresent=2048,r}(i);t.TrunBox=o;s=function(){function n(){}return n}();t.TrunSampleInfo=s;h=function(t){function r(n){t.call(this,n);this.baseMediaDecodeTime=0}return __extends(r,t),r.parse=function(t){var u=null,f=null;return(f=i.parse(t),!f)?null:(u=new r(f),f.data.byteLength<u._calculatedSize())?(n.Log.error(11,"tfdt box parsing error, not enough data"),null):(u.version===1&&(u.baseMediaDecodeTime=u.getUint32()*4294967296),u.baseMediaDecodeTime+=u.getUint32(),u.baseMediaDecodeTime>=9007199254740992&&n.Log.warning(11,"tfdt timestamp greater than 53 bits, possible precision loss"),u)},r.prototype._calculatedSize=function(){return this.version===1?8:4},r.typeStr="tfdt",r}(i);t.TfdtBox=h;u=function(t){function r(n){n?t.call(this,n):this.type=r.typeStr;this._keyIds=[]}return __extends(r,t),r.parse=function(t){var u=null,f=null,e,o,h,s;if(f=i.parse(t),!f)return null;if(u=new r(f),f.data.byteLength<u._calculatedSize())return n.Log.error(11,"pssh box parsing error, not enough data"),null;if(u.systemId=u.getBytes(16),e=0,u.version>0){if(e=u.getUint32(),u._keyIds.length=e,f.data.byteLength<u._calculatedSize())return n.Log.error(11,"pssh box parsing error, not enough data"),null;for(o=0;o<e;o++)h=u.getBytes(16),u._keyIds[o]=h}return(s=u.getUint32(),f.data.byteLength<u._calculatedSize(s))?(n.Log.error(11,"pssh box parsing error, not enough data"),null):(u.specificData=u.getBytes(s),u)},r.prototype.addKeyId=function(n){if(n.length!==16)throw new Error("keyId must be 16 bytes");this.version=1;this._keyIds.push(n)},Object.defineProperty(r.prototype,"keyIds",{get:function(){return this._keyIds},enumerable:!0,configurable:!0}),r.prototype._calculatedSize=function(n){typeof n=="undefined"&&(n=0);var t=20+n;return this.version>0&&(t+=4+this._keyIds.length*16),t},r.prototype.serialize=function(){var n=i.serialize(this,this._calculatedSize(this.specificData.byteLength));if(!this.systemId)throw new Error("systemId is not set");if(n.setBytes(this.systemId),this.version>0&&(n.setUint32(this._keyIds.length),this._keyIds.forEach(function(t){n.setBytes(t)})),!this.specificData)throw new Error("specificData is not set");if(n.setUint32(this.specificData.byteLength),n.setBytes(this.specificData),n.writePos!=n.data.buffer.byteLength)throw new Error("Failed to write to end of buffer");return n.data.buffer},r.typeStr="pssh",r}(i);t.PsshBox=u;t.GetBoxByType=r;t.GetTfhdBox=l;t.GetTrunBox=a;t.GetTfdtBox=v;t.GetPsshBoxes=y})(n.Mp4Util||(n.Mp4Util={}));var t=n.Mp4Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(){return n.VideoElementAdapter.supported("video/mp4",'codecs="avc1.4d404f"')}function r(n){var i=!1,t;return n&&n.canPlayType&&(t=n.canPlayType("application/vnd.apple.mpegurl"),(t==="maybe"||t==="probably")&&(i=!0)),i}function u(n){var i=!1,t;return n&&n.canPlayType&&(t=n.canPlayType("video/mp4"),(t==="maybe"||t==="probably")&&(i=!0)),i}(function(n){n[n.type1=1]="type1";n[n.type2=2]="type2";n[n.type3=3]="type3"})(t.Type||(t.Type={}));var f=t.Type;t.MseSupported=i;t.HlsType1Supported=r;t.Mp4Type1Supported=u})(n.PlayerDetector||(n.PlayerDetector={}));var t=n.PlayerDetector}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function s(n,t){var r;if(n&&n.length>0&&(r=n.trim().toLowerCase(),o[r]))return i(o[r],t)}function h(n,t){var o=n.trim().toLowerCase(),s,h;return o.lastIndexOf(".ism/")>-1&&(s=u(o),f[s])?i(f[s],t):(h=r(o),e[h])?i(e[h],t):null}function r(n){var i=null,t=n.lastIndexOf("."),r=n.indexOf("/",t);return t>-1&&(i=n.substring(t+1,r!==-1?r:n.length)),i}function u(n){var t=null,i=n,e="(format=",o=n.lastIndexOf("?"),r,u,f;return o>-1&&(i=n.substring(0,o)),r=i.lastIndexOf(e),r>-1&&(u=i.lastIndexOf(")"),u>r&&(t=i.substring(r+e.length,u),f=t.indexOf(","),f>-1&&(t=t.substring(0,f)))),t}function i(t,i){var r=null;switch(t){case 1:n.PlayerDetector.HlsType1Supported(i)&&(r=1);break;case 2:n.PlayerDetector.Mp4Type1Supported(i)&&(r=1);break;case 3:n.PlayerDetector.MseSupported(i)&&(r=3)}return r}(function(n){n[n.hls=1]="hls";n[n.mp4=2]="mp4";n[n.dash=3]="dash"})(t.Format||(t.Format={}));var c=t.Format,f={"m3u8-aapl-v3":1,"m3u8-aapl-v4":1,"mpd-time-csf":3},e={mp4:2,m3u8:1},o={"video/mp4":2,"application/dash+xml":3,"application/vnd.apple.mpegurl":1};t.getByPresentationType=s;t.getByUrl=h;t._getFileExtension=r;t._getAzureMediaFormatTag=u;t._getPlayerTypeByFormat=i})(n.PlayerType||(n.PlayerType={}));var t=n.PlayerType}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function f(n){for(var r,t=0;t<i.length;t++)if(i[t]&&i[t].id&&i[t].id==n)return r=i.splice(t,1),r.length===1?r[0]:null;return null}var r,i,e,u;if(t.setTimeout=window.setTimeout.bind(window),t.clearTimeout=window.clearTimeout.bind(window),!window.Worker||!Blob||!window.URL||!window.URL.createObjectURL||navigator.userAgent.indexOf("MSAppHost")!=-1){n.Log.verbose(7,"AzureHtml5JS.Util: cannot override setTimeout/clearTimeout");return}r=0;i=[];try{e=new Blob(["'use strict';(function () {var timers = [];onmessage = function (event) {if (!event.data.id) {return;}if (event.data.start) {if (event.data.ms) {var internalId = setTimeout(function () {var expiredId = removeTimer(event.data.id);if (expiredId && expiredId.external) {postMessage({ type: 'timeout', id: expiredId.external });}}, event.data.ms);timers.push({ external: event.data.id, internal: internalId });postMessage({ type: 'started', id: event.data.id });}else {postMessage({ type: 'timeout', id: event.data.id });}}else if (event.data.stop) {var removedId = removeTimer(event.data.id);if (removedId && removedId.internal) {clearTimeout(removedId.internal);}postMessage({ type: 'cancelled', id: event.data.id });}};function removeTimer(timerId) {for (var i = 0; i < timers.length; i++) {if (timers[i] && timers[i].external && timers[i].external == timerId) {var removed = timers.splice(i, 1);return removed.length === 1 ? removed[0] : null;}}return null;}})();"],{type:"text/javascript"});u=new Worker(window.URL.createObjectURL(e));u.onmessage=function(n){if(n.data.type==="timeout"){var t=f(n.data.id);t&&t.callback&&t.callback.apply(t.ctx,t.args)}else n.data.type==="cancelled"&&f(n.data.id)};t.setTimeout=function(n,t){for(var e=[],f=0;f<arguments.length-2;f++)e[f]=arguments[f+2];return r++,i.push({id:r,ctx:this,callback:n,args:e}),u.postMessage({start:!0,id:r,ms:t}),r};t.clearTimeout=function(n){u.postMessage({stop:!0,id:n})}}catch(o){n.Log.verbose(7,"AzureHtml5JS.Util: setTimeout/clearTimeout override failed: "+o)}})(n.Util||(n.Util={}));var t=n.Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(n){var t=n.requestedStream.streamingInfo.currentSegment,i=t.segmentInfo.durationInSec;return!i&&n.sessionContext.commonPresentation.isLive&&t.prev&&(i=t.prev.segmentInfo.durationInSec),i}function r(t){return n.assert(t.requestedStream.type===0||t.requestedStream.type===1,"getBufferData: unexpected type"),t.requestedStream.type===0?t.sessionContext.videoBufferData:t.sessionContext.audioBufferData}t.getSegmentDuration=i;t.getBufferData=r})(n.StreamUtil||(n.StreamUtil={}));var t=n.StreamUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function r(n,r){var f,u,e="",h,o,s;if(n.length>t?(f=parseInt(n.slice(0,n.length-t),10),u=parseInt(n.slice(n.length-t),10)):(f=0,u=parseInt(n,10)),u+=r,u>=i&&(h=Math.floor(u/i),f+=h,u=u%i),o=u.toString(),f)for(e=f.toString(),s=0;s<t-o.length;s++)e+="0";return e+o}var t=6,i=Math.pow(10,t);n.add=r})(n.Timestamp||(n.Timestamp={}));var t=n.Timestamp}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t=function(){function t(){}return t.FormatDashMediaUrl=function(n,t,i,r){if(!n)throw new Error("url Template is not set");if(!t)throw new Error("bitrate is not set");var u=n;return u=u.replace("$Bandwidth$",t),i&&(u=u.replace("$Time$",i)),r&&(u+=r),u},t.FormatDashInitUrl=function(t,i,r){return n.UrlFormatter.FormatDashMediaUrl(t,i,null,r)},t}();n.UrlFormatter=t})(n.Util||(n.Util={}));var t=n.Util}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function r(n,t,r){var u="WebKitMediaKeys"in window,f="MSMediaKeys"in window,e="requestMediaKeySystemAccess"in navigator;if(e){var o=new i(t),s=new i(r),h=new d(["cenc"],[o],[s]);return navigator.requestMediaKeySystemAccess(n,[h])}return new Promise(function(t,i){var r="video/mp4";if(u){window.WebKitMediaKeys.isTypeSupported(n,r)?t():i();return}if(f){window.MSMediaKeys.isTypeSupported(n,r)?t():i();return}i();return})}function u(n,t,r){var u={initDataTypes:["cenc"],videoCapabilities:[new i(r)],audioCapabilities:[new i(t)]},f=[u];return navigator.requestMediaKeySystemAccess(n,f)}function f(n){var t="WebKitMediaKeys"in window,i="MSMediaKeys"in window;if(t)return new window.WebKitMediaKeys(n);if(i)return new window.MSMediaKeys(n);throw new Error("create MediaKeys not supported");}function e(n,t){var i="WebKitSetMediaKeys"in n,r="msSetMediaKeys"in n;if(i)n.WebKitSetMediaKeys(t);else if(r)n.msSetMediaKeys(t);else throw new Error("setMediaKeys not supported");}function o(n,t){n.addEventListener("webkitneedkey",t);n.addEventListener("msneedkey",t)}function s(n,t){n.addEventListener("encrypted",t)}function h(n,t){n.addEventListener("message",t)}function c(n,t){n.addEventListener("webkitkeymessage",t);n.addEventListener("mskeymessage",t)}function l(n,t){n.addEventListener("webkitkeyadded",t);n.addEventListener("mskeyadded",t)}function a(n,t){n.addEventListener("webkitkeyerror",t);n.addEventListener("mskeyerror",t)}function v(n,t){n.removeEventListener("webkitneedkey",t);n.removeEventListener("msneedkey",t)}function y(n,t){n.removeEventListener("encrypted",t)}function p(n,t){n.removeEventListener("message",t)}function w(n,t){n.removeEventListener("webkitkeymessage",t);n.removeEventListener("mskeymessage",t)}function b(n,t){n.removeEventListener("webkitkeyadded",t);n.removeEventListener("mskeyadded",t)}function k(n,t){n.removeEventListener("webkitkeyerror",t);n.removeEventListener("mskeyerror",t)}var d=function(){function n(n,t,i){this.initDataTypes=n;this.audioCapabilities=t;this.videoCapabilities=i}return n}(),i=function(){function t(t){this.contentType=t;this.robustness=n.Common.isChrome?"SW_SECURE_CRYPTO":""}return t}();t.isTypeSupported=r;t.createSupportedKeySystem=u;t.createMediaKeys=f;t.setMediaKeys=e;t.listenToNeedKey=o;t.listenToEncrypted=s;t.listenToMessage=h;t.listenToKeyMessage=c;t.listenToKeyAdded=l;t.listenKeyError=a;t.unlistenToNeedKey=v;t.unlistenToEncrypted=y;t.unlistenToMessage=p;t.unlistenToKeyMessage=w;t.unlistenToKeyAdded=b;t.unlistenKeyError=k})(n.EmeUtil||(n.EmeUtil={}));var t=n.EmeUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i=function(){function t(){if(!t.useJavascriptLibrary){var i="msCrypto"in window,n=i?window.msCrypto:window.crypto;this._webCryptor=n.subtle||n.webkitSubtle}}return t.prototype.dispose=function(){this._webCryptor=null},t.prototype.initialize=function(t,i,r){var f=this,u={name:"aes-cbc",iv:r};return new Promise(function(e,o){f._webCryptoImportKey(i,u).then(function(n){t.webCrypto={importedkey:n,algorithm:u};e()},function(u){if(!i||!r){o(u);return}t.forge={keyStr:n.Common.uint8ArrayToString(new Uint8Array(i)),ivStr:n.Common.uint8ArrayToString(new Uint8Array(r))};e()})})},t.prototype.isInitialized=function(n){return null!=n.forge||null!=n.webCrypto},t.prototype.decrypt=function(n,t){var i=this;return new Promise(function(r,u){n.webCrypto?i._webCryptoDecrypt(n.webCrypto.algorithm,n.webCrypto.importedkey,t).then(function(n){r(n)},function(n){u(n)}):i._forgeDecrypt(n.forge,t).then(function(n){r(n)},function(n){u(n)})})},t.prototype._webCryptoImportKey=function(n,t){var i=this;return new Promise(function(r,u){function e(n){var t=f.result?f.result:n;r(t)}function o(n){u(n)}if(!i._webCryptor){u("Platform doesn't support webCrypto");return}var f=i._webCryptor.importKey("raw",new Uint8Array(n),t,!1,["decrypt"]);"oncomplete"in f?(f.oncomplete=e,f.onerror=o):f.then(function(n){e(n)},function(n){o(n)})})},t.prototype._forgeDecrypt=function(i,r){return new Promise(function(u,f){function e(){n.Forge.decrypt(o,i,r)||(Date.now()-s<t._maxWorkerWaitMSec?n.Util.setTimeout(e,0):f())}function o(n){u(n.buffer)}var s=Date.now();e()})},t.prototype._webCryptoDecrypt=function(n,t,i){var r=this;return new Promise(function(u,f){function s(n){var t=e.result?e.result:n;u(t)}function o(n){f(n)}var e=r._webCryptor.decrypt(n,t,new Uint8Array(i));"oncomplete"in e?(e.oncomplete=s,e.onerror=o,e.onabort=o):e.then(function(n){s(n)},function(n){o(n)})})},t.useJavascriptLibrary=!1,t._maxWorkerWaitMSec=3e4,t}();t.Decryptor=i})(n.WebCryptoUtil||(n.WebCryptoUtil={}));var t=n.WebCryptoUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";function i(t,i,r,u,f){return new Promise(function(e,o){function h(){if(s.status==200){e(s.response);return}n.Log.error(13,"XHR load failed status:"+s.statusText+"("+s.status+"), expected to be 200, readyState:"+s.readyState+" ("+i+" "+t+")");o(n.Failure.translateHttpStatusToCode(s.status));return}function c(){n.Log.error(13,"XHR failed status: "+s.statusText+" ("+s.status+"), readyState: "+s.readyState);o(2097152);return}var s=new n.HttpRequest.XMLHttpRequestWrapper;s.onload=h;s.onerror=c;s.open(i,t);s.responseType=r;u&&u.forEach(function(n){n.name=="Content"&&(n.name="Content-Type");s.setRequestHeader(n.name,n.value)});f?s.send(f):s.send()})}t.authorizationHeader="Authorization";t.httpRequest=i})(n.HttpUtil||(n.HttpUtil={}));var t=n.HttpUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){function i(t,i){var r,h,u,f,s,e,o;if(!i||0===i.length)return!0;try{r=decodeURIComponent(i)}catch(c){return n.Log.error(12,c),!1}return(h="urn:microsoft:azure:mediaservices:keyacquisitionhostname",u=r.indexOf(h),-1===u)?!0:(f=r.indexOf("&",u),-1===f&&(f=r.length),s=r.substring(u,f),e=s.split("="),e.length!=2)?(n.Log.error(12,"AMS hostname token is malformed: "+s),!1):(o=document.createElement("a"),o.href=t,e[1].toLowerCase()!=o.hostname.toLowerCase())?(n.Log.error(12,"AMS hostname mismatch: "+e[1].toLowerCase()+", "+o.hostname.toLowerCase()),!1):!0}t.verifyKeyUrlWithToken=i})(n.AesUtil||(n.AesUtil={}));var t=n.AesUtil}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";n.forgeScript='(function(){function n(n){function i(n){var r,u;if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(t.isArrayBuffer(n)||t.isArrayBufferView(n)){r=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,r)}catch(f){for(u=0;u<r.length;++u)this.putByte(r[u])}}else(n instanceof i||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}var t=n.util=n.util||{},r;t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.isArrayBuffer=function(n){return typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer};t.isArrayBufferView=function(n){return n&&t.isArrayBuffer(n.buffer)&&n.byteLength!==undefined};t.ByteBuffer=i;t.ByteStringBuffer=i;r=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n;this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))};t.ByteStringBuffer.prototype.fillWithByte=function(n,t){n=String.fromCharCode(n);for(var i=this.data;t>0;)t&1&&(i+=n),t>>>=1,t>0&&(n+=n);return this.data=i,this._optimizeConstructedString(t),this};t.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this};t.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(t.encodeUtf8(n))};t.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))};t.ByteStringBuffer.prototype.putInt=function(n,t){var i="";do t-=8,i+=String.fromCharCode(n>>t&255);while(t>0);return this.putBytes(i)};t.ByteStringBuffer.prototype.putSignedInt=function(n,t){return n<0&&(n+=2<<t-1),this.putInt(n,t)};t.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n};t.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n};t.ByteStringBuffer.prototype.getInt=function(n){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(n){var t=this.getInt(n),i=2<<n-2;return t>=i&&(t-=i<<1),t};t.ByteStringBuffer.prototype.getBytes=function(n){var t;return n?(n=Math.min(this.length(),n),t=this.data.slice(this.read,this.read+n),this.read+=n):n===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};t.ByteStringBuffer.prototype.bytes=function(n){return typeof n=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)};t.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)};t.ByteStringBuffer.prototype.setAt=function(n,t){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(t)+this.data.substr(this.read+n+1),this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var n=t.createBuffer(this.data);return n.read=this.read,n};t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};t.ByteStringBuffer.prototype.truncate=function(n){var t=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,t),this.read=0,this};t.ByteStringBuffer.prototype.toHex=function(){for(var i,n="",t=this.read;t<this.data.length;++t)i=this.data.charCodeAt(t),i<16&&(n+="0"),n+=i.toString(16);return n};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.createBuffer=function(n,i){return i=i||"raw",n!==undefined&&i==="utf8"&&(n=t.encodeUtf8(n)),new t.ByteBuffer(n)};t.encodeUtf8=function(n){return unescape(encodeURIComponent(n))};t.decodeUtf8=function(n){return decodeURIComponent(escape(n))}}return typeof forge=="undefined"&&(forge={}),n(forge)})(),function(){function n(n){n.cipher=n.cipher||{};n.cipher.algorithms=n.cipher.algorithms||{};n.cipher.createDecipher=function(t,i){var r=t;if(typeof r=="string"&&(r=n.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:i,decrypt:!0})};n.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase();n.cipher.algorithms[t]=i};n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase(),t in n.cipher.algorithms)?n.cipher.algorithms[t]:null};var t=n.cipher.BlockCipher=function(n){this.algorithm=n.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=n.decrypt;this.algorithm.initialize(n)};t.prototype.start=function(t){var i,r;t=t||{};i={};for(r in t)i[r]=t[r];i.decrypt=this._decrypt;this._finish=!1;this._input=n.util.createBuffer();this.output=t.output||n.util.createBuffer();this.mode.start(i)};t.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};t.prototype.finish=function(n){n&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return n(this.blockSize,t,!1)},this.mode.unpad=function(t){return n(this.blockSize,t,!0)});var t={};return(t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))?!1:(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))?!1:this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)?!1:!0}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function i(t){var r,i;if(typeof t=="string"&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4)for(r=t,t=n.util.createBuffer(),i=0;i<r.length;++i)t.putByte(r[i]);return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}n.cipher=n.cipher||{};var t=n.cipher.modes=n.cipher.modes||{};t.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};t.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in n)this._iv=i(n.iv),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.");};t.cbc.prototype.encrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};t.cbc.prototype.decrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(n){var t=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(t,t),!0};t.cbc.prototype.unpad=function(n,t){if(t.overflow>0)return!1;var r=n.length(),i=n.at(r-1);return i>this.blockSize<<2?!1:(n.truncate(i),!0)}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function l(t,i){var r=function(){return new n.aes.Algorithm(t,i)};n.cipher.registerAlgorithm(t,r)}function h(){var u,o,c,l,w,a,h,b,v,y,n,p;for(f=!0,s=[0,1,2,4,8,16,32,64,128,27,54],u=new Array(256),n=0;n<128;++n)u[n]=n<<1,u[n+128]=n+128<<1^283;for(t=new Array(256),e=new Array(256),r=new Array(4),i=new Array(4),n=0;n<4;++n)r[n]=new Array(256),i[n]=new Array(256);for(o=0,c=0,n=0;n<256;++n){for(h=c^c<<1^c<<2^c<<3^c<<4,h=h>>8^h&255^99,t[o]=h,e[h]=o,b=u[h],l=u[o],w=u[l],a=u[w],v=b<<24^h<<16^h<<8^h^b,y=(l^w^a)<<24^(o^a)<<16^(o^w^a)<<8^o^l^a,p=0;p<4;++p)r[p][o]=v,i[p][h]=y,v=v<<24|v>>>8,y=y<<24|y>>>8;o===0?o=c=1:(o=l^u[u[u[l^a]]],c^=u[u[c]])}}function c(n,r){for(var h,y,e=n.slice(0),o,p=1,c=e.length,w=c+6+1,a=u*w,f=c;f<a;++f)o=e[f-1],f%c==0?(o=t[o>>>16&255]<<24^t[o>>>8&255]<<16^t[o&255]<<8^t[o>>>24]^s[p]<<24,p++):c>6&&f%c==4&&(o=t[o>>>24]<<24^t[o>>>16&255]<<16^t[o>>>8&255]<<8^t[o&255]),e[f]=e[f-c]^o;if(r){var v,b=i[0],k=i[1],d=i[2],g=i[3],l=e.slice(0);for(a=e.length,f=0,h=a-u;f<a;f+=u,h-=u)if(f===0||f===a-u)l[f]=e[h],l[f+1]=e[h+3],l[f+2]=e[h+2],l[f+3]=e[h+1];else for(y=0;y<u;++y)v=e[h+y],l[f+(3&-y)]=b[t[v>>>24]]^k[t[v>>>16&255]]^d[t[v>>>8&255]]^g[t[v&255]];e=l}return e}function o(n,u,f,o){var tt=n.length/4-1,y,p,w,b,s,h,c,l,a,d,g,nt,v,k;for(o?(y=i[0],p=i[1],w=i[2],b=i[3],s=e):(y=r[0],p=r[1],w=r[2],b=r[3],s=t),h=u[0]^n[0],c=u[o?3:1]^n[1],l=u[2]^n[2],a=u[o?1:3]^n[3],v=3,k=1;k<tt;++k)d=y[h>>>24]^p[c>>>16&255]^w[l>>>8&255]^b[a&255]^n[++v],g=y[c>>>24]^p[l>>>16&255]^w[a>>>8&255]^b[h&255]^n[++v],nt=y[l>>>24]^p[a>>>16&255]^w[h>>>8&255]^b[c&255]^n[++v],a=y[a>>>24]^p[h>>>16&255]^w[c>>>8&255]^b[l&255]^n[++v],h=d,c=g,l=nt;f[0]=s[h>>>24]<<24^s[c>>>16&255]<<16^s[l>>>8&255]<<8^s[a&255]^n[++v];f[o?3:1]=s[c>>>24]<<24^s[l>>>16&255]<<16^s[a>>>8&255]<<8^s[h&255]^n[++v];f[2]=s[l>>>24]<<24^s[a>>>16&255]<<16^s[h>>>8&255]<<8^s[c&255]^n[++v];f[o?1:3]=s[a>>>24]<<24^s[h>>>16&255]<<16^s[c>>>8&255]<<8^s[l&255]^n[++v]}n.aes=n.aes||{};n.aes.Algorithm=function(n,t){f||h();var i=this;i.name=n;i.mode=new t({blockSize:16,cipher:{encrypt:function(n,t){return o(i._w,n,t,!1)},decrypt:function(n,t){return o(i._w,n,t,!0)}}});i._init=!1};n.aes.Algorithm.prototype.initialize=function(t){var i,f,u,r,e,o;if(!this._init){if(i=t.key,typeof i=="string"&&(i.length===16||i.length===24||i.length===32))i=n.util.createBuffer(i);else if(n.util.isArray(i)&&(i.length===16||i.length===24||i.length===32))for(f=i,i=n.util.createBuffer(),r=0;r<f.length;++r)i.putByte(f[r]);if(!n.util.isArray(i)&&(f=i,i=[],u=f.length(),u===16||u===24||u===32))for(u=u>>>2,r=0;r<u;++r)i.push(f.getInt32());if(!n.util.isArray(i)||!(i.length===4||i.length===6||i.length===8))throw new Error("Invalid key parameter.");e=this.mode.name;o=["CFB","OFB","CTR","GCM"].indexOf(e)!==-1;this._w=c(i,t.decrypt&&!o);this._init=!0}};n.aes._expandKey=function(n,t){return f||h(),c(n,t)};n.aes._updateBlock=o;l("AES-CBC",n.cipher.modes.cbc);var f=!1,u=4,t,e,s,r,i}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){for(var i=new Uint8Array(n.length),t=0;t<i.byteLength;t++)i[t]=n.charCodeAt(t);return i}onmessage=function(t){if(t.data.keyStr&&t.data.ivStr&&t.data.encrypted){var i=forge.cipher.createDecipher("AES-CBC",t.data.keyStr);i.start({iv:t.data.ivStr});i.update(new forge.util.ByteBuffer(t.data.encrypted));i.finish();postMessage({decrypted:n(i.output.bytes())})}}}();'})(n.Forge||(n.Forge={}));var t=n.Forge}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(t){"use strict";var i,u,r;if(t.decrypt,t.decrypt=function(t,i,r){var u=forge.cipher.createDecipher("AES-CBC",i.keyStr),f;return u.start({iv:i.ivStr}),u.update(new forge.util.ByteBuffer(r)),u.finish(),f=n.Common.stringToUint8Array(u.output.bytes()),t.apply(null,[f]),!0},!window.Worker||!Blob||!window.URL||!window.URL.createObjectURL){n.Log.verbose(7,"AzureHtml5JS.Forge: cannot start worker for Forge");return}i=null;try{u=new Blob(["'use strict';var forge;"+t.forgeScript],{type:"text/javascript"});r=new Worker(window.URL.createObjectURL(u));t.decrypt=function(n,t,u){return i===null?(i=n,r.postMessage({keyStr:t.keyStr,ivStr:t.ivStr,encrypted:u}),!0):!1};r.onmessage=function(n){n.data.decrypted&&(i.apply(null,[n.data.decrypted]),i=null)}}catch(f){n.Log.verbose(7,"AzureHtml5JS.Forge: Forge worker setup failed: "+f)}})(n.Forge||(n.Forge={}));var t=n.Forge}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";var t=function(){function n(){this.xmlHttpRequestDelegate=new XMLHttpRequest}return Object.defineProperty(n.prototype,"responseType",{get:function(){return this.xmlHttpRequestDelegate.responseType},set:function(n){this.xmlHttpRequestDelegate.responseType=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"timeout",{get:function(){return this.xmlHttpRequestDelegate.timeout},set:function(n){this.xmlHttpRequestDelegate.timeout=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"msCaching",{get:function(){return this.xmlHttpRequestDelegate.msCaching?this.xmlHttpRequestDelegate.msCaching:undefined},set:function(n){this.xmlHttpRequestDelegate.msCaching&&(this.xmlHttpRequestDelegate.msCaching=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"readyState",{get:function(){return this.xmlHttpRequestDelegate.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this.xmlHttpRequestDelegate.status},set:function(n){this.xmlHttpRequestDelegate.status=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"response",{get:function(){return this.xmlHttpRequestDelegate.response},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statusText",{get:function(){return this.xmlHttpRequestDelegate.statusText},enumerable:!0,configurable:!0}),n.prototype.setRequestHeader=function(n,t){this.xmlHttpRequestDelegate.setRequestHeader(n,t)},n.prototype.abort=function(){this.xmlHttpRequestDelegate.abort()},n.prototype.open=function(n,t,i,r,u){this.xmlHttpRequestDelegate.open(n,t,i?i:!0,r,u)},n.prototype.getResponseHeader=function(n){return this.xmlHttpRequestDelegate.getResponseHeader(n)},n.prototype.send=function(n){this.setCallbacksOnDelegate();this.xmlHttpRequestDelegate.send(n)},n.prototype.setCallbacksOnDelegate=function(){var n=this;this.xmlHttpRequestDelegate.onabort=function(t){if(n.onabort)n.onabort(t)};this.xmlHttpRequestDelegate.onerror=function(t){if(n.onerror)n.onerror(t)};this.xmlHttpRequestDelegate.onload=function(t){if(n.onload)n.onload(t)};this.xmlHttpRequestDelegate.onloadstart=function(t){if(n.onloadstart)n.onloadstart(t)};this.xmlHttpRequestDelegate.onloadend=function(t){if(n.onloadend)n.onloadend(t)};this.xmlHttpRequestDelegate.onprogress=function(t){if(n.onprogress)n.onprogress(t)};this.xmlHttpRequestDelegate.ontimeout=function(t){if(n.ontimeout)n.ontimeout(t)};this.xmlHttpRequestDelegate.onreadystatechange=function(t){if(n.onreadystatechange)n.onreadystatechange(t)}},n}();n.XMLHttpRequestWrapper=t})(n.HttpRequest||(n.HttpRequest={}));var t=n.HttpRequest}(AzureHtml5JS||(AzureHtml5JS={})),function(n){(function(n){"use strict";function f(n,t){r(n,3,t)}function c(n,t){r(n,2,t)}function l(n,t){r(n,1,t)}function w(n){for(var t,i=[],r=0;r<arguments.length-1;r++)i[r]=arguments[r+1];if(i&&i.length>0){t=Array.prototype.slice.call(i[0]);switch(n){case"warn":c(4,t.join(" "));break;case"error":l(4,t.join(" "));break;case null:f(4,t.join(" "));break;default:f(4,t.join(" "))}}}function b(n){s=n}function k(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!0}):t[n]=!0}function d(n){undefined===n||null===n?t.forEach(function(n,t,i){i[t]=!1}):t[n]=!1}function g(n){typeof n=="undefined"&&(n=!0);u=n}function nt(n){if(n!==undefined&&n.TraceTargets&&!(n.TraceTargets.length<=0)){u=!1;h=!1;s=n.maxLogLevel;for(var t=0;t<n.TraceTargets.length;t++)n.TraceTargets[t].target.toLowerCase()==="console"?h=!0:n.TraceTargets[t].target.toLowerCase()==="memory"&&(u=!0,p=n.TraceTargets[t].maxMemoryTraceCount?n.TraceTargets[t].maxMemoryTraceCount:y)}}function tt(n){typeof n=="undefined"&&(n=!0);var t=i;return n&&(i=[]),t.join("\n")}function r(n,r,f){var e=new Date(Date.now()),o;r<=s&&t[n]&&(o="["+e.getHours()+":"+e.getMinutes()+":"+(e.getSeconds()+e.getMilliseconds()/1e3).toFixed(3)+"] "+a[r]+": "+v[n]+": "+f,u&&(i.length>p&&i.shift(),i.push(o)),h&&it.log(o))}var a,v,e;(function(n){n[n.none=0]="none";n[n.error=1]="error";n[n.warning=2]="warning";n[n.verbose=3]="verbose"})(n.Level||(n.Level={}));a=n.Level,function(n){n[n.functionalTest=0]="functionalTest";n[n.azureHtml5JS=1]="azureHtml5JS";n[n.flashSS=2]="flashSS";n[n.silverlightSS=3]="silverlightSS";n[n.videojs=4]="videojs";n[n.plugin=5]="plugin";n[n.html5FairplayHLS=6]="html5FairplayHLS";n[n.max=7]="max"}(n.Area||(n.Area={}));v=n.Area;n.verbose=f;n.warning=c;n.error=l;n.videoJSLogOverride=w;n.setConsoleOutputByLevel=b;n.enableConsoleOutputByArea=k;n.disableConsoleOutputByArea=d;n.enableMemoryLog=g;n.setLogConfig=nt;n.getMemoryLog=tt;n.writeEntry=r;var o=function(){},it=window.console||{log:o,warn:o,error:o},s=0,t=[];for(e=0;e<7;e++)t.push(!1);var y=5e4,u=!1,i=[],p=y,h=!0;n.enableConsoleOutputByArea();n.setConsoleOutputByLevel(1)})(n.Logger||(n.Logger={}));var t=n.Logger}(AMP||(AMP={})),function(n){(function(n){"use strict";function t(n){for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t=[],r=0,i;r<n.byteLength;)i=n[r++],t.push(u.charAt(i>>2)),i=(i&3)<<4,r<n.byteLength?(t.push(u.charAt(i|n[r]>>4)),i=(n[r++]&15)<<2,r<n.byteLength?(t.push(u.charAt(i|n[r]>>6)),t.push(u.charAt(n[r++]&63))):(t.push(u.charAt(i)),t.push("="))):(t.push(u.charAt(i)),t.push("=="));return t.join("")}function i(n){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=new Uint8Array(new ArrayBuffer(n.length*3/4+4)),t=0,u=0,o,f,e,s;t<n.length;)o=i.indexOf(n.charAt(t)),f=i.indexOf(n.charAt(t+1)),r[u++]=o<<2|f>>4,n.charAt(t+2)!=="="&&(e=i.indexOf(n.charAt(t+2)),r[u++]=f<<4|e>>2,n.charAt(t+3)!=="="&&(s=i.indexOf(n.charAt(t+3)),r[u++]=e<<6|s)),t+=4;return new Uint8Array(r.buffer,0,u)}n.binaryToBase64=t;n.base64ToBinary=i})(n.Base64Utils||(n.Base64Utils={}));var t=n.Base64Utils}(AMP||(AMP={}));amp=videojs;ampURL="http://amp.azure.net/libs/amp/";amp.Player.prototype.enterFullscreen=amp.Player.prototype.requestFullScreen;amp.Player.prototype.addEventListener=amp.Player.prototype.on;amp.Player.prototype.removeEventListener=amp.Player.prototype.off;amp.Player.prototype.currentTechName=function(){return this.techName};amp.Player.prototype.playerElement=function(){return this.el_};amp.Player.prototype.currentAbsoluteTime=function(){return this.techGet("currentAbsoluteTime")};amp.Player.prototype.currentMediaTime=function(){return this.techGet("currentMediaTime")};amp.Player.prototype.currentVideoStreamList=function(){return this.techGet("currentVideoStreamList")};amp.Player.prototype.currentAudioStreamList=function(){return this.techGet("currentAudioStreamList")};amp.Player.prototype.videoBufferData=function(){return this.techGet("videoBufferData")};amp.Player.prototype.audioBufferData=function(){return this.techGet("audioBufferData")};amp.Player.prototype.currentDownloadBitrate=function(){return this.techGet("currentDownloadBitrate")};amp.Player.prototype.currentPlaybackBitrate=function(){return this.techGet("currentPlaybackBitrate")};amp.Player.prototype.videoWidth=function(){return this.techGet("videoWidth")};amp.Player.prototype.videoHeight=function(){return this.techGet("videoHeight")};amp.Player.prototype.currentProtectionInfo=function(){return this.options_.playbackOptions.protectionInfo};amp.Player.prototype.isLive=function(){return this.techGet("isLive")};amp.Player.prototype.manifestPlayableWindowLength=function(){return this.techGet("manifestPlayableWindowLength")};amp.Player.prototype.currentPlayableWindow=function(){return this.techGet("currentPlayableWindow")};amp.Player.prototype.segmentBoundaries=function(){return this.techGet("segmentBoundaries")};amp.Player.prototype.toPresentationTime=function(n){return this.player().isLive()&&this.player().currentPlayableWindow()?n+this.player().currentPlayableWindow().startInSec:n};amp.Player.prototype.fromPresentationTime=function(n){return this.player().isLive()&&this.player().currentPlayableWindow()?n-this.player().currentPlayableWindow().startInSec:n};amp.Player.prototype.currentHeuristicProfile=function(n){return n===undefined?amp.Heuristics.findProfile(this.options_.heuristicProfile).name:(this.options_.heuristicProfile=n,this)};amp.Player.prototype.currentPlayerSettingValue=function(n){var i,t;this.updateCurrentPlayerConfigs();i={};for(t in this.options_.currentPlayerConfigs.currentHeuristicConfigs)hasOwnProp.call(amp.Player._availableSettings.heuristicSettings,t)&&(i[t]=this.options_.currentPlayerConfigs.currentHeuristicConfigs[t]);return i[n]};amp.Player.getScriptRootURL=function(){var n=document.getElementsByTagName("script"),t=null,i,r,e,u,f;if(n&&n.length>=1)for(i=n.length-1;i>=0;i--)if(r=null,r=n[i].src,e=new RegExp("(.[^?]+)/azuremediaplayer(?:\\.min)?\\.js(?:\\?.*)?$","i"),r&&(u=r.match(e),u&&u.length===2)){t=u[1];break}return f=amp.Player.prototype.getAmpVersion(),!t&&f&&(t=ampURL+f),t};amp.Player.prototype.isFocused=!1;amp.Player.prototype.getAmpVersion=function(){var t=null,i,n;return ampVersion&&(i=new RegExp("([0-9]+.[0-9]+.[0-9]+).[0-9]+"),n=ampVersion.match(i),n&&n.length===2&&(t=n[1])),t};amp.Player.prototype.src=function(n,t){if(n===undefined)return this.currentSrc();if(!amp.obj.isArray(n)&&!(n instanceof Object))throw new Error("src is expecting a source object or an array of source objects");this.one("loadstart",function(){var n=!this.techName||this.techName==="Html5",t=!this.techName||this.techName==="Html5FairPlayHLS",i=this.options().autoplay;(n||t&&!i)&&this.removeClass("vjs-loading")});this.showPlayerLoad();t!==undefined&&t.length>0&&(this.options_.tracks=t);n.selected||(this.options().sdn={},amp.obj.isArray(n)?this.options().sourceList=n:n instanceof Object&&(this.options().sourceList=[n]),this.trigger(amp.eventName.sourceset),this.drmSupportCheck(this.options().sourceList));var i=function(){this.techSetupCheck()&&this.pluginSetupCheck()?n instanceof Object&&n.selected?(this.clearPlaybackOptions(),this.refreshTextTracks(),this.cache_.src=n.src,this.currentType_=n.type||"",this.ready(function(){n.protectionInfo&&(this.options_.playbackOptions.protectionInfo=n.protectionInfo);this.techCall("src",n.src);this.options_.preload=="auto"&&this.load()})):this.sourceList_(UrlRewriter.expandSources(this.options().sourceList)):setTimeout(i.bind(this),50)};return i.call(this),this};amp.Player.prototype.isProtectionInfoAvailable=function(){for(var n=0;n<this.options().sourceList.length;n++)if(this.options().sourceList[n].protectionInfo&&this.options().sourceList[n].protectionInfo.length>0)return!0;return!1};amp.Player.prototype.drmSupportCheck=function(n){for(var r,t,i=0,u=this.options_.techOrder;i<u.length;i++)r=vjs.capitalize(u[i]),t=window.amp[r],t&&t.drmSupportCheck&&t.drmSupportCheck(n)};amp.Player.prototype.techSetupCheck=function(){for(var i,n,t=0,r=this.options_.techOrder;t<r.length;t++)if(i=vjs.capitalize(r[t]),n=window.amp[i],n&&n.setupDone&&!n.setupDone())return!1;return!0};amp.Player.prototype.pluginSetupCheck=function(){var t=this.options_.plugins;for(var n in t)if(t.hasOwnProperty(n)&&this[n]&&this[n].setupDone&&!this[n].setupDone())return!1;return!0};amp.Player.prototype.sourceList_=function(n){var t=this.selectSource(n);t?this.tech&&t.tech===this.techName?t.tech==="FlashSS"&&(JSON.stringify(this.options_.playbackOptions.protectionInfo)!==JSON.stringify(t.source.protectionInfo)||this.tech.isReloadNeeded())?(this.clearPlaybackOptions(),this.loadTech(t.tech,t.source),this.refreshTextTracks()):(t.source.selected=!0,this.src(t.source)):(this.clearPlaybackOptions(),this.loadTech(t.tech,t.source),this.refreshTextTracks()):(this.tech&&this.unloadTech(),amp.Player.raiseError.call(this,"amp",amp.Player.getAMPErrorCode.call(this,n)),this.triggerReady())};amp.options.playbackOptions={};amp.Player.prototype.clearPlaybackOptions=function(){this.options_.playbackOptions={}};amp.Player.prototype.getMemoryLog=function(n){return AMP.Logger.getMemoryLog(n)};amp.Player.prototype.updateCurrentPlayerConfigs=function(){var i,n,t,u,r;if(this.options_.currentPlayerConfigs||(this.options_.currentPlayerConfigs={}),i=amp.Heuristics.findProfile(this.options_.heuristicProfile),this.options_.heuristicProfile===undefined&&(this.options_.heuristicProfile=i.name),n=i?amp.obj.copy(i):{},t=this.options_.customPlayerSettings,t&&t.customHeuristicSettings){u={};for(r in t.customHeuristicSettings)hasOwnProp.call(amp.Player._availableSettings.heuristicSettings,r)&&(u[r]=t.customHeuristicSettings[r]);n=amp.obj.merge(n,u)}n.maxBufferInSec<n.preRollInSec&&(n.maxBufferInSec=n.preRollInSec);n.livePlaybackOffsetInSec<n.preRollInSec&&(n.livePlaybackOffsetInSec=n.preRollInSec);this.options_.currentPlayerConfigs.currentHeuristicConfigs=n};amp.Player.prototype.setXmlHttpRequestFactory=function(n){this.tech&&this.tech.setXmlHttpRequestFactory?this.tech.setXmlHttpRequestFactory(n):AMP.Logger.warning(AMP.Logger.Area.videojs,"setXmlHttpRequestFactory unavailable on "+this.techName+" playback technology element.")};amp.Player._availableSettings={heuristicSettings:{preRollInSec:0,maxBufferInSec:0,livePlaybackOffsetInSec:0,windowSizeHeuristics:!1}};amp.protectionType={PlayReady:"PlayReady",Widevine:"Widevine",AES:"AES",FairPlay:"FairPlay"};amp.CorsConfig={Anonymous:"Anonymous",UseCredentials:"UseCredentials"};amp.StreamingFormatMimeType={Smooth:"application/vnd.ms-sstr+xml",Dash:"application/dash+xml",HLS:"application/vnd.apple.mpegurl"};amp.eventName={canplaythrough:"canplaythrough",durationchange:"durationchange",ended:"ended",error:"error",fullscreenchange:"fullscreenchange",loadstart:"loadstart",loadedmetadata:"loadedmetadata",loadeddata:"loadeddata",pause:"pause",play:"play",playing:"playing",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting",downloadbitratechanged:"downloadbitratechanged",playbackbitratechanged:"playbackbitratechanged",sourceset:"sourceset",disposing:"disposing"};amp.streamEventName={trackselected:"trackselected"};amp.streamListEventName={streamselected:"streamselected",streamindexinvalid:"streamindexinvalid",streamselectnotsupported:"streamselectnotsupported"};amp.errorCode={abortedErrStart:1048576,abortedErrUnknown:1048576,abortedErrNotImplemented:1048577,abortedErrHttpMixedContentBlocked:1048578,abortedErrEnd:2097151,networkErrStart:2097152,networkErrUnknown:2097152,networkErrHttpResponseBegin:2097552,networkErrHttpBadUrlFormat:2097552,networkErrHttpUserAuthRequired:2097553,networkErrHttpUserForbidden:2097555,networkErrHttpUrlNotFound:2097556,networkErrHttpNotAllowed:2097557,networkErrHttpGone:2097562,networkErrHttpPreconditionFailed:2097564,networkErrHttpInternalServerFailure:2097652,networkErrHttpBadGateway:2097654,networkErrHttpServiceUnavailable:2097655,networkErrHttpGatewayTimeout:2097656,networkErrHttpResponseEnd:2097751,networkErrTimeout:2097752,networkErrEnd:3145727,decodeErrStart:3145728,decodeErrUnknown:3145728,decodeErrEnd:4194303,srcErrStart:4194304,srcErrUnknown:4194304,srcErrParsePresentation:4194305,srcErrParseSegment:4194306,srcErrUnsupportedPresentation:4194307,srcErrInvalidSegment:4194308,srcErrEnd:5242879,encryptErrStart:5242880,encryptErrUnknown:5242880,encryptErrDecrypterNotFound:5242881,encryptErrDecrypterInit:5242882,encryptErrDecrypterNotSupported:5242883,encryptErrKeyAcquire:5242884,encryptErrDecryption:5242885,encryptErrLicenseAcquire:5242886,encryptErrEnd:6291455,srcPlayerMismatchStart:6291456,srcPlayerMismatchUnknown:6291456,srcPlayerMismatchFlashNotInstalled:6291457,srcPlayerMismatchSilverlightNotInstalled:6291458,srcPlayerMismatchEnd:7340031,errUnknown:267386880};amp.httpErrorCode={400:amp.errorCode.networkErrHttpBadUrlFormat,401:amp.errorCode.networkErrHttpUserAuthRequired,403:amp.errorCode.networkErrHttpUserForbidden,404:amp.errorCode.networkErrHttpUrlNotFound,405:amp.errorCode.networkErrHttpNotAllowed,410:amp.errorCode.networkErrHttpGone,412:amp.errorCode.networkErrHttpPreconditionFailed,500:amp.errorCode.networkErrHttpInternalServerFailure,502:amp.errorCode.networkErrHttpBadGateway,503:amp.errorCode.networkErrHttpServiceUnavailable,504:amp.errorCode.networkErrHttpGatewayTimeout};amp.bufferDataEventName={downloadrequested:"downloadrequested",downloadcompleted:"downloadcompleted",downloadfailed:"downloadfailed"};amp.Player.canSupportFormats=function(n,t){var r=t[n.type],i;if(r){if(!n.protectionInfo)return"maybe";for(i=0;i<n.protectionInfo.length;i++)if(r.indexOf(n.protectionInfo[i].type)!==-1)return"maybe"}return""};amp.Player.prototype.refreshTextTracks=function(){var t,n,i;if(this.tech){if(this.remoteTextTracks()&&this.remoteTextTracks().tracks_)while(this.remoteTextTracks().tracks_.length>0)this.removeRemoteTextTrack(this.remoteTextTracks().tracks_[0]);for(t=this.options_.tracks||[],n=0;n<t.length;n++)i=t[n],this.player_.addRemoteTextTrack(i);this.options_.tracks.length=0}this.controlBar&&this.controlBar.subtitlesButton&&this.controlBar.subtitlesButton.update();this.controlBar&&this.controlBar.captionsButton&&this.controlBar.captionsButton.update()};amp.Player.raiseError=function(n,t,i){var u=amp.Player.getErrorTechId(n)<<28,r;t&=~4026531840;t|=u;r=new amp.MediaError(t);r.message=i;this.error(r)};amp.Player.getErrorTechId=function(n){switch(n.toLowerCase()){case"amp":return 1;case"azurehtml5js":return 2;case"flashss":return 3;case"silverlightss":return 4;case"html5":return 5;case"html5fairplayhls":return 6;default:return 0}};amp.Player.getErrorUI=function(n){var t=(n.code&267386880)>>20;return 0===t?n.message:6===t?this.options().notSupportedMessage:255===t?"MEDIA_ERR_UNKNOWN":vjs.MediaError.errorTypes[t]||""};amp.ErrorDisplay.prototype.update=function(){var n=this.player().error(),t;n&&(t=amp.Player.getErrorUI.call(this.player(),n),this.contentEl_.innerHTML=vjs.util.htmlEncode(this.localize(t))+"<br>(0x"+n.code.toString(16)+")")};amp.Player.getAMPErrorCode=function(n){for(var t,i,r,u,o,f=amp.errorCode.srcPlayerMismatchUnknown,e=0,s=this.options_.techOrder;e<s.length;e++)if((t=vjs.capitalize(s[e]),i=window.videojs[t],i)&&!i.isSupported())for(r=0,u=n;r<u.length;r++)o=u[r],i.canPlaySource(o)&&(t=="SilverlightSS"?f|=amp.errorCode.srcPlayerMismatchSilverlightNotInstalled:t=="FlashSS"&&(f|=amp.errorCode.srcPlayerMismatchFlashNotInstalled));return f};_logType=AMP.Logger.videoJSLogOverride;amp.Heuristics={};amp.Heuristics.findProfile=function(n){for(var t=[{name:amp.Player.HeuristicProfile.Hybrid,preRollInSec:4,maxBufferInSec:30,livePlaybackOffsetInSec:8,windowSizeHeuristics:!0},{name:amp.Player.HeuristicProfile.QuickStart,preRollInSec:2,maxBufferInSec:30,livePlaybackOffsetInSec:8,windowSizeHeuristics:!0},{name:amp.Player.HeuristicProfile.HighQuality,preRollInSec:8,maxBufferInSec:30,livePlaybackOffsetInSec:15,windowSizeHeuristics:!1}],i=0;i<t.length;i++)if(t[i].name===n)return t[i];return t[0]};amp.Player.HeuristicProfile={Hybrid:"Hybrid",QuickStart:"QuickStart",HighQuality:"HighQuality"};amp.isSilverlightInstalled=function(n){var t,l,f,e,h,o,i,r,s,c,u;n==undefined&&(n=null);t=!1;l=null;try{if(f=null,e=!1,window.ActiveXObject)try{f=new ActiveXObject("AgControl.AgControl");n===null?t=!0:f.IsVersionSupported(n)&&(t=!0);f=null}catch(a){e=!0}else e=!0;if(e&&(h=navigator.plugins["Silverlight Plug-In"],h))if(n===null)t=!0;else{for(o=h.description,o==="1.0.30226.2"&&(o="2.0.30226.2"),i=o.split(".");i.length>3;)i.pop();while(i.length<4)i.push(0);for(r=n.split(".");r.length>4;)r.pop();u=0;do s=parseInt(r[u]),c=parseInt(i[u]),u++;while(u<r.length&&s===c);s<=c&&!isNaN(s)&&(t=!0)}}catch(a){t=!1}return t};amp.SilverlightSS=amp.MediaTechController.extend({init:function(n,t,i){var u=this,o=[],f=[],s=[],e,r;n.mediaPlayer=null;this.reset();amp.MediaTechController.call(this,n,t,i);var a=t.parentEl,h=this.el_=amp.createEl("div",{id:n.id()+"_temp_silverlightSS"}),c=n.id()+"_silverlightSS_api",l=n.options_.autoplay;l!==undefined&&f.push("Autoplay="+l);o=amp.obj.merge({id:c,name:c,"class":"vjs-tech"},t.attributes);e=amp.Player.getScriptRootURL();!n.options_.silverlightSS.xap&&e&&(n.options_.silverlightSS.xap=e+"/techs/SmoothStreamingPlayer.xap");s=amp.obj.merge({source:n.options_.silverlightSS.xap,onError:"onSilverlightError",minRuntimeVersion:"5.0.61118.0",onload:"silverlightSSLoaded",enableHtmlAccess:!0,width:"100%",height:"100%",windowless:"true",wmode:"opaque",bgcolor:"#000000"},t.params);f.push("ScriptableName=mainPlayer");f.push("IsControlStripVisible=false");r=t.source;amp.insertFirst(h,a);this.el_=amp.SilverlightSS.embed(h,o,s,f);silverlightSSLoaded=function(t){var i=document.getElementById(n.id()+"_silverlightSS_api");n.mediaPlayer=i.content.mainPlayer;r&&(r.protectionInfo&&(n.options_.playbackOptions.protectionInfo=r.protectionInfo),u.src(r.src));u.triggerReady();u.setTriggers(t)};onSilverlightError=function(n,t){var f="";n!=null&&n!=0&&(f=n.getHost().Source);var r=t.ErrorType,e=t.ErrorCode,i="Unhandled Error in Silverlight Application "+f+"\n";i+="Code: "+e+"    \n";i+="Category: "+r+"       \n";i+="Message: "+t.ErrorMessage+"     \n";r=="ParserError"?(i+="File: "+t.xamlFile+"     \n",i+="Line: "+t.lineNumber+"     \n",i+="Position: "+t.charPosition+"     \n"):r=="RuntimeError"&&(t.lineNumber!=0&&(i+="Line: "+t.lineNumber+"     \n",i+="Position: "+t.charPosition+"     \n"),i+="MethodName: "+t.methodName+"     \n");amp.Player.raiseError.call(u.player(),"silverlightss",amp.errorCode.errUnknown,i)}}});amp.SilverlightSS.embed=function(n,t,i,r){var e=amp.SilverlightSS.getEmbedCode(t,i,r),u=amp.createEl("div",{innerHTML:e}).childNodes[0],o=n.parentNode,f;return n.parentNode.replaceChild(u,n),f=o.childNodes[0],setTimeout(function(){f.style.display="block"},1e3),u};amp.SilverlightSS.getEmbedCode=function(n,t,i){var r='<object  data="data:application/x-silverlight-2," type="application/x-silverlight-2" ';return amp.obj.each(n,function(n,t){r+=encodeURIComponent(n)+'="'+encodeURIComponent(t)+'" '}),r+=">",t=amp.obj.merge({InitParams:i.join(",")},t),amp.obj.each(t,function(n,t){r+='<param name="'+encodeURIComponent(n)+'" value="'+encodeURI(t)+'" />'}),r+="<\/object>"};amp.SilverlightSS.isSupported=function(){return amp.isSilverlightInstalled("5.0")};amp.SilverlightSS.canPlaySource=function(n){return amp.Player.canSupportFormats(n,this.supportedFormats)};amp.SilverlightSS.supportedFormats={};amp.SilverlightSS.supportedFormats[amp.StreamingFormatMimeType.Smooth]=[amp.protectionType.PlayReady];amp.SilverlightSS._seeking=!1;amp.SilverlightSS._ended=!1;amp.SilverlightSS._opening=!0;amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening=!1;amp.SilverlightSS._adaptiveStreamingError=null;amp.SilverlightSS._networkError="Failed to download";amp.SilverlightSS._licenseError="Unable to acquire license due to a network or protocol error";amp.SilverlightSS._tokenError="Unable to complete operation due to a service specific error coming from a network response";amp.SilverlightSS._parseSegmentError="Too many consecutive chunk parse errors";amp.SilverlightSS._parsePresentationError="Manifest file error";amp.SilverlightSS._unsupportedPresentation="Unrecognized manifest";amp.SilverlightSS._licenseAcquisitionErrorCode="6002";amp.SilverlightSS._licenseAcquisitionServiceSpecificErrorCode="6007";amp.SilverlightSS._downloadBitrate;amp.SilverlightSS._playbackBitrate;amp.SilverlightSS.prototype.autoplay=function(){return this.player().mediaPlayer.AutoPlay};amp.SilverlightSS.prototype.setAutoplay=function(n){this.player().mediaPlayer.AutoPlay=n};amp.SilverlightSS.prototype.isLive=function(){return this.player().mediaPlayer.IsLive};amp.SilverlightSS.prototype.buffered=function(){return amp.createTimeRange(this.currentTime(),this.currentTime())};amp.SilverlightSS.prototype.currentSrc=function(){return this.player().mediaPlayer.MediaSource};amp.SilverlightSS.prototype.setCurrentTime=function(n){try{amp.SilverlightSS._seeking=!0;this.player().trigger(amp.eventName.seeking);this.player().mediaPlayer.SeekToPosition(n)}catch(t){amp.Player.raiseError.call(this.player(),"silverlightss",amp.errorCode.srcErrUnknown,t.message)}};amp.SilverlightSS.prototype.currentTime=function(){return this.player().mediaPlayer.PlaybackPositionSeconds};amp.SilverlightSS.prototype.currentAbsoluteTime=function(){return undefined};amp.SilverlightSS.prototype.currentMediaTime=function(){return undefined};amp.SilverlightSS.prototype.currentVideoStreamList=function(){return undefined};amp.SilverlightSS.prototype.currentAudioStreamList=function(){return undefined};amp.SilverlightSS.prototype.videoBufferData=function(){return undefined};amp.SilverlightSS.prototype.audioBufferData=function(){return undefined};amp.SilverlightSS.prototype.currentDownloadBitrate=function(){return amp.SilverlightSS._downloadBitrate};amp.SilverlightSS.prototype.currentPlaybackBitrate=function(){return amp.SilverlightSS._playbackBitrate};amp.SilverlightSS.prototype.duration=function(){return this.player().mediaPlayer.EndPositionSeconds-this.player().mediaPlayer.StartPositionSeconds};amp.SilverlightSS.prototype.ended=function(){return amp.SilverlightSS._ended};amp.SilverlightSS.prototype.error=function(){return this.player().error()};amp.SilverlightSS.prototype.isFullscreen=function(){return this.player().mediaPlayer.isFullscreen};amp.SilverlightSS.prototype.muted=function(){return this.player().mediaPlayer.IsMuted};amp.SilverlightSS.prototype.setMuted=function(n){this.player().mediaPlayer.IsMuted=n};amp.SilverlightSS.prototype.paused=function(){return this.player().mediaPlayer.PlayState===this.SilverlightSSMediaState.Paused||this.player().mediaPlayer.PlayState===this.SilverlightSSMediaState.Buffering};amp.SilverlightSS.prototype.seeking=function(){return amp.SilverlightSS._seeking};amp.SilverlightSS.prototype.src=function(n){if(n===undefined)return this.currentSrc();n.indexOf("//")===0&&(n=window.location.protocol+n);this.setSrc(n)};amp.SilverlightSS.prototype.volume=function(){return this.player().mediaPlayer.GetVolume()};amp.SilverlightSS.prototype.setVolume=function(n){this.player().mediaPlayer.SetVolume(n)};amp.SilverlightSS.prototype.height=function(n){if(n===undefined)return this.player().mediaPlayer.height;this.player().mediaPlayer.height=n};amp.SilverlightSS.prototype.width=function(n){if(n===undefined)return this.player().mediaPlayer.width;this.player().mediaPlayer.width=n};amp.SilverlightSS.prototype.videoHeight=function(){return this.player().mediaPlayer.VideoHeight};amp.SilverlightSS.prototype.videoWidth=function(){return this.player().mediaPlayer.VideoWidth};amp.SilverlightSS.prototype.play=function(){this.player().mediaPlayer.Play()};amp.SilverlightSS.prototype.pause=function(){this.player().mediaPlayer.Pause()};amp.SilverlightSS.prototype.setSrc=function(n){var u,f,r,t,i;if(this.reset(),this.player().options_.autoplay!==undefined&&(this.player().mediaPlayer.AutoPlay=this.player().options_.autoplay),this.player().updateCurrentPlayerConfigs(),u=this.player().options_.currentPlayerConfigs.currentHeuristicConfigs,this.player().mediaPlayer.BufferingTime=u.preRollInSec,this.player().mediaPlayer.LivePlaybackOffset=u.livePlaybackOffsetInSec,AMP.Logger.setLogConfig(this.player().options_.traceConfig),this.player().mediaPlayer.IsTraceEnabled=this.player().options_.traceConfig&&this.player().options_.traceConfig.maxLogLevel&&this.player().options_.traceConfig.maxLogLevel>0?!0:!1,f=this.player().mediaPlayer.CreatePlaylist(),r=this.player().mediaPlayer.CreatePlaylistItem(n,"","",""),r.DeliveryMethod="AdaptiveStreaming",t=this.player().options_.playbackOptions.protectionInfo,t)for(i=0;i<t.length;i++)t[i].type===amp.protectionType.PlayReady&&t[i].authenticationToken&&(r.BearerToken=t[i].authenticationToken);f.AddPlaylistItem(r);this.player().mediaPlayer.SetPlaylist(f)};amp.SilverlightSS.prototype.load=function(){};amp.SilverlightSS.prototype.supportsFullscreen=function(){return!1};amp.SilverlightSS.prototype.enterFullscreen=function(){};amp.SilverlightSS.prototype.exitFullscreen=function(){};amp.SilverlightSS.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)};amp.SilverlightSS.prototype.setTriggers=function(){this.player().mediaPlayer.addEventListener("PlayStateChanged",amp.bind(this,this.playStateChangedHandler));this.player().mediaPlayer.addEventListener("MediaOpened",amp.bind(this,this.onMediaOpened));this.player().mediaPlayer.addEventListener("SeekCompleted",amp.bind(this,this.onSeekCompleted));this.player().mediaPlayer.addEventListener("MediaEnded",amp.bind(this,this.onMediaEnded));this.player().mediaPlayer.addEventListener("PlaybackPositionChanged",amp.bind(this,this.onTimeUpdate));this.player().mediaPlayer.addEventListener("VolumeLevelChanged",amp.bind(this,this.onVolumeChanged));this.player().mediaPlayer.addEventListener("MuteChanged",amp.bind(this,this.onVolumeChanged));this.player().mediaPlayer.addEventListener("MediaFailed",amp.bind(this,this.onMediaFailed));this.player().mediaPlayer.addEventListener("AdaptiveStreamingErrorOccurred",amp.bind(this,this.onAdaptiveStreamingErrorOccurred));this.player().mediaPlayer.addEventListener("ReportDiagTrace",amp.bind(this,this.onReportDiagTrace));this.player().mediaPlayer.addEventListener("DownloadBitrateChanged",amp.bind(this,this.onVideoDownloadBitrateChanged));this.player().mediaPlayer.addEventListener("PlaybackBitrateChanged",amp.bind(this,this.onVideoPlaybackBitrateChanged));this.player().mediaPlayer.addEventListener("FullScreenChanged",amp.bind(this,this.onFullScreenChanged));var n;this.player().mediaPlayer.addEventListener("PlaybackPositionChanged",amp.bind(this,function(){this.duration()!==n&&(n=this.duration(),this.player().trigger(amp.eventName.durationchange));amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening||amp.SilverlightSS._opening||(this.player().trigger(amp.eventName.play),this.player().trigger(amp.eventName.playing),amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening=!0)}));vjs.IS_IE&&window.addEventListener("mouseup",amp.bind(this,this.onMouseUp),!1)};amp.SilverlightSS.prototype.playStateChangedHandler=function(){switch(this.player().mediaPlayer.PlayState){case this.SilverlightSSMediaState.Playing:amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening&&(this.player().trigger(amp.eventName.play),this.player().trigger(amp.eventName.playing));break;case this.SilverlightSSMediaState.Paused:this.player().trigger(amp.eventName.pause);break;case this.SilverlightSSMediaState.Buffering:amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening||this.player().trigger(amp.eventName.waiting)}};amp.SilverlightSS.prototype.onMediaOpened=function(){amp.SilverlightSS._opening=!1;this.player().trigger(amp.eventName.durationchange);this.player().trigger(amp.eventName.loadstart);this.player().trigger(amp.eventName.loadedmetadata);this.player().trigger(amp.eventName.loadeddata);this.player().trigger(amp.eventName.canplaythrough)};amp.SilverlightSS.prototype.onMediaFailed=function(n,t){var u=t.Result.Message,i=t.Result.Message,r;amp.SilverlightSS._adaptiveStreamingError&&(u+=": "+amp.SilverlightSS._adaptiveStreamingError.Message,i=amp.SilverlightSS._adaptiveStreamingError.Message);r=amp.errorCode.errUnknown;i.indexOf(amp.SilverlightSS._networkError)!=-1?r=amp.errorCode.networkErrUnknown:i.indexOf(amp.SilverlightSS._licenseError)!=-1||i.indexOf(amp.SilverlightSS._licenseAcquisitionErrorCode)!=-1||i.indexOf(amp.SilverlightSS._tokenError)!=-1||i.indexOf(amp.SilverlightSS._licenseAcquisitionServiceSpecificErrorCode)!=-1?r=amp.errorCode.encryptErrLicenseAcquire:i.indexOf(amp.SilverlightSS._parseSegmentError)!=-1?r=amp.errorCode.srcErrParseSegment:i.indexOf(amp.SilverlightSS._parsePresentationError)!=-1?r=amp.errorCode.srcErrParsePresentation:i.indexOf(amp.SilverlightSS._unsupportedPresentation)!=-1&&(r=amp.errorCode.srcErrUnsupportedPresentation);amp.Player.raiseError.call(this.player(),"silverlightss",r,u)};amp.SilverlightSS.prototype.onAdaptiveStreamingErrorOccurred=function(n,t){amp.SilverlightSS._adaptiveStreamingError=t.Result};amp.SilverlightSS.prototype.onSeekCompleted=function(){amp.SilverlightSS._seeking=!1;this.player().trigger(amp.eventName.seeked)};amp.SilverlightSS.prototype.onMediaEnded=function(){amp.SilverlightSS._ended=!0;this.player().trigger(amp.eventName.ended)};amp.SilverlightSS.prototype.onTimeUpdate=function(){this.player().trigger(amp.eventName.timeupdate)};amp.SilverlightSS.prototype.onFullScreenChanged=function(){this.player().trigger(amp.eventName.fullscreenchange)};amp.SilverlightSS.prototype.onVolumeChanged=function(){this.player().trigger(amp.eventName.volumechange)};amp.SilverlightSS.prototype.onReportDiagTrace=function(n,t){AMP.Logger.verbose(AMP.Logger.Area.silverlightSS,t.Result)};amp.SilverlightSS.prototype.onVideoDownloadBitrateChanged=function(n,t){amp.SilverlightSS._downloadBitrate=t.Result;this.player().trigger(amp.eventName.downloadbitratechanged)};amp.SilverlightSS.prototype.onVideoPlaybackBitrateChanged=function(n,t){amp.SilverlightSS._playbackBitrate=t.Result;this.player().trigger(amp.eventName.playbackbitratechanged)};amp.SilverlightSS.prototype.onMouseUp=function(n){var i=document.elementFromPoint(n.clientX,n.clientY),t=this.player();i&&i.parentNode===t.el()?(t.isFocused=!0,window.focus()):(t.isFocused=!1,t.el().blur())};amp.SilverlightSS.prototype.reset=function(){amp.SilverlightSS._seeking=!1;amp.SilverlightSS._ended=!1;amp.SilverlightSS._opening=!0;amp.SilverlightSS._firstTimeUpdateOccuredAfterOpening=!1;amp.SilverlightSS._adaptiveStreamingError=null};amp.SilverlightSS.prototype.SilverlightSSMediaState={Closed:0,Opening:1,Buffering:2,Playing:3,Paused:4,Stopped:5,Individualizing:6,AcquiringLicense:7};amp.options.techOrder.unshift("silverlightSS");amp.options.silverlightSS={};amp.Html5FairPlayHLS=amp.Html5.extend({init:function(n,t,i){vjs.Html5.call(this,n,t,i)}});amp.Html5FairPlayHLS.prototype.eventHandler=function(n){"timeupdate"!==n.type&&"progress"!==n.type&&AMP.Logger.verbose(AMP.Logger.Area.html5FairplayHLS,"Event: "+n.type);n.type=="error"&&this.error()?amp.Player.raiseError.call(this.player(),"html5FairPlayHLS",this.error().code<<20):vjs.Html5.prototype.processEvent.call(this,n)};amp.Html5FairPlayHLS.prototype.fairplay=null;amp.Html5FairPlayHLS.prototype.setSrc=function(n){var t,r,i,u;for(AMP.Logger.setLogConfig(this.player().options().traceConfig),this.fairplay&&(this.fairplay.dispose(),this.fairplay=null),t=[],this.player().options_&&this.player().options_.playbackOptions&&this.player().options_.playbackOptions.protectionInfo&&(t=this.player().options_.playbackOptions.protectionInfo),r=null,i=0;i<t.length;i++)if(t[i].type===amp.protectionType.FairPlay){r=t[i];break}r&&amp.Html5FairPlayHLS.isFairPlaySupported()?(u=new AMP.Html5Fairplay.SrcInfo(n,this.player().options_.autoplay,r),this.fairplay=new AMP.Html5Fairplay.FairPlay(this.el_,u,amp.bind(this,handleFairPlayErrors),amp.bind(this,handleFairPlayEvent))):handleFairPlayErrors(amp.erroCode.srcPlayerMismatchUnknown,"html5FairPlayHLS tech can only be used with FairPlay protected content")};amp.Html5FairPlayHLS.prototype.play=function(){this.fairplay.play()};amp.Html5FairPlayHLS.prototype.dispose=function(){this.fairplay&&this.fairplay.dispose();vjs.Html5.prototype.dispose.call(this)};amp.Html5FairPlayHLS.nativeSourceHandler={};amp.Html5FairPlayHLS.nativeSourceHandler.handleSource=function(n,t){n&&n.protectionInfo&&(t.player().options_.playbackOptions.protectionInfo=n.protectionInfo);t.setSrc(n.src)};amp.Html5FairPlayHLS.nativeSourceHandler.canHandleSource=function(n){function i(n){try{return vjs.TEST_VID.canPlayType(n)}catch(t){return""}}var t,r,u=function(n){if(n.protectionInfo)for(var t=0;t<n.protectionInfo.length;t++)if(n.protectionInfo[t].type==="FairPlay")return!0;return!1},f=u(n)&&amp.Html5FairPlayHLS.isFairPlaySupported();return f?n.type==="application/vnd.apple.mpegurl"?i(n.type):n.src?(t=n.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),r=t&&t[1],i("video/"+r)):"":""};amp.Html5FairPlayHLS.nativeSourceHandler.dispose=function(){};amp.MediaTechController.withSourceHandlers(vjs.Html5FairPlayHLS);amp.Html5FairPlayHLS.registerSourceHandler(amp.Html5FairPlayHLS.nativeSourceHandler);amp.Html5FairPlayHLS.isFairPlaySupported=function(){return window.WebKitMediaKeys&&window.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")};amp.Html5FairPlayHLS.isSupported=function(){return vjs.Html5.isSupported.call(this)};amp.options.techOrder.unshift("html5FairPlayHLS");amp.options.Html5FairPlayHLS={};amp.FlashSS=amp.MediaTechController.extend({init:function(n,t,i){var s,o,e,h;if(amp.MediaTechController.call(this,n,t,i),!t.source){AMP.Logger.setLogConfig(n.options_.traceConfig);this.triggerReady();return}s=amp.Player.getScriptRootURL();!n.options_.flashSS.swf&&s&&(n.options_.flashSS.swf=s+"/techs/StrobeMediaPlayback.2.0.swf");var f=t.source,a=t.parentEl,c=this.el_=amp.createEl("div",{id:n.id()+"_temp_flash"}),l=n.id()+"_flashSS_api",u=n.options_,r=amp.obj.merge({playerId:n.id(),controlBarMode:"none",playButtonOverlay:"false",bufferingOverlay:"false",AdaptiveStreamingPlugin_retryLive:"true",autoPlay:!0,preload:u.preload,loop:u.loop,muted:u.muted},t.flashVars),v=amp.obj.merge({menu:!1,wmode:"opaque",bgcolor:"#000000"},t.params),y=amp.obj.merge({id:l,name:l,"class":"vjs-tech"},t.attributes);if(t.swf=u.flashSS.swf,n.flashSS=this,n.flashSS.lastSeekTarget_=NaN,this.reset(),f&&(f.src=amp.FlashSS.getFullSourceURL(f.src),amp.FlashSS._src=f.src,r.src=f.src,f.protectionInfo)){for(o=0;o<f.protectionInfo.length;o++)f.protectionInfo[o].type===amp.protectionType.AES&&f.protectionInfo[o].authenticationToken&&(r.AdaptiveStreamingPlugin_encryptionKeyToken=f.protectionInfo[o].authenticationToken);u.playbackOptions.protectionInfo=f.protectionInfo}if(this.player().updateCurrentPlayerConfigs(),e=u.currentPlayerConfigs.currentHeuristicConfigs,r.AdaptiveStreamingPlugin_minimumBufferTimeInSeconds=e.preRollInSec,r.AdaptiveStreamingPlugin_maximumBufferTimeInSeconds=e.maxBufferInSec,r.AdaptiveStreamingPlugin_livePlaybackOffsetInSecond=e.livePlaybackOffsetInSec,amp.FlashSS._heuristicSettings.minimumBufferTimeInSeconds=e.preRollInSec,amp.FlashSS._heuristicSettings.maximumBufferTimeInSeconds=e.maxBufferInSec,amp.FlashSS._heuristicSettings.livePlaybackOffsetInSecond=e.livePlaybackOffsetInSec,amp.FlashSS._isTraceEnabled=u.isTraceEnabled,AMP.Logger.setLogConfig(u.traceConfig),u.traceConfig&&u.traceConfig.maxLogLevel){r.AdaptiveStreamingPlugin_enableOSMFLogging=!0;org.osmf.player.debug.logs=amp.FlashSS.onLogMessage;switch(u.traceConfig.maxLogLevel){case 0:r.AdaptiveStreamingPlugin_minimalLogLevel=0;r.AdaptiveStreamingPlugin_enableOSMFLogging=!1;org.osmf.player.debug.logs=undefined;break;case 1:r.AdaptiveStreamingPlugin_minimalLogLevel=2;break;case 2:r.AdaptiveStreamingPlugin_minimalLogLevel=1;break;case 3:r.AdaptiveStreamingPlugin_minimalLogLevel=0;break;default:r.AdaptiveStreamingPlugin_minimalLogLevel=0}}else r.AdaptiveStreamingPlugin_enableOSMFLogging=!1,org.osmf.player.debug.logs=undefined;amp.FlashSS._traceConfig=u.traceConfig;amp.insertFirst(c,a);t.startTime&&this.ready(function(){this.load();this.play();this.currentTime(t.startTime)});amp.IS_FIREFOX&&this.ready(function(){amp.on(this.el(),"mousemove",amp.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))});n.on("stageclick",n.reportUserActivity);if(this.el_=amp.Flash.embed(t.swf,c,r,v,y),this.ready(this.setupTriggers),vjs.IS_IE||vjs.IS_EDGE){h=amp.bind(this,this.mouseUp);window.addEventListener("mouseup",h,!1);this.on("dispose",function(){window.removeEventListener("mouseup",h)})}}});typeof org=="undefined"&&(org={});typeof org.osmf=="undefined"&&(org.osmf={});typeof org.osmf.player=="undefined"&&(org.osmf.player={});typeof org.osmf.player.debug=="undefined"&&(org.osmf.player.debug={});amp.FlashSS.onLogMessage=function(n){for(var i=n.split("###"),t=0;t<i.length;t++)AMP.Logger.verbose(AMP.Logger.Area.flashSS,i[t])};amp.FlashSS.isSupported=function(){return amp.Flash.isSupported()};amp.FlashSS.canPlaySource=function(n){return amp.Player.canSupportFormats(n,this.supportedFormats)};amp.FlashSS.supportedFormats={};amp.FlashSS.supportedFormats[amp.StreamingFormatMimeType.Smooth]=[amp.protectionType.AES];amp.FlashSS.prototype.dispose=function(){amp.MediaTechController.prototype.dispose.call(this)};amp.FlashSS.prototype.autoplay=function(){return this.player().options_.autoplay};amp.FlashSS.prototype.setAutoplay=function(){};amp.FlashSS.prototype.isLive=function(){return this.el_.getStreamType&&this.el_.getStreamType()==="dvr"?!0:!1};amp.FlashSS.prototype.buffered=function(){return this.el_.getBufferLength?amp.createTimeRange(this.currentTime(),this.currentTime()+this.el_.getBufferLength()):null};amp.FlashSS.prototype.setCurrentTime=function(n){this.el_.setCurrentTime&&(n=n<=this.duration()?n:this.duration(),n=n>0?n:0,this.lastSeekTarget_=n,this.el_.setCurrentTime(n))};amp.FlashSS.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.getCurrentTime?this.el_.getCurrentTime():null};amp.FlashSS.prototype.currentAbsoluteTime=function(){return undefined};amp.FlashSS.prototype.currentMediaTime=function(){return this.el_.getCurrentMediaTime?this.el_.getCurrentMediaTime():null};amp.FlashSS.prototype.currentVideoStreamList=function(){return amp.FlashSS._currentVideoStreamList};amp.FlashSS.prototype.currentAudioStreamList=function(){return amp.FlashSS._currentAudioStreamList};amp.FlashSS.prototype.videoBufferData=function(){return amp.FlashSS._videoBufferData};amp.FlashSS.prototype.audioBufferData=function(){return amp.FlashSS._audioBufferData};amp.FlashSS.prototype.currentDownloadBitrate=function(){if(amp.FlashSS._currentVideoStreamList&&this.el_.getCurrentDynamicStreamIndex){var n=this.el_.getCurrentDynamicStreamIndex();return amp.FlashSS._currentVideoStreamList.streams[0].tracks[n].bitrate}return undefined};amp.FlashSS.prototype.currentPlaybackBitrate=function(){return undefined};amp.FlashSS.prototype.ended=function(){return amp.FlashSS._ended};amp.FlashSS.prototype.isFullscreen=function(){return this.player().isFullscreen()};amp.FlashSS.prototype.src=function(n){if(n===undefined)return this.currentSrc();this.el_.setAutoPlay&&this.el_.setMediaResourceURL&&(this.reset(),n=amp.FlashSS.getFullSourceURL(n),amp.FlashSS._src=n,this.el_.setAutoPlay(!0),this.el_.setMediaResourceURL(n))},function(){function f(n){var t=n.charAt(0).toUpperCase()+n.slice(1);r["set"+t]=function(n){return this.el_["set"+t]?this.el_["set"+t](n):null}}function i(n){r[n]=function(){var t=n.charAt(0).toUpperCase()+n.slice(1);return this.el_["get"+t]?this.el_["get"+t]():null}}for(var r=amp.FlashSS.prototype,t="controls,muted,volume".split(","),u="currentSrc,duration,paused,seeking,videoHeight,videoWidth".split(","),n=0;n<t.length;n++)i(t[n]),f(t[n]);for(n=0;n<u.length;n++)i(u[n])}();amp.FlashSS.prototype.load=function(){this.el_.load&&this.el_.load()};amp.FlashSS.prototype.play=function(){this.el_.play2&&this.el_.play2()};amp.FlashSS.prototype.pause=function(){this.el_.pause&&this.el_.pause()};amp.FlashSS.prototype.supportsFullScreen=function(){return!1};amp.FlashSS.prototype.enterFullScreen=function(){return!1};amp.FlashSS.prototype.setupTriggers=function(){this.el_.addEventListener("switchingChange","amp.FlashSS.onEvent")};amp.FlashSS.prototype.mouseUp=function(n){var i=document.elementFromPoint(n.clientX,n.clientY),t=this.player();i&&i.parentNode===t.el()?(t.isFocused=!0,window.focus()):(t.isFocused=!1,t.el().blur())};amp.FlashSS.onReady=function(n){AMP.Logger.verbose(AMP.Logger.Area.flashSS,n+" - Ready");var t,i;t=amp.el(n);this.el_=t;i=t&&t.parentNode&&t.parentNode.player;i&&(t.player=i,amp.FlashSS.checkReady(i.flashSS))};amp.FlashSS.checkReady=function(n){return n.el()?n.el().getBufferTime?(n.triggerReady(),amp.FlashSS._videoBufferData=new AMP.FlashSS.BufferData(n.el(),AMP.FlashSS.MediaType.video),amp.FlashSS._audioBufferData=new AMP.FlashSS.BufferData(n.el(),AMP.FlashSS.MediaType.audio),!0):(setTimeout(function(){amp.FlashSS.checkReady(n)},50),!1):!1};amp.FlashSS._firstReady=!0;amp.FlashSS._src=null;amp.FlashSS._ended=!1;amp.FlashSS._heuristicSettings={};amp.FlashSS._currentVideoStreamList=undefined;amp.FlashSS._currentAudioStreamList=undefined;amp.FlashSS._videoBufferData=undefined;amp.FlashSS._audioBufferData=undefined;amp.FlashSS._traceConfig=undefined;amp.FlashSS._passThroughEvents=["seeking","durationchange","loadstart","waiting","volumechange"];amp.FlashSS.onEvent=function(n,t,i){try{var r=amp.el(n).player;amp.FlashSS._passThroughEvents.indexOf(t)!==-1&&r.trigger(t);switch(t){case"onJavaScriptBridgeCreated":amp.FlashSS.onReady(n);break;case"complete":amp.FlashSS._ended=!0;r.trigger("ended");break;case"emptied":amp.FlashSS._firstReady&&(amp.FlashSS._currentVideoStreamList||(amp.FlashSS._currentVideoStreamList=new AMP.FlashSS.VideoStreamList(r.flashSS.el_),amp.FlashSS._currentAudioStreamList=new AMP.FlashSS.AudioStreamList(r.flashSS.el_),amp.FlashSS._currentAudioStreamList.streams.length==0&&(amp.FlashSS._currentAudioStreamList=undefined)),r.trigger("loadeddata"),r.trigger("loadedmetadata"),amp.FlashSS._firstReady=!1,r.flashSS.el_.setAutoDynamicStreamSwitch(!0));break;case"downloadevent":r.flashSS.downloadEvent(i);break;case"play":r.options_.autoplay||r.flashSS.firstPlayingOccurredWithAutoplayFalse_?(r.flashSS.firstPlayingOccurredWithAutoplayFalse_||(r.trigger("canplaythrough"),r.flashSS.firstPlayingOccurredWithAutoplayFalse_=!0),r.trigger("play"),r.trigger("playing")):(r.pause(),r.trigger("canplaythrough"),r.flashSS.firstPlayingOccurredWithAutoplayFalse_=!0);break;case"pause":r.flashSS.firstPlayingOccurredWithAutoplayFalse_&&r.trigger("pause");break;case"seeked":r.flashSS.firstPlayingOccurredWithAutoplayFalse_&&r.trigger("seeked");break;case"timeupdate":r.flashSS.firstPlayingOccurredWithAutoplayFalse_&&(!r.flashSS.el_.getPaused()||r.flashSS.isLive())&&r.trigger("timeupdate");break;case"error":r.currentSrc()&&(amp.Player.raiseError.call(r,"flashss",amp.FlashSS.getMediaErrorCode(i.code,i.detail),amp.FlashSS.getMediaErrorMsg(i.code)),r.flashSS.firstPlayingOccurredWithAutoplayFalse_=!1);break;case"switchingChange":r.trigger("downloadbitratechanged")}"timeupdate"!==t&&"progress"!==t&&AMP.Logger.verbose(AMP.Logger.Area.flashSS,n+" - Event:"+t)}catch(u){AMP.Logger.error(AMP.Logger.Area.flashSS,n+" - Event:"+t+" - error:"+u);throw u;}};amp.FlashSS.prototype.downloadEvent=function(n){var t;if(n&&n.type)switch(n.type){case"downloadStarted":t=n.isAudio?amp.FlashSS._audioBufferData:amp.FlashSS._videoBufferData;t.downloadRequested=t.downloadRequested||{};t.downloadRequested.url=n.url;t.downloadRequested.bitrate=n.bitrate;t.downloadRequested.mediaTime=n.mediaTime;t.dispatchEvent(amp.bufferDataEventName.downloadrequested);break;case"downloadCompleted":t=n.isAudio?amp.FlashSS._audioBufferData:amp.FlashSS._videoBufferData;t.downloadCompleted=t.downloadCompleted||{};t.downloadCompleted.measuredBandwidth=8*n.downloadBytes/n.downloadTime;t.downloadCompleted.totalBytes=n.downloadBytes;t.downloadCompleted.totalDownloadMs=1e3*n.downloadTime;t.downloadCompleted.mediaDownload=t.downloadCompleted.mediaDownload||{};t.downloadCompleted.mediaDownload.url=n.url;t.downloadCompleted.mediaDownload.bitrate=n.bitrate;t.downloadCompleted.mediaDownload.mediaTime=n.mediaTime;t.dispatchEvent(amp.bufferDataEventName.downloadcompleted);break;case"mediaError":t=n.isAudio?amp.FlashSS._audioBufferData:amp.FlashSS._videoBufferData;t.downloadFailed=t.downloadFailed||{};t.downloadFailed.code=n.code;t.downloadFailed.message=n.message;t.downloadFailed.mediaDownload=t.downloadFailed.mediaDownload||{};t.downloadFailed.mediaDownload.url=n.url;t.downloadFailed.mediaDownload.bitrate=n.bitrate;t.downloadFailed.mediaDownload.mediaTime=n.mediaTime;t.dispatchEvent(amp.bufferDataEventName.downloadfailed);amp.Player.raiseError.call(this.player(),"flashss",amp.FlashSS.getMediaErrorCode(n.code,n.detail),amp.FlashSS.getMediaErrorMsg(n.code))}};amp.FlashSS.getMediaErrorCode=function(n,t){switch(n){case amp.FlashSS.errorCodes.OSMF_HTTP_GET_FAILED:case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_REJECTED:case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_APPLICATION_INVALID:case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_FAILED:case amp.FlashSS.errorCodes.FRAGMENT_DOWNLOAD_ERROR:case amp.FlashSS.errorCodes.MANIFEST_DOWNLOAD_ERROR:return amp.FlashSS.getHttpErrorCode(t);case amp.FlashSS.errorCodes.OSMF_NETCONNECTION_TIMEOUT:case amp.FlashSS.errorCodes.MANIFEST_DOWNLOAD_TIMEOUT:case amp.FlashSS.errorCodes.FRAGMENT_DOWNLOAD_TIMEOUT:return amp.errorCode.networkErrTimeout;case amp.FlashSS.errorCodes.MANIFEST_NOT_SUPPORTED_ELEMENT:case amp.FlashSS.errorCodes.MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:case amp.FlashSS.errorCodes.MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:case amp.FlashSS.errorCodes.VIDEO_STREAM_MISSING:case amp.FlashSS.errorCodes.MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:case amp.FlashSS.errorCodes.TOO_EARLY_TO_JOIN_LIVE_EVENT:return amp.errorCode.srcErrUnsupportedPresentation;case amp.FlashSS.errorCodes.MANIFEST_PARSE_TIMEOUT:case amp.FlashSS.errorCodes.MANIFEST_MAJOR_VERSION_MISSING:case amp.FlashSS.errorCodes.MANIFEST_MINOR_VERSION_MISSING:case amp.FlashSS.errorCodes.MANIFEST_STREAMINDEX_MISSING:case amp.FlashSS.errorCodes.MANIFEST_UNEXPECTED_ROOT_ELEMENT:case amp.FlashSS.errorCodes.MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:case amp.FlashSS.errorCodes.MANIFEST_STREAMINFO_TYPE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_STREAMINFO_URL_MISSING:case amp.FlashSS.errorCodes.MANIFEST_CHUNK_ATTRIBUTE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_INVALID_ATTRIBUTE_VALUE:case amp.FlashSS.errorCodes.INVALID_SMOOTH_DYNAMIC_RESOURCE:case amp.FlashSS.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:case amp.FlashSS.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:case amp.FlashSS.errorCodes.MANIFEST_UNEXPECTED_PROTECTION_HEADER:case amp.FlashSS.errorCodes.MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:return amp.errorCode.srcErrParsePresentation;case amp.FlashSS.errorCodes.OSMF_NETSTREAM_PLAY_FAILED:case amp.FlashSS.errorCodes.OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:case amp.FlashSS.errorCodes.OSMF_IO_ERROR:case amp.FlashSS.errorCodes.OSMF_SECURITY_ERROR:case amp.FlashSS.errorCodes.OSMF_ASYNC_ERROR:case amp.FlashSS.errorCodes.OSMF_ARGUMENT_ERROR:case amp.FlashSS.errorCodes.OSMF_URL_SCHEME_INVALID:case amp.FlashSS.errorCodes.OSMF_MEDIA_LOAD_FAILED:case amp.FlashSS.errorCodes.OSMF_PLUGIN_VERSION_INVALID:case amp.FlashSS.errorCodes.OSMF_PLUGIN_IMPLEMENTATION_INVALID:case amp.FlashSS.errorCodes.OSMF_SOUND_PLAY_FAILED:case amp.FlashSS.errorCodes.OSMF_NETSTREAM_STREAM_NOT_FOUND:case amp.FlashSS.errorCodes.OSMF_DVRCAST_SUBSCRIBE_FAILED:case amp.FlashSS.errorCodes.OSMF_DVRCAST_CONTENT_OFFLINE:case amp.FlashSS.errorCodes.OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:case amp.FlashSS.errorCodes.OSMF_F4M_FILE_INVALID:case amp.FlashSS.errorCodes.CANNOT_SET_AUDIO_STREAM_INDEX:case amp.FlashSS.errorCodes.PLUGIN_INVALID_PARAM:case amp.FlashSS.errorCodes.PLUGIN_NULL_PARAM:return amp.errorCode.srcErrUnknown;case amp.FlashSS.errorCodes.ENCRYPTIONKEY_DOWNLOAD_ERROR:case amp.FlashSS.errorCodes.ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:case amp.FlashSS.errorCodes.ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:case amp.FlashSS.errorCodes.ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:return amp.errorCode.encryptErrKeyAcquire;case amp.FlashSS.errorCodes.FRAGMENT_DECRYPT_ERROR:return amp.errorCode.encryptErrDecryption;default:return amp.errorCode.errUnknown}};amp.FlashSS.getHttpErrorCode=function(n){var t=amp.errorCode.networkErrUnknown,i;return n&&(i=n.match(/^httpStatus:([0-9]+)/),i.length===2&&(t=amp.httpErrorCode[i[1]]||t)),t};amp.FlashSS.errorCodes={OSMF_IO_ERROR:1,OSMF_SECURITY_ERROR:2,OSMF_ASYNC_ERROR:3,OSMF_ARGUMENT_ERROR:4,OSMF_URL_SCHEME_INVALID:5,OSMF_HTTP_GET_FAILED:6,OSMF_MEDIA_LOAD_FAILED:7,OSMF_PLUGIN_VERSION_INVALID:8,OSMF_PLUGIN_IMPLEMENTATION_INVALID:9,OSMF_SOUND_PLAY_FAILED:10,OSMF_NETCONNECTION_REJECTED:11,OSMF_NETCONNECTION_APPLICATION_INVALID:12,OSMF_NETCONNECTION_FAILED:13,OSMF_NETCONNECTION_TIMEOUT:14,OSMF_NETSTREAM_PLAY_FAILED:15,OSMF_NETSTREAM_STREAM_NOT_FOUND:16,OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:17,OSMF_NETSTREAM_NO_SUPPORTED_TRACK_FOUND:18,OSMF_DRM_SYSTEM_UPDATE_ERROR:19,OSMF_DVRCAST_SUBSCRIBE_FAILED:20,OSMF_DVRCAST_CONTENT_OFFLINE:21,OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:22,OSMF_F4M_FILE_INVALID:23,MANIFEST_DOWNLOAD_TIMEOUT:1e3,MANIFEST_PARSE_TIMEOUT:1001,MANIFEST_DOWNLOAD_ERROR:1002,MANIFEST_MAJOR_VERSION_MISSING:1003,MANIFEST_MINOR_VERSION_MISSING:1004,MANIFEST_STREAMINDEX_MISSING:1005,MANIFEST_UNEXPECTED_ROOT_ELEMENT:1006,MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:1007,MANIFEST_STREAMINFO_TYPE_MISSING:1008,MANIFEST_STREAMINFO_URL_MISSING:1009,MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:1010,MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:1011,MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:1012,MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:1013,MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:1014,MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:1015,MANIFEST_CHUNK_ATTRIBUTE_MISSING:1016,MANIFEST_NOT_SUPPORTED_ELEMENT:1017,MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:1018,MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:1019,MANIFEST_INVALID_ATTRIBUTE_VALUE:1020,INVALID_SMOOTH_DYNAMIC_RESOURCE:1021,FRAGMENT_DOWNLOAD_TIMEOUT:1022,FRAGMENT_DOWNLOAD_ERROR:1023,CANNOT_SET_AUDIO_STREAM_INDEX:1024,VIDEO_STREAM_MISSING:1025,MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:1026,PLUGIN_INVALID_PARAM:1027,PLUGIN_NULL_PARAM:1028,MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:1029,TOO_EARLY_TO_JOIN_LIVE_EVENT:1030,MANIFEST_UNEXPECTED_PROTECTION_HEADER:1048,ENCRYPTIONKEY_DOWNLOAD_ERROR:1049,ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:1050,ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:1051,ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:1052,FRAGMENT_DECRYPT_ERROR:1053};amp.FlashSS.getMediaErrorMsg=function(n){for(var t in amp.FlashSS.errorCodes)if(amp.FlashSS.errorCodes.hasOwnProperty(t)&&amp.FlashSS.errorCodes[t]===n)return t;return n};amp.FlashSS.getFullSourceURL=function(n){return n=amp.getAbsoluteURL(n),n.indexOf("//")===0&&(n=window.location.protocol+n),n};amp.FlashSS.prototype.reset=function(){amp.FlashSS._firstReady=!0;amp.FlashSS._ended=!1;amp.FlashSS._src=null;amp.FlashSS._currentVideoStreamList=undefined;amp.FlashSS._currentAudioStreamList=undefined;this.player().flashSS.firstPlayingOccurredWithAutoplayFalse_=!1};amp.FlashSS.prototype.isReloadNeeded=function(){var n=this.player().options_.currentPlayerConfigs;return amp.FlashSS._src==null||!n||!n.currentHeuristicConfigs||amp.FlashSS._heuristicSettings.minimumBufferTimeInSeconds!==n.currentHeuristicConfigs.preRollInSec||amp.FlashSS._heuristicSettings.maximumBufferTimeInSeconds!==n.currentHeuristicConfigs.maxBufferInSec||amp.FlashSS._heuristicSettings.livePlaybackOffsetInSecond!==n.currentHeuristicConfigs.livePlaybackOffsetInSec||amp.FlashSS._traceConfig!==this.player().options_.traceConfig?!0:!1};amp.options.techOrder.unshift("flashSS");amp.options.flashSS={};amp.AzureHtml5JS=amp.MediaTechController.extend({init:function(n,t,i){var r,u;this.movingMediaElementInDOM=!amp.IS_IOS;this.playbackRate=!1;this.fullscreenResize=!0;this.progressEvents=!1;this.volumeControl=!0;r=t.source;amp.MediaTechController.call(this,n,t,i);this.el().controls=!1;AzureHtml5JS.Log.setLoggerFunction(AMP.Logger.writeEntry,AMP.Logger.Area.azureHtml5JS);u=AzureHtml5JS.CreateAzureHtml5(this.el());n.mediaPlayer=u;this.setupTriggers(u);r&&this.src!==r.src&&(r.protectionInfo&&(n.options_.playbackOptions.protectionInfo=r.protectionInfo),this.setSrc(r.src));amp.TOUCH_ENABLED&&n.options().nativeControlsForTouch===!0&&this.useNativeControls();this.triggerReady()}});amp.AzureHtml5JS.prototype.setXmlHttpRequestFactory=function(n){this.player_.mediaPlayer.setXmlHttpRequestFactory(n)};amp.AzureHtml5JS.prototype.createEl=function(){var t=this.player_,n=t.tag,e,u,i,r,f;for(n&&this.features.movingMediaElementInDOM!==!1||(n?(e=n.cloneNode(!1),amp.Html5.disposeMediaElement(n),n=e,t.tag=null):(n=amp.createEl("video"),amp.setElementAttributes(n,amp.obj.merge({},{id:t.id()+"_html5_api","class":"vjs-tech"}))),n.player=t,t.tag=n,amp.insertFirst(n,t.el())),amp.setElementAttributes(n,{oncontextmenu:"return false;"}),u=["preload","loop"],i=u.length-1;i>=0;i--)r=u[i],f={},typeof t.options_[r]!="undefined"&&(f[r]=t.options_[r]),amp.setElementAttributes(n,f);return n};amp.AzureHtml5JS.isSupported=function(){return!!window.MediaSource};amp.AzureHtml5JS.canPlaySource=function(n){return amp.Player.canSupportFormats(n,this.supportedFormats)};amp.AzureHtml5JS.supportedFormats={};amp.AzureHtml5JS.supportedFormats[amp.StreamingFormatMimeType.Dash]=[amp.protectionType.AES];amp.AzureHtml5JS._playReadyKeySystemName="com.microsoft.playready";amp.AzureHtml5JS._widevineKeySystemName="com.widevine.alpha";amp.AzureHtml5JS._defaultVideoCodecMime='video/mp4; codecs="avc1.42001E"';amp.AzureHtml5JS._defaultAudioCodecMime='audio/mp4; codecs="mp4a.40.2"';amp.AzureHtml5JS.CHECK_PENDING="pending";amp.AzureHtml5JS.CHECK_DONE="done";amp.AzureHtml5JS._playReadyCheck=null;amp.AzureHtml5JS._widevineCheck=null;amp.AzureHtml5JS.drmSupportCheck=function(n){for(var t,i,r,u=0;n&&u<n.length;u++)for(t=n[u].protectionInfo,i=0;t&&i<t.length;i++){if(r=t[i].type,vjs.IS_FIREFOX&&vjs.FIREFOX_VERSION<47||vjs.IS_MACWEBVIEW){amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_DONE;amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_DONE;return}amp.AzureHtml5JS._playReadyCheck||r!==amp.protectionType.PlayReady?amp.AzureHtml5JS._widevineCheck||r!==amp.protectionType.Widevine||(AzureHtml5JS.EmeUtil.isTypeSupported(amp.AzureHtml5JS._widevineKeySystemName,amp.AzureHtml5JS._defaultAudioCodecMime,amp.AzureHtml5JS._defaultVideoCodecMime).then(function(){amp.AzureHtml5JS.supportedFormats[amp.StreamingFormatMimeType.Dash].push(amp.protectionType.Widevine);amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_DONE},function(){amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_DONE}),amp.AzureHtml5JS._widevineCheck=amp.AzureHtml5JS.CHECK_PENDING):(AzureHtml5JS.EmeUtil.isTypeSupported(amp.AzureHtml5JS._playReadyKeySystemName,amp.AzureHtml5JS._defaultAudioCodecMime,amp.AzureHtml5JS._defaultVideoCodecMime).then(function(){amp.AzureHtml5JS.supportedFormats[amp.StreamingFormatMimeType.Dash].push(amp.protectionType.PlayReady);amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_DONE},function(){amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_DONE}),amp.AzureHtml5JS._playReadyCheck=amp.AzureHtml5JS.CHECK_PENDING)}};amp.AzureHtml5JS.setupDone=function(){return amp.AzureHtml5JS._playReadyCheck!==amp.AzureHtml5JS.CHECK_PENDING&&amp.AzureHtml5JS._widevineCheck!==amp.AzureHtml5JS.CHECK_PENDING};amp.AzureHtml5JS.prototype.useNativeControls=function(){var t,n,i,r,u;t=this;n=this.player();t.setControls(n.controls());i=function(){t.setControls(!0)};r=function(){t.setControls(!1)};n.on("controlsenabled",i);n.on("controlsdisabled",r);u=function(){n.off("controlsenabled",i);n.off("controlsdisabled",r)};t.on("dispose",u);n.on("usingcustomcontrols",u);n.usingNativeControls(!0)};amp.AzureHtml5JS.prototype.autoplay=function(){return this.player().mediaPlayer.autoplay};amp.AzureHtml5JS.prototype.setAutoplay=function(n){this.player().options_.autoplay=n};amp.AzureHtml5JS.prototype.buffered=function(){return this.player().mediaPlayer.buffered};amp.AzureHtml5JS.prototype.currentSrc=function(){return this.src()};amp.AzureHtml5JS.prototype.isLive=function(){return this.player().mediaPlayer.isLive};amp.AzureHtml5JS.prototype.manifestPlayableWindowLength=function(){return this.player().mediaPlayer.manifestPlayableWindowLength};amp.AzureHtml5JS.prototype.currentPlayableWindow=function(){return this.player().mediaPlayer.currentPlayableWindow};amp.AzureHtml5JS.prototype.segmentBoundaries=function(){return this.player().mediaPlayer.segmentBoundaries};amp.AzureHtml5JS.prototype.setCurrentTime=function(n){this.player().mediaPlayer.currentTime=n};amp.AzureHtml5JS.prototype.currentTime=function(){return this.player().mediaPlayer.currentTime};amp.AzureHtml5JS.prototype.currentAbsoluteTime=function(){return this.player().mediaPlayer.currentAbsoluteTime};amp.AzureHtml5JS.prototype.currentMediaTime=function(){return this.player().mediaPlayer.currentMediaTime};amp.AzureHtml5JS.prototype.currentType=function(){return this.player().mediaPlayer.type};amp.AzureHtml5JS.prototype.currentVideoStreamList=function(){return this.player().mediaPlayer.currentVideoStreamList};amp.AzureHtml5JS.prototype.currentAudioStreamList=function(){return this.player().mediaPlayer.currentAudioStreamList};amp.AzureHtml5JS.prototype.videoBufferData=function(){return this.player().mediaPlayer.videoBufferData};amp.AzureHtml5JS.prototype.audioBufferData=function(){return this.player().mediaPlayer.audioBufferData};amp.AzureHtml5JS.prototype.currentDownloadBitrate=function(){return this.player().mediaPlayer.currentDownloadBitrate};amp.AzureHtml5JS.prototype.currentPlaybackBitrate=function(){return this.player().mediaPlayer.currentPlaybackBitrate};amp.AzureHtml5JS.prototype.duration=function(){return this.player().mediaPlayer.duration};amp.AzureHtml5JS.prototype.ended=function(){return this.player().mediaPlayer.ended};amp.AzureHtml5JS.prototype.error=function(){return this.player().error()};amp.AzureHtml5JS.prototype.isFullScreen=function(){return this.player().mediaPlayer.isFullScreen};amp.AzureHtml5JS.prototype.muted=function(){return this.player().mediaPlayer.volume===0};amp.AzureHtml5JS.prototype.setMuted=function(n){n&&!this.muted()&&this.setVolume(0)};amp.AzureHtml5JS.prototype.paused=function(){return this.player().mediaPlayer.paused};amp.AzureHtml5JS.prototype.seeking=function(){return this.player().mediaPlayer.seeking};amp.AzureHtml5JS.prototype.src=function(n){if(n===undefined)return this.player().mediaPlayer.src;this.setSrc(n)};amp.AzureHtml5JS.prototype.volume=function(){return this.player().mediaPlayer.volume};amp.AzureHtml5JS.prototype.setVolume=function(n){this.player().mediaPlayer.volume=n};amp.AzureHtml5JS.prototype.height=function(n){if(n===undefined)return this.player().mediaPlayer.height;this.player().mediaPlayer.height=n};amp.AzureHtml5JS.prototype.width=function(n){if(n===undefined)return this.player().mediaPlayer.width;this.player().mediaPlayer.width=n};amp.AzureHtml5JS.prototype.videoHeight=function(){return this.player().mediaPlayer.videoHeight};amp.AzureHtml5JS.prototype.videoWidth=function(){return this.player().mediaPlayer.videoWidth};amp.AzureHtml5JS.prototype.play=function(){this.player().mediaPlayer.play()};amp.AzureHtml5JS.prototype.pause=function(){this.player().mediaPlayer.pause()};amp.AzureHtml5JS.prototype.setSrc=function(n){var f={type:this.player().currentType()},r,u,t,e,i;if(this.player().options_.autoplay!==undefined&&(f=amp.obj.merge({autoPlay:this.player().options_.autoplay},f)),this.player().updateCurrentPlayerConfigs(),AMP.Logger.setLogConfig(this.player().options_.traceConfig),this.player().options_.traceConfig&&AzureHtml5JS.Log.setConsoleOutputByLevel(this.player().options_.traceConfig.maxLogLevel),r={},u=this.player().options_.currentPlayerConfigs.currentHeuristicConfigs,r.maxBufferInSec=u.maxBufferInSec,r.prerollPercent=u.preRollInSec/u.maxBufferInSec,r.livePlaybackOffsetPercent=(u.livePlaybackOffsetInSec-u.preRollInSec)/u.maxBufferInSec,r.windowSizeHeuristicsEnabled=u.windowSizeHeuristics,amp.options.azureHtml5JS.maxSkipSegments&&(r.maxSkipSegments=amp.options.azureHtml5JS.maxSkipSegments),this.player().options_.heuristicProfile==="QuickStart"&&(r.preFetchDataEnabled=!1),f.userConfig=r,t=this.player().options_.playbackOptions.protectionInfo,e=null,t){for(i=0;i<t.length;i++)(t[i].type===amp.protectionType.PlayReady||t[i].type===amp.protectionType.Widevine||t[i].type===amp.protectionType.AES)&&t[i].authenticationToken&&(e||(e={}),e[t[i].type]=t[i].authenticationToken);e&&(f=amp.obj.merge({authenticationTokens:e},f))}this.player().mediaPlayer.setSrc(n,f)};amp.AzureHtml5JS.prototype.load=function(){};amp.AzureHtml5JS.prototype.supportsFullScreen=function(){return!0};amp.AzureHtml5JS.prototype.enterFullScreen=function(){this.player().mediaPlayer.requestFullScreen()};amp.AzureHtml5JS.prototype.exitFullScreen=function(){this.player().mediaPlayer.exitFullscreen()};amp.AzureHtml5JS.prototype.dispose=function(){vjs.Html5.disposeMediaElement(this.el_);vjs.MediaTechController.prototype.dispose.call(this);this.player().mediaPlayer.dispose()};amp.AzureHtml5JS.prototype.setupTriggers=function(n){n.addEventListener(AzureHtml5JS.EventName.volumechange,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.ended,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.timeupdate,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.pause,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.play,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.playing,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.seeking,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.seeked,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.suspend,amp.bind(this,amp.AzureHtml5JS.onSuspend));n.addEventListener(AzureHtml5JS.EventName.loadstart,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.loadedmetadata,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.loadeddata,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.fullscreenchange,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.waiting,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.canplaythrough,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.error,amp.bind(this,amp.AzureHtml5JS.onError));n.addEventListener(AzureHtml5JS.EventName.durationchange,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.downloadbitratechanged,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler));n.addEventListener(AzureHtml5JS.EventName.playbackbitratechanged,amp.bind(this,amp.AzureHtml5JS.onPassthroughHandler))};amp.AzureHtml5JS.onPassthroughHandler=function(n){this.player().trigger(n)};amp.AzureHtml5JS.onSuspend=function(){this.player().removeClass("vjs-loading")};amp.AzureHtml5JS.onError=function(){var n=this.player().mediaPlayer.error;amp.Player.raiseError.call(this.player(),"azurehtml5js",n.code,n.message)};amp.options.techOrder.unshift("azureHtml5JS");amp.options.azureHtml5JS={},function(n){(function(n){"use strict";var u=function(){function n(n){if(this.streams=[],n.getIsDynamicStream()){var i=new t(n);this.streams.push(i)}this.selectedIndex=this.streams.length>0?0:undefined}return n}(),t,i,r;n.VideoStreamList=u;t=function(){function n(n){var i,t,u;for(this.name="",this.tracks=[],this._tech=n,this._selectedTrack=-1,i=n.getStreamItems(),t=0;t<i.length;t++)u=new r(i[t]),this.tracks.push(u)}return n.prototype.selectTrackByIndex=function(n){if(this._selectedTrack!=n){-1==n?this._tech.setAutoDynamicStreamSwitch(!0):(this._tech.setAutoDynamicStreamSwitch(!1),this._tech.switchDynamicStreamIndex(n));for(var t=0;t<this.tracks.length;t++)this.tracks[t].streamingInfo.selectable=-1===n?!0:n===t;this._selectedTrack=n;this._tech.player.trigger(amp.streamEventName.trackselected)}},n.prototype.addEventListener=function(n,t){this._tech.player.addEventListener(n,t)},n.prototype.removeEventListener=function(n,t){this._tech.player.removeEventListener(n,t)},n}();n.VideoStream=t;i=function(){function n(){this.selectable=!0}return n}();n.MediaTrackStreamingInfo=i;r=function(){function n(n){this.width=n.width;this.height=n.height;this.bitrate=n.bitrate*1e3;this.streamingInfo=new i}return Object.defineProperty(n.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),n}();n.VideoTrack=r})(n.FlashSS||(n.FlashSS={}));var t=n.FlashSS}(AMP||(AMP={})),function(n){(function(t){"use strict";var r=function(){function t(n){var t,r;for(this._streams=[],this._tech=n,t=0;t<n.getNumAlternativeAudioStreams();t++)r=new i(n,t),this._streams.push(r);this.selectedIndex=this._streams.length>0?n.getCurrentAlternativeAudioStreamIndex():undefined}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var t=[],n=0;n<this._streams.length;n++)if(this._streams[n].enabled){t.push(n);break}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(n){this._streams.length!=0&&(this._selectedIndex!=undefined&&(this._streams[this._selectedIndex].enabled=!1),this._streams[n].enabled=!0,this._selectedIndex=n)},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){if(this._tech.getHasAlternativeAudio()){if(this.enabledIndices.length!=1){n.Logger.error(2,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled");this._tech.player.trigger(amp.streamListEventName.streamselectnotsupported);return}if(t>=this.streams.length||t<0){n.Logger.error(2,"audioChange failed - tried to enable invalid index: "+t);this._tech.player.trigger(amp.streamListEventName.streamindexinvalid);return}if(t===this.enabledIndices[0]){n.Logger.verbose(2,"audioChange failed because current stream selected");this._tech.player.trigger(amp.streamListEventName.streamselected);return}this.selectedIndex=t;this._tech.switchAlternativeAudioIndex(t);this._tech.player.trigger(amp.streamListEventName.streamselected)}else n.Logger.error(2,"No alternative audio streams found")},t.prototype.addEventListener=function(n,t){this._tech.player.addEventListener(n,t)},t.prototype.removeEventListener=function(n,t){this._tech.player.removeEventListener(n,t)},t}(),i;t.AudioStreamList=r;i=function(){function n(n,t){this.enabled=!1;this.language=n.getAlternativeAudioItemAt(t).info.attributes.Language;this.codec=n.getAlternativeAudioItemAt(t).info.targetTrack.fourCC;this.bitrate=n.getAlternativeAudioItemAt(t).bitrate*1e3;this.name=this.getName(n,t)}return n.prototype.getName=function(n,t){var i=n.getAlternativeAudioItemAt(t).info.urlTemplate.toLowerCase(),r="fragments(",u=i.indexOf(r),f=i.indexOf("=",u);return n.getAlternativeAudioItemAt(t).info.urlTemplate.substring(u+r.length,f)},n}();t.AudioStream=i})(n.FlashSS||(n.FlashSS={}));var t=n.FlashSS}(AMP||(AMP={})),function(n){(function(n){"use strict";var r,t,i;(function(n){n[n.audio=0]="audio";n[n.video=1]="video"})(n.MediaType||(n.MediaType={}));r=n.MediaType;t=function(){function n(n,t){this._el=n;this._typeStr=t===0?"Audio":"Video";this._bufferLevel=0;this._handlers=new i;this.downloadRequested=null;this.downloadCompleted=null;this.downloadFailed=null}return Object.defineProperty(n.prototype,"bufferLevel",{get:function(){var n="get"+this._typeStr+"BufferLength";return this._el&&this._el[n]?this._el[n]():0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"perceivedBandwidth",{get:function(){return this._el&&this._el.getPerceivedBandwidth?this._el.getPerceivedBandwidth():0},enumerable:!0,configurable:!0}),n.prototype.addEventListener=function(n,t){this._handlers[n]&&this._handlers[n].push(t)},n.prototype.removeEventListener=function(n,t){if(this._handlers[n]){var i=this._handlers[n].indexOf(t);-1!==i&&this._handlers[n].splice(i,1)}},n.prototype.dispatchEvent=function(n){var i,t;if(this._handlers[n])for(i={type:n},t=0;t<this._handlers[n].length;t++)this._handlers[n][t].call(this,i)},n}();n.BufferData=t;i=function(){function n(){this.downloadrequested=[];this.downloadcompleted=[];this.downloadfailed=[]}return n}()})(n.FlashSS||(n.FlashSS={}));var t=n.FlashSS}(AMP||(AMP={}));amp.Html5.prototype.vjsSetSrc=vjs.Html5.prototype.setSrc;amp.Html5.prototype.setSrc=function(n){AMP.Logger.setLogConfig(this.player().options().traceConfig);this.vjsSetSrc(n)},function(n){(function(t){"use strict";var i,r,u,f;(function(n){n[n.success=200]="success"})(i||(i={}));r=function(){function n(n,t,i){this.src=n;this.autoPlay=t;this.fairplayInfo=i}return n}();t.SrcInfo=r;u=function(){function n(n,t,i,r){this.target=n;this.listener=t;this.eventName=i;this.useCapture=r}return n}();f=function(){function t(n,t,i,r){this.videoTag=n;this.srcInfo=t;this.onError=i;this.onEvent=r;this.certFecthed=!1;this.certificate=null;this.session=null;this.licenseUrl=null;this.disposed=!1;this.keySessionEventListeners=[];this.init()}return t.prototype.dispose=function(){this.disposed=!0;this.keySessionEventListeners.forEach(function(n){n.target.removeEventListener(n.eventName,n.listener,n.useCapture)});this.keySessionEventListeners=null;this.videoTag&&(this.videoTag=null);this.srcInfo=null;this.onError=null;this.certificate=null;this.onEvent=null;this.certFecthed=!1;this.session&&this.session.close()},t.prototype.init=function(){function t(){n.certFecthed=!0;n.setSrcOnVideoElement()}function i(){return new Promise(function(t,i){function u(){if(!n.disposed)if(this.status===200)n.certificate=new Uint8Array(this.response),t();else{n.onError(5242887,"Fairplay certificate fetch failed with status ="+this.status);i()}}function f(){if(!n.disposed){n.onError(5242887,"Error occurred during Fairplay certificate fetch.");i()}}function e(){if(!n.disposed){n.onError(5242887,"Timeout during Fairplay certificate fetch.");i()}}var r=new XMLHttpRequest;r.open("GET",n.srcInfo.fairplayInfo.certificateUrl,!0);r.responseType="arraybuffer";r.onload=u;r.onerror=f;r.ontimeout=e;n.srcInfo.fairplayInfo.authenticationToken&&r.setRequestHeader("Authorization",n.srcInfo.fairplayInfo.authenticationToken);r.timeout=5e3;r.send()})}if(!this.srcInfo.fairplayInfo||!this.srcInfo.fairplayInfo.type||this.srcInfo.fairplayInfo.type!=amp.protectionType.FairPlay||!this.srcInfo.fairplayInfo.certificateUrl)throw new Error("Initialization Error in FairPlay");var n=this;i().then(t)},t.prototype.play=function(){this.certFecthed?this.videoTag.play():this.pendingPlay=!0},t.prototype.addEventListener=function(n,t,i,r){n.addEventListener(t,i,r);this.keySessionEventListeners.push(new u(n,i,t,r))},t.prototype.setSrcOnVideoElement=function(){function i(n){if(!t.disposed){var i=n.initData;t.contentId=e(i);i=t.concatInitDataContentIdAndCertificate(i,h(t.contentId));t.session=f(i,"com.apple.fps.1_0");t.session&&(t.addEventListener(t.session,"webkitkeymessage",r,!1),t.addEventListener(t.session,"webkitkeyerror",u,!1))}}function r(i){function f(){var f,u;if(!t.disposed)try{if(this.status===200){var i=this.responseText.trim(),r=i.indexOf("<ckc>"),e=i.indexOf("<\/ckc>");if(r===-1||e===-1)throw Error("License data format not as expected, missing or misplaced <ckc> tag");r=r+5;i=i.substr(r,e-r);f=n.Base64Utils.base64ToBinary(i);t.session.update(f)}else throw Error("License fetch failed with http status = "+this.status);}catch(o){u=o.message?o.message:"Failed to update MediaKeySession with fetched Fairplay license.";n.Logger.error(6,u);t.onError(5242886,u)}}function e(){if(!t.disposed){var i="Error occurred during Fairplay license fetch.";n.Logger.error(6,i);t.onError(5242886,i)}}function o(){if(!t.disposed){var i="Timeout during Fairplay license fetch.";n.Logger.error(6,i);t.onError(5242886,i)}}var r,u;t.disposed||(r=new XMLHttpRequest,r.open("POST",t.licenseUrl,!0),r.onload=f,r.onerror=e,r.ontimeout=o,r.timeout=5e3,r.responseType="text",u="spc="+n.Base64Utils.binaryToBase64(i.message)+"&assetId="+encodeURIComponent(t.contentId),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.srcInfo.fairplayInfo.authenticationToken&&r.setRequestHeader("Authorization",t.srcInfo.fairplayInfo.authenticationToken),r.send(u))}function u(){if(!t.disposed){var i="MediaKeyError code: "+t.session.error.code+", systemCode: "+AzureHtml5JS.Common.toHexString(t.session.error.systemCode);n.Logger.error(6,i);t.onError(5242880,i)}}function f(i,r){var f="video/mp4",s="WebKitMediaKeys"in window,e=null,u;try{if(s&&window.WebKitMediaKeys.isTypeSupported(r,f))t.videoTag.webkitSetMediaKeys(new window.WebKitMediaKeys(r));else throw new Error("No EME support.");e=t.videoTag.webkitKeys.createSession(f,i)}catch(o){u=o.message?o.message:r+" session creation failed";n.Logger.error(6,u);t.onError(5242881,u)}return e}function e(n){var i=s(n);return t.licenseUrl=i.substring(1).replace("skd://","https://"),o(t.licenseUrl)}function o(n){var t=document.createElement("a");return t.href=n,t.hostname}function s(n){var i=new Uint16Array(n.buffer),r,t;try{return String.fromCharCode.apply(null,i)}catch(u){for(r=[],t=0;t<i.byteLength;t++)r.push(String.fromCharCode(i[t]));return r.join("")}}function h(n){for(var r=new ArrayBuffer(n.length*2),i=new Uint16Array(r),t=0,u=n.length;t<u;t++)i[t]=n.charCodeAt(t);return i}if(!this.disposed){this.addEventListener(this.videoTag,"webkitneedkey",i,!1);this.videoTag.autoplay=this.srcInfo.autoPlay;this.videoTag.src=this.srcInfo.src;this.pendingPlay&&this.videoTag.play();var t=this}},t.prototype.concatInitDataContentIdAndCertificate=function(n,t){var u=4,h=n.length+u+t.byteLength+u+this.certificate.byteLength,r=new ArrayBuffer(h),e=new DataView(r),i=0,o=new Uint8Array(r,i,n.byteLength),f,s;return o.set(n),i+=o.byteLength,e.setUint32(i,t.byteLength,!0),i+=u,f=new Uint16Array(r,i,t.length),f.set(t),i+=f.byteLength,e.setUint32(i,this.certificate.byteLength,!0),i+=u,s=new Uint8Array(r,i,this.certificate.byteLength),s.set(this.certificate),new Uint8Array(r,0,r.byteLength)},t}();t.FairPlay=f})(n.Html5Fairplay||(n.Html5Fairplay={}));var t=n.Html5Fairplay}(AMP||(AMP={})),function(n){"use strict";function h(n){f(n)&&(i=n)}function c(){i=t}function f(n){if(n&&n.length>0){for(var i=0;i<n.length;i++)if(-1===t.indexOf(n[i]))throw new Error('Format "'+n[i]+'" not supported');return!0}return!1}function l(n,t){for(var r=[],i=0;i<t.length;i++)-1!==w[n].indexOf(t[i].type)&&r.push(t[i]);return r}function a(n){for(var r,u,i=[],f,o,s=[],t=0;n&&t<n.length;t++)r=n[t].src,u=n[t].src.indexOf("?"),u!==-1&&(r=n[t].src.substr(0,u).toLowerCase()),r.toLowerCase().lastIndexOf(".ism/manifest")===-1||n[t].disableUrlRewriter?i.push(n[t]):(o=e(n[t].src),s.indexOf(o)===-1&&(s.push(o),f=v(n[t]),f&&(i=i.concat(f))));return i.length>0?i:null}function e(n){var t=n.trim(),i=t.search(/\.ism\/manifest/i);return t.substr(0,i+s.length)}function v(n){var t=n.src.trim(),et=t.search(/format=/i),nt=[],w,c="",h="",ft=t.indexOf("?"),b,k,d,a,v,tt,g,it;if(ft!==-1&&(h=t.substr(ft),h!=="")){var ot=new RegExp("(\\?|&)protectionType=(.[^&]*)","i"),st=new RegExp("(\\?|&)token=(.[^&]*)","i"),rt=h.match(ot),ut=h.match(st);rt&&rt.length===3&&(b=new u,b.type=rt[2],ut&&ut.length===3&&(b.authenticationToken=decodeURIComponent(ut[2])),n.protectionInfo=[b])}for(et>-1&&(t=t.replace(/format=[^,)]*[ ,]*/i,""),t=t.replace(/\(\s*\)/,"")),w=t.match(/\.ism\/manifest\([^)]*\)/i),w&&w.length>0&&(c=w[0].substr(s.length+1).trim()),t=e(n.src.trim()),k=i,n.streamingFormats&&f(n.streamingFormats)&&(k=n.streamingFormats),d=0;d<k.length;d++){if(v="",a=k[d],tt=p[a],a!==o?v="(format="+y[a]+(c?","+c:")"):c&&(v="("+c),n.protectionInfo)if(it=l(a,n.protectionInfo),it.length)g=new r(t+v,tt,it);else continue;else g=new r(t+v,tt);h!==""&&(g.src+=h);nt.push(g)}return nt.length>0?nt:null}var o="SMOOTH",t=[o,"DASH","HLS-V4","HLS-V3","HLS"],y={DASH:"mpd-time-csf","HLS-V3":"m3u8-aapl-v3","HLS-V4":"m3u8-aapl-v4",HLS:"m3u8-aapl"},p={SMOOTH:"application/vnd.ms-sstr+xml",DASH:"application/dash+xml","HLS-V3":"application/vnd.apple.mpegurl","HLS-V4":"application/vnd.apple.mpegurl",HLS:"application/vnd.apple.mpegurl"},w={SMOOTH:["PlayReady","AES"],DASH:["PlayReady","AES","Widevine"],"HLS-V3":["PlayReady","AES"],"HLS-V4":["PlayReady","AES"],HLS:["PlayReady","AES","FairPlay"]},s=".ism/manifest",i=t,r=function(){function n(n,t,i){this.src=n;this.type=t;this.protectionInfo=i}return n}(),u;n.streamSrc=r;u=function(){function n(){}return n}();n.protectionInfo=u;n.setStreamingFormats=h;n.resetStreamingFormats=c;n.expandSources=a}(UrlRewriter||(UrlRewriter={}));amp.options.languages.ar={Play:"",Pause:" ","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:" ",Progress:" ",Fullscreen:" ","Non-Fullscreen":"    ",Mute:" ",Unmuted:"   ","Playback Rate":" ",Subtitles:" ","subtitles off":"    ",Captions:" ","captions off":"    ",Chapters:"",Off:" ",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"  ","Share Video":" ","Next Track":"  ","Previous Track":"  ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"         .          .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["ar-sa"]=amp.options.languages.ar;amp.options.languages["ar-ab"]=amp.options.languages.ar;amp.options.languages["ar-xm"]=amp.options.languages.ar;amp.options.languages["ar-ma"]=amp.options.languages.ar;amp.options.languages.bg={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:"  ",Unmuted:"  ","Playback Rate":"  ",Subtitles:"","subtitles off":".  ",Captions:"","captions off":".  ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"  ",Share:"",Volume:"  ","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":"  ",MEDIA_ERR_ABORTED:"    .",MEDIA_ERR_NETWORK:"          .       -.",MEDIA_ERR_DECODE:"     ,            .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             ,       .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"         .",MEDIA_ERR_UNKNOWN:"  "};amp.options.languages.ca={Play:"Reprodueix",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Durada","Remaining Time":"Temps restant","Stream Type":"Tipus de seqncia",LIVE:"EN DIRECTE",Loaded:"Carregat",Progress:"Progrs",Fullscreen:"Pantalla sencera","Non-Fullscreen":"Mida normal",Mute:"Silencia",Unmuted:"So activat","Playback Rate":"Velocitat de reproducci",Subtitles:"Subttols","subtitles off":"Subttols desactivats",Captions:"Llegendes","captions off":"Llegendes desactivades",Chapters:"Captols",Off:"Desactivat",Quality:"Qualitat",Auto:"Autom tic","Audio Tracks":"Pistes d' udio","default":"per defecte","Cast To Device":"Emetre al dispositiu",Share:"Comparteix",Volume:"Volum","Playback Speed":"Velocitat de reproducci","Video Quality":"Qualitat de vdeo","Closed Captioning":"Subtitulat ocult","Share Video":"Comparteix el vdeo","Next Track":"Pista segent","Previous Track":"Pista anterior","Skip Forward":"Salta endavant","Skip Backward":"Salta enrere","Fast Forward":"Avana r pidament",Rewind:"Rebobina","Next Frame":"Fotograma segent","Previous Frame":"Fotograma anterior",Settings:"Configuraci",Options:"Opcions","More Options":"Ms opcions",Zoom:"Zoom","Zoom In":"Amplia","Zoom Out":"Redueix","Audio Only":"Noms  udio","Picture in Picture":"Imatge a la imatge","Camera Angle":"Angle de c mera",MEDIA_ERR_ABORTED:"S'ha avortat la reproducci de vdeo.",MEDIA_ERR_NETWORK:"Un error de xarxa ha provocat que la baixada del vdeo no es pogus completar. Comproveu la connexi de xarxa o torneu-ho a provar ms tard.",MEDIA_ERR_DECODE:"El vdeo no s'ha pogut carregar a causa d'un error del servidor o de la xarxa o b perqu el format no s compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"S'ha avortat la reproducci del vdeo a causa d'un problema de danys o b perqu el vdeo feia servir caracterstiques no admeses pel navegador.",MEDIA_ERR_ENCRYPTED:"No es pot desencriptar la font del vdeo encriptat.",SRC_PLAYER_MISMATCH:"No s'ha trobat cap font compatible per a l'entorn actual del navegador.",MEDIA_ERR_UNKNOWN:"S'ha produt un error desconegut."};amp.options.languages["ca-es"]=amp.options.languages.ca;amp.options.languages.cs={Play:"Pehrt",Pause:"Pozastavit","Current Time":"Aktuln as","Duration Time":"Doba trvn","Remaining Time":"Zbvajc as","Stream Type":"Typ streamu",LIVE:"IV",Loaded:"Naten",Progress:"Prbh",Fullscreen:"Cel obrazovka","Non-Fullscreen":"Normln zobrazen",Mute:"Ztlumit",Unmuted:"Ztlumen zrueno","Playback Rate":"Rychlost pehrvn (snmky)",Subtitles:"Titulky","subtitles off":"vypnut titulky",Captions:"Titulky","captions off":"vypnut titulky",Chapters:"Kapitoly",Off:"Vypnuto",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy","default":"vchoz","Cast To Device":"Petypovat na zazen",Share:"Sdlet",Volume:"Hlasitost","Playback Speed":"Rychlost pehrvn","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulky","Share Video":"Sdlet video","Next Track":"Dal stopa","Previous Track":"Pedchoz stopa","Skip Forward":"Peskoit vped","Skip Backward":"Peskoit zpt","Fast Forward":"Pevinout vped",Rewind:"Pevinout zpt","Next Frame":"Dal snmek","Previous Frame":"Pedchoz snmek",Settings:"Nastaven",Options:"Monosti","More Options":"Dal monosti",Zoom:"Lupa","Zoom In":"Piblit","Zoom Out":"Oddlit","Audio Only":"Jenom zvuk","Picture in Picture":"Obraz v obraze","Camera Angle":"hel kamery",MEDIA_ERR_ABORTED:"Pehrvn videa se peruilo.",MEDIA_ERR_NETWORK:"Bhem stahovn videa dolo k chyb kvli problmu se st. Zkontrolujte prosm pipojen k sti nebo to zkuste znova pozdji.",MEDIA_ERR_DECODE:"Video se nedalo nast, bu kvli chyb serveru nebo st, nebo nem podporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pehrvn videa se peruilo, protoe je video pokozen nebo pouv funkce, kter v prohle nepodporuje.",MEDIA_ERR_ENCRYPTED:"Ned se deifrovat zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenael se dn kompatibiln zdroj pro aktuln prosted prohlee.",MEDIA_ERR_UNKNOWN:"Dolo k neznm chyb."};amp.options.languages["cs-cz"]=amp.options.languages.cs;amp.options.languages.da={Play:"Afspil",Pause:"Pause","Current Time":"Aktuelt klokkeslt","Duration Time":"Varighed","Remaining Time":"Resterende tid","Stream Type":"Streamtype",LIVE:"LIVE",Loaded:"Indlst",Progress:"Status",Fullscreen:"Fuld skrm","Non-Fullscreen":"Ikke fuldskrm",Mute:"Lyd fra",Unmuted:"Lyd til","Playback Rate":"Afspilningshastighed",Subtitles:"Undertekster","subtitles off":"Undertekster fra",Captions:"Billedtekster","captions off":"Billedtekster fra",Chapters:"Kapitler",Off:"Fra",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Vis p enhed",Share:"Del",Volume:"Lydstyrke","Playback Speed":"Afspilningshastighed","Video Quality":"Videokvalitet","Closed Captioning":"Undertekster","Share Video":"Del video","Next Track":"Nste spor","Previous Track":"Forrige spor","Skip Forward":"Spring frem","Skip Backward":"Spring tilbage","Fast Forward":"Spol hurtigt frem",Rewind:"Spol tilbage","Next Frame":"Nste billede","Previous Frame":"Forrige billede",Settings:"Indstillinger",Options:"Indstillinger","More Options":"Flere indstillinger",Zoom:"Zoom","Zoom In":"Zoom ind","Zoom Out":"Zoom ud","Audio Only":"Kun lyd","Picture in Picture":"Billede i billede","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Afspilning af video blev afbrudt. ",MEDIA_ERR_NETWORK:"P grund af en netvrksfejl blev videoen ikke downloadet helt. Kontrollr din netvrksforbindelse, eller prv igen senere.",MEDIA_ERR_DECODE:"Videoen kunne ikke indlses. Det skyldes en server- eller netvrksfejl, eller at formatet ikke er understttet.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Afspilning af video blev afbrudt. Det skyldes, at videoen er delagt, eller at videoen bruger funktioner, der ikke understttes af din browser.",MEDIA_ERR_ENCRYPTED:"Den krypterede videokilde kunne ikke dekrypteres.",SRC_PLAYER_MISMATCH:"Der blev ikke fundet en kompatibel kilde til det aktuelle browsermilj.",MEDIA_ERR_UNKNOWN:"Der opstod en ukendt fejl"};amp.options.languages["da-dk"]=amp.options.languages.da;amp.options.languages.de={Play:"Spielen",Pause:"Anhalten","Current Time":"Aktuelle Zeit","Duration Time":"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Vollbild","Non-Fullscreen":"Vollbildmodus beenden",Mute:"Ton aus",Unmuted:"Ton an","Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:"Untertitel","subtitles off":"Untertitel aus",Captions:"Beschriftungen","captions off":"Beschriftungen aus",Chapters:"Kapitel",Off:"Aus",Quality:"Qualitt",Auto:"Automatisch","Audio Tracks":"Audiotitel","default":"Standard","Cast To Device":"Fr Gert umwandeln",Share:"Freigeben",Volume:"Lautstrke","Playback Speed":"Wiedergabegeschwindigkeit","Video Quality":"Videoqualitt","Closed Captioning":"Untertitelung","Share Video":"Video freigeben","Next Track":"Nchster Titel","Previous Track":"Vorheriger Titel","Skip Forward":"Rckwrts","Skip Backward":"Vorwrts","Fast Forward":"Vorlauf",Rewind:"Zurckspulen","Next Frame":"Nchstes Bild","Previous Frame":"Vorheriges Bild",Settings:"Einstellungen",Options:"Optionen","More Options":"Weitere Optionen",Zoom:"Zoom","Zoom In":"Vergrern","Zoom Out":"Verkleinern","Audio Only":"Nur Audio","Picture in Picture":"Bild-im-Bild","Camera Angle":"Kamerawinkel",MEDIA_ERR_ABORTED:"Videowiedergabe abgebrochen.",MEDIA_ERR_NETWORK:"Beim Herunterladen des Videos ist aufgrund eines Netzwerkfehlers ein Fehler aufgetreten. Prfen Sie Ihre Internetverbindung, oder versuchen Sie es spter erneut.",MEDIA_ERR_DECODE:"Das Video konnte nicht geladen werden. Entweder ist ein Server- oder Netzwerkfehler aufgetreten ist, oder das Format wird nicht untersttzt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Die Videowiedergabe wurde abgebrochen. Mglicherweise ist das Video beschdigt, oder es verwendet Funktionen, die in Ihrem Browser nicht untersttzt werden.",MEDIA_ERR_ENCRYPTED:"Die verschlsselte Videoquelle konnte nicht entschlsselt werden.",SRC_PLAYER_MISMATCH:"Keine kompatible Quelle fr die aktuelle Browserumgebung gefunden.",MEDIA_ERR_UNKNOWN:"Unbekannter Fehler."};amp.options.languages["de-at"]=amp.options.languages.de;amp.options.languages["de-ch"]=amp.options.languages.de;amp.options.languages.el={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":"   ","Stream Type":" ",LIVE:"LIVE",Loaded:"   ",Progress:" ",Fullscreen:"  ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:" ",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":"  ","Closed Captioning":"  ","Share Video":"  ","Next Track":" ","Previous Track":"  ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":"  ",Settings:"",Options:"","More Options":"  ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"   ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .        .",MEDIA_ERR_DECODE:"                .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                 .",MEDIA_ERR_ENCRYPTED:"        . ",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"   ."};amp.options.languages["el-gr"]=amp.options.languages.el;amp.options.languages.en={MEDIA_ERR_ABORTED:"Video playback aborted.",MEDIA_ERR_NETWORK:"A network error caused the video download to fail part-way. Please check your network connection or try again later.",MEDIA_ERR_DECODE:"The video could not be loaded, either because the server or network failed or because the format is not supported.",MEDIA_ERR_SRC_NOT_SUPPORTED:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",MEDIA_ERR_ENCRYPTED:"Unable to decrypt the encrypted video source.",SRC_PLAYER_MISMATCH:"No compatible source found for the current browser environment.",MEDIA_ERR_UNKNOWN:"An unknown error occurred."};amp.options.languages.es={Play:"Reproducir",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Duracin","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Tamao normal",Mute:"Silenciar",Unmuted:"Audio reactivado","Playback Rate":"Tasa de reproduccin",Subtitles:"Subttulos","subtitles off":"subttulos desactivados",Captions:"Subttulos","captions off":"subttulos desactivados",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidad",Auto:"Automtico","Audio Tracks":"Pistas de audio","default":"predeterminado","Cast To Device":"Emitir en el dispositivo",Share:"Compartir",Volume:"Volumen","Playback Speed":"Velocidad de reproduccin","Video Quality":"Calidad de vdeo","Closed Captioning":"Subttulos (CC)","Share Video":"Compartir vdeo","Next Track":"Pista siguiente","Previous Track":"Pista anterior","Skip Forward":"Saltar adelante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rpidamente",Rewind:"Rebobinar","Next Frame":"Fotograma siguiente","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opciones","More Options":"Ms opciones",Zoom:"Zoom","Zoom In":"Acercar","Zoom Out":"Alejar","Audio Only":"Solo audio","Picture in Picture":"Imagen en imagen","Camera Angle":"ngulo de cmara",MEDIA_ERR_ABORTED:"La reproduccin de vdeo se cancel.",MEDIA_ERR_NETWORK:"Un error de red provoc que la descarga de vdeo no se pudiera realizar. Compruebe la conexin de red o intntelo de nuevo ms tarde.",MEDIA_ERR_DECODE:"No se pudo cargar el vdeo porque hubo un error en la red o en el servidor o porque el formato no es compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La reproduccin de vdeo se cancel debido a un problema con algn elemento o porque el vdeo contiene caractersticas que no son compatibles con el explorador.",MEDIA_ERR_ENCRYPTED:"La fuente de vdeo cifrada no se puede descifrar.",SRC_PLAYER_MISMATCH:"No se encontr ninguna fuente compatible con el entorno de explorador actual.",MEDIA_ERR_UNKNOWN:"Error desconocido."};amp.options.languages["es-ar"]=amp.options.languages.es;amp.options.languages["es-cl"]=amp.options.languages.es;amp.options.languages["es-co"]=amp.options.languages.es;amp.options.languages["es-cr"]=amp.options.languages.es;amp.options.languages["es-do"]=amp.options.languages.es;amp.options.languages["es-ec"]=amp.options.languages.es;amp.options.languages["es-us"]=amp.options.languages.es;amp.options.languages["es-gt"]=amp.options.languages.es;amp.options.languages["es-hn"]=amp.options.languages.es;amp.options.languages["es-xl"]=amp.options.languages.es;amp.options.languages["es-mx"]=amp.options.languages.es;amp.options.languages["es-ni"]=amp.options.languages.es;amp.options.languages["es-pa"]=amp.options.languages.es;amp.options.languages["es-py"]=amp.options.languages.es;amp.options.languages["es-pe"]=amp.options.languages.es;amp.options.languages["es-pr"]=amp.options.languages.es;amp.options.languages["es-us"]=amp.options.languages.es;amp.options.languages["es-uy"]=amp.options.languages.es;amp.options.languages["es-ve"]=amp.options.languages.es;amp.options.languages.et={Play:"Esita",Pause:"Peata","Current Time":"Praegune kellaaeg","Duration Time":"Kestus","Remaining Time":"Jrelejnud aeg","Stream Type":"Voo tp",LIVE:"OTSE",Loaded:"Laaditud",Progress:"Edenemine",Fullscreen:"Tisekraanvaade","Non-Fullscreen":"Mittetisekraanvaade",Mute:"Vaigista",Unmuted:"Vaigistamata","Playback Rate":"Taasesituse kiirus",Subtitles:"Subtiitrid","subtitles off":"subtiitrid vljas",Captions:"Tiitrid","captions off":"tiitrid vljas",Chapters:"Peatkid",Off:"Vljas",Quality:"Kvaliteet",Auto:"Automaatne","Audio Tracks":"Heliribad","default":"vaikeste","Cast To Device":"Esita seadmes",Share:"Jaga",Volume:"Helitugevus","Playback Speed":"Taasesituse kiirus","Video Quality":"Video kvaliteet","Closed Captioning":"Subtiitrid vaegkuuljatele","Share Video":"Jaga videot","Next Track":"Jrgmine pala","Previous Track":"Eelmine pala","Skip Forward":"Keri edasi","Skip Backward":"Keri tagasi","Fast Forward":"Edasi",Rewind:"Tagasi","Next Frame":"Jrgmine kaader","Previous Frame":"Eelmine kaader",Settings:"Stted",Options:"Suvandid","More Options":"Rohkem suvandeid",Zoom:"Suum","Zoom In":"Suurenda","Zoom Out":"Vhenda","Audio Only":"Ainult heli","Picture in Picture":"Pilt pildis","Camera Angle":"Vaatenurk",MEDIA_ERR_ABORTED:"Video taasesitamine katkestati.",MEDIA_ERR_NETWORK:"Video allalaadimine nurjus vrgutrke tttu poole pealt. Kontrollige vrguhendust vi proovige hiljem uuesti.",MEDIA_ERR_DECODE:"Videot ei saanud laadida, kuna serveri- vi vrguhendus nurjus vi vormingut ei toetata.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video taasesitamine katkes failirikke tttu vi kuna teie brauser ei toeta videos kasutatud funktsioone.",MEDIA_ERR_ENCRYPTED:"Krptitud videoallikat ei saa dekrptida.",SRC_PLAYER_MISMATCH:"Praeguse brauserikeskkonna jaoks ei leitud hilduvat allikat.",MEDIA_ERR_UNKNOWN:"Ilmnes tundmatu trge"};amp.options.languages["et-ee"]=amp.options.languages.et;amp.options.languages.eu={Play:"Erreproduzitu",Pause:"Pausatu","Current Time":"Uneko ordua","Duration Time":"Iraupena","Remaining Time":"Gelditzen den denbora","Stream Type":"Erreprodukzio mota",LIVE:"ZUZENEAN",Loaded:"Kargatuta",Progress:"Aurrerapena",Fullscreen:"Pantaila osoa","Non-Fullscreen":"Pantaila osoa ez",Mute:"Audio desaktibatuta",Unmuted:"Audioa aktibatuta","Playback Rate":"Erreprodukzio-abiadura",Subtitles:"Azpitituluak","subtitles off":"azpitituluak desaktibatuta",Captions:"Epigrafeak","captions off":"epigrafeak desaktibatuta",Chapters:"Atalak",Off:"Desaktibatuta",Quality:"Kalitatea",Auto:"Automatikoa","Audio Tracks":"Audio-pistak","default":"lehenetsia","Cast To Device":"Igorri gailura",Share:"Partekatu",Volume:"Bolumena","Playback Speed":"Erreprodukzio-abiadura","Video Quality":"Bideoaren kalitatea","Closed Captioning":"Epigrafeak","Share Video":"Partekatu bideoa","Next Track":"Hurrengo pista","Previous Track":"Aurreko pista","Skip Forward":"Saltatu aurrera","Skip Backward":"Saltatu atzera","Fast Forward":"Aurreratu",Rewind:"Atzeratu","Next Frame":"Hurrengo fotograma","Previous Frame":"Aurreko fotograma",Settings:"Ezarpenak",Options:"Aukerak","More Options":"Aukera gehiago",Zoom:"Zooma","Zoom In":"Handitu","Zoom Out":"Txikitu","Audio Only":"Audioa soilik","Picture in Picture":"Irudia irudiaren barnean","Camera Angle":"Kamera-angelua",MEDIA_ERR_ABORTED:"Bideo-erreprodukzioa utzi egin da",MEDIA_ERR_NETWORK:"Sare-errore bat gertatu da eta ezin izan da bideo osoa deskargatu. Egiaztatu sarera konektatuta zaudela edo saiatu berriro geroago.",MEDIA_ERR_DECODE:"Ezin izan da kargatu bideoa, zerbitzariak edo sareak huts egin duelako edo formatua onartzen ez delako.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bideo-erreprodukzioa utzi egin da hondatuta dagoelako edo arakatzaileak onartzen ez dituen eginbideak erabiltzen dituelako bideoak.",MEDIA_ERR_ENCRYPTED:"Ezin da desenkriptatu enkriptatutako bideo-iturburua.",SRC_PLAYER_MISMATCH:"Ez da aurkitu iturburu bateragarririk uneko arakatzaile-ingurunerako.",MEDIA_ERR_UNKNOWN:"Errore ezezagun bat gertatu da"};amp.options.languages["eu-es"]=amp.options.languages.eu;amp.options.languages.fa={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:"  ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:" ","captions off":"  ",Chapters:" ",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":"   ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:"  ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:" ","More Options":"  ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .            .",MEDIA_ERR_DECODE:"                     .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                     .",MEDIA_ERR_ENCRYPTED:"        .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"     "};amp.options.languages["fa-ir"]=amp.options.languages.fa;amp.options.languages.fi={Play:"Toista",Pause:"Keskeyt","Current Time":"Nykyinen aika","Duration Time":"Kesto","Remaining Time":"Jljell oleva aika","Stream Type":"Suoratoistotyyppi",LIVE:"LIVE",Loaded:"Ladattu",Progress:"Edistyminen",Fullscreen:"Koko nytt","Non-Fullscreen":"Muu kuin koko nytt",Mute:"Vaimenna",Unmuted:"Vaimennus poistettu","Playback Rate":"Toistonopeus",Subtitles:"Tekstitys","subtitles off":"Ei tekstityst",Captions:"Kuvatekstit","captions off":"Ei kuvatekstej",Chapters:"Kohtaukset",Off:"Ei kytss",Quality:"Laatu",Auto:"Automaattinen","Audio Tracks":"niraidat","default":"oletus","Cast To Device":"Lhet laitteeseen",Share:"Jaa",Volume:"nenvoimakkuus","Playback Speed":"Toistonopeus","Video Quality":"Videon laatu","Closed Captioning":"Tekstitys","Share Video":"Jaa video","Next Track":"Seuraava raita","Previous Track":"Edellinen raita","Skip Forward":"Siirry eteenpin","Skip Backward":"Siirry taaksepin","Fast Forward":"Kelaa eteenpin",Rewind:"Kelaa taaksepin","Next Frame":"Seuraava kuva","Previous Frame":"Edellinen kuva",Settings:"Asetukset",Options:"Asetukset","More Options":"Lisasetukset",Zoom:"Zoomaus","Zoom In":"Lhenn ","Zoom Out":"Loitonna","Audio Only":"Vain ni","Picture in Picture":"Kuva kuvassa","Camera Angle":"Kamerakulma",MEDIA_ERR_ABORTED:"Videotoisto keskeytetty.",MEDIA_ERR_NETWORK:"Verkkovirhe keskeytti videon lataamisen. Tarkista verkkoyhteys tai yrit myhemmin uudelleen.",MEDIA_ERR_DECODE:"Videota ei voitu ladata verkko- tai palvelinvirheen takia tai koska muotoa ei tueta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videon toisto keskeytettiin vioittumisen takia tai sen takia, ett selaimesi ei tue kaikkia videon kyttmi toimintoja.",MEDIA_ERR_ENCRYPTED:"Salatun videolhteen salausta ei voida purkaa.",SRC_PLAYER_MISMATCH:"Nykyisen selainympristn kanssa yhteensopivaa lhdett ei lytynyt.",MEDIA_ERR_UNKNOWN:"Ilmeni tuntematon virhe"};amp.options.languages.fr={Play:"Lecture",Pause:"Pause","Current Time":"Heure actuelle","Duration Time":"Dure","Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:"EN DIRECT",Loaded:"Charg",Progress:"Progression",Fullscreen:"Plein cran","Non-Fullscreen":"Plein cran dsactiv",Mute:"Muet",Unmuted:"Son activ","Playback Rate":"Flux de lecture",Subtitles:"Sous-titres","subtitles off":"sous-titres dsactivs",Captions:"Sous-titrage","captions off":"sous-titrage dsactiv",Chapters:"Chapitres",Off:"Dsactiv",Quality:"Qualit",Auto:"Auto","Audio Tracks":"Pistes audio","default":"par dfaut","Cast To Device":"Projeter sur un appareil",Share:"Partager",Volume:"Volume","Playback Speed":"Vitesse de lecture","Video Quality":"Qualit vido","Closed Captioning":"Sous-titrage","Share Video":"Partager la vido","Next Track":"Piste suivante","Previous Track":"Piste prcdente","Skip Forward":"Avance rapide","Skip Backward":"Retour rapide","Fast Forward":"Avance rapide",Rewind:"Retour rapide","Next Frame":"Image suivante","Previous Frame":"Image prcdente",Settings:"Paramtres",Options:"Options","More Options":"Autres options",Zoom:"Zoom","Zoom In":"Zoom avant","Zoom Out":"Zoom arrire","Audio Only":"Audio seul","Picture in Picture":"Image dans l'image","Camera Angle":"Angle de camra",MEDIA_ERR_ABORTED:"Lecture vido abandonne.",MEDIA_ERR_NETWORK:"Une erreur rseau a entran l'chec du tlchargement de la vido. Vrifiez votre connexion rseau ou ressayez ultrieurement.",MEDIA_ERR_DECODE:"La vido n'a pas pu tre charge parce que le serveur ou le rseau ont chou ou parce que le format n'est pas pris en charge.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La lecture de la vido a t abandonne en raison d'un problme d'endommagement ou parce que la vido utilise des fonctionnalits que votre navigateur ne prend pas en charge.",MEDIA_ERR_ENCRYPTED:"Impossible de dchiffrer la source vido chiffre.",SRC_PLAYER_MISMATCH:"Aucune source compatible trouve dans l'environnement actuel du navigateur.",MEDIA_ERR_UNKNOWN:"Une erreur inconnue s'est produite."};amp.options.languages["fr-ab"]=amp.options.languages.fr;amp.options.languages["fr-be"]=amp.options.languages.fr;amp.options.languages["fr-ca"]=amp.options.languages.fr;amp.options.languages["fr-xf"]=amp.options.languages.fr;amp.options.languages["fr-ch"]=amp.options.languages.fr;amp.options.languages.gl={Play:"Reproducir",Pause:"Pausar","Current Time":"Hora actual","Duration Time":"Tempo de duracin","Remaining Time":"Tempo restante","Stream Type":"Tipo de transmisin",LIVE:"EN DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Sen pantalla completa",Mute:"Silenciar",Unmuted:"Activado son","Playback Rate":"Velocidade de reproducin",Subtitles:"Subttulos","subtitles off":"Sen subttulos",Captions:"Lendas","captions off":"Sen lendas",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidade",Auto:"Automtico","Audio Tracks":"Pista de audio","default":"predefinido","Cast To Device":"Converter en dispositivo",Share:"Compartir",Volume:"Volume","Playback Speed":"Velocidade de reproducin","Video Quality":"Calidade de vdeo","Closed Captioning":"Subttulos","Share Video":"Compartir vdeo","Next Track":"Pista seguinte","Previous Track":"Pista anterior","Skip Forward":"Saltar adiante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rapidamente",Rewind:"Rebobinar","Next Frame":"Fotograma seguinte","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opcins","More Options":"Mis opcins",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reducir","Audio Only":"S audio","Picture in Picture":"Imaxe en imaxe","Camera Angle":"Angular da cmara",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN"};amp.options.languages["gl-es"]=amp.options.languages.gl;amp.options.languages.he={Play:"",Pause:"","Current Time":"  ","Duration Time":" ","Remaining Time":"  ","Stream Type":" ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":" ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"   ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":"  ","Previous Frame":"  ",Settings:"",Options:"","More Options":"  ",Zoom:"   ","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"    ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  ",MEDIA_ERR_NETWORK:"       .          .",MEDIA_ERR_DECODE:"                  .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                 .",MEDIA_ERR_ENCRYPTED:"        .",SRC_PLAYER_MISMATCH:"         .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["he-il"]=amp.options.languages.he;amp.options.languages.hi={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:" ","Audio Tracks":" ","default":"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:" ","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"    ",MEDIA_ERR_NETWORK:"           .            .",MEDIA_ERR_DECODE:"    ,             .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                        .",MEDIA_ERR_ENCRYPTED:"         .",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["hi-in"]=amp.options.languages.hi;amp.options.languages.hr={Play:"Reproduciraj",Pause:"Pauziraj","Current Time":"Trenutno vrijeme","Duration Time":"Trajanje","Remaining Time":"Preostalo vrijeme","Stream Type":"Vrsta strujanja",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tijek",Fullscreen:"Preko cijelog zaslona","Non-Fullscreen":"Nije preko cijelog zaslona",Mute:"Iskljui zvuk",Unmuted:"Zvuk ukljuen","Playback Rate":"Brzina reprodukcije",Subtitles:"Titlovi","subtitles off":"titlovi iskljueni",Captions:"Titlovi","captions off":"titlovi iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvaliteta",Auto:"Automatski","Audio Tracks":"Audiozapisi","default":"zadano","Cast To Device":"Poalji na ureaj",Share:"Zajedniki koristi",Volume:"Glasnoa","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvaliteta videozapisa","Closed Captioning":"Titlanje","Share Video":"Zajedniki koristi videozapis","Next Track":"Sljedei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Skok unaprijed","Skip Backward":"Skok unatrag","Fast Forward":"Brzo naprijed",Rewind:"Premotaj","Next Frame":"Sljedea slika","Previous Frame":"Prethodna slika",Settings:"Postavke",Options:"Mogunosti","More Options":"Dodatne mogunosti",Zoom:"Zumiranje","Zoom In":"Poveavanje","Zoom Out":"Smanjivanje","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Kut kamere",MEDIA_ERR_ABORTED:"Prekinuta je reprodukcija videozapisa.",MEDIA_ERR_NETWORK:"Mrena pogreka uzrokovala je prekid preuzimanja videozapisa. Provjerite mrenu vezu i pokuajte ponovno.",MEDIA_ERR_DECODE:"Videozapis nije mogue uitati zbog kvara posluitelja ili mree ili jer oblik nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija videozapisa prekinuta je zbog oteenja ili jer videozapis sadri znaajke koje preglednik ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifriranje ifriranog videoizvora.",SRC_PLAYER_MISMATCH:"Nije pronaen kompatibilan izvor za trenutno okruenje preglednika.",MEDIA_ERR_UNKNOWN:"Pojavila se nepoznata pogreka."};amp.options.languages.hu={Play:"Lejtszs",Pause:"Szneteltets","Current Time":"Aktulis id","Duration Time":"Idtartam","Remaining Time":"Htralv id","Stream Type":"Online tartalom tpusa",LIVE:"L",Loaded:"Betltve",Progress:"llapot",Fullscreen:"Teljes kperny","Non-Fullscreen":"Nem teljes kpernys md",Mute:"Elnmts",Unmuted:"Elnmts kikapcsolva","Playback Rate":"Lejtszsi sebessg",Subtitles:"Feliratok","subtitles off":"feliratok kikapcsolva",Captions:"Feliratok","captions off":"feliratozs kikapcsolva",Chapters:"Fejezetek",Off:"Kikapcsolva",Quality:"Minsg",Auto:"Automatikus","Audio Tracks":"Zeneszmok","default":"alaprtelmezett","Cast To Device":"tvitel eszkzre",Share:"Megoszts",Volume:"Hanger","Playback Speed":"Lejtszs sebessge","Video Quality":"Videminsg","Closed Captioning":"Feliratozs","Share Video":"Vide megosztsa","Next Track":"Kvetkez szm","Previous Track":"Elz szm","Skip Forward":"Ugrs elre","Skip Backward":"Ugrs vissza","Fast Forward":"Elretekers",Rewind:"Visszatekers","Next Frame":"Kvetkez kpkocka","Previous Frame":"Elz kpkocka",Settings:"Belltsok",Options:"Belltsok","More Options":"Tovbbi lehetsgek",Zoom:"Nagyts","Zoom In":"Nagyts","Zoom Out":"Kicsinyts","Audio Only":"Csak hang","Picture in Picture":"Kp a kpben","Camera Angle":"Kamera ltszge",MEDIA_ERR_ABORTED:"Videolejtszs megszaktva.",MEDIA_ERR_NETWORK:"A vide letltse hlzati hiba miatt megszakadt. Ellenrizze a hlzati kapcsolatot, vagy prblkozzon jra ksbb.",MEDIA_ERR_DECODE:"Nem sikerlt betlteni a videt a kiszolgl vagy a hlzat hibja miatt, vagy mert a formtum nem tmogatott.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A vide lejtszsa megszakadt adatsrls miatt, vagy mert a vide olyan funkcikat hasznl, amelyeket a bngsz nem tmogat.",MEDIA_ERR_ENCRYPTED:"Nem lehet visszafejteni a titkostott videoforrst.",SRC_PLAYER_MISMATCH:"Nem tallhat a jelenlegi bngszkrnyezettel kompatibilis forrs.",MEDIA_ERR_UNKNOWN:"Ismeretlen hiba trtnt."};amp.options.languages.id={Play:"Putar",Pause:"Jeda","Current Time":"Waktu Saat Ini","Duration Time":"Waktu Durasi","Remaining Time":"Waktu Tersisa","Stream Type":"Tipe Stream",LIVE:"LANGSUNG",Loaded:"Dimuat",Progress:"Progres",Fullscreen:"Layar Penuh","Non-Fullscreen":"Bukan Layar Penuh",Mute:"Aktifkan Suara",Unmuted:"Nonaktifkan Suara","Playback Rate":"Laju Pemutaran",Subtitles:"Subjudul","subtitles off":"subjudul mati",Captions:"Keterangan","captions off":"keterangan mati",Chapters:"Bab",Off:"Mati",Quality:"Kualitas ",Auto:"Otomatis","Audio Tracks":"Trek Audio","default":"default","Cast To Device":"Putar Ke Perangkat",Share:"Bagikan",Volume:"Volume","Playback Speed":"Kecepatan Pemutaran","Video Quality":"Kualitas Video","Closed Captioning":"Judul Tertutup","Share Video":"Bagikan Video","Next Track":"Trek Berikutnya","Previous Track":"Trek Sebelumnya","Skip Forward":"Lewati Maju","Skip Backward":"Lewati Mundur","Fast Forward":"Maju Cepat",Rewind:"Mundur","Next Frame":"Bingkai Berikutnya","Previous Frame":"Bingkai Sebelumnya",Settings:"Pengaturan",Options:"Opsi","More Options":"Opsi Lainnya",Zoom:"Zoom","Zoom In":"Perbersar","Zoom Out":"Perkecil","Audio Only":"Hanya Audio","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Pemutaran video dibatalkan.",MEDIA_ERR_NETWORK:"Kesalahan jaringan menyebabkan unduhan video gagal sebagian. Periksa koneksi jaringan Anda atau coba lagi nanti.",MEDIA_ERR_DECODE:"Video tidak dapat dimuat, karena server atau jaringan gagal, atau karena format tidak didukung.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pemutaran video dibatalkan karena masalah kerusakan atau video menggunakan fitur yang tidak didukung browser Anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat mendekripsi sumber video yang dienkripsi.",SRC_PLAYER_MISMATCH:"Sumber yang kompatibel tidak ditemukan untuk lingkungan browser saat ini.",MEDIA_ERR_UNKNOWN:"Terjadi kesalahan tidak diketahui"};amp.options.languages.is={Play:"Spila",Pause:"Bi","Current Time":"Nverandi tmi","Duration Time":"Tmalengd","Remaining Time":"Tmi eftir","Stream Type":"Ger straums",LIVE:" beinni",Loaded:"Hlai",Progress:"Framvinda",Fullscreen:"Heill skjr","Non-Fullscreen":"Ekki heill skjr",Mute:"gult",Unmuted:"Me hlji","Playback Rate":"Spilunarhrai",Subtitles:"Skjtextar","subtitles off":"Slkkt  skjtexta",Captions:"Myndatextar","captions off":"Slkkt  myndatexta",Chapters:"Kaflar",Off:"Af",Quality:"Gi",Auto:"Sjlfvirkt","Audio Tracks":"Hljspor","default":"sjlfvali","Cast To Device":"Varpa  tki",Share:"Deila",Volume:"Hljstyrkur","Playback Speed":"Afspilunarhrai","Video Quality":"Vdegi","Closed Captioning":"Lokair myndatextar","Share Video":"Deila vdei","Next Track":"Nsta spor","Previous Track":"Fyrra spor","Skip Forward":"Hoppa fram  vi","Skip Backward":"Hoppa afturbak","Fast Forward":"Hratt fram",Rewind:"Spla til baka","Next Frame":"Nsti rammi","Previous Frame":"Fyrri rammi",Settings:"Stillingar",Options:"Valkostir","More Options":"Fleiri valkostir",Zoom:"Sma","Zoom In":"Sma inn","Zoom Out":"Sma t","Audio Only":"Aeins hlj","Picture in Picture":"Mynd  mynd","Camera Angle":"Kameruvinkill",MEDIA_ERR_ABORTED:"Htt vi afspilun vdes",MEDIA_ERR_NETWORK:"Villa  netkerfi olli v a niurhal vdes mistkst a hluta. Vinsamlegast athugau nettenginguna na ea reyndu aftur sar.",MEDIA_ERR_DECODE:"Ekki var hgt a hlaa vdei, annahvort vegna ess a jnn ea net voru ekki  lagi ea vegna ess a snii er ekki studd.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Htt var vi afspilun  vde vegna vandamla vegna truflunar ea vegna ess a vde notar eiginleika sem vafrinn inn styur ekki.",MEDIA_ERR_ENCRYPTED:"Gat ekki afka dulkaan uppruna vdes",SRC_PLAYER_MISMATCH:"Enginn samhfur uppruni fannst fyrir nverandi umhverfi vafra.",MEDIA_ERR_UNKNOWN:"ekkt villa kom upp"};amp.options.languages.it={Play:"Riproduci",Pause:"Pausa","Current Time":"Ora corrente","Duration Time":"Durata","Remaining Time":"Tempo residuo","Stream Type":"Tipo di flusso",LIVE:"LIVE",Loaded:"Caricato",Progress:"Stato",Fullscreen:"Schermo intero","Non-Fullscreen":"Schermo normale",Mute:"Disattiva audio",Unmuted:"Audio riattivato","Playback Rate":"Frequenza di riproduzione",Subtitles:"Sottotitoli","subtitles off":"disattiva sottotitoli",Captions:"Didascalie","captions off":"disattiva didascalie",Chapters:"Capitoli",Off:"Disattivato",Quality:"Qualit ",Auto:"Automatico","Audio Tracks":"Brani audio","default":"predefinito","Cast To Device":"Cast nel dispositivo",Share:"Condividi",Volume:"Volume","Playback Speed":"Velocit  di riproduzione","Video Quality":"Qualit  video","Closed Captioning":"Sottotitoli codificati","Share Video":"Condividi video","Next Track":"Brano successivo","Previous Track":"Brano precedente","Skip Forward":"Skip avanti","Skip Backward":"Skip indietro","Fast Forward":"Avanzamento rapido",Rewind:"Riavvolgi","Next Frame":"Fotogramma successivo","Previous Frame":"Fotogramma precedente",Settings:"Impostazioni",Options:"Opzioni","More Options":"Altre opzioni",Zoom:"Zoom","Zoom In":"Zoom avanti","Zoom Out":"Zoom indietro","Audio Only":"Solo audio","Picture in Picture":"Immagine nell'immagine","Camera Angle":"Angolazione",MEDIA_ERR_ABORTED:"Riproduzione video interrotta.",MEDIA_ERR_NETWORK:"Il download del video si  interrotto a causa di un errore di rete. Controllare la connessione di rete o riprovare pi tardi.",MEDIA_ERR_DECODE:"Non  stato possibile caricare il video perch si  verificato un errore del server o della rete oppure perch il formato non  supportato.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La riproduzione video  stata interrotta a causa di un problema di danneggiamento oppure perch nel video sono state usate funzionalit  non supportate dal browser corrente.",MEDIA_ERR_ENCRYPTED:"Non  possibile decrittografare l'origine video crittografata.",SRC_PLAYER_MISMATCH:"Non sono state trovate origini compatibili per l'ambiente del browser corrente.",MEDIA_ERR_UNKNOWN:"Si  verificato un errore sconosciuto."};amp.options.languages.ja={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"  ",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":" ","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":"",Zoom:" ","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"  ",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:" ",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages["ja-jp"]=amp.options.languages.ja;amp.options.languages.kk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":" ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":" ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .       .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   "};amp.options.languages["kk-kz"]=amp.options.languages.kk;amp.options.languages.ko={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:" ",Fullscreen:"  ","Non-Fullscreen":"   ",Mute:"",Unmuted:"  ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:" ",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":" ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":"  ","Share Video":"  ","Next Track":" ","Previous Track":"  ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":"  ","Previous Frame":"   ",Settings:" ",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .      .",MEDIA_ERR_DECODE:"            .",MEDIA_ERR_SRC_NOT_SUPPORTED:"              .",MEDIA_ERR_ENCRYPTED:"       .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"    ."};amp.options.languages["ko-kr"]=amp.options.languages.ko;amp.options.languages.lt={Play:"Leisti",Pause:"Pristabdyti","Current Time":"Dabartinis laikas","Duration Time":"Trukm","Remaining Time":"Liks laikas","Stream Type":"Transliavimo tipas",LIVE:"TIESIOGINIS",Loaded:"kelta",Progress:"Eiga",Fullscreen:"Per vis ekran","Non-Fullscreen":"Ne per vis ekran",Mute:"Nutildyti",Unmuted:"Nenutildyta","Playback Rate":"Leidimo danis",Subtitles:"Subtitrai","subtitles off":"subtitrai ijungti",Captions:"Vaizdo apraai","captions off":"vaizdo apraai ijungti",Chapters:"Dalys",Off:"Ijungta",Quality:"Kokyb",Auto:"Automatinis","Audio Tracks":"Garso takeliai","default":"numatytoji reikm","Cast To Device":"Parinkti pagal rengin",Share:"Bendrinti",Volume:"Garsumas","Playback Speed":"Leidimo greitis","Video Quality":"Vaizdo rao kokyb","Closed Captioning":"Paslptieji titrai","Share Video":"Bendrinti vaizdo ra","Next Track":"Kitas takelis","Previous Track":"Ankstesnis takelis","Skip Forward":"Pereiti pirmyn","Skip Backward":"Pereiti atgal","Fast Forward":"Sukti pirmyn",Rewind:"Sukti atgal","Next Frame":"Kitas kadras","Previous Frame":"Ankstesnis kadras",Settings:"Parametrai",Options:"Parinktys","More Options":"Daugiau parinki",Zoom:"Mastelio keitimas","Zoom In":"Artinti","Zoom Out":"Tolinti","Audio Only":"Tik garsas","Picture in Picture":"Paveiksllis paveiksllyje","Camera Angle":"Kameros kampas",MEDIA_ERR_ABORTED:"Vaizdo rao leidimas atmestas.",MEDIA_ERR_NETWORK:"Viso vaizdo rao atsisisti nepavyko dl tinklo klaidos. Patikrinkite tinklo ry arba bandykite dar kart vliau.",MEDIA_ERR_DECODE:"Vaizdo rao nepavyko kelti dl serverio arba tinklo klaidos arba dl to, kad nepalaikomas formatas.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Vaizdo rao leidimas buvo atmestas dl gedimo arba dl to, kad vaizdo rae buvo naudojamos funkcijos, kuri js narykl nepalaiko.",MEDIA_ERR_ENCRYPTED:"Nepavyksta iifruoti uifruoto vaizdo rao altinio.",SRC_PLAYER_MISMATCH:" iai narykls aplinkai suderinamas altinis nerastas.",MEDIA_ERR_UNKNOWN:"vyko neinoma klaida"};amp.options.languages.lv={Play:"Atskaot",Pause:"Pauze","Current Time":"Pareizjais laiks","Duration Time":"Ilguma laiks","Remaining Time":"Atlikuais laiks","Stream Type":"Straumes tips",LIVE:"TIE SAISTE",Loaded:"Ieldts",Progress:"Norise",Fullscreen:"Pilnekrna rems","Non-Fullscreen":"Ne pilnekrna rems",Mute:"Izslgt skau",Unmuted:"Ieslgta skaa","Playback Rate":"Atskaoanas trums",Subtitles:"Subtitri","subtitles off":"Subtitri izslgti",Captions:"Paraksti","captions off":"paraksti izslgti",Chapters:"Nodaas",Off:"Izslgts",Quality:"Kvalitte",Auto:"Automtiski","Audio Tracks":"Audio ieraksti","default":"noklusjums","Cast To Device":"Prraidt uz ierci",Share:"Koplietot",Volume:"Skaums","Playback Speed":"Atskaoanas trums","Video Quality":"Video kvalitte","Closed Captioning":"Slptie titri","Share Video":"Kopgot video","Next Track":"Nkamais ieraksts","Previous Track":"Iepriekjais ieraksts","Skip Forward":"Izlaist uz prieku","Skip Backward":"Izlaist atpaka","Fast Forward":"Patt",Rewind:"Attt","Next Frame":"Nkamais kadrs","Previous Frame":"Iepriekjais kadrs",Settings:"Iestatjumi",Options:"Opcijas","More Options":"Papildu opcijas",Zoom:"Tlummaia","Zoom In":"Tuvinana","Zoom Out":"Tlinana","Audio Only":"Tikai audio","Picture in Picture":"Attls attl","Camera Angle":"Kameras leis",MEDIA_ERR_ABORTED:"Video atskaoana prieklaikus prtraukta.",MEDIA_ERR_NETWORK:"Tkla kdas d video lejupielde tika prtraukta pusce. Ldzu, prbaudiet tkla savienojumu vai vlk miniet vlreiz.",MEDIA_ERR_DECODE:"Videoklipu neizdevs ieldt servera vai tkla kmes vai neatbalstta formta d.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video atskaoana tika prieklaikus prtraukta bojjuma problmas d vai tpc, ka videoklip tika izmantoti ldzeki, ko jsu prlkprogramma neatbalsta.",MEDIA_ERR_ENCRYPTED:"Nevar atifrt ifrto video avotu.",SRC_PLAYER_MISMATCH:"Pareizjai prlkprogrammas videi nav atrasts sadergs avots.",MEDIA_ERR_UNKNOWN:"Rads nezinma kda"};amp.options.languages.ms={Play:"Main",Pause:"Jeda","Current Time":"Masa Semasa","Duration Time":"Tempoh Semasa","Remaining Time":"Baki Masa","Stream Type":"Jenis Strim",LIVE:"LANGSUNG",Loaded:"Dimuatkan",Progress:"Kemajuan",Fullscreen:"Skrin Penuh","Non-Fullscreen":"Bukan Skrin Penuh",Mute:"Bisu",Unmuted:"Dinyahbisu","Playback Rate":"Kadar Main Semula",Subtitles:"Sari kata","subtitles off":"sari kata dimatikan",Captions:"Kapsyen","captions off":"kapsyen dimatikan",Chapters:"Babak",Off:"Matikan",Quality:"Kualiti",Auto:"Auto","Audio Tracks":"Lagu Audio","default":"lalai","Cast To Device":"Siarkan Pada Peranti",Share:"Kongsi",Volume:"Volum","Playback Speed":"Kelajuan Main Semula","Video Quality":"Kualiti Video","Closed Captioning":"Penyarikataan Tertutup","Share Video":"Kongsi Video","Next Track":"Lagu berikut","Previous Track":"Lagu Sebelumnya","Skip Forward":"Langkau Ke Depan","Skip Backward":"Langkau Ke Belakang","Fast Forward":"Maju Ke Depan",Rewind:"Gulung Semula","Next Frame":"Bingkai Berikut","Previous Frame":"Bingkai Sebelumnya",Settings:"Seting",Options:"Opsyen","More Options":"Opsyen Lain",Zoom:"Zum","Zoom In":"Zum Masuk","Zoom Out":"Zum Keluar","Audio Only":"Audio Sahaja","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Main semula video dihentikan.",MEDIA_ERR_NETWORK:"Ralat rangkaian menyebabkan muat turun video gagal. Sila semak sambungan rangkaian anda atau cuba lagi kemudian.",MEDIA_ERR_DECODE:"Video tidak dapat dimuatkan, sama ada disebabkan kegagalan pelayan atau rangkaian atau disebabkan format tidak disokong.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Main semula video dihentikan atas sebab masalah pencemaran atau disebabkan video menggunakan ciri yang tidak disokong oleh pelayar anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat menyahsulitkan sumber video yang disulitkan.",SRC_PLAYER_MISMATCH:"Tiada sumber yang serasi ditemui untuk persekitaran pelayar semasa.",MEDIA_ERR_UNKNOWN:"Ralat yang tidak diketahui telah berlaku"};amp.options.languages["ms-my"]=amp.options.languages.ms;amp.options.languages.nb={Play:"Spill av",Pause:"Pause","Current Time":"Tid","Duration Time":"Varighet","Remaining Time":"Gjenstende","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lastet inn",Progress:"Fremdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikke-fullskjerm",Mute:"Demp",Unmuted:"Opphevet demping","Playback Rate":"Avspillingshyppighet",Subtitles:"Undertekst","subtitles off":"undertekst av",Captions:"Bildetekst","captions off":"bildetekst av",Chapters:"Kapitler",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Spill av p enhet",Share:"Del",Volume:"Volume","Playback Speed":"Avspillingshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Teksting for hrselshemmede","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Forrige spor","Skip Forward":"Hopp fremover","Skip Backward":"Hopp bakover","Fast Forward":"Spol fremover",Rewind:"Spol tilbake","Next Frame":"Neste bilde","Previous Frame":"Forrige bilde",Settings:"Innstillinger",Options:"Alternativer","More Options":"Flere alternativer",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Bare lyd","Picture in Picture":"Bilde i bilde","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspilling avbrutt.",MEDIA_ERR_NETWORK:"En nettverksfeil har forrsaket at nedlastingen av denne videoen mislykkes. Prv  oppdatere siden.",MEDIA_ERR_DECODE:"Videoen kan ikke lastes inn, enten fordi tilkoblingen til serveren eller nettverket mislyktes, eller fordi formatet ikke stttes.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspillingen ble avbrutt p grunn skadet programvare eller fordi videoen brukte funksjoner som nettleseren din ikke sttter.",MEDIA_ERR_ENCRYPTED:"Kan ikke dekryptere den krypterte videokilden.",SRC_PLAYER_MISMATCH:"Fant ingen kompatibel kilde for det gjeldende nettlesermiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod en ukjent feil."};amp.options.languages["nb-no"]=amp.options.languages.nb;amp.options.languages.nl={Play:"Afspelen",Pause:"Onderbreken","Current Time":"Huidige tijd","Duration Time":"Duur","Remaining Time":"Resterende tijd","Stream Type":"Type stream",LIVE:"LIVE",Loaded:"Geladen",Progress:"Voortgang",Fullscreen:"Volledig scherm","Non-Fullscreen":"Niet-volledig scherm",Mute:"Dempen",Unmuted:"Dempen opgeheven","Playback Rate":"Afspeelsnelheid",Subtitles:"Ondertitels","subtitles off":"ondertitels uit",Captions:"Bijschriften","captions off":"ondertiteling uit",Chapters:"Hoofdstukken",Off:"Uit",Quality:"Kwaliteit",Auto:"Automatisch","Audio Tracks":"Audionummers","default":"standaard","Cast To Device":"Casten naar apparaat",Share:"Delen",Volume:"Volume","Playback Speed":"Afspeelsnelheid","Video Quality":"Videokwaliteit","Closed Captioning":"Ondertiteling","Share Video":"Video delen","Next Track":"Volgend nummer","Previous Track":"Vorig nummer","Skip Forward":"Vooruit springen","Skip Backward":"Terug springen","Fast Forward":"Vooruitspoelen",Rewind:"Terugspoelen","Next Frame":"Volgende frame","Previous Frame":"Vorige frame",Settings:"Instellingen",Options:"Opties","More Options":"Meer opties",Zoom:"In-/uitzoomen","Zoom In":"Inzoomen","Zoom Out":"Uitzoomen","Audio Only":"Alleen audio","Picture in Picture":"Picture in Picture","Camera Angle":"Camerahoek",MEDIA_ERR_ABORTED:"Video afspelen is afgebroken.",MEDIA_ERR_NETWORK:"De video is vanwege een netwerkfout gedeeltelijk gedownload. Controleer uw netwerkverbinding of probeer het later opnieuw.",MEDIA_ERR_DECODE:"De video kan niet worden geladen, omdat er een probleem is met de server of het netwerk of omdat de indeling niet wordt ondersteund.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Het afspelen van de video is afgebroken, omdat deze mogelijk is beschadigd of omdat de video functies gebruikt die niet worden ondersteund door uw browser.",MEDIA_ERR_ENCRYPTED:"Kan de versleutelde videobron niet ontsleutelen.",SRC_PLAYER_MISMATCH:"Er is geen compatibele bron gevonden voor de huidige browseromgeving.",MEDIA_ERR_UNKNOWN:"Er is een onbekende fout opgetreden."};amp.options.languages["nl-be"]=amp.options.languages.nl;amp.options.languages.nn={Play:"Spel av",Pause:"Pause","Current Time":"Tid","Duration Time":"Tidslengd","Remaining Time":"Tid att","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lasta inn",Progress:"Framdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikkje fullskjerm",Mute:"Demp",Unmuted:"Oppheva demping","Playback Rate":"Avspelingsfart",Subtitles:"Teksting","subtitles off":"teksting av",Captions:"Teksting","captions off":"teksting av",Chapters:"Kapittel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor","default":"standard","Cast To Device":"Spel av p eining",Share:"Del",Volume:"Volum","Playback Speed":"Avspelingsfart","Video Quality":"Videokvalitet","Closed Captioning":"Teksting for hyrselshemma","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Frre spor","Skip Forward":"Hopp framover","Skip Backward":"Hopp bakover","Fast Forward":"Spol framover",Rewind:"Spol tilbake","Next Frame":"Neste bilete","Previous Frame":"Frre bilete",Settings:"Innstillingar",Options:"Alternativ","More Options":"Fleire alternativ",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Berre lyd","Picture in Picture":"Bilete i bilete","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspeling avbroten.",MEDIA_ERR_NETWORK:"Ein nettverksfeil har frt til at nedlastinga av denne videoen mislukkast. Kontroller nettverkstilkoplinga, eller prv p nytt seinare.",MEDIA_ERR_DECODE:"Videoen kan ikkje lastast ned, anten fordi tilkoplinga til tenaren eller nettverket mislukkast, eller fordi formatet ikkje er sttta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspelinga blei avbroten p grunn av skadd programvare eller fordi videoen brukte funksjonar som nettlesaren din ikkje stttar.",MEDIA_ERR_ENCRYPTED:"Kan ikkje dekryptere den krypterte videokjelda.",SRC_PLAYER_MISMATCH:"Finn ikkje noka kompatibel kjelde for det gjeldande nettlesarmiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod ein ukjent feil"};amp.options.languages["nn-no"]=amp.options.languages.nn;amp.options.languages.ph={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmuted:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","subtitles off":"Naka-off ang subtitle",Captions:"Mga Caption","captions off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio","default":"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forwarf",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawam sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error"};amp.options.languages.pl={Play:"Odtwrz",Pause:"Wstrzymaj","Current Time":"Biecy czas","Duration Time":"Czas trwania","Remaining Time":"Pozostay czas","Stream Type":"Typ strumienia",LIVE:"NA YWO",Loaded:"Zaadowane",Progress:"Postp",Fullscreen:"Peny ekran","Non-Fullscreen":"Niepeny ekran",Mute:"Wycisz",Unmuted:"Wyciszenie wyczone","Playback Rate":"Tempo odtwarzania",Subtitles:"Napisy","subtitles off":"napisy wyczone",Captions:"Podpisy","captions off":"podpisy wyczone",Chapters:"Rozdziay",Off:"Wyczone",Quality:"Jako",Auto:"Auto","Audio Tracks":"cieki dwikowe","default":"domylne","Cast To Device":"Rzutuj na urzdzenie",Share:"Udostpnij",Volume:"Gono","Playback Speed":"Szybko odtwarzania","Video Quality":"Jako wideo","Closed Captioning":"Podpisy kodowane","Share Video":"Udostpnij wideo","Next Track":"Nastpna cieka","Previous Track":"Poprzednia cieka","Skip Forward":"Skocz do tyu","Skip Backward":"Skocz do przodu","Fast Forward":"Przewi do przodu",Rewind:"Przewi do tyu","Next Frame":"Nastpna klatka","Previous Frame":"Poprzednia klatka",Settings:"Ustawienia",Options:"Opcje","More Options":"Wicej opcji",Zoom:"Powikszenie","Zoom In":"Powiksz","Zoom Out":"Pomniejsz","Audio Only":"Tylko dwik","Picture in Picture":"Obraz w obrazie","Camera Angle":"Kt kamery",MEDIA_ERR_ABORTED:"Przerwano odtwarzanie wideo.",MEDIA_ERR_NETWORK:"Bd sieci spowodowa, e trwajce pobieranie wideo zostao przerwane. Sprawd poczenie sieciowe i sprbuj ponownie.",MEDIA_ERR_DECODE:"Nie mona zaadowa wideo. Wystpi bd serwera lub sieci albo format nie jest obsugiwany.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Odtwarzanie wideo zostao przerwane. Dane s uszkodzone lub wideo korzysta z funkcji, ktrych przegldarka nie obsuguje.",MEDIA_ERR_ENCRYPTED:"Nie mona odszyfrowa zaszyfrowanego rda wideo.",SRC_PLAYER_MISMATCH:"Nie znaleziono zgodnego rda dla biecego rodowiska przegldarki.",MEDIA_ERR_UNKNOWN:"Wystpi nieznany bd."};amp.options.languages["pt-br"]={Play:"Executar",Pause:"Pausar","Current Time":"Tempo atual","Duration Time":"Tempo de durao","Remaining Time":"Tempo restante","Stream Type":"Tipo de fluxo",LIVE:"AO VIVO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Tela cheia","Non-Fullscreen":"Sem tela cheia",Mute:"Sem udio",Unmuted:"Mudo desativado","Playback Rate":"Taxa de reproduo",Subtitles:"Legendas","subtitles off":"Desativar legendas",Captions:"Legendas","captions off":"desativar legendas",Chapters:"Captulos",Off:"Desativado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio","default":"padro","Cast To Device":"Converter para o dispositivo",Share:"Compartilhar",Volume:"Volume","Playback Speed":"Velocidade de reproduo","Video Quality":"Qualidade do vdeo","Closed Captioning":"Legendagem codificada","Share Video":"Compartilhar vdeo","Next Track":"Prxima faixa","Previous Track":"Faixa anterior","Skip Forward":"Prxima faixa","Skip Backward":"Faixa anterior","Fast Forward":"Avanar",Rewind:"Retroceder","Next Frame":"Prximo quadro","Previous Frame":"Quadro anterior",Settings:"Configuraes",Options:"Opes","More Options":"Mais Opes",Zoom:"Aplicar zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Picture in picture","Camera Angle":"ngulo da cmera",MEDIA_ERR_ABORTED:"Reproduo de vdeo anulada.",MEDIA_ERR_NETWORK:"Um erro de rede causou a falha do download do vdeo. Verifique sua conexo de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"O vdeo no pde ser carregado, pois h uma falha na rede ou servidor ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi anulada devido a um problema de corrupo ou porque o vdeo usou recursos que seu navegador no suporta.",MEDIA_ERR_ENCRYPTED:"No foi possvel descriptografar a fonte do vdeo criptogradada.",SRC_PLAYER_MISMATCH:"Nenhuma fonte compatvel encontrada para o ambiente do navegador atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido."};amp.options.languages["pt-pt"]={Play:"Reproduzir",Pause:"Pausa","Current Time":"Tempo Atual","Duration Time":"Tempo de Durao","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Fluxo",LIVE:"EM DIRETO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Ecr Inteiro","Non-Fullscreen":"Sair de Ecr Inteiro",Mute:"Desativar Som",Unmuted:"Som ativado","Playback Rate":"Taxa de Reproduo",Subtitles:"Legendas","subtitles off":"legendas desativadas",Captions:"Legendas","captions off":"legendas desligadas",Chapters:"Captulos",Off:"Desligado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio","default":"predefinio","Cast To Device":"Transmitir em Dispositivo",Share:"Partilhar",Volume:"Volume","Playback Speed":"Velocidade de Reproduo","Video Quality":"Qualidade do Vdeo","Closed Captioning":"Legendagem de udio","Share Video":"Partilhar Vdeo","Next Track":"Faixa Seguinte","Previous Track":"Faixa Anterior","Skip Forward":"Para a Frente","Skip Backward":"Para Trs","Fast Forward":"Avanar",Rewind:"Recuar","Next Frame":"Fotograma Seguinte","Previous Frame":"Fotograma Anterior",Settings:"Definies",Options:"Opes","More Options":"Mais Opes",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Imagem na Imagem","Camera Angle":"ngulo da Cmara",MEDIA_ERR_ABORTED:"Reproduo de vdeo abortada.",MEDIA_ERR_NETWORK:"A transferncia do vdeo parou a meio devido a um erro de rede. Verifique a ligao de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"No foi possvel carregar o vdeo. Ocorreu uma falha no servidor ou na rede ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi abortada devido a um problema de danificao ou porque o vdeo utiliza funcionalidades que o seu browser no suporta.",MEDIA_ERR_ENCRYPTED:"No  possvel desencriptar a origem de vdeo encriptada.",SRC_PLAYER_MISMATCH:"No foi encontrada uma origem compatvel para o ambiente de browser atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido."};amp.options.languages.pt=amp.options.languages["pt-pt"];amp.options.languages.ro={Play:"Redare",Pause:"Pauz","Current Time":"Ora curent","Duration Time":"Durata de timp","Remaining Time":"Timp rmas","Stream Type":"Tip de flux",LIVE:"LIVE",Loaded:"ncrcat",Progress:"Progres",Fullscreen:"Ecran complet","Non-Fullscreen":"Nu este pe ecran complet",Mute:"Fr sunet",Unmuted:"Sunet reactivat","Playback Rate":"Rat de redare",Subtitles:"Subtitrri","subtitles off":"subtitrri dezactivate",Captions:"Legende","captions off":"legende dezactivate",Chapters:"Capitole",Off:"Dezactivat",Quality:"Calitate",Auto:"Auto","Audio Tracks":"Piese audio","default":"implicit","Cast To Device":"Difuzare la dispozitiv",Share:"Partajare",Volume:"Volum","Playback Speed":"Vitez de redare","Video Quality":"Calitate video","Closed Captioning":"Subtitrare complex","Share Video":"Partajare video","Next Track":"Piesa urmtoare","Previous Track":"Piesa anterioar","Skip Forward":"Salt nainte","Skip Backward":"Salt napoi","Fast Forward":"Derulare rapid",Rewind:"Derulare napoi","Next Frame":"Cadrul urmtor","Previous Frame":"Cadrul anterior",Settings:"Setri",Options:"Opiuni","More Options":"Mai multe opiuni",Zoom:"Zoom","Zoom In":"Mrire","Zoom Out":"Micorare","Audio Only":"Doar audio","Picture in Picture":"Imagine n imagine","Camera Angle":"Unghi camer",MEDIA_ERR_ABORTED:"Redare video anulat",MEDIA_ERR_NETWORK:"O eroare de reea a determinat nereuita parial a descrcrii videoclipului. Verificai conexiunea la reea sau ncercai din nou mai trziu.",MEDIA_ERR_DECODE:"Videoclipul nu a putut fi ncrcat din cauza unei erori de server sau reea sau pentru c formatul nu este acceptat.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Redarea video a fost abandonat din cauza unei probleme de deteriorare sau pentru c videoclipul a utilizat caracteristici pe care browserul nu le accept.",MEDIA_ERR_ENCRYPTED:"Nu se poate decripta sursa video criptat.",SRC_PLAYER_MISMATCH:"Nu s-a gsit nicio surs compatibil pentru mediul de browser curent.",MEDIA_ERR_UNKNOWN:"Eroare necunoscut"};amp.options.languages.ru={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"   ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":" ","default":" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":"  ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"        .       .",MEDIA_ERR_DECODE:"    -        -  .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    -      ,    ,     .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"  ."};amp.options.languages.sk={Play:"Prehra",Pause:"Pozastavi","Current Time":"Aktulny as","Duration Time":"as trvania","Remaining Time":"Zostvajci as","Stream Type":"Typ streamu",LIVE:"NAIVO",Loaded:"Natan",Progress:"Priebeh",Fullscreen:"Na cel obrazovku","Non-Fullscreen":"Nie na cel obrazovku",Mute:"Stlmi",Unmuted:"So zruenm stlmenm","Playback Rate":"Rchlos prehrvania",Subtitles:"Titulky","subtitles off":"vypnut titulky",Captions:"Popisy","captions off":"vypnut popisy",Chapters:"Kapitoly",Off:"Vypnut",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy","default":"predvolen hodnota","Cast To Device":"Vysielanie do zariadenia",Share:"Zdiea",Volume:"Hlasitos","Playback Speed":"Rchlos prehrvania","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulkovanie","Share Video":"Zdiea video","Next Track":"Nasledujca stopa","Previous Track":"Predchdzajca stopa","Skip Forward":"Preskoi dopredu","Skip Backward":"Preskoi dozadu","Fast Forward":"Posun dopredu",Rewind:"Posun dozadu","Next Frame":"Nasledujca snmka","Previous Frame":"Predchdzajca snmka",Settings:"Nastavenia",Options:"Monosti","More Options":"alie monosti",Zoom:"Lupa","Zoom In":"Pribli","Zoom Out":"Vzdiali","Audio Only":"Iba zvuk","Picture in Picture":"Obraz v obraze","Camera Angle":"Uhol kamery",MEDIA_ERR_ABORTED:"Prehrvanie videa bolo preruen.",MEDIA_ERR_NETWORK:"Chyba siete spsobila zlyhanie poas sahovania videa. Skontrolujte sieov pripojenie alebo to skste znova neskr.",MEDIA_ERR_DECODE:"Video sa nepodarilo nata. Dvodom je bu zlyhanie servera alebo siete, alebo nepodporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Prehrvanie videa bolo preruen z dvodu problmu spsobenho pokodenm alebo preto, lebo sa vo videu pouvali funkcie, ktor v prehliada nepodporoval.",MEDIA_ERR_ENCRYPTED:"Nie je mon deifrova zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenaiel sa kompatibiln zdroj pre aktulne prostredie prehliadaa.",MEDIA_ERR_UNKNOWN:"Vyskytla sa neznma chyba"};amp.options.languages.sl={Play:"Predvajaj",Pause:"Premor","Current Time":"Trenutni as","Duration Time":"as trajanja","Remaining Time":"Preostali as","Stream Type":"Vrsta pretoka",LIVE:"V IVO",Loaded:"Naloeno",Progress:"Napredek",Fullscreen:"Celozaslonski nain","Non-Fullscreen":"Ni v celozaslonskem nainu",Mute:"Zvok je izklopljen",Unmuted:"Zvok je vklopljen","Playback Rate":"Hitrost predvajanja",Subtitles:"Podnaslovi","subtitles off":"podnaslovi so izklopljeni",Captions:"Napisi","captions off":"napisi so izklopljeni",Chapters:"Poglavja",Off:"Izklopljeno",Quality:"Kakovost",Auto:"Samodejno","Audio Tracks":"Zvoni posnetki","default":"privzeto","Cast To Device":"Predvajaj v napravo",Share:"Skupna raba",Volume:"Glasnost","Playback Speed":"Hitrost predvajanja","Video Quality":"Kakovost videa","Closed Captioning":"Razirjeni podnapisi","Share Video":"Skupna raba videa","Next Track":"Naslednja skladba","Previous Track":"Prejnja skladba","Skip Forward":"Skoi naprej","Skip Backward":"Skoi nazaj","Fast Forward":"Hitro naprej",Rewind:"Hitro nazaj","Next Frame":"Naslednji okvir","Previous Frame":"Prejnji okvir",Settings:"Nastavitve",Options:"Monosti","More Options":"Dodatne monosti",Zoom:"Poveava","Zoom In":"Poveava","Zoom Out":"Pomanjava","Audio Only":"Samo zvok","Picture in Picture":"Slika v sliki","Camera Angle":"Kot fotoaparata",MEDIA_ERR_ABORTED:"Preklic predvajanja videa.",MEDIA_ERR_NETWORK:"Zaradi napake omreja je prilo med prenosom videa do napake. Preverite omreno povezave ali poskusite znova pozneje.",MEDIA_ERR_DECODE:"Videa ni mogoe naloiti, bodisi zato, ker je prilo do napake v streniku ali omreju, bodisi zato, ker oblika zapisa ni podprta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Predvajanje videa je bilo prekinjeno, ker je prilo do teave zaradi ali ker video uporablja funkcije, ki jih brskalnik ne podpira.",MEDIA_ERR_ENCRYPTED:" ifriranega vira videa ni mogoe deifrirati.",SRC_PLAYER_MISMATCH:"Ni mogoe najti zdruljivega vira videa za trenutno okolje brskalnika.",MEDIA_ERR_UNKNOWN:"Prilo je do neznane napake"};amp.options.languages["sl-si"]=amp.options.languages.sl;amp.options.languages["sr-cyrl-cs"]={Play:" ",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":"  ",Captions:"","captions off":"  ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":"  ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":"  ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN"};amp.options.languages["sr-latn-rs"]={Play:"Reprodukuj",Pause:"Pauziraj","Current Time":"Trenutno vreme","Duration Time":"Vreme trajanja","Remaining Time":"Preostalo vreme","Stream Type":"Tip toka",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tok",Fullscreen:"Preko celog ekrana","Non-Fullscreen":"Nije preko celog ekrana",Mute:"Privremeno iskljui",Unmuted:"Ponovo ukljueno","Playback Rate":"Stopa reprodukcije",Subtitles:"Titl","subtitles off":"titl je iskljuen",Captions:"Natpisi","captions off":"natpisi su iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvalitet",Auto:"Automatski","Audio Tracks":"Audio zapisi","default":"podrazumevano","Cast To Device":"Prebaci na ureaj",Share:"Deli",Volume:"Jaina zvuka","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvalitet video zapisa","Closed Captioning":"Skriveni titlovi","Share Video":"Deli video","Next Track":"Sledei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Preskoi unapred","Skip Backward":"Preskoi unazad","Fast Forward":"Premotaj unapred",Rewind:"Premotaj unazad","Next Frame":"Sledei okvir","Previous Frame":"Prethodni okvir",Settings:"Postavke",Options:"Opcije","More Options":"Jo opcija",Zoom:"Zumiraj","Zoom In":"Uveaj","Zoom Out":"Umanji","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Ugao kamere",MEDIA_ERR_ABORTED:"Reprodukcija video zapisa je prekinuta.",MEDIA_ERR_NETWORK:"Usled greke na mrei dolo je do otkazivanja tokom preuzimanja video zapisa. Proverite mrenu vezu ili pokuajte ponovo kasnije.",MEDIA_ERR_DECODE:"Nije mogue preuzeti video zbog toga to je dolo do otkazivanja na serveru ili mrei ili zbog toga to format nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija video zapisa je prekinuta zbog problema sa oteenjem ili zbog toga to video koristi funkcije koje pregleda ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifrovati ifrovani izvor video zapisa.",SRC_PLAYER_MISMATCH:"Za aktuelno okruenje pregledaa nije pronaen nijedan kompatibilan izvor.",MEDIA_ERR_UNKNOWN:"Dolo je do nepoznate greke"};amp.options.languages.sr=amp.options.languages["sr-latn-rs"];amp.options.languages.sv={Play:"Spela upp",Pause:"Pausa","Current Time":"Aktuell tid","Duration Time":"Varaktighet","Remaining Time":"terstende tid","Stream Type":"Strmtyp",LIVE:"LIVE",Loaded:"Inlst",Progress:"Frlopp",Fullscreen:"Helskrm","Non-Fullscreen":"Ej helskrm",Mute:"Ljud av",Unmuted:"Ljud p","Playback Rate":"Uppspelningshastighet",Subtitles:"Textning","subtitles off":"Textning av",Captions:"Bildtexter","captions off":"Bildtexter av",Chapters:"Kapitel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Ljudspr","default":"standard","Cast To Device":"Snd till enhet",Share:"Dela",Volume:"Volym","Playback Speed":"Uppspelningshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Textning","Share Video":"Dela video","Next Track":"Nsta spr","Previous Track":"Fregende spr","Skip Forward":"Hoppa framt","Skip Backward":"Hoppa bakt","Fast Forward":"Snabbspola framt",Rewind:"Bakt","Next Frame":"Nsta bildruta","Previous Frame":"Fregende bildruta",Settings:"Instllningar",Options:"Alternativ","More Options":"Fler alternativ",Zoom:"Zooma","Zoom In":"Zooma in","Zoom Out":"Zooma ut","Audio Only":"Endast ljud","Picture in Picture":"Bild-i-bild","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videouppspelning avbruten.",MEDIA_ERR_NETWORK:"Ett ntverksfel gjorde att hmtningen av videon avbrts. Kontrollera din ntverksanslutning och frsk igen senare.",MEDIA_ERR_DECODE:"Det gick inte att lsa in den hr videon. Det kan bero p att servern eller ntverket inte fungerade eller p att formatet inte stds.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videouppspelningen avbrts pga att den var skadad eller drfr att videon anvnder funktioner som din webblsare inte stder.",MEDIA_ERR_ENCRYPTED:"Det gick inte att dekryptera den krypterade videokllan.",SRC_PLAYER_MISMATCH:"Ingen kompatibel klla har hittats fr den aktuella webblsarmiljn.",MEDIA_ERR_UNKNOWN:"Det har uppsttt ett ovntat fel."};amp.options.languages["sv-se"]=amp.options.languages.sv;amp.options.languages.th={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":"",Captions:" ","captions off":" ",Chapters:"",Off:"",Quality:" ",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":" ","Closed Captioning":" ","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"  ",MEDIA_ERR_DECODE:"  ",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:" ",MEDIA_ERR_UNKNOWN:""};amp.options.languages.tl={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmuted:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","subtitles off":"Naka-off ang subtitle",Captions:"Mga Caption","captions off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio","default":"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forwarf",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawan sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error"};amp.options.languages["tl-ph"]=amp.options.languages.tl;amp.options.languages.tr={Play:"Yrt",Pause:"Duraklat","Current Time":"Geerli Zaman","Duration Time":"Sre","Remaining Time":"Kalan Sre","Stream Type":"Ak Tr",LIVE:"CANLI",Loaded:"Yklendi",Progress:"lerleme Durumu",Fullscreen:"Tam Ekran","Non-Fullscreen":"Tam Ekrandan k",Mute:"Sessiz",Unmuted:"Ses Ak","Playback Rate":"Kayttan Yrtme Hz",Subtitles:"Alt Yazlar","subtitles off":"alt yazlar kapal",Captions:"Aklamal Alt Yazlar","captions off":"aklamal alt yazlar kapal",Chapters:"Blmler",Off:"Kapal",Quality:"Kalite",Auto:"Otomatik","Audio Tracks":"Ses Paralar","default":"varsaylan","Cast To Device":"Cihazda Yaynla",Share:"Payla",Volume:"Ses Dzeyi","Playback Speed":"Kayttan Yrtme Hz","Video Quality":"Video Kalitesi","Closed Captioning":"Kapal Aklamal Alt Yaz","Share Video":"Videoyu Payla","Next Track":"Sonraki para","Previous Track":"nceki Para","Skip Forward":"leri Atla","Skip Backward":"Geri Atla","Fast Forward":"leri Sar",Rewind:"Geri Sar","Next Frame":"Sonraki Kare","Previous Frame":"nceki Kare",Settings:"Ayarlar",Options:"Seenekler","More Options":"Tm Seenekler",Zoom:"Yaknlatr","Zoom In":"Yaknlatr","Zoom Out":"Uzaklatr","Audio Only":"Yalnzca Ses","Picture in Picture":"Resim inde Resim","Camera Angle":"Kamera As",MEDIA_ERR_ABORTED:"Video kayttan yrtme durduruldu.",MEDIA_ERR_NETWORK:"Video indirme ilemi bir a hatas nedeniyle ksmen baarsz oldu. Ltfen a balantsn kontrol edin veya daha sonra yeniden deneyin.",MEDIA_ERR_DECODE:"Sunucu veya a baarsz olduundan ya da biim desteklenmediinden video yklenemedi.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bir bozulma sorunu ya da videoda taraycnz tarafndan desteklenmeyen zelliklerin kullanlmas nedeniyle video kayttan yrtme durduruldu.",MEDIA_ERR_ENCRYPTED:"ifreli video kaynann ifresi zlemedi.",SRC_PLAYER_MISMATCH:"Geerli tarayc ortamyla uyumlu kaynak bulunamad.",MEDIA_ERR_UNKNOWN:"Bilinmeyen bir hata olutu."};amp.options.languages.uk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:" ","Non-Fullscreen":"",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","subtitles off":" ",Captions:"","captions off":" ",Chapters:" ",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .        .",MEDIA_ERR_DECODE:"        ,    .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    ,     ,      .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:" ,     .",MEDIA_ERR_UNKNOWN:"  "};amp.options.languages["uk-ua"]=amp.options.languages.uk;amp.options.languages.ur={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmuted:"  ","Playback Rate":"   ",Subtitles:" ","subtitles off":"  ",Captions:"","captions off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ","default":"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"       ",MEDIA_ERR_NETWORK:"                       ",MEDIA_ERR_DECODE:"                   ",MEDIA_ERR_SRC_NOT_SUPPORTED:"                             ",MEDIA_ERR_ENCRYPTED:"          ",SRC_PLAYER_MISMATCH:"         ",MEDIA_ERR_UNKNOWN:"    "};amp.options.languages["ur-pk"]=amp.options.languages.ur;amp.options.languages.vi={Play:"Pht",Pause:"Tm dng","Current Time":"Thi gian Hin ti","Duration Time":"Thi lng","Remaining Time":"Thi gian Cn li","Stream Type":"Kiu Dng",LIVE:"TRC TIP",Loaded:" ti",Progress:"Tin ",Fullscreen:"To n m n hnh","Non-Fullscreen":"Thot To n m n hnh",Mute:"Tt ting",Unmuted:" bt ting","Playback Rate":"Tn sut pht li",Subtitles:"Ph ","subtitles off":"tt ph ",Captions:"Ph ","captions off":"tt ph ",Chapters:"Chng",Off:"Tt",Quality:"Cht lng",Auto:"T ng","Audio Tracks":"Rnh m thanh","default":"mc nh","Cast To Device":"Truyn ti Thit b",Share:"Chia s",Volume:"m lng","Playback Speed":"Tc  Pht li","Video Quality":"Cht lng Video","Closed Captioning":"Ph  Chi tit","Share Video":"Chia s Video","Next Track":"Rnh K","Previous Track":"Rnh Trc","Skip Forward":"Tin Nhanh","Skip Backward":"Li Nhanh","Fast Forward":"Tin Nhanh",Rewind:"Tua li","Next Frame":"Khung K","Previous Frame":"Khung Trc",Settings:"Thit t ",Options:"Ty chn","More Options":"Xem thm Ty chn",Zoom:"Thu phng","Zoom In":"Phng to","Zoom Out":"Thu nh","Audio Only":"Ch m thanh","Picture in Picture":"nh lng nh","Camera Angle":"Gc My",MEDIA_ERR_ABORTED:" hy pht li video.",MEDIA_ERR_NETWORK:"Li mng gy ra do ti xung video tht bi mt phn. Vui lng kim tra kt ni mng ca bn hoc th li sau.",MEDIA_ERR_DECODE:"Khng th ti video do li my ch hoc li mng, hoc do nh dng khng c h tr.",MEDIA_ERR_SRC_NOT_SUPPORTED:" hy pht li video do s c hng hc hoc do video s dng cc tnh nng m  trnh duyt ca bn khng h tr.",MEDIA_ERR_ENCRYPTED:"Khng th gii m ngun video c m ha.",SRC_PLAYER_MISMATCH:"Khng tm thy ngun tng thch vi mi trng trnh duyt hin ti.",MEDIA_ERR_UNKNOWN:"Xut hin li cha xc nh"};amp.options.languages["vi-vn"]=amp.options.languages.vi;amp.options.languages["zh-hans"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:" ",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":"",Captions:"","captions off":"",Chapters:" ",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"    ",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:"  ",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages.zh=amp.options.languages["zh-hans"];amp.options.languages["zh-cn"]=amp.options.languages["zh-hans"];amp.options.languages["zh-hant"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:" ",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","subtitles off":"",Captions:"","captions off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"","default":" ","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:" ","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:" ",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:" ",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:""};amp.options.languages["zh-hk"]=amp.options.languages["zh-hant"];amp.options.languages["zh-tw"]=amp.options.languages["zh-hant"],function(n){n.plugin("audioTracks",function(t){function e(n){var u=i.controlBar.audioTracksButton,f=r,t=u.items.indexOf(n),e=i.currentAudioStreamList();!e||t<0||(e.switchIndex(t),f!==t&&(f<u.items.length&&u.items[f].selected(!1),n.selected(!0),r=t))}function a(){var t=i.currentAudioStreamList(),r,u,n;if(!t)return[];for(v(),r=[],n=0;n<t.streams.length;n++)u=t.streams[n],g(u.codec)==f&&r.push({text:u.title});return r}function v(){var t=i.currentAudioStreamList(),r,n;if(l){for(n=0;n<t.streams.length;n++)t.streams[n].title=t.streams[n].name;return}var f=s(t.streams,function(n){var t=b(n.language);return t||(t=n.language),t}),e=s(t.streams,function(n){return vjs.util.getBitrateByUnit(n.bitrate)}),u=[];for(d(f)?u=f:(r=[],e.forEach(function(n,t){var i=f[t]?f[t]:"Track"+t;r.push(i+" - "+e[t])}),u=r.slice(),r.forEach(function(n,t){var i=r.indexOf(n);i<t&&(u[i]=r[i]+" ("+i+")",u[t]=r[t]+" ("+t+")")})),n=0;n<t.streams.length;n++)t.streams[n].title=u[n]}function y(){var n=i.currentAudioStreamList();n&&n.addEventListener(amp.streamListEventName.streamselected,p);this.refresh();r=undefined;w()}function p(){var u=i.currentAudioStreamList(),n=i.controlBar.audioTracksButton,t=r;t!==u.enabledIndices[0]&&(t<n.items.length&&n.items[t].selected(!1),r=u.enabledIndices[0],r<n.items.length&&n.items[r].selected(!0))}function w(){var n=i.currentAudioStreamList(),t,u;n&&(t=i.controlBar.audioTracksButton,u=r,u!=n.enabledIndices[0]&&e(t.items[n.enabledIndices[0]]))}function b(n){if(!n)return null;var t=null;return n.length==3&&(t=vjs.get2LetterLangCode(n)),u&&t&&u[t]?u[t].nativeName:u&&n&&u[n]?u[n].nativeName:null}function k(n){return n.filter(function(n,t,i){return i.indexOf(n)===t})}function d(n){return k(n).length==n.length}function g(n){return n==null?f:(n=n.toLowerCase(),o(["dtse","ac-3","ec-3"],n))?nt:o(["aac","mp4a"],n)?f:undefined}function o(n,t){for(var i=0;i<n.length;i++)if(t.indexOf(n[i])>-1)return!0;return!1}function s(n,t){var i=[];return n.forEach(function(n,r){i.push(t(n,r))}),i}var i=this,u=vjs.getIsoLangs(),h=!!t&&!!t.menuTitle?t.menuTitle:"Audio Tracks",r=!!t&&!!t.selectedItem?t.selectedItem:0,nt="Dolby Digital",f="Stereo",c=!0,l=!1;i.options_.skinConfig&&i.options_.skinConfig.audioTracksMenu&&(typeof i.options_.skinConfig.audioTracksMenu.enabled!="undefined"&&(c=i.options_.skinConfig.audioTracksMenu.enabled),l=i.options_.skinConfig.audioTracksMenu.useManifestForLabel||!1);n.AudioTrackskMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.AudioTrackskMenuItem.prototype.onClick=function(){e(this)};n.AudioTracksButton=n.MenuButton.extend({init:function(t,i){c&&(i=i||{},i.name="audioTracksButton",n.MenuButton.call(this,t,i),t.addEventListener(amp.eventName.loadedmetadata,amp.bind(this,y)))}});n.AudioTracksButton.prototype.refresh=function(){if(this.removeChild(this.menu),this.menu=this.createMenu(),!this.items||this.items.length<=1){this.hide();return}this.addChild(this.menu);var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(h)),tabindex:-1})});this.menu.addItem(t);this.show()};n.AudioTracksButton.prototype.buttonText=h;n.AudioTracksButton.prototype.className="amp-audiotracks-control";n.AudioTracksButton.prototype.createItems=function(){for(var r,u=a()||[],f=[],t=0;t<u.length;t++)r=new n.AudioTrackskMenuItem(i,u[t]),f.push(r);return f};i.ready(function(){var t=new n.AudioTracksButton(i,{selectedItemIndex:r});i.controlBar.audioTracksButton=i.controlBar.addChild(t)})})}(window.amp),function(n){n.plugin("castToDevice",function(t){function f(n){var r=i.controlBar.castToDeviceButton,t=u,f=r.items.indexOf(n);t!==f&&(t>=0&&r.items[t].selected(!1),n.selected(!0),u=f)}function e(){return[{text:"Device 1",value:1},{text:"Device 2",value:2},{text:"Device 3",value:3}]}var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Cast to Device",u=-1;n.CastToDeviceMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.CastToDeviceMenuItem.prototype.onClick=function(){f(this)};n.CastToDeviceButton=n.MenuButton.extend({init:function(t,i){if(i=i||{},i.name="castToDeviceButton",n.MenuButton.call(this,t,i),this.items.length>0){var u=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});this.menu.addItem(u)}else this.hide()}});n.CastToDeviceButton.prototype.buttonText=r;n.CastToDeviceButton.prototype.className="amp-casttodevice-control";n.CastToDeviceButton.prototype.createItems=function(){for(var r,u=e()||[],f=[],t=0;t<u.length;t++)r=new n.CastToDeviceMenuItem(i,u[t]),f.push(r);return f};i.ready(function(){var r=new n.CastToDeviceButton(i,t);i.controlBar.castToDeviceButton=i.controlBar.addChild(r)})})}(window.amp),function(n){n.plugin("closedCaption",function(t){var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Closed Captioning";i.addEventListener(amp.eventName.loadedmetadata,function(){i.controlBar.captionsButton.el().className+=" amp-closedcaption-control";i.controlBar.captionsButton.buttonText=r;var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});i.controlBar.captionsButton.menu.addItem(t)})})}(window.amp),function(n){n.plugin("controlBarIcons",function(t){function f(n){for(var t=0;t<r.length;t++)if(n===r[t].name())return r[t];return null}function u(t,r){for(var u,o=new n.Component(i,{el:vjs.createEl("div",{className:r})}),e=0;e<t.length;e++)u=f(t[e]),u&&(o.addChild(u),i.controlBar.removeChild(u));i.controlBar.addChild(o)}var i=this,e=!!t&&!!t.leftIcons?t.leftIcons:[],o=!!t&&!!t.middleIcons?t.middleIcons:[],s=!!t&&!!t.rightIcons?t.rightIcons:[],h=t?!!t.removeOtherIcons:!1,r=[];i.ready(function(){if(r=i.controlBar.children().slice(),!!h)for(var n=0;n<r.length;n++)i.controlBar.removeChild(r[n]);u(e,"amp-controlbaricons-left");u(o,"amp-controlbaricons-middle");u(s,"amp-controlbaricons-right")})})}(window.amp),function(n){n.plugin("live",function(t){function v(){i.currentTime(i.duration())}function y(){i.isLive()?(i.addEventListener(amp.eventName.seeked,s),i.addEventListener(amp.eventName.seeking,h),i.addEventListener(amp.eventName.timeupdate,o),c(),f()):(i.removeEventListener(amp.eventName.seeked,s),i.removeEventListener(amp.eventName.seeking,h),i.removeEventListener(amp.eventName.timeupdate,o),r(),l())}function p(){i.currentTechName()=="Html5"&&i.isLive()&&(c(),f())}function o(){i.isLive()?u()&&r():(i.removeEventListener(amp.eventName.seeked,s),i.removeEventListener(amp.eventName.seeking,h),i.removeEventListener(amp.eventName.timeupdate,o),r(),l())}function s(){u()?r():f()}function h(){i.isLive()&&(u()?r():f())}function u(){var n=i.currentPlayerSettingValue("livePlaybackOffsetInSec");return i.currentTime()<i.duration()-b-n?!0:!1}function f(){i.controlBar.liveDisplay.addClass(e);i.controlBar.currentTimeDisplay.addClass(e)}function r(){i.controlBar.liveDisplay.removeClass(e);i.controlBar.currentTimeDisplay.removeClass(e)}function c(){i.controlBar.liveDisplay.addClass(a);i.controlBar.liveDisplay.show()}function l(){i.controlBar.liveDisplay.removeClass(a);i.controlBar.liveDisplay.hide()}var i=this,w=!!t&&!!t.controlText?t.controlText:"LIVE",a="amp-live-control",e="amp-live-on",b=5;n.LiveEdgeProgressBar=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}});n.LiveEdgeProgressBar.prototype.createEl=function(){return vjs.createEl("div",{className:"amp-live-edge-progress",tabIndex:0})};i.ready(function(){i.addEventListener(amp.eventName.loadedmetadata,y);i.addEventListener(amp.eventName.durationchange,p);i.controlBar.liveDisplay.on("click",function(){u()&&v()});var n=vjs.createEl("div",{className:"amp-livetimeindicator",innerHTML:vjs.util.htmlEncode(this.localize(w))});i.controlBar.currentTimeDisplay.el().appendChild(n)})})}(window.amp),function(n){n.plugin("logo",function(t){function u(n,t){var r=6,u=i.el();return t==="center"&&(r=u.clientWidth/2-n.clientWidth/2),t==="right"&&(r=u.clientWidth-n.clientWidth-6),r}function f(n,t){var r=6,u=i.el();return t==="middle"&&(r=u.clientHeight/2-n.clientHeight/2),t==="bottom"&&(r=u.clientHeight-n.clientHeight-6),r}function e(n,t){var r=i.el();r.clientHeight<t.clientHeight||r.clientWidth<t.clientWidth?(t.style.maxHeight=r.clientHeight+"px",t.style.maxWidth=r.clientWidth+"px"):(t.style.maxHeight="100%",t.style.maxWidth="100%")}function o(n,t){n.style.left=u(t,c)+"px";n.style.top=f(t,l)+"px"}function r(){i.customerLogo.container.style.left="0";i.customerLogo.container.style.top="0";e(i.customerLogo.container,i.customerLogo.el_);o(i.customerLogo.container,i.customerLogo.el_)}var i=this,s=t.enabled,h=t.opacity,c=t.horizontalPosition,l=t.verticalPosition,a="amp-logo";n.Logo=vjs.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}});n.Logo.prototype.createEl=function(){var n=vjs.Component.prototype.createEl.call(this,"div",{className:a});return n.style.opacity=h,this.container=n,n};i.ready(function(){if(s){var t=new n.Logo(i);i.customerLogo=i.addChild(t);r();i.on("fullscreenchange",r);i.on("resize",r)}})})}(window.amp),function(n){n.plugin("moreOptions",function(t){function f(n){var t;if(n){for(t=0;t<r.length;t++)r[t].control.el().tabIndex=-1,r[t].control.addClass("amp-control-disabled");i.controlBar.moreOptionsButton.el().tabIndex=0;i.controlBar.moreOptionsButton.removeClass("amp-control-disabled")}else{for(t=0;t<r.length;t++)r[t].control.el().tabIndex=0,r[t].control.removeClass("amp-control-disabled"),!r[t].control.menu||(r[t].control.el().style.position="",r[t].control.el().style.left="");i.controlBar.moreOptionsButton.el().tabIndex=-1;i.controlBar.moreOptionsButton.addClass("amp-control-disabled")}}function a(){i.controlBar.moreOptionsButton.menu.el().style.display="";for(var n=0;n<r.length;n++)r[n].control.menu&&(r[n].control.menu.el().style.display="")}function v(){var t,n;for(r=[],t=0;t<c.length;t++)n=i.controlBar[c[t]],n&&n.el()&&r.push({control:n,text:n.buttonText,className:n.el().className});return r}function y(){u=[];for(var n=0;n<r.length;n++)r[n].control.hasClass("vjs-hidden")||u.push(r[n]);u.length>1?s():f(!1)}function s(){if(u.length>0){var n=window.setTimeout(s,100);u[0].control.el()&&u[0].control.el().clientWidth!==0&&(e=u[0].control.el().clientWidth*(u.length+3)*3,h(),window.clearTimeout(n))}}function h(){i.controlBar.width()==0?f(i.width()<e):f(i.controlBar.width()<e)}var i=this,e=0,c=!!t&&!!t.controls?t.controls:[],o=!!t&&!!t.menuTitle?t.menuTitle:"More Options",r=[],u=[],l=Date.now();n.MoreOptionsMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.control=i.control;this.addClass("amp-menu-item");this.addClass(i.className);this.on("click",this.onClick);if(!!this.control.menu)this.control.menu.on("mouseleave",function(){this.el().style.display=""})}});n.MoreOptionsMenuItem.prototype.onClick=function(n){n.stopImmediatePropagation();this.control.onClick(n);l=Date.now()};n.MoreOptionsButton=n.MenuButton.extend({init:function(t,i){i=i||{};i.name="moreOptionsButton";n.MenuButton.call(this,t,i);t.addEventListener(amp.eventName.loadedmetadata,vjs.bind(this,function(){this.refresh()}));this.on("mouseover",a);if(this.items.length>0){var r=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(o)),tabindex:-1})});this.menu.addItem(r)}else this.hide()}});n.MoreOptionsButton.prototype.buttonText=o;n.MoreOptionsButton.prototype.className="amp-moreoptions-control";n.MoreOptionsButton.prototype.createItems=function(){for(var r,u=v()||[],f=[],t=0;t<u.length;t++)r=new n.MoreOptionsMenuItem(i,u[t]),f.push(r);return f};n.MoreOptionsButton.prototype.refresh=function(){if(this.removeChild(this.menu),this.menu=this.createMenu(),this.addChild(this.menu),this.items.length>0){var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(o)),tabindex:-1})});this.menu.addItem(t)}this.items=this.createItems()};n.MoreOptionsButton.prototype.onClick=function(n){Date.now()-l>500&&vjs.MenuButton.prototype.onClick.call(this,n)};i.ready(function(){var r=new n.MoreOptionsButton(i,t);i.controlBar.moreOptionsButton=i.controlBar.addChild(r);i.addEventListener(amp.eventName.loadedmetadata,y);i.on("resize",function(){h()});i.on("fullscreenchange",function(){f(i.controlBar.width()<e)})})})}(window.amp),function(n){n.plugin("navigation",function(t){function u(){alert("hi")}function f(){}function e(){}function o(){}function s(){}function h(){}function i(t,i,u){var f=new n.Button(r,{el:n.Component.prototype.createEl("div",{className:"vjs-control amp-"+t.toLowerCase(),innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+vjs.util.htmlEncode(this.localize(u))+"<\/span><\/div>",role:"button",id:t}),name:t});return f.onClick=i,f.buttonText=u,f}var r=this,c=t.track||{},l=t.skip||{},a=t.trickPlay||{};r.ready(function(){var n=[],t,v;for(c.hide||(n[0]=i("previousTrackButton",u,"Previous Track"),n[5]=i("nextTrackButton",f,"Next Track")),l.hide||(n[1]=i("skipBackwardButton",e,"Skip Backward"),n[4]=i("skipForwardButton",o,"Skip Forward")),a.hide||(n[2]=i("rewindButton",s,"Rewind"),n[3]=i("fastForwardButton",h,"Fast Forward")),t=0;t<n.length;t++)v=n[t],v&&(r.controlBar[v.id()]=r.controlBar.addChild(v))})})}(window.amp),function(n){n.plugin("playbackSpeed",function(t){function e(){}function o(n){for(var t=0;t<r.length;t++)if(r[t].name===n)return r[t];return null}function s(n){for(var t=0;t<r.length;t++)if(r[t].value===n)return r[t];return null}var i=this,r=[{name:"low",value:.5},{name:"normal",value:1},{name:"fast",value:2}],u=!!t&&!!t.initialSpeed?o(t.initialSpeed):r[1],f=u==="low"?0:u==="normal"?.5:1;n.PlaybackSpeedLevel=n.Component.extend({init:function(n,t){vjs.Component.call(this,n,t)}});n.PlaybackSpeedLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-playbackspeed-level",innerHTML:'<span class="vjs-control-text"><\/span>',tabIndex:0})};n.PlaybackSpeedHandle=n.SliderHandle.extend();n.PlaybackSpeedHandle.prototype.defaultValue=1;n.PlaybackSpeedHandle.prototype.createEl=function(){return n.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-playbackspeed-handle"})};n.PlaybackSpeedBar=n.Slider.extend({init:function(t,i){n.Slider.call(this,t,i)}});n.PlaybackSpeedBar.prototype.options_={children:{playbackSpeedLevel:{},playbackSpeedHandle:{}},barName:"playbackSpeedLevel",handleName:"playbackSpeedHandle",vertical:!0};n.PlaybackSpeedBar.prototype.playerEvent="playbackspeedchange";n.PlaybackSpeedBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-playbackspeed-bar","aria-label":"playback speed level"})};n.PlaybackSpeedBar.prototype.onMouseMove=function(n){var t=this.calculateDistance(n);f=t};n.PlaybackSpeedBar.prototype.getPercent=function(){var n=.2;return f<.5-n?0:f>.5+n?1:.5};n.PlaybackSpeedBar.prototype.update=function(){var f=this.handle,t=this.getPercent(),n=t;n=n===1?.9355:n===.5?.4697:0;f.el().style.left=n*100+"%";u=s(t);u===r[1]?(i.controlBar.playbackSpeedButton.addClass("off"),i.controlBar.playbackSpeedButton.removeClass("on")):(i.controlBar.playbackSpeedButton.addClass("on"),i.controlBar.playbackSpeedButton.removeClass("off"));e()};n.PlaybackSpeedButton=n.MenuButton.extend({init:function(t,i){i=i||{};i.name="playbackSpeedButton";n.MenuButton.call(this,t,i)}});n.PlaybackSpeedButton.prototype.createMenu=function(){var t=new n.Menu(this.player_,{contentElType:"div"}),i=new n.PlaybackSpeedBar(this.player_,this.options_);i.on("focus",function(){t.lockShowing()});i.on("blur",function(){t.unlockShowing()});return t.addChild(i),t};n.PlaybackSpeedButton.prototype.buttonText="Playback Speed";n.PlaybackSpeedButton.prototype.className="amp-playbackspeed-control";i.ready(function(){var t=new n.PlaybackSpeedButton(i);i.controlBar.playbackSpeedButton=i.controlBar.addChild(t)})})}(window.amp),function(n){n.plugin("quality",function(t){function e(n){var u=r.controlBar.qualityButton,o=i,f=u.items.indexOf(n);if(o!==f){u.items[o].selected(!1);n.selected(!0);i=f;s(u,f);var t=r.currentVideoStreamList(),e=t.selectedIndex,h=t.streams[e].tracks;i==0?t.streams[e].selectTrackByIndex(-1):t.streams[e].selectTrackByIndex(h.length-i)}}function o(){var f=r.currentVideoStreamList(),n,e;if(f){var o=f.selectedIndex,t=f.streams[o].tracks,u=[];for(u[0]={text:v},n=1;n<=t.length;n++)e=t[t.length-n].bitrate,u[n]={text:t[t.length-n].height+"p-"+h(e)};return i>=0&&i<u.length&&(u[i].selected=!0),u}}function s(n,t){var i,r,u;t==0?r=4:(i=n.items[t].options_.label.split("-")[0].replace("p",""),r=4,r=i>720?4:i<=720&&i>480?3:i<=480&&i>360?2:1);u=n.el().className.match(/quality-\d/);n.el().className=n.el().className.replace(u,"quality-"+r)}function h(n){var t=n;return n>=1e6?(n=f(n/1e6),t=n+"Mbps"):n>=1e3?(n=f(n/1e3),t=n+"Kbps"):t=n+"bps",t}function f(n){return+(Math.round(n+"e+1")+"e-1")}function c(){this.refresh();l()}function l(){var n=r.currentVideoStreamList(),t;if(n&&n.streams)for(t=0;t<n.streams.length;t++)n.streams[t].addEventListener(amp.streamEventName.trackselected,a)}function a(){for(var n,f=r.controlBar.qualityButton,e=r.currentVideoStreamList(),h=e.selectedIndex,u=e.streams[h].tracks,o=-1,s=0,t=0;t<u.length;t++)u[t].selectable&&(o=t,s++);n=-1;n=s>1?0:u.length-o;n!==i&&(f.items[i].selected(!1),i=n,f.items[i].selected(!0))}var r=this,u=!!t&&!!t.menuTitle?t.menuTitle:"Quality",i=!!t&&!!t.selectedItem?t.selectedItem:0,v=!!t&&!!t.autoMenuItemLabel?t.autoMenuItemLabel:"Auto";n.QualityMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.QualityMenuItem.prototype.onClick=function(n){n.type!=="keydown"&&n.stopImmediatePropagation();e(this)};n.QualityButton=n.MenuButton.extend({init:function(t,r){if(r=r||{},r.name="qualityButton",n.MenuButton.call(this,t,r),t.addEventListener(amp.eventName.loadedmetadata,amp.bind(this,c)),this.items!=undefined&&this.items.length>0){var f=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.addItem(f);this.el().className+=" quality-"+(4-i)}else this.hide()}});n.QualityButton.prototype.buttonText=u;n.QualityButton.prototype.className="amp-quality-control";n.QualityButton.prototype.createItems=function(){for(var i,u=o()||[],f=[],t=0;t<u.length;t++)i=new n.QualityMenuItem(r,u[t]),f.push(i);return f};r.ready(function(){var t=new n.QualityButton(r,{selectedItemIndex:i});r.controlBar.qualityButton=r.controlBar.addChild(t)});n.QualityButton.prototype.refresh=function(){if(this.removeChild(this.menu),this.menu=this.createMenu(),this.addChild(this.menu),this.items!=undefined&&this.items.length>0){var t=new n.Component(r,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.addItem(t);this.el().className.match(/quality-\d/)==null&&(this.el().className+=" quality-"+(4-i));this.show()}else this.hide()}})}(window.amp),function(n){n.plugin("share",function(t){function u(){}function f(){return[{text:"Option 1",value:1},{text:"Option 2",value:2},{text:"Option 3",value:3}]}var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Share";n.ShareMenuItem=n.MenuItem.extend({init:function(t,i){var r={label:i.text,value:i.value,selected:i.selected};n.MenuItem.call(this,t,r);this.addClass("amp-menu-item");this.on("click",this.onClick)}});n.ShareMenuItem.prototype.onClick=function(){u(this)};n.ShareButton=n.MenuButton.extend({init:function(t,i){if(i=i||{},i.name="shareButton",n.MenuButton.call(this,t,i),this.items.length>0){var u=new n.Component(t,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});this.menu.addItem(u)}else this.hide()}});n.ShareButton.prototype.buttonText=r;n.ShareButton.prototype.className="amp-share-control";n.ShareButton.prototype.createItems=function(){for(var r,u=f()||[],e=[],t=0;t<u.length;t++)r=new n.ShareMenuItem(i,u[t]),e.push(r);return e};i.ready(function(){var r=new n.ShareButton(i,t);i.controlBar.shareButton=i.controlBar.addChild(r)})})}(window.amp),function(n){n.plugin("subtitles",function(t){var i=this,r=!!t&&!!t.menuTitle?t.menuTitle:"Subtitles",u=!!t&&!!t.offMenuItemLabel?t.offMenuItemLabel:"Off";i.addEventListener(amp.eventName.loadedmetadata,function(){i.controlBar.subtitlesButton.el().className+=" amp-subtitles-control";i.controlBar.subtitlesButton.menu.children()[0].el().innerHTML=vjs.util.htmlEncode(this.localize(u));var t=new n.Component(i,{el:vjs.createEl("li",{className:"amp-menu-header",innerHTML:vjs.util.htmlEncode(this.localize(r)),tabindex:-1})});i.controlBar.subtitlesButton.menu.addItem(t)})})}(window.amp),function(n){n.plugin("timelineMarkers",function(t){function f(){i.duration()>0&&(c=i.duration(),e(),o())}function e(){for(var n=0;n<u.length;n++)i.controlBar.progressControl.seekBar.removeChild(u[n]);u=[]}function o(){for(var t,f=0;f<r.length;f++)t=new n.Marker(i,r[f]),u.push(t),i.controlBar.progressControl.seekBar.addChild(t)}var i=this,r=!!t&&!!t.markers?t.markers:[],s="#9CD5F4",h="amp-timeline-marker",c=0,u=[];n.Marker=vjs.Component.extend({init:function(n,t){var i=n.duration(),r=t.time>0?t.time:0,u=t.color?t.color:s;vjs.Component.call(this,n,{el:vjs.Component.prototype.createEl.call(this,"div",{className:h})});this.el_.style.left=r/i*100+"%";this.el_.style.backgroundColor=u}});i.ready(function(){if(!!r&&r.length>0){f();i.on("loadedmetadata",function(){f()});i.on("durationchange",function(){f()})}})})}(window.amp),function(n){n.plugin("outline",function(n){function f(){t.controlBar.removeClass(r)}function i(n){n.classList.add(l);n.addEventListener("click",f)}function e(){for(var r,u=t.controlBar.el().querySelectorAll(h),n=0;n<u.length;n++)i(u[n]);if(!!s)for(r=t.controlBar.el().querySelectorAll(c),n=0;n<r.length;n++)i(r[n])}function o(){t.controlBar.addClass(r);u||(u=!0,e())}var t=this,s=!!n&&!!n.displayOnMenuItems,h=".vjs-control",c=".vjs-menu-item",r="outline-enabled",l="outline-enabled-control",u=!1;t.ready(function(){t.controlBar.on("keydown",o)})})}(window.amp);amp.AmpSkinPlugin=amp.Component.extend({init:function(n){var t=n.options_.logo,i=!!t&&t.enabled!==undefined?t.enabled:!0,r=!!t&&!!t.opacity?t.opacity:.5,u=!!t&&!!t.horizontalPosition?t.horizontalPosition:"left",f=!!t&&!!t.verticalPosition?t.verticalPosition:"top";n.options_.plugins=amp.obj.merge({logo:{enabled:i,opacity:r,horizontalPosition:u,verticalPosition:f},live:{controlText:"LIVE"},audioTracks:{menuTitle:"Audio Tracks"},closedCaption:{menuTitle:"Closed Captioning"},subtitles:{menuTitle:"Subtitles",offMenuItemLabel:"Off"},quality:{menuTitle:"Quality",selectedItem:0},moreOptions:{controls:["qualityButton","captionsButton","subtitlesButton","audioTracksButton","castToDeviceButton","shareButton","playbackSpeedButton","nextTrackButton","skipForwardButton","fastForwardButton","rewindButton","skipBackwardButton","previousTrackButton"]},controlBarIcons:{leftIcons:["playToggle","previousTrackButton","skipBackwardButton","rewindButton","fastForwardButton","skipForwardButton","nextTrackButton","playbackSpeedButton","liveDisplay"],middleIcons:["liveIndicator","currentTimeDisplay","timeDivider","durationDisplay"],rightIcons:["shareButton","castToDeviceButton","audioTracksButton","subtitlesButton","captionsButton","qualityButton","moreOptionsButton","volumeMenuButton","fullscreenToggle"],removeOtherIcons:!1},outline:{displayOnMenuItems:!0}},n.options_.plugins)}});amp.AmpSkinPlugin.prototype.dispose=function(){};amp.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{volumeBar:{vertical:!0}},playbackRateMenuButton:{},subtitlesButton:{},captionsButton:{},chaptersButton:{},ampSkinPlugin:{}}};vjs.util.getBitrateByUnit=function(n){var t=n+"bps";return n>=1e6?(n=vjs.util.roundToOneDecimal(n/1e6),t=n+"Mbps"):n>=1e3&&(n=vjs.util.roundToOneDecimal(n/1e3),t=n+"Kbps"),t};vjs.util.roundToOneDecimal=function(n){return+(Math.round(n+"e+1")+"e-1")},function(){function l(){window.RadioCanada=window.RadioCanada||{};window.RadioCanada.player||(window.RadioCanada.stackPlayerCommand=window.RadioCanada.stackPlayerCommand||[],window.RadioCanada.playersArray=window.RadioCanada.playersArray||[],window.RadioCanada.player=function(n,t){function f(n,t){return function(){window.RadioCanada.stackPlayerCommand.push([n,t,arguments])}}for(var i={params:[n,t]},u=["addEventListener","removeEventListener","events","play","pause","gui","seek","volume","mute","volumeDefault","autoPlay","depose","requestPlayAuthorizationForMobileDevices","change","setSize","fullscreen","setTeaser","setLang","setPlayerMode","allowMultiPlay","token","enterFullScreen","exitFullScreen","bitrate","share","shareUrl","id","log","savedLogs"],r=0;r<u.length;r++)i[u[r]]=f(i,u[r],arguments);return window.RadioCanada.playersArray.push(i),i},window.RadioCanada.player.debugMode=!0,p())}function a(n){var i=new RegExp("[; ]"+n+"=([^\\s;]*)"),t=(" "+document.cookie).match(i);return n&&t?unescape(t[1]):""}function v(n){try{var t=n.split("_");return t.splice(0,1),JSON.parse(t.join("_"))}catch(i){return{replace:!1}}}function y(){delete window.RadioCanada.player;var n=window.playerReadyCallback||function(){};window.playerReadyCallback=function(){var i,u,t,f;for(n(),i=0;i<window.RadioCanada.playersArray.length;i++){var r=window.RadioCanada.playersArray[i],e=r.params[0],s=r.params[1],o=new RadioCanada.player(e,s);for(u=0;u<window.RadioCanada.stackPlayerCommand.length;u++)t=window.RadioCanada.stackPlayerCommand[u],t[0].params&&e===t[0].params[0]&&o[t[1]].apply(this,t[2]);for(f in r)r[f]=o[f]}}}function p(){RadioCanada.player.events={AD_COMPLETE:"AD_COMPLETE",AD_PLAY:"AD_PLAY",AD_STARTED:"AD_STARTED",BEGIN:"BEGIN",COMPLETE:"COMPLETE",CURRENT_TIME_CHANGE:"CURRENT_TIME_CHANGE",END:"END",END_CHAPTER:"END_CHAPTER",ENTER_FULL_SCREEN:"ENTER_FULL_SCREEN",EXIT_FULL_SCREEN:"EXIT_FULL_SCREEN",EXTRACT:"EXTRACT",ERROR:"ERROR",MEDIA_CHANGED:"MEDIA_CHANGED",META_LOADED:"META_LOADED",MUTE:"MUTE",NEXT:"NEXT",NEXT_CHAPTER:"NEXT_CHAPTER",PAUSE:"PAUSE",PLAY:"PLAY",PLAYER_READY:"PLAYER_READY",PRESENCE:"PRESENCE",PREVIOUS:"PREVIOUS",READY:"READY",RELATED:"RELATED",SEEKED:"SEEKED",SEEK:"SEEK",SEEKING:"SEEKING",SHARE:"SHARE",STOP:"STOP",START:"START",UNMUTE:"UNMUTE",VOLUME_CHANGE:"VOLUME_CHANGE",CLOSING_CREDITS_STARTED:"CLOSING_CREDITS_STARTED",REDUCE_PLAYER:"REDUCE_PLAYER",THEATER_MODE:"THEATER_MODE"}}var n={},s=a("RCPlayerDebugger"),r,o,u,w,b,f,h,e,t;if(window.RadioCanada&&window.RadioCanada.player&&window.RadioCanada.player.debugMode)y();else if(s&&!window.x4kv4R8ZHpgGrDWgHV56)try{if(r=v(s),r.replace==="true"||r.replace===!0)if(window.x4kv4R8ZHpgGrDWgHV56=!0,o=r.protocol+r.prefix+"services.radio-canada.ca/media/player/clientdebug/"+r.site+"_"+r.client+"/",typeof playerURL!="undefined")playerURL=[o];else{u=document.createElement("script");u.type="text/javascript";u.src=o;document.getElementsByTagName("head")[0].appendChild(u);l();return}}catch(c){console.log(c.message)}window.RadioCanada&&window.RadioCanada.player||(w="//api.radio-canada.ca",n.environnement="",b="http://static.tou.tv/console/v2/1.5.1/ConsoleProd.swf",function(n){var t=n.params={WebTrendsSiteName:"Radio-Canada",maxTimePubDuree:"60",height:"360",width:"640",autoPlay:"false",deviceType:"flashhd",output:"json",connectionType:"broadband",playButton:"http://static.tou.tv/player/ressources/images/bouton_teaser_tvg_2013.swf",MAplugin:"http://79423.analytics.edgesuite.net/csma/plugin/csma.swf",MAbeacon:"//ma80-r.analytics.edgekey.net/config/beacon-18947.xml",configPlayerFlash:"http://static.tou.tv/player/ressources/xml/config.xml",versionFlash:"11.1.1",MAbeaconLive:"https://ma80-r.analytics.edgekey.net/config/beacon-2225.xml",lang:"fr",wmode:"opaque",configPlayerFlashHttps:"https://static.tou.tv/player/ressources/xml/config_https.xml",canExtract:"true",gui:"console",pubPolicy:"playOnce",multiInstance:"false",urlTeaser:"",styleDivContainer:"background:#000000;",playButtonHTML:"http://static.tou.tv/player/ressources/images/HTMLPlayer/Play_[state].png",pubRegle:'{"regles":[]}',related:"[]",showRelated:"false",isSuggest:"false",suggestion:"[]",isNextable:"true",share:"false",next:"false",watermark:"",pagePopup:"http://ici.radio-canada.ca/widgets/mediaconsole/[appCode]/[idMedia]/?seektime=[currentTime]",pagePopupParams:"toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,history=no,resizable=yes,width=1007,height=550,left=17,top=100",DARTrcapp:"rcca_siteWeb",suggested:"[]",infoBar:"true",nextMedia:"false",isPlancheContact:"false",isClosedCaption:"false",WebTrendsProfilsIndexeur:"",WebTrendsProfilsSegment:"",socialNetwork:"",canFullScreen:"true",canChangeMBR:"true",previous:"false",isPreviousable:"false",isSeekable:"true",opaque:"true",dvrDuration:"-1",controlBar:"true",loggingURL:"https://services.radio-canada.ca/media/player/Log/radiocanadaca?level=[level]&logger=[logger]&message=[message]&appCode=[appCode]&idMedia=[idMedia]&exception=[exception]",loggingLevel:"DEBUG",disableResume:"true",backwardCompatibleAudio:"true",isModeVideo:"true",uiColor:"white",omnitureV1:"false",heartbeatDebugLevel:"",comscoreDebugLevel:"",noAdsOnAudioContent:"false",unmuteWhenChangingContent:"true",noAds:"false",ApiEnvironment:"",heartbeatEnvironment:"prod",clientKey:"773aea60-0e80-41bb-9c7f-e6d7c3ad17fb",consoleDebugConfig:'{"outputToConsole":false}',AdBlockDetection:"false",activateBroadcastingStationScheduleManager:"true",DARTsite:"raca.rc.ca",WebTrendsProfils:"sc_playerhd_audiovideo",ComScoreC4:"9293094",ComScoreC3:"Radio-Canada",heartbeat:"true",ComScoreC2:"16433048",heartbeatRSID:"rc-prod01",pageShare:"http://ici.radio-canada.ca/info/videos/media-{{#def.idMedia}}/{{#def.urlDesc}}?isAutoPlay=true",version:"1.17.5a",site:"radiocanadaca_unit",debugmode:"0",htmlOnly:"false",imaCustomUrl:""}}(n),function(n){var t=n.xmlConfigVersion="1.17.5"}(n),function(n){var t=n.autorizedParams=["autoPlay","canChangeMBR","canExtract","canFullScreen","btnFullscreen","fullscreen","connectionType","controlBar","deviceType","eventReady","gui","height","id","infoBar","isNextable","isPreviousable","isSeekable","lang","multiInstance","next","nextMedia","previous","share","shareURL","socialNetwork","styleDivContainer","suggested","time","token","urlTeaser","versionFlash","width","wmode","opaque","backwardCompatibleAudio","isModeVideo","watermark","uiColor","hdnea","providerId","disableRatioRestriction","disableTimeControl","isModeResume","btnTheaterMode","canReduce","useExternalFont"]}(n),f='@font-face{font-family:"playerLoadedFont";src:url("//s.radio-canada.ca/player/svg/ressources/font/Radio-Canada-Regular.woff?r=28")}@font-face{font-family:"playerLoadedFont";src:url("//s.radio-canada.ca/player/svg/ressources/font/Radio-Canada-Bold.woff?r=28");font-weight:bold}body .radcanplayer{font-size:13px;line-height:1;color:#fff}.outer .radcanplayer.mobiledevice .playbutton{display:none}.outer .radcanplayer.mobiledevice .containerSoundControl{display:none}.radcanplayer.mobiledevice,.radcanplayer.mobiledevice a,.radcanplayer.mobiledevice button{outline:none}.radcanplayer p{margin:10px 0;white-space:normal}.radcanplayer button{background:transparent;border:none;cursor:pointer;color:#fff;height:auto;padding:0px;font-weight:normal;outline:none}.radcanplayer button:focus,.radcanplayer button:hover{outline:none}.radcanplayer button:active{outline:none !important}.radcanplayer .bigBtnPlay-focus{outline:2px solid #0068c5 !important;box-shadow:none}.radcanplayer .a11y-focus{outline:2px solid #0068c5 !important}.radcanplayer .a11y-focus-border{outline:none;border:2px solid #0068c5 !important}.radcanplayer button:focus{box-shadow:none}.radcanplayer button:active{outline:none}.radcanplayer.mobiledevice button:focus{box-shadow:none}.radcanplayer video{min-height:100%;min-width:100%;height:auto;width:auto !important}.radcanplayer .adclicktracking{z-index:300}.radcanplayer .clearfix:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.radcanplayer .clearfix{display:inline-block}.radcanplayer * html .clearfix{height:1%}.radcanplayer .clearfix{display:block}.radcanplayer .hide{display:none}.radcanplayer .bigBtn{width:120px;height:120px;margin:0;position:absolute;top:50%;left:50%;margin-left:-60px;margin-top:-60px;text-shadow:1px 1px 1px #666;display:none !important;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=75);opacity:0.75;z-index:-1;display:none}.radcanplayer .touchSpaceForBigBtn{z-index:301}.radcanplayer button.bigBtnPlay{display:block;cursor:pointer;z-index:302}.radcanplayer button.bigBtnPlay .icon:before{font-family:"icomoonPlayer";content:"\\e137";font-size:80px}.radcanplayer button.bigBtnPause{display:block;cursor:pointer;z-index:302}.radcanplayer button.bigBtnPause .icon:before{font-family:"icomoonPlayer";content:"\\e101";font-size:80px;z-index:301}.radcanplayer .plancheContact{width:160px;height:110px;bottom:60px;z-index:101;display:none;position:absolute}.radcanplayer .plancheContact .preview{height:90px}.radcanplayer .plancheContact .previewTime{position:relative;width:100%;height:20px;background-color:#000;text-align:center;margin-top:-6px;padding-top:6px}.radcanplayer .plancheContactHR{width:320px;height:200px;bottom:40px;z-index:101;display:none;position:absolute}.radcanplayer .plancheContactHR .preview{height:180px}.radcanplayer .plancheContactHR .previewTime{position:relative;width:100%;height:20px;background-color:#000;text-align:center;margin-top:-6px;padding-top:6px}.outer .fullscreen{width:100%;height:100%;background-color:black;position:fixed !important;top:0;left:0;margin:0;padding:0;overflow:hidden;z-index:10001}.radcanplayer{position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent;background-color:#000;display:none;z-index:1}.radcanplayer button.hiddenText,.radcanplayer button.fullscreenenter,.radcanplayer button.fullscreenexit,.radcanplayer button.arrowright,.radcanplayer button.pause{font-size:0 !important;line-height:0 !important;text-indent:-4000px !important}.radcanplayer .hide{display:none}.radcanplayer span.hiddenText{font-size:0;line-height:0;text-indent:-4000px;position:absolute;opacity:0}.radcanplayer .newBtnPlay{display:none;height:80%;width:80%;position:absolute;top:50%;left:50%;margin:none !important;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}.radcanplayer button.previousbutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-previous.svg?r=28") no-repeat}.radcanplayer button.nextbutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-next.svg?r=28") no-repeat}.radcanplayer button.soundcontrol.soundHigh{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-soundHi.svg?r=28") no-repeat}.radcanplayer button.soundcontrol.soundLow{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-soundLow.svg?r=28") no-repeat}.radcanplayer button.soundcontrol.soundOff{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-soundMute.svg?r=28") no-repeat}.radcanplayer button.arrowright{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-play.svg?r=28") no-repeat}.radcanplayer button.pause{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-pause.svg?r=28") no-repeat}.radcanplayer button.infobutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-info.svg?r=28") no-repeat}.radcanplayer button.partagebutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-partage.svg?r=28") no-repeat}.radcanplayer button.listbutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-liste.svg?r=28") no-repeat}.radcanplayer button.extractbutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-extraire.svg?r=28") no-repeat}.radcanplayer button.facebook{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-facebook.svg?r=28") no-repeat}.radcanplayer button.twitter{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-twitter.svg?r=28") no-repeat}.radcanplayer button.googleplus{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-googlePlus.svg?r=28") no-repeat}.radcanplayer button.linkedin{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-linkedin.svg?r=28") no-repeat}.radcanplayer button.email{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-mail.svg?r=28") no-repeat}.radcanplayer button.embeded{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-embed.svg?r=28") no-repeat}.radcanplayer button.closebutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-fermer.svg?r=28") no-repeat}.radcanplayer button.fullscreenenter{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-fullscreen.svg?r=28") no-repeat}.radcanplayer button.fullscreenexit{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-smallscreen.svg?r=28") no-repeat}.radcanplayer button.reducebutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-reduce.svg?r=28") no-repeat}.radcanplayer button.btn-reprendre:before{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-resume-repeat.svg?r=28") no-repeat}.radcanplayer button.btn-poursuivre:before{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-resume-play.svg?r=28") no-repeat}.radcanplayer button.btn-theater-mode-big{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-theater-mode-big.svg?r=28") no-repeat}.radcanplayer button.btn-theater-mode-small{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-theater-mode-small.svg?r=28") no-repeat}.radcanplayer button.soustitrebutton{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-sousTitreContour.svg?r=28") no-repeat}.radcanplayer button.soustitretexte{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-sousTitreTexte.svg?r=28") no-repeat}.radcanplayer button.previousbutton,.radcanplayer button.nextbutton,.radcanplayer button.soundcontrol.soundHigh,.radcanplayer button.soundcontrol.soundLow,.radcanplayer button.soundcontrol.soundOff,.radcanplayer button.pause,.radcanplayer button.arrowright,.radcanplayer button.soustitrebutton,.radcanplayer button.soustitretexte,.radcanplayer button.fullscreenenter,.radcanplayer button.reducebutton,.radcanplayer button.btn-theater-mode,.radcanplayer button.fullscreenexit{background-size:55%;background-position:50% 55%;transition:transform 200ms}.radcanplayer button.previousbutton:hover,.radcanplayer button.previousbutton:focus,.radcanplayer button.nextbutton:hover,.radcanplayer button.nextbutton:focus,.radcanplayer button.soundcontrol.soundHigh:hover,.radcanplayer button.soundcontrol.soundHigh:focus,.radcanplayer button.soundcontrol.soundLow:hover,.radcanplayer button.soundcontrol.soundLow:focus,.radcanplayer button.soundcontrol.soundOff:hover,.radcanplayer button.soundcontrol.soundOff:focus,.radcanplayer button.pause:hover,.radcanplayer button.pause:focus,.radcanplayer button.arrowright:hover,.radcanplayer button.arrowright:focus,.radcanplayer button.soustitrebutton:hover,.radcanplayer button.soustitrebutton:focus,.radcanplayer button.soustitretexte:hover,.radcanplayer button.soustitretexte:focus,.radcanplayer button.fullscreenenter:hover,.radcanplayer button.fullscreenenter:focus,.radcanplayer button.reducebutton:hover,.radcanplayer button.reducebutton:focus,.radcanplayer button.btn-theater-mode:hover,.radcanplayer button.btn-theater-mode:focus,.radcanplayer button.fullscreenexit:hover,.radcanplayer button.fullscreenexit:focus{transform:scale(0.85)}.radcanplayer button.reducebutton{background-size:65%}.radcanplayer button.arrowright{background-position:60% 55%}.radcanplayer button.pause{background-position:48% 46%}.radcanplayer button.infobutton,.radcanplayer button.partagebutton,.radcanplayer button.listbutton,.radcanplayer button.extractbutton,.radcanplayer button.closebutton{background-size:65%;background-position:center;background-color:rgba(0,0,0,0.75);margin-bottom:10px;border-radius:50%}.radcanplayer button.infobutton:hover,.radcanplayer button.infobutton:focus,.radcanplayer button.partagebutton:hover,.radcanplayer button.partagebutton:focus,.radcanplayer button.listbutton:hover,.radcanplayer button.listbutton:focus,.radcanplayer button.extractbutton:hover,.radcanplayer button.extractbutton:focus,.radcanplayer button.closebutton:hover,.radcanplayer button.closebutton:focus{transform:scale(0.85);background-position:center}.radcanplayer button.closebutton{margin-top:0}.radcanplayer button.facebook,.radcanplayer button.twitter,.radcanplayer button.googleplus,.radcanplayer button.linkedin,.radcanplayer button.email,.radcanplayer button.embeded{background-size:75%;background-position:center}.radcanplayer button.facebook:hover,.radcanplayer button.facebook:focus,.radcanplayer button.twitter:hover,.radcanplayer button.twitter:focus,.radcanplayer button.googleplus:hover,.radcanplayer button.googleplus:focus,.radcanplayer button.linkedin:hover,.radcanplayer button.linkedin:focus,.radcanplayer button.email:hover,.radcanplayer button.email:focus,.radcanplayer button.embeded:hover,.radcanplayer button.embeded:focus{transform:scale(0.85);background-position:center}.radcanplayer .btnPlayContainer{position:absolute;width:20%;top:50%;left:50%;z-index:302;-moz-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);outline:none;padding-bottom:20%;cursor:pointer}.radcanplayer .btnPlayContainer:focus{outline:none}.radcanplayer .btnPlayContainer:hover button.bigBtnPlay,.radcanplayer .btnPlayContainer:hover button.bigBtnPause,.radcanplayer .btnPlayContainer:focus button.bigBtnPlay,.radcanplayer .btnPlayContainer:focus button.bigBtnPause{width:77%;height:77%}.radcanplayer .btnPlayContainer button.bigBtnPlay,.radcanplayer .btnPlayContainer button.bigBtnPause{box-sizing:border-box;cursor:pointer;display:block;width:100%;height:100%;border-radius:50%;user-select:none;background-position:center;transition:all 200ms ease-in-out;-moz-transition:all 200ms ease-in-out;transition-delay:50ms;background-color:rgba(0,0,0,0.75);backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.radcanplayer .btnPlayContainer button.bigBtnPlay:hover,.radcanplayer .btnPlayContainer button.bigBtnPlay:focus,.radcanplayer .btnPlayContainer button.bigBtnPause:hover,.radcanplayer .btnPlayContainer button.bigBtnPause:focus{width:77%;height:77%}.radcanplayer .btnPlayContainer button.bigBtnPlay:active,.radcanplayer .btnPlayContainer button.bigBtnPause:active{width:160%;height:160%}.radcanplayer .btnPlayContainer button.bigBtnPlay:before,.radcanplayer .btnPlayContainer button.bigBtnPause:before{margin:auto}.radcanplayer .btnPlayContainer .loader:active{outline:none}.radcanplayer .btnPlayContainer button.bigBtnPlay:before{content:"";background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-play.svg?r=28") no-repeat;background-position:center;position:absolute;left:20%;top:17%;width:70%;height:70%}.radcanplayer .btnPlayContainer button.bigBtnPause:before{content:"";background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-pause.svg?r=28") no-repeat;background-position:center;position:absolute;left:12%;top:13%;width:70%;height:70%}.radcanplayer .btnPlayContainer .loading-spinner{box-sizing:border-box;height:100%;width:100%;position:absolute;z-index:301}.radcanplayer .btnPlayContainer .loading-spinner:before{line-height:9vw;float:left;content:"";display:inline;height:90%;width:90%;animation:rotate 1.5s infinite linear;border:2px solid #fff;border-right-color:transparent;border-radius:50%;padding:0;margin-right:7px}@keyframes rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.radcanplayer video::-webkit-media-controls-start-playback-button{display:none !important;-webkit-appearance:none}.radcanplayer video{top:0}.radcanplayer .watermark{z-index:103;width:12%;height:12%;background-size:80% auto;background-repeat:no-repeat;position:absolute;left:2.7%;top:4.6%;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=40);opacity:0.4}.radcanplayer .containerBtnsPrevNextMobile{position:absolute;width:280px;height:70px;margin:0;position:absolute;top:50%;left:50%;margin-left:-140px;margin-top:-35px;z-index:300;display:none}.radcanplayer .containerBtnsPrevNextMobile .previousbutton{position:absolute;left:0;top:10px}.radcanplayer .containerBtnsPrevNextMobile .previousbutton:before{font-size:56px;line-height:54px}.radcanplayer .containerBtnsPrevNextMobile .nextbutton{position:absolute;right:0;top:10px}.radcanplayer .containerBtnsPrevNextMobile .nextbutton:before{font-size:56px;line-height:54px}.radcanplayer .infopanel{position:absolute;top:0;left:0;width:100%;height:100%;z-index:6;font-size:40px}.radcanplayer .touchprogressbar{height:85px;background-color:#dcdcdc}.radcanplayer .topcontainer{height:220px}.radcanplayer .videocontainer{position:absolute;width:100%;height:100%;z-index:101;background-color:black}.radcanplayer .videocontainer .azurePlayer{position:absolute;width:100%;height:100%;top:0;left:0}.radcanplayer .videocontainer .azurePlayer object.vjs-tech{width:100%;height:100%}.radcanplayer .clickzone{height:100%;width:100%;position:relative;z-index:101;overflow:hidden;display:none}.radcanplayer .showhidecontroller{height:75px;width:100%;position:absolute;left:0;bottom:0;z-index:201;border:none;background:url("//s.radio-canada.ca/player/svg/ressources/svg/transparent.png") repeat}.radcanplayer .showhidecontroller button{text-shadow:none !important}.radcanplayer .radcantransition.showstate{filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1;-webkit-transition:opacity 0.3s ease-in-out;-moz-transition:opacity 0.3s ease-in-out;-o-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out}.radcanplayer .radcantransition.hidestate{filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);opacity:0;-webkit-transition:opacity 0.3s ease-in-out;-moz-transition:opacity 0.3s ease-in-out;-o-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out}.radcanplayer .radcantransition.visible{visibility:visible;filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer .radcantransition.hidden{visibility:hidden;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);opacity:0;transition:visibility 0s 1s, opacity 1s linear}.radcanplayer .bottomcontainer{position:absolute;width:100%;bottom:0;padding-top:10px;background:url("//s.radio-canada.ca/player/svg/ressources/svg/gradientBottom.png") repeat-x;background-position-y:bottom}.radcanplayer .bottomcontainer .lefttoolbarcomponent,.radcanplayer .bottomcontainer .righttoolbarcomponent{padding-bottom:0.5rem}.radcanplayer .bottomcontainer .lefttoolbarcomponent{padding-left:15px;float:left;height:40px;display:flex;align-items:center}.radcanplayer .bottomcontainer .lefttoolbarcomponent button{cursor:pointer;float:left;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms}.radcanplayer .bottomcontainer .lefttoolbarcomponent button:hover,.radcanplayer .bottomcontainer .lefttoolbarcomponent button:focus{background-color:#222}.radcanplayer .bottomcontainer .lefttoolbarcomponent button:active{background-color:#b3baba}.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton{cursor:pointer;float:left;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms;display:flex;justify-content:center;align-items:center}.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton button{margin:auto;transition-duration:0.2s;width:100%;height:100%;transition:none !important}.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton button.arrowright,.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton button.pause{-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%}.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton button:hover,.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton button:focus{background-color:#222}.radcanplayer .bottomcontainer .lefttoolbarcomponent .playbutton button:active{background-color:#b3baba}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl{display:flex;align-items:center}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundcontrol{cursor:pointer;float:none;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms;z-index:101;cursor:pointer;transition:transform 200ms}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundcontrol:hover,.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundcontrol:focus{background-color:#222}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundcontrol:active{background-color:#b3baba}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress{filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=65);opacity:0.65;width:100px;height:3px;background-color:#999;cursor:pointer}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress.hide{margin-right:0}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress:hover{height:6px}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress .soundBarTouchArea{cursor:pointer;padding:18px 0 13px 0;margin:-18px 0 -13px 0}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress .soundcursor{position:relative;width:35%;height:100%;background-color:#eaeaea;cursor:pointer}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress .soundcursor.transitionSlow{-webkit-transition:width 0.2s ease-in-out;-moz-transition:width 0.2s ease-in-out;-o-transition:width 0.2s ease-in-out;transition:width 0.2s ease-in-out}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress .soundcursor.transitionFast{-webkit-transition:width 0.08s ease-in-out;-moz-transition:width 0.08s ease-in-out;-o-transition:width 0.08s ease-in-out;transition:width 0.08s ease-in-out}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress.show .soundcursor .pointer{position:absolute;right:0;top:0;height:calc(100% + 5px);width:3px;background-color:#eaeaea;cursor:pointer}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress.show{-webkit-transition:all 0.4s ease-in-out;-moz-transition:all 0.4s ease-in-out;-o-transition:all 0.4s ease-in-out;transition:all 0.4s ease-in-out;width:100px}.radcanplayer .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress._hide{-webkit-transition:all 0.4s ease-in-out;-moz-transition:all 0.4s ease-in-out;-o-transition:all 0.4s ease-in-out;transition:all 0.4s ease-in-out;width:0;display:block}.radcanplayer .bottomcontainer .lefttoolbarcomponent .timecontrol{display:flex;align-items:center;margin:0 10px}.radcanplayer .bottomcontainer .lefttoolbarcomponent .timecontrol .currentTime,.radcanplayer .bottomcontainer .lefttoolbarcomponent .timecontrol .bar,.radcanplayer .bottomcontainer .lefttoolbarcomponent .timecontrol .ply-duration{font-weight:bold;color:#fff;text-align:center;padding:0 2px}.radcanplayer .bottomcontainer .lefttoolbarcomponent .timecontrol._hide{display:none}.radcanplayer .bottomcontainer .lefttoolbarcomponent .livecontrol{font-size:0.6rem;font-weight:bold;padding:5px 7px;margin:0 10px;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;display:block;background:#c00;cursor:default}.radcanplayer .bottomcontainer .righttoolbarcomponent{float:right;height:40px;padding-right:15px;display:flex;align-items:center}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton{cursor:pointer;float:none;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton:focus{background-color:#222}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton:active{background-color:#b3baba}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton .soustitretexte{background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-sousTitreTexte.svg?r=28") no-repeat;pointer-events:none !important;width:50%;height:50%;display:block;margin-top:0.2rem;margin-left:24.7%;opacity:0.2}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton .soustitretexte.active{opacity:0.7}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton.disactive{filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=50);opacity:0.5}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton.disable .soustitretexte::before{filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=50);opacity:0.5}.radcanplayer .bottomcontainer .righttoolbarcomponent .soustitrebutton.active .soustitretexte::before{filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer .bottomcontainer .righttoolbarcomponent .moreOptions{float:left;font-weight:bold;margin:5px 5px 0 5px;padding:5px 0 15px;color:#fff;text-align:center;font-size:1.5rem;line-height:0;display:none}.radcanplayer .bottomcontainer .righttoolbarcomponent .extractAudio{display:none;margin:0;position:relative;width:40px;float:left;height:35px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate{position:relative;margin:3px 5px 0;width:45px;line-height:12px !important}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate button.bitRate{cursor:pointer;float:none;display:block;width:40px;height:25px;margin:0 5px;-webkit-border-radius:13%;-moz-border-radius:13%;-ms-border-radius:13%;border-radius:13%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms;border:1px solid #fff;margin:0}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate button.bitRate:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate button.bitRate:focus{background-color:#222}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate button.bitRate:active{background-color:#b3baba}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate button.bitRate.disable{cursor:default;opacity:0.5}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate button.bitRate span.wait{-webkit-animation:flick 1.2s infinite;-moz-animation:flick 1.2s infinite;-o-animation:flick 1.2s infinite;animation:flick 1.2s infinite;animation-timing-function:ease-in-out;-o-animation-timing-function:ease-in-out;-moz-animation-timing-function:ease-in-out;-webkit-animation-timing-function:ease-in-out}@-webkit-keyframes flick{30%{opacity:0.3}100%{opacity:1}}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates{width:40px;position:absolute;z-index:2;text-align:center;top:50px;left:0;overflow:hidden;z-index:201;outline:none !important}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement1{top:-27px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement3{top:-81px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement4{top:-108px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement5{top:-135px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement6{top:-162px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement7{top:-189px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.qtElement8{top:-216px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show{background:initial}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates button{background-image:url("//s.radio-canada.ca/player/svg/ressources/svg/pixel-black-100.png");filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=50);opacity:0.5;width:40px;height:25px;margin:1px 0;border-radius:15%;transition-duration:0.2s}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates button:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates button:focus,.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates button.selected{filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates button:active{background-image:none;background-color:#b3baba}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show3{height:81px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show4{height:108px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show5{height:135px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show6{height:162px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show5{height:189px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show6{height:216px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide3{height:0px;margin-top:81px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide4{height:0px;margin-top:108px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide5{height:0px;margin-top:135px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide6{height:0px;margin-top:162px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide7{height:0px;margin-top:189px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide8{height:0px;margin-top:216px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.show{-webkit-transition:height 0.4s,margin-top 0.3s,opacity 0.3s,ease-in-out;-moz-transition:height 0.4s,margin-top 0.3s,opacity 0.3s,ease-in-out;-o-transition:height 0.4s,margin-top 0.3s,opacity 0.3s,ease-in-out;transition:height 0.4s,margin-top 0.3s,opacity 0.3s,ease-in-out;opacity:1;margin-top:0px}.radcanplayer .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates.hide0{-webkit-transition:height 0.4s,margin-top 0.4s,opacity 0.3s,ease-in-out;-moz-transition:height 0.4s,margin-top 0.4s,opacity 0.3s,ease-in-out;-o-transition:height 0.4s,margin-top 0.4s,opacity 0.3s,ease-in-out;transition:height 0.4s,margin-top 0.4s,opacity 0.3s,ease-in-out;opacity:0}.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenenter{cursor:pointer;float:right;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms}.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenenter:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenenter:focus{background-color:#222}.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenenter:active{background-color:#b3baba}.radcanplayer .bottomcontainer .righttoolbarcomponent .reducebutton,.radcanplayer .bottomcontainer .righttoolbarcomponent .btn-theater-mode{cursor:pointer;float:right;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms}.radcanplayer .bottomcontainer .righttoolbarcomponent .reducebutton:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .reducebutton:focus,.radcanplayer .bottomcontainer .righttoolbarcomponent .btn-theater-mode:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .btn-theater-mode:focus{background-color:#222}.radcanplayer .bottomcontainer .righttoolbarcomponent .reducebutton:active,.radcanplayer .bottomcontainer .righttoolbarcomponent .btn-theater-mode:active{background-color:#b3baba}.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenexit{cursor:pointer;float:right;display:block;width:45px;height:45px;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms}.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenexit:hover,.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenexit:focus{background-color:#222}.radcanplayer .bottomcontainer .righttoolbarcomponent .fullscreenexit:active{background-color:#b3baba}.radcanplayer .topshowhidecontroller{height:30px;position:absolute;left:0;width:100%;z-index:11;top:0;left:0;display:none}.radcanplayer .topshowhidecontroller .hidestate{-webkit-transition:opacity 0.3s ease-in-out;-moz-transition:opacity 0.3s ease-in-out;-o-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);opacity:0}.radcanplayer .topshowhidecontroller .showstate{-webkit-transition:opacity 0.3s ease-in-out;-moz-transition:opacity 0.3s ease-in-out;-o-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer .infobar{position:absolute;top:0;left:0;z-index:3;background-color:yellow;width:100%;color:white;text-align:center;font-weight:bold;height:25px}.radcanplayer .extract{width:25px;height:15px;position:absolute;z-index:26;background-image:url("https://img.src.ca/player/extract.svg");background-repeat:no-repeat;background-size:20px auto;top:2px;right:10px}.radcanplayer .containerProgressbar{float:none;overflow:hidden;display:table-cell;padding:10px 15px;text-align:center;display:flex;align-items:center}.radcanplayer .containerProgressbar .progressbar{position:relative;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=75);opacity:0.75;width:100%;margin:auto;height:3px;background:#999;z-index:6;-webkit-transition:height 0.4s ease-in-out;-moz-transition:height 0.4s ease-in-out;-o-transition:height 0.4s ease-in-out;transition:height 0.4s ease-in-out}.radcanplayer .containerProgressbar .progressbar:focus{outline:none}.radcanplayer .containerProgressbar .progressbar:hover,.radcanplayer .containerProgressbar .progressbar:focus{height:7px}.radcanplayer .containerProgressbar .progressbar.disablehover:hover{height:3px}.radcanplayer .containerProgressbar .progressbar .chapterslist{position:absolute;top:0;left:0;width:100%;height:100%;z-index:"inherit"}.radcanplayer .containerProgressbar .progressbar .chapterslist .chapter{position:absolute;width:2px;height:100%;background:#fff;top:0}.radcanplayer .containerProgressbar .progressbar .pointer{position:absolute;right:0;top:0;height:calc(100% + 5px);width:3px;background-color:#eaeaea;cursor:pointer}.radcanplayer .containerProgressbar .progressbar .disabled{display:block;opacity:0.4}.radcanplayer .containerProgressbar .progressbar .invisibleseekbar{width:100%;height:52px;cursor:pointer;position:absolute;top:-20px;padding:0 5px;left:-5px;z-index:5501;background:url("//s.radio-canada.ca/player/svg/ressources/svg/transparent.png") repeat;-webkit-user-select:none;box-sizing:initial}.radcanplayer .chapter{background-color:#fff;position:absolute;width:2px;height:100%;top:0;z-index:21}.radcanplayer .showhidetoolbar{display:inline;width:30px;height:30px;z-index:26}.radcanplayer .showhidetoolbarontop{z-index:301}.radcanplayer .docked{background-color:gray !important}.radcanplayer .videoieblur{-webkit-transform:scale(0.9);-moz-transform:scale(0.9);-o-transform:scale(0.9);-ms-transform:scale(0.9);transform:scale(0.9);opacity:0.7}.radcanplayer video{position:absolute;width:100% !important;height:auto;background-color:black}.radcanplayer video.normal{position:relative}.radcanplayer video.fullscreen{position:absolute;margin:0;position:absolute;top:0;left:0;width:100%;height:100%;z-index:101}.radcanplayer .flashContainer{width:1px;height:1px}.radcanplayer .azuremediaplayer{width:100%;height:100%;display:none;z-index:3}.radcanplayer .vjs-control-bar{display:none}.radcanplayer .blurie{opacity:0.2}.radcanplayer .teaser{display:none;transition:opacity 0.5s linear;position:absolute;top:0;left:0;width:100%;height:100%;z-index:301;position:absolute;opacity:0}.radcanplayer .teaser img{width:100%}.radcanplayer .teaser.default{background-image:url("//s.radio-canada.ca/player/ressources/svg/default_bg.svg");background-repeat:no-repeat;background-size:cover;opacity:1;display:block}.radcanplayer .teaser.hiddenteaser{display:block;font-size:30px;text-align:center;opacity:0;z-index:-1}.radcanplayer .teasercontainer{background-color:inherit;position:absolute;top:0;left:0;width:100%;height:100%;z-index:300}.radcanplayer .teasercontainer.ontop{z-index:201}.radcanplayer .teasercontainer.hiddenteaser{z-index:-1;background-color:inherit}.radcanplayer .teasercontainer.teaseraudio{z-index:151}.radcanplayer .teaser.visibleteaser{display:block;opacity:1}.radcanplayer .teaser.visibleteaser.resume{opacity:0.7}.radcanplayer .debugpanel{position:absolute;top:0;right:0;width:100px;height:15px;background-color:green;z-index:311;font-size:12px;text-align:center;padding-top:2px}.radcanplayer .debugpanel.visibledebug{visibility:visible;opacity:1;transition:opacity 0.25s linear}.radcanplayer .debugpanel.hiddendebug{visibility:hidden;opacity:0;transition:visibility 0s 0.5s, opacity 0.5s linear}.radcanplayer .touchcursor{position:relative;height:100%;width:85px;background-color:black;left:0}.radcanplayer .cursor{position:relative;height:100%;width:0;background-color:#eaeaea;left:0;z-index:11;overflow:visible}.radcanplayer .cursor:hover{cursor:pointer}.radcanplayer .cursor .disabled{display:block}.radcanplayer .thumbnails{position:absolute;top:0;bottom:50px;left:-80px;z-index:41}.radcanplayer .thumbnails img{display:none}.radcanplayer .thumbnail{border-width:3px;border-style:solid;border-color:black}.radcanplayer .message{width:100%;height:100%;position:absolute;z-index:21;color:white;background-color:brown}.radcanplayer .message .messagetext{position:absolute;font-size:20px;top:0px;left:0px;bottom:0px;right:0px;margin:auto;width:50%;height:30px;text-align:center;vertical-align:middle;line-height:100%}.radcanplayer .errorNotAvailableAnymore{position:absolute;bottom:0;left:0;width:100%;height:5vw;padding:2.5vw 0 0 3vw;background-color:#000;z-index:301}.radcanplayer .errorNotAvailableAnymore .textNotAvailable{vertical-align:middle;color:#fff;font-family:Arial;font-size:3vw;font-weight:bold;text-align:left}.radcanplayer .errorNotAvailableAnymore .textNotAvailable p{margin:0 !important}.radcanplayer{height:auto}.radcanplayer .rightcornershowhidecontroller{position:absolute;right:0;top:0;margin:2%;z-index:201;overflow:hidden;padding:2px;display:flex;align-items:flex-start}.radcanplayer .rightcornershowhidecontroller .innercontainer{position:relative;left:0px;top:0px}.radcanplayer .rightcornershowhidecontroller .innercontainer button{cursor:pointer;float:none;display:inline-block;width:0vw;height:0vw;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms}.radcanplayer .rightcornershowhidecontroller .innercontainer button:hover,.radcanplayer .rightcornershowhidecontroller .innercontainer button:focus{background-color:#222}.radcanplayer .rightcornershowhidecontroller .innercontainer button:active{background-color:#b3baba}.radcanplayer .curtain .btnPlayContainer{left:41%}.radcanplayer .radcantransition.showstatetop{-webkit-transition:opacity 0.3s ease-in-out;-moz-transition:opacity 0.3s ease-in-out;-o-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer .radcantransition.hidestatetop{-webkit-transition:opacity 0.3s ease-in-out;-moz-transition:opacity 0.3s ease-in-out;-o-transition:opacity 0.3s ease-in-out;transition:opacity 0.3s ease-in-out;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=0);opacity:0}.radcanplayer .radcantransition.videoblur{width:100%;height:100%;z-index:-1;top:0}.radcanplayer .infopanel{position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:6;font-size:40px}.radcanplayer .infopanel .blackOpacity{background:#000;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=50);opacity:0.5;width:100%;height:100%}.radcanplayer .infopanel .textinfobar{width:100%;height:100%;position:absolute;top:0;left:0px;display:table}.radcanplayer .infopanel .textinfobar.hidden{opacity:0}.radcanplayer .infopanel .textinfobar .containerInfo .h2{display:block !important;float:none !important;font-size:60%;font-weight:normal;margin:0 0 30px 0;color:#fff;background:none !important;padding:0 !important}.radcanplayer .infopanel .textinfobar .containerInfo{text-align:center;display:table-cell;vertical-align:middle;padding:0 60px}.radcanplayer .infopanel .textinfobar .containerInfo .cont-subtitle{overflow:hidden;display:-webkit-box;-webkit-line-clamp:7;-webkit-box-orient:vertical;text-overflow:ellipsis}.radcanplayer .infopanel .textinfobar p.subtitle{display:block !important;float:none !important;font-size:50%;color:#fff;white-space:normal !important;margin-bottom:0;text-transform:none;overflow:visible;text-overflow:clip;display:inline}.radcanplayer .infopanel .sharepanel{width:100%;height:100%;position:absolute;top:50%;margin-top:-60px}.radcanplayer .infopanel .sharepanel.hidden{opacity:0}.radcanplayer .infopanel .sharepanel .containerInfo .h2{display:block !important;float:none !important;font-size:1.8rem;margin:0 0 40px 0;color:#fff}.radcanplayer .infopanel .sharepanel p.subtitle{display:block !important;float:none !important;font-size:1.3rem;line-height:1.6rem;color:#fff;margin-bottom:0;text-transform:none;overflow:visible;text-overflow:clip;white-space:normal;display:inline}.radcanplayer .infopanel .sharepanel .containerInfo{text-align:center;padding:0 25px}.radcanplayer .infopanel .sharepanel .destinationsite{position:relative;width:100%;margin:0 auto;white-space:nowrap}.radcanplayer .infopanel .sharepanel .destinationsite .containerBtnsPartage{position:relative;z-index:1;margin:0 auto}.radcanplayer .infopanel .sharepanel .destinationsite button{cursor:pointer;float:none;display:inline-block;width:0vw;height:0vw;margin:0 5px;-webkit-border-radius:50%;-moz-border-radius:50%;-ms-border-radius:50%;border-radius:50%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:all 200ms}.radcanplayer .infopanel .sharepanel .destinationsite button:hover,.radcanplayer .infopanel .sharepanel .destinationsite button:focus{background-color:#222}.radcanplayer .infopanel .sharepanel .destinationsite button:active{background-color:#b3baba}.radcanplayer .panel-resume-container{position:absolute;top:0px;left:0px;width:100%;height:100%;display:block}.radcanplayer .panel-resume-container.hidden{visibility:hidden;z-index:1200;opacity:0;transition:none}.radcanplayer .panel-resume-container.visible{visibility:visible;z-index:1200}.radcanplayer .panel-resume-container .panel-reprendre,.radcanplayer .panel-resume-container .panel-poursuivre{font-size:100%;text-align:center;vertical-align:bottom;top:36%;height:100%;width:20%;height:0;padding-bottom:20%;position:absolute;text-align:center}.radcanplayer .panel-resume-container .panel-reprendre{left:51%}.radcanplayer .panel-resume-container .panel-poursuivre{left:29%}.radcanplayer .panel-resume-container .panel-btn-reprendre,.radcanplayer .panel-resume-container .panel-btn-poursuivre{width:100%;height:100%}.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-reprendre,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-poursuivre,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-reprendre,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-poursuivre{position:absolute;box-sizing:border-box;cursor:pointer;width:100%;height:100%;border-radius:50%;user-select:none;background-position:center;transition:all 200ms ease-in-out;-moz-transition:all 200ms ease-in-out;transition-delay:50ms;background-color:rgba(0,0,0,0.75);backface-visibility:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;transform:translate(-50%, -50%);top:30%}.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-reprendre:hover,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-reprendre:focus,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-poursuivre:hover,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-poursuivre:focus,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-reprendre:hover,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-reprendre:focus,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-poursuivre:hover,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-poursuivre:focus{width:77%;height:77%}.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-reprendre:active,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-poursuivre:active,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-reprendre:active,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-poursuivre:active{width:160%;height:160%}.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-reprendre:before,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-poursuivre:before,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-reprendre:before,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-poursuivre:before{margin:auto}.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-poursuivre:before,.radcanplayer .panel-resume-container .panel-btn-reprendre button.btn-reprendre:before,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-poursuivre:before,.radcanplayer .panel-resume-container .panel-btn-poursuivre button.btn-reprendre:before{content:"";background-position:center;position:absolute;top:14%;left:16%;width:70%;height:70%}.radcanplayer .panel-resume-container .txt-reprendre,.radcanplayer .panel-resume-container .txt-poursuivre{text-align:center;position:absolute;width:100%;left:0;color:white;font-size:1em;font-weight:normal;padding:5px 0px;margin-bottom:-5px;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;border-radius:2px;cursor:default;overflow:hidden;bottom:0}.radcanplayer .panel-resume-container .txt-reprendre span.bold,.radcanplayer .panel-resume-container .txt-poursuivre span.bold{font-weight:bold}.radcanplayer .errorpanel,.radcanplayer .curtain{background-color:#000;position:absolute;top:0px;left:0px;width:100%;height:100%;color:white;text-align:center;display:block;transition:opacity 0.5s linear;z-index:1201}.radcanplayer .errorpanel .containerCenterVertical,.radcanplayer .curtain .containerCenterVertical{width:100%;height:100%;display:table}.radcanplayer .errorpanel .containerTxtErrorPanel,.radcanplayer .curtain .containerTxtErrorPanel{display:table-cell;padding:0 100px;text-align:center;vertical-align:middle}.radcanplayer .errorpanel .containerTxtErrorPanel .h2,.radcanplayer .curtain .containerTxtErrorPanel .h2{font-size:1.8rem;line-height:2.0rem !important;margin:0;color:#fff}.radcanplayer .errorpanel .containerTxtErrorPanel p.subtitle,.radcanplayer .curtain .containerTxtErrorPanel p.subtitle{font-size:1.3rem;line-height:1.5rem;color:#fff;text-transform:none;overflow:visible;white-space:normal !important;display:inline;text-overflow:clip}.radcanplayer .errorpanel.hidden,.radcanplayer .hidden.curtain{visibility:hidden;z-index:1201;opacity:0;transition:none}.radcanplayer .errorpanel.visible,.radcanplayer .visible.curtain{visibility:visible;z-index:1201;opacity:1}.radcanplayer .player_overlayPub{width:100%;height:100%;background-color:#000;filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=20);opacity:0.2}.radcanplayer .videoadcontainer{width:100%;height:100%;position:absolute;z-index:102;top:0;left:0}.radcanplayer .videoadcontainer .adtext{z-index:16;position:absolute;font-size:20px;left:5px;bottom:5px;width:100px;height:30px;text-align:center;vertical-align:middle;background-color:gray;line-height:30px}.radcanplayer .videoadcontainer div{width:100%;height:100%}.radcanplayer .showAds{z-index:102}.radcanplayer .hideAds{z-index:-1}.radcanplayer .adSection{position:absolute;width:100%;top:0;margin-top:10px;display:flex;align-items:center}.radcanplayer .adSection .adclicktracking,.radcanplayer .adSection .adcontainer{z-index:1200;border-radius:3px;height:100%;background-color:rgba(0,0,0,0.75);margin:0 5px}.radcanplayer .adSection .adcontainer{vertical-align:middle;padding:8px}.radcanplayer .adSection .adcontainer span{display:inline-block;margin-right:5px}.radcanplayer .adSection .adclicktracking{white-space:normal;margin-left:auto;padding:7px}.radcanplayer .adSection .adclicktracking .adclick{color:#fff;text-decoration:none;border:0;box-sizing:border-box;border-collapse:collapse;margin:0;padding:0;outline:0}.radcanplayer .adSection .adclicktracking .adclick:hover{filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer .adSection .adclicktracking span.texteVisiterSiteAnnonceur{display:flex;align-items:center}.radcanplayer .adSection .adclicktracking span.texteVisiterSiteAnnonceur:after{content:"";background:url("//s.radio-canada.ca/player/svg/ressources/svg/player-lienExterne.svg?r=28") no-repeat !important;margin-left:8px;width:0.8em;height:0.8em}.shortcuts-help-btn{opacity:0;position:absolute;z-index:-1}.shortcutsHelp{width:100%;height:100%;position:absolute;top:0;left:0px;font-size:16px;justify-content:center;align-items:center;display:none}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-title{font-size:1.5em}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-table-container{margin:20px 0}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-table tr td:nth-child(2),.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-bottom tr td:nth-child(2){display:flex;align-items:center;border:none}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-table{margin:auto;border:none}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-table td{padding:5px;border:none;vertical-align:middle}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-table tr td:first-child{text-align:right}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-key{background-color:#E3E3E3;padding:8px;border-radius:4px;margin:0 5px;min-width:35px;text-align:center;color:#000}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-arrow-keys{height:13px}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-bottom{justify-content:center;display:flex}.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-bottom .shortcutsHelp-bottom-table,.shortcutsHelp .shortcutsHelp-wrapper .shortcutsHelp-bottom .shortcutsHelp-bottom-table td{border:none;vertical-align:middle}.radcanplayer.plus1500 .lefttoolbarcomponent .livecontrol{margin-top:3px}.radcanplayer.plus1500 .rightcornershowhidecontroller button,.radcanplayer.plus1500 .containerBtnsPartage button{width:45px !important;height:45px !important}.radcanplayer.plus1500 .txt-reprendre,.radcanplayer.plus1500 .txt-poursuivre{font-size:1.2em;margin-bottom:20px}.radcanplayer.entre1500et1000 .rightcornershowhidecontroller button,.radcanplayer.entre1500et1000 .containerBtnsPartage button{width:45px !important;height:45px !important}.radcanplayer.entre1500et1000 .txt-reprendre,.radcanplayer.entre1500et1000 .txt-poursuivre{font-size:1.2em;margin-bottom:20px}.radcanplayer.entre1000et800 .rightcornershowhidecontroller button,.radcanplayer.entre1000et800 .containerBtnsPartage button{width:45px !important;height:45px !important}.radcanplayer.entre1000et800.audiomode25 .containerProgressbar{width:60%;bottom:3px}.radcanplayer.entre1000et800.audiomode25 .lefttoolbarcomponent{position:absolute;left:0;display:flex;align-items:center}.radcanplayer.entre1000et800.audiomode25 .lefttoolbarcomponent button,.radcanplayer.entre1000et800.audiomode25 .lefttoolbarcomponent .playbutton,.radcanplayer.entre1000et800.audiomode25 .lefttoolbarcomponent .soundcontrol{width:30px;height:30px}.radcanplayer.entre1000et800.audiomode25 .lefttoolbarcomponent .timecontrol{display:flex}.radcanplayer.entre1000et800 .txt-reprendre,.radcanplayer.entre1000et800 .txt-poursuivre{font-size:1.1em}.radcanplayer.entre800et640 .rightcornershowhidecontroller button,.radcanplayer.entre800et640 .rightcornershowhidecontroller .soustitrebutton,.radcanplayer.entre800et640 .rightcornershowhidecontroller .soustitretexte,.radcanplayer.entre800et640 .containerBtnsPartage button,.radcanplayer.entre800et640 .containerBtnsPartage .soustitrebutton,.radcanplayer.entre800et640 .containerBtnsPartage .soustitretexte{width:45px !important;height:45px !important}.radcanplayer.entre800et640 .shortcutsHelp{font-size:12px}.radcanplayer.entre800et640 .shortcutsHelp .shortcutsHelp-table-container{margin:10px 0}.radcanplayer.entre800et640 .containerInfo{padding:0 40px !important}.radcanplayer.entre800et640 .containerInfo .h2{font-size:54% !important}.radcanplayer.entre800et640 .containerInfo .subtitle{font-size:44% !important}.radcanplayer.entre800et640 .txt-reprendre,.radcanplayer.entre800et640 .txt-poursuivre{font-size:1em}.radcanplayer.entre640et400 .adcontainer,.radcanplayer.entre640et400 .adclicktracking{font-size:1.2em !important}.radcanplayer.entre640et400 .shortcutsHelp{font-size:10px}.radcanplayer.entre640et400 .shortcutsHelp .shortcutsHelp-key{min-width:0 !important;padding:6px}.radcanplayer.entre640et400 .shortcutsHelp .shortcutsHelp-table-container{margin:10px 0}.radcanplayer.entre640et400 .shortcutsHelp .shortcutsHelp-table-container .shortcutsHelp-arrow-keys{height:8px !important}.radcanplayer.entre640et400 .shortcutsHelp .shortcutsHelp-table-container .shortcutsHelp-table td{padding:2px;font-size:10px}.radcanplayer.entre640et400 .shortcutsHelp .shortcutsHelp-bottom-table{margin:0}.radcanplayer.entre640et400 .shortcutsHelp .shortcutsHelp-bottom-table td{font-size:12px}.radcanplayer.entre640et400 .rightcornershowhidecontroller button,.radcanplayer.entre640et400 .containerBtnsPartage button{width:30px !important;height:30px !important}.radcanplayer.entre640et400 .bottomcontainer .containerProgressbar{padding:7px 15px !important}.radcanplayer.entre640et400 .bottomcontainer .lefttoolbarcomponent,.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent{position:relative;bottom:0;padding:0;height:35px}.radcanplayer.entre640et400 .bottomcontainer .lefttoolbarcomponent button,.radcanplayer.entre640et400 .bottomcontainer .lefttoolbarcomponent .playbutton{width:30px !important;height:30px !important}.radcanplayer.entre640et400 .bottomcontainer .lefttoolbarcomponent .containerSoundControl .soundprogress{max-width:80px}.radcanplayer.entre640et400 .bottomcontainer .lefttoolbarcomponent .timecontrol{font-size:0.7rem;display:flex}.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .fullscreenenter,.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .fullscreenexit,.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .soustitrebutton{width:30px !important;height:30px !important}.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .containerBitRate{text-align:center}.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .containerBitRate .otherBitRates{width:35px !important}.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .containerBitRate .bitRate,.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .containerBitRate .bitrate-option{width:35px !important;height:25px !important;font-size:0.7rem !important}.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .containerBitRate .bitRate{height:20px !important}.radcanplayer.entre640et400 .bottomcontainer .righttoolbarcomponent .reducebutton{display:none !important}.radcanplayer.entre640et400 .containerInfo{padding:0 25px !important}.radcanplayer.entre640et400 .containerInfo .h2{font-size:40% !important}.radcanplayer.entre640et400 .containerInfo .subtitle{font-size:30% !important}.radcanplayer.entre640et400.audiomode25 .lefttoolbarcomponent{position:absolute;left:0;width:100%}.radcanplayer.entre640et400.audiomode25 .containerProgressbar,.radcanplayer.entre640et400.audiomode25 .righttoolbarcomponent,.radcanplayer.entre640et400.audiomode25 .containerProgressbar{display:none !important}.radcanplayer.entre640et400 .txt-reprendre,.radcanplayer.entre640et400 .txt-poursuivre{font-size:0.75em;margin-bottom:-10px}.radcanplayer.entre640et400 .errorpanel .containerTxtErrorPanel,.radcanplayer.entre640et400 .curtain .containerTxtErrorPanel{padding:0 60px}.radcanplayer.entre640et400 .errorpanel .containerTxtErrorPanel .h2,.radcanplayer.entre640et400 .curtain .containerTxtErrorPanel .h2{font-size:1.4rem;line-height:1.7rem !important}.radcanplayer.entre640et400 .errorpanel .containerTxtErrorPanel p.subtitle,.radcanplayer.entre640et400 .curtain .containerTxtErrorPanel p.subtitle{font-size:1.1rem;line-height:1.4rem}.radcanplayer.entre400et280 .adcontainer,.radcanplayer.entre400et280 .adclicktracking{font-size:1em !important}.radcanplayer.entre400et280 .adcontainer .adtime,.radcanplayer.entre400et280 .adclicktracking .adtime{display:none !important}.radcanplayer.entre400et280 .shortcutsHelp{display:none !important}.radcanplayer.entre400et280 .rightcornershowhidecontroller button,.radcanplayer.entre400et280 .containerBtnsPartage button{width:25px !important;height:25px !important}.radcanplayer.entre400et280 .containerProgressbar{padding:0 5px !important}.radcanplayer.entre400et280 .containerProgressbar .progressbar{margin:5px 0}.radcanplayer.entre400et280 .lefttoolbarcomponent,.radcanplayer.entre400et280 .righttoolbarcomponent{position:relative;bottom:0;padding:0;height:30px}.radcanplayer.entre400et280 .lefttoolbarcomponent button,.radcanplayer.entre400et280 .lefttoolbarcomponent .playbutton{width:30px !important;height:30px !important}.radcanplayer.entre400et280 .lefttoolbarcomponent .containerSoundControl .soundprogress{max-width:70px}.radcanplayer.entre400et280 .lefttoolbarcomponent .timecontrol{font-size:0.7rem}.radcanplayer.entre400et280 .righttoolbarcomponent .fullscreenenter,.radcanplayer.entre400et280 .righttoolbarcomponent .fullscreenexit,.radcanplayer.entre400et280 .righttoolbarcomponent .soustitrebutton{width:30px !important;height:30px !important}.radcanplayer.entre400et280 .righttoolbarcomponent .containerBitRate{display:none !important}.radcanplayer.entre400et280 .righttoolbarcomponent .reducebutton{display:none !important}.radcanplayer.entre400et280 .containerInfo{padding:0 20px !important}.radcanplayer.entre400et280 .containerInfo .h2{font-size:40% !important}.radcanplayer.entre400et280 .containerInfo .cont-subtitle{display:none !important}.radcanplayer.entre400et280 .txt-reprendre,.radcanplayer.entre400et280 .txt-poursuivre{margin-bottom:-12px;font-size:0.7em}.radcanplayer.entre400et280 .errorpanel .containerTxtErrorPanel,.radcanplayer.entre400et280 .curtain .containerTxtErrorPanel{padding:0 50px}.radcanplayer.entre400et280 .errorpanel .containerTxtErrorPanel .h2,.radcanplayer.entre400et280 .curtain .containerTxtErrorPanel .h2{font-size:1.3rem;line-height:1.5rem !important}.radcanplayer.entre400et280 .errorpanel .containerTxtErrorPanel p.subtitle,.radcanplayer.entre400et280 .curtain .containerTxtErrorPanel p.subtitle{font-size:0.9rem;line-height:1.1rem}.radcanplayer.moins280 .adcontainer,.radcanplayer.moins280 .adclicktracking{font-size:0.8em !important}.radcanplayer.moins280 .shortcutsHelp{display:none !important}.radcanplayer.moins280 .bottomcontainer{background-position-y:0px}.radcanplayer.moins280 .lefttoolbarcomponent,.radcanplayer.moins280 .righttoolbarcomponent{position:relative;bottom:-5px;padding:0 5px}.radcanplayer.moins280 .lefttoolbarcomponent button,.radcanplayer.moins280 .lefttoolbarcomponent .playbutton{width:30px !important;height:30px !important}.radcanplayer.moins280 .lefttoolbarcomponent .soundprogress{max-width:60px !important}.radcanplayer.moins280 .righttoolbarcomponent .fullscreenenter,.radcanplayer.moins280 .righttoolbarcomponent .fullscreenexit,.radcanplayer.moins280 .righttoolbarcomponent .soustitrebutton{width:30px !important;height:30px !important}.radcanplayer.moins280 .righttoolbarcomponent .reducebutton{display:none !important}.radcanplayer.moins280 .timecontrol,.radcanplayer.moins280 .containerBitRate,.radcanplayer.moins280 .containerProgressbar,.radcanplayer.moins280 .nextbutton,.radcanplayer.moins280 .previousbutton,.radcanplayer.moins280 .adtime,.radcanplayer.moins280 .bitrate-button{display:none !important}.radcanplayer.moins280 .containerInfo{padding:0 20px !important}.radcanplayer.moins280 .containerInfo .h2{font-size:40% !important}.radcanplayer.moins280 .containerInfo .cont-subtitle{display:none !important}.radcanplayer.moins280 .txt-reprendre,.radcanplayer.moins280 .txt-poursuivre{display:none}.radcanplayer.moins280 .errorpanel .containerTxtErrorPanel,.radcanplayer.moins280 .curtain .containerTxtErrorPanel{padding:0 30px}.radcanplayer.moins280 .errorpanel .containerTxtErrorPanel .h2,.radcanplayer.moins280 .curtain .containerTxtErrorPanel .h2{font-size:1.1rem;line-height:1.3rem !important}.radcanplayer.moins280 .errorpanel .containerTxtErrorPanel p.subtitle,.radcanplayer.moins280 .curtain .containerTxtErrorPanel p.subtitle{font-size:0.7rem;line-height:0.9rem}.outer.audiomode{height:0 !important}.radcanplayer.audiomode64{height:64px !important}.radcanplayer.audiomode64 .bottomcontainer,.radcanplayer.audiomode64 .showhidecontroller{background-color:#000}.radcanplayer.audiomode64 .containerProgressbar{padding:0 15px 5px}.radcanplayer.audiomode64 .btnPlayContainer,.radcanplayer.audiomode64 .righttoolbarcomponent,.radcanplayer.audiomode64 .rightcornershowhidecontroller{display:none}.radcanplayer.audiomode64 .radcantransition.hidestate{bottom:0 !important;opacity:1 !important}.radcanplayer.audiomode25{height:25px !important}.radcanplayer.audiomode25 .newBtnPlay{display:none !important}.radcanplayer.audiomode25 .lefttoolbarcomponent{position:absolute;left:0;width:35%}.radcanplayer.audiomode25 .lefttoolbarcomponent button{width:20%;height:20%}.radcanplayer.audiomode25 .containerProgressbar{position:absolute;right:0;bottom:0;width:72%;padding:0 15px 6px;transition:width .3s ease-in-out}.radcanplayer.audiomode25 .containerProgressbar.volumeOpen{width:55%}.radcanplayer.audiomode25 .progressbar{height:6px !important}.radcanplayer.audiomode25 button{filter:progid:DXImageTransform.Microsoft.Alpha(enabled=false);opacity:1}.radcanplayer.audiomode25 .player_overlayPub,.radcanplayer.audiomode25 .waterMark,.radcanplayer.audiomode25 .infopanel,.radcanplayer.audiomode25 .message,.radcanplayer.audiomode25 .videoadcontainer,.radcanplayer.audiomode25 .adclicktracking,.radcanplayer.audiomode25 .adcontainer,.radcanplayer.audiomode25 .teaser.visibleteaser,.radcanplayer.audiomode25 .bigBtn,.radcanplayer.audiomode25 .fullscreenenter,.radcanplayer.audiomode25 .bigBtnPlay,.radcanplayer.audiomode25 .topshowhidecontroller,.radcanplayer.audiomode25 .btnPlayContainer,.radcanplayer.audiomode25 .soustitrebutton,.radcanplayer.audiomode25 .rightcornershowhidecontroller{display:none !important}.radcanplayer.audiomode25 .errorpanel .containerTxtErrorPanel,.radcanplayer.audiomode25 .curtain .containerTxtErrorPanel{display:block;padding:1px 0 0 0;text-align:center}.radcanplayer.audiomode25 .errorpanel .containerTxtErrorPanel .h2,.radcanplayer.audiomode25 .curtain .containerTxtErrorPanel .h2{display:none !important}.radcanplayer.audiomode25 .errorpanel .containerTxtErrorPanel p.subtitle,.radcanplayer.audiomode25 .curtain .containerTxtErrorPanel p.subtitle{font-size:0.8rem !important;line-height:0.8rem !important;color:#fff;margin-bottom:0;text-transform:none;overflow:visible;text-overflow:clip;white-space:normal;display:inline}.radcanplayer.audiomode25 .errorpanel .containerTxtErrorPanel p,.radcanplayer.audiomode25 .curtain .containerTxtErrorPanel p{margin:5px 0 !important}.radcanplayer.audiomode25 .lefttoolbarcomponent{height:25px;bottom:0;padding-bottom:0}.radcanplayer.audiomode25 .lefttoolbarcomponent .previousbutton,.radcanplayer.audiomode25 .lefttoolbarcomponent .playbutton,.radcanplayer.audiomode25 .lefttoolbarcomponent .nextbutton,.radcanplayer.audiomode25 .lefttoolbarcomponent .timecontrol{display:block}.radcanplayer.audiomode25 .righttoolbarcomponent{height:25px}.radcanplayer.audiomode25 .righttoolbarcomponent .moreOptions,.radcanplayer.audiomode25 .righttoolbarcomponent .soundprogress,.radcanplayer.audiomode25 .righttoolbarcomponent .soundcursor,.radcanplayer.audiomode25 .righttoolbarcomponent .containerBitRate{display:none !important}.radcanplayer.audiomode25 .nextbutton:before,.radcanplayer.audiomode25 .previousbutton:before,.radcanplayer.audiomode25 .playbutton .pause:before,.radcanplayer.audiomode25 .arrowright:before{font-size:24px !important;line-height:30px !important;display:block}.radcanplayer.audiomode25 .currentTime,.radcanplayer.audiomode25 .bar,.radcanplayer.audiomode25 .duration{font-size:12px !important}.radcanplayer.audiomode25 .showhidecontroller{height:58px !important;display:block !important}.radcanplayer.audiomode25 .bottomcontainer{display:block !important}.radcanplayer.audiomode25 .radcantransition.hidestate{bottom:0 !important;opacity:1 !important}.radcanplayer.audiomode25.white{background:transparent !important}.radcanplayer.audiomode25.white button,.radcanplayer.audiomode25.white .currentTime,.radcanplayer.audiomode25.white .bar,.radcanplayer.audiomode25.white .duration{color:#fff !important}.radcanplayer.audiomode25.white .pointer,.radcanplayer.audiomode25.white .chapter{background-color:#000 !important}.radcanplayer.audiomode25.white .progressbar{background:#696969 !important}.radcanplayer.audiomode25.white .bottomcontainer{background:none !important}',h='<meta name="viewport" content="width=device-width, initial-scale=1.0"><div class="outer">    <div class="radcanplayer">                <!-- Audio64px [class=audiomode64] || Audio25px [class=audiomode25] -->        <button class="shortcuts-help-btn" tabindex="0" label="SHORTCUT_HELP_OPEN"><\/button>        <div class="player_overlayPub" style="display: none;"><\/div>        <div class="watermark" style="display: none"><\/div>        <!--Info Panel-->        <div class="infopanel">            <div class="blackOpacity"><\/div>            <div class="rightcornershowhidecontroller">                <button label-title="CLOSE_INFO" label-aria="CLOSE_INFO" class="closebutton radcantransition hidden" autofocus><\/button>            <\/div>            <div class="textinfobar radcantransition hidden">                <div class="containerInfo">                    <div class="title h2"><\/div>                    <div class="cont-subtitle">                        <p class="subtitle"><\/p>                    <\/div>                <\/div>             <\/div>                                                <div class="shortcutsHelp hidden">                <div class="shortcutsHelp-wrapper">                    <div class="shortcutsHelp-title" label="SHORTCUT_HELP_TITLE"><\/div>                    <div class="shortcutsHelp-table-container">                        <table role="presentation" id="shortcutsHelp-table" class="shortcutsHelp-table">                            <tr>                                <td tabindex="0" label="SHORTCUT_HELP_PLAY_PAUSE"><\/td>                                <td tabindex="0">                                    <div class="shortcutsHelp-key" label="SHORTCUT_HELP_SPACE"><\/div>                                    Ou                                    <div class="shortcutsHelp-key">K<\/div>                                <\/td>                            <\/tr>                            <tr>                                <td tabindex="0" label="SHORTCUT_HELP_10_FORWARD"><\/td>                                <td tabindex="0"><div class="shortcutsHelp-key">L<\/div><\/td>                            <\/tr>                            <tr>                                <td tabindex="0" label="SHORTCUT_HELP_10_BACKWARD"><\/td>                                <td tabindex="0"><div class="shortcutsHelp-key">J<\/div><\/td>                            <\/tr>                            <tr>                                <td tabindex="0" label="FULLSCREEN"><\/td>                                <td tabindex="0"><div class="shortcutsHelp-key">F<\/div><\/td>                            <\/tr>                            <tr>                                <td tabindex="0" label="CLOSE_CAPTION"><\/td>                                <td tabindex="0"><div class="shortcutsHelp-key">C<\/div><\/td>                            <\/tr>                            <tr>                                <td tabindex="0" label="MUTE"><\/td>                                <td tabindex="0"><div class="shortcutsHelp-key">M<\/div><\/td>                            <\/tr>                            <tr>                                <td tabindex="0" label="VOLUME"><\/td>                                <td tabindex="0">                                    <div class="shortcutsHelp-key">                                        <img class="shortcutsHelp-arrow-keys" src="//s.radio-canada.ca/player/svg/ressources/svg/player-arrow-n.svg" alt="Fleche haut" />                                    <\/div>                                    <div class="shortcutsHelp-key">                                        <img class="shortcutsHelp-arrow-keys" src="//s.radio-canada.ca/player/svg/ressources/svg/player-arrow-s.svg" alt="Fleche bas" />                                    <\/div>                                <\/td>                            <\/tr>                        <\/table>                    <\/div>                    <div class="shortcutsHelp-bottom">                        <table class="shortcutsHelp-bottom-table" role="presentation">                            <tr>                                <td tabindex="0" label="SHORTCUT_HELP_VIEW_AGAIN"><\/td>                                <td tabindex="0">                                    <div class="shortcutsHelp-key">CTRL<\/div>                                    +                                    <div class="shortcutsHelp-key">Y<\/div>                                <\/td>                            <\/tr>                        <\/table>                    <\/div>                <\/div>            <\/div>                                                            <div class="sharepanel  radcantransition hidden">                <div class="containerInfo">                    <div class="title h2" label="SHARE_VIDEO"><\/div>                    <!--<div class="containerTimeShare clearfix" style="display: none !important;">                        <button class="buttontime"><\/button>                        <input type="checkbox" name="time" id="time" class="buttontime" aria-/>                        <label for="time"><\/label>                        <span class="partagerA" label="SHARE_VIDEO_FROM"><\/span>                        <input type="text" class="sharetime" alt=""/>                    <\/div>-->                    <div class="destinationsite">                        <!--Les "@whitespace" sont importants - pour bogue d\'espacement avec le display: inline-block;-->                        <div class="containerBtnsPartage">                            <!-- @whitespace                            -->                            <button label-title="SHARE_FACEBOOK" label="SHARE_FACEBOOK" label-aria="SHARE_FACEBOOK" class="facebook hiddenText shareIcon"><\/button>                            <!-- @whitespace                            -->                            <button label-title="SHARE_TWITTER" label="SHARE_TWITTER" label-aria="SHARE_TWITTER" class="twitter hiddenText shareIcon"><\/button>                            <!-- @whitespace                            -->                            <button label-title="SHARE_GOOGLE" label="SHARE_GOOGLE" label-aria="SHARE_GOOGLE" class="googleplus hiddenText shareIcon"><\/button>                            <!-- @whitespace                            -->                            <button label-title="SHARE_LINKEDIN" label="SHARE_LINKEDIN" label-aria="SHARE_LINKEDIN" class="linkedin hiddenText shareIcon shareIcon"><\/button>                            <!-- @whitespace                            -->                            <button label-title="SHARE_EMAIL" label="SHARE_EMAIL" label-aria="SHARE_EMAIL" class="email hiddenText shareIcon"><\/button>                            <!-- @whitespace                            -->                            <button label-title="SHARE_PAGEWEB" label="SHARE_PAGEWEB" label-aria="SHARE_PAGEWEB" class="embeded hiddenText shareIcon" style="display: none !important;"><\/button>                            <!-- @whitespace                            -->                        <\/div>                    <\/div>                <\/div>            <\/div>        <\/div>        <!--Info Panel-->        <div class="message" style="display: none;">        <\/div>        <div class="videocontainer" itemprop="video" itemscope itemtype="https://schema.org/VideoObject">            <div class="btnPlayContainer">                <button label="BUFFERING" class="loading-spinner hiddenText" tabindex="-1" aria-hidden="true"><\/button>                <!--class possibles bigBtnPlay ou bigBtnPause-->                <button class="newBtnPlay hiddenText">                    <!--<span aria-hidden="true">couter la vido<\/span>-->                <\/button>            <\/div>            <!-- style="background-color: black; width: 100%; height: 100%; visibility: visible;" -->            <!--<meta name="viewport" content="width=max-device-width, user-scalable=no"/>-->            <!--<meta name="viewport" user-scalable=no"/>-->            <!--crossorigin="withcredentials" attribute for mobile -->            <!-- <video class="blur" style="width: 100%; height: 100%;">-->            <div class="flashContainer" style="width: 1px; height: 1px;">                <div><\/div>            <\/div>            <video class="tagvideo" style="display: none" webkit-playsinline tabindex="-1" aria-hidden="true">                <!-- poster="//ici.radio-canada.ca/audio-video/lib/img/extraits/HR/2015-06-03_19_30_00_EPI_0653_01.jpeg" -->                <!-- preload=" none" -->                <!--<meta name="viewport" user-scalable=no"/>-->                <!--<source src="" type="video/mp4">-->            <\/video>            <audio class="tagaudio"  tabindex="-1"><\/audio>            <div class="videoadcontainer"><\/div>            <div class="adSection">                <div class="adcontainer" style="display: none">                    <span class="adposition"  aria-live="assertive"><\/span>                    <span class="adcounter"  aria-live="off"><\/span>                <\/div>                <div class="adclicktracking" style="display: none;">                    <a class="adclick" href="#"><span class="texteVisiterSiteAnnonceur" label="VISIT_SITE"><\/span><\/a>                <\/div>            <\/div>            <div class="clickzone"><\/div>            <div class="showhidecontroller">                <div class="bottomcontainer radcantransition showstate hide">                    <!-- Barre de progression -->                    <div class="containerProgressbar" aria-live="off">                        <div class="progressbar keyboard-navigation disabled" role="slider" aria-orientation="horizontal" label-title="SEEK" tabindex="0" aria-valuenow="0" aria-valuetext="0:00">                            <div class="invisibleseekbar"><\/div>                            <div class="cursor disabled" style="left: 0;">                                <div class="pointer"><\/div>                            <\/div>                            <div class="chapterslist"><\/div>                        <\/div>                        <div class="progressbar ads disabled" style="display: none;">                            <div class="invisibleseekbar"><\/div>                            <div class="cursor disabled" style="left: 0;">                                <div class="pointer"><\/div>                            <\/div>                        <\/div>                    <\/div>                    <!-- Boutons  gauche -->                    <div class="lefttoolbarcomponent">                        <button label-title="PREVIOUS" label-aria="PREVIOUS" class="previousbutton keyboard-navigation hiddenText" style="display: none" aria-live="off">Prcdent<\/button>                        <div class="playbutton">                            <button class="hiddenText arrowright keyboard-navigation small-play-button" aria-live="off">couter la vido<\/button>                        <\/div>                        <button label-title="NEXT" label-aria="NEXT" class="nextbutton keyboard-navigation hiddenText" aria-live="off">Suivant<\/button>                        <!-- Bouton volume -->                        <div class="containerSoundControl">                            <button label-title="VOLUME" class="soundcontrol keyboard-navigation hiddenText" style="display: block;" aria-live="off">Volume<\/button>                            <div class="soundprogress _hide">                                <div class="soundcursor keyboard-navigation" style="left: 0;" role="slider" aria-orientation="horizontal">                                    <div class="pointer"><\/div>                                <\/div>                                <div class="soundBarTouchArea"><\/div>                            <\/div>                        <\/div>                        <!-- Duration -->                        <div class="timecontrol" aria-live="off" aria-hidden="true">                            <div class="currentTime" aria-hidden="true" aria-live="off">0:00<\/div>                            <div class="bar" aria-hidden="true">/<\/div>                            <div class="ply-duration" aria-live="off">0:00<\/div>                        <\/div>                        <div class="livecontrol" label="LIVE_BUTTON"><\/div>                    <\/div>                    <!-- Boutons  droite -->                    <div class="righttoolbarcomponent">                        <!-- Bouton fullScreen -->                        <button label-title="CLOSE_CAPTION" label-aria="CLOSE_CAPTION" aria-live="off" class="soustitrebutton keyboard-navigation hiddenText">                            Sous-titres                            <span class="soustitretexte"><\/span>                        <\/button>                        <!--Bouton Extract = Audiomode seulement -->                        <button label-title="EXTRACT" label-aria="EXTRACT" class="extractAudio keyboard-navigation hiddenText" aria-live="off"><\/button>                        <!--Bouton Rsolution-->                        <div class="containerBitRate" aria-live="off">                            <button label-title="VIDEO_QUALITY" label-aria="VIDEO_QUALITY" class="bitRate keyboard-navigation bitrate-button" aria-hidden="true" tabindex="-1" aria-haspopup="true"><span>Auto<\/span><\/button>                            <div class="otherBitRates qtElement4 hide0 hide1" aria-hidden="true" aria-live="off" role="menu"><\/div>                        <\/div>                        <button label-title="REDUCE" label-aria="REDUCE" label="REDUCE" class="reducebutton keyboard-navigation hiddenText"><\/button>                        <button label-title="THEATER_MODE_IN" label-aria="THEATER_MODE_IN" label="THEATER_MODE_IN" class="btn-theater-mode keyboard-navigation hiddenText"><\/button>                        <button label-title="FULLSCREEN" label-aria="FULLSCREEN" class="fullscreenenter keyboard-navigation hiddenText"><\/button>                        <!-- Bouton Exit fullScreen -->                        <!--<button aria-label="Quitter mode plein cran" class="fullscreenexit"><\/button>-->                        <!--<div class="soustitrebutton"><\/div>-->                    <\/div>                    <div class="showhidetoolbar" style="display: block;"><\/div>                <\/div>            <\/div>            <div class="teasercontainer hiddenteaser">                <div class="teaser visibleteaser" aria-hidden="true">                    <!--<img src=""/>-->                <\/div>            <\/div>            <div class="errorNotAvailableAnymore" style="display: none">                <div class="textNotAvailable">                    <p label="NOT_AVAILABLE_ANYMORE"><\/p>                <\/div>            <\/div>            <div class="debugpanel hiddendebug">DEV<\/div>            <div class="topshowhidecontroller radcantransition hidestate">                <div class="infobar" style="display: block;">                    <!--<div class="extract"><\/div><div><\/div>--><!--Maria Montessori - Maria Montessori (S1.E3)-->                <\/div>            <\/div>            <div class="rightcornershowhidecontroller">                <div class="innercontainer radcantransition hidestatetop" aria-live="off">                    <button label-title="INFO" label-aria="INFO" class="infobutton keyboard-navigation hiddenText" style="display: none">Information<\/button>                    <button label-title="SHARE" label-aria="SHARE" class="partagebutton keyboard-navigation hiddenText" style="display: none">Partager<\/button>                    <button label-title="LIST" label-aria="LIST" class="listbutton keyboard-navigation hiddenText" style="display: none">Liste<\/button>                    <button label-title="EXTRACT_CONSOLE" label-aria="EXTRACT_CONSOLE" class="extractbutton keyboard-navigation hiddenText" style="display: none">Ouvrir dans une nouvelle fentre<\/button>                <\/div>            <\/div>            <div class="panel-resume-container">                <div class="panel-poursuivre">                    <div class="panel-btn-poursuivre">                        <button class="btn-poursuivre keyboard-navigation hiddenText" label="RESUME_POURSUIVRE"><\/button>                    <\/div>                    <span class="txt-poursuivre"><span class="bold" label="RESUME_POURSUIVRE_A"><\/span><br /><span label="RESUME_POURSUIVRE_B"><\/span><\/span>                <\/div>                <div class="panel-reprendre">                    <div class="panel-btn-reprendre">                        <button class="btn-reprendre keyboard-navigation hiddenText" label="RESUME_REPRENDRE"><\/button>                    <\/div>                    <span class="txt-reprendre"><span class="bold" label="RESUME_REPRENDRE_A"><\/span><br /><span label="RESUME_REPRENDRE_B"><\/span><\/span>                <\/div>            <\/div>            <div class="errorpanel">                <div class="containerCenterVertical">                    <div class="containerTxtErrorPanel">                        <div class="h2"><!--Dsol, il semble y avoir une erreur--><\/div>                        <p class="subtitle"><!--Le contenu demand nest pas disponible en ce moment.--><\/p>                    <\/div>                <\/div>            <\/div>            <div class="curtain">                <div class="btnPlayContainer">                    <button class="loading-spinner hiddenText">Chargement de la vido<\/button>                <\/div>            <\/div>            <div class="plancheContact">                <div class="preview"><\/div>                <div class="previewTime">0:00<\/div>            <\/div>            <div class="plancheContactHR">                <div class="preview"><\/div>                <div class="previewTime">0:00<\/div>            <\/div>        <\/div>    <\/div><\/div>',function(n){function e(){i.length>0?f():u()}function o(n){i=null;var t=r;r=null;t!==null&&t(n)}var t;n.externalRessourceslLaded=!1;t=function(){this.events={COMPLETE:"COMPLETE",ERROR:"ERROR"};var n={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},i=document,r=function(){var n=[],t=this;t.add=function(t){n.push(t)};t.fire=function(t){for(var i=0;i<n.length;i++)try{n[i](t)}catch(r){}}},t={COMPLETE:new r,ERROR:new r};this.events=t;this.ScriptLoader=function(r){function e(i){(clearTimeout(f),u!==n.ERROR)&&(u=n.ERROR,t.ERROR.fire(i))}function o(i){(clearTimeout(f),u!==n.ERROR)&&(u=n.COMPLETE,t.COMPLETE.fire(i))}var u=n.NEW,f=null;this.addEventListener=function(n,i){t[n]&&t[n].add(i)};this.isPlayerLoader=function(n){return/\/media\/player\/client/ig.test(n)&&RadioCanada&&RadioCanada.player};this.load=function(){var h,s;if(u===n.NEW){if(h=this.ScriptLoader.loaders[r],h&&(u=h.getStatus(),u<2)){h.addEventListener(t.ERROR,e);h.addEventListener(t.COMPLETE,o);return}if(this.isPlayerLoader(r))return;f=setTimeout(function(){e()},3e3);s=i.createElement("script");s.setAttribute("type","text/javascript");s.addEventListener?(s.onload=o,s.onerror=e):s.readyState&&(s.onreadystatechange=function(t){(s.readyState==="loaded"||s.readyState==="complete"&&u!=n.ERROR)&&o(t)});s.src=r;i.head.appendChild(s);u=n.LOADING;this.ScriptLoader.loaders[r]=this}};this.getStatus=function(){return u}};this.ScriptLoader.loaders={}};t.events={COMPLETE:"COMPLETE",ERROR:"ERROR"};var i=[],u=null,r=null,f=function(n,f,s){var c=null,h;return arguments.length!==0&&(i=n,u=f,r=s),i.length>0?(c=i.splice(0,1),h=new t,h.ScriptLoader(c),h.addEventListener(t.events.COMPLETE,e),h.addEventListener(t.events.ERROR,o),h.load(),h):(e(),!0)};n.loadArrayUrls=f;n.ScriptLoader=t}(n),e=[{id:"ima",url:"//imasdk.googleapis.com/js/sdkloader/ima3.js"}],function(n){var t=new function(){var n=this;n.installed=!1;n.raw="";n.major=-1;n.minor=-1;n.revision=-1;n.revisionStr="";var t=-1,i=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(n){return r(n)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(n){t="6,0,21";try{n.AllowScriptAccess="always";t=r(n)}catch(i){}return t}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(n){return r(n)}}],r=function(n){t=-1;try{t=n.GetVariable("$version")}catch(i){}return t},u=function(n){var t=-1;try{t=new ActiveXObject(n)}catch(i){t={activeXError:!0}}return t},f=function(n){var t=n.split(",");return{raw:n,major:parseInt(t[0].split(" ")[1],10),minor:parseInt(t[1],10),revision:parseInt(t[2],10),revisionStr:t[2]}},e=function(n){var t=n.split(/ +/),i=t[2].split(/\./),r=t[3];return{raw:n,major:parseInt(i[0],10),minor:parseInt(i[1],10),revisionStr:r,revision:o(r)}},o=function(t){return parseInt(t.replace(/[a-zA-Z]/g,""),10)||n.revision};n.majorAtLeast=function(t){return n.major>=t};n.minorAtLeast=function(t){return n.minor>=t};n.revisionAtLeast=function(t){return n.revision>=t};n.versionAtLeast=function(){for(var i=[n.major,n.minor,n.revision],r=Math.min(i.length,arguments.length),t=0;t<r;t++)if(i[t]>=arguments[t])if(t+1<r&&i[t]==arguments[t])continue;else return!0;else return!1;return!1};n.FlashDetect=function(){var s,o,h,c,r;if(navigator.plugins&&navigator.plugins.length>0)s="application/x-shockwave-flash",o=navigator.mimeTypes,o&&o[s]&&o[s].enabledPlugin&&o[s].enabledPlugin.description&&(t=o[s].enabledPlugin.description,r=e(t),n.raw=r.raw,n.major=r.major,n.minor=r.minor,n.revisionStr=r.revisionStr,n.revision=r.revision,n.installed=!0);else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript)for(t=-1,h=0;h<i.length&&t==-1;h++)c=u(i[h].name),c.activeXError||(n.installed=!0,t=i[h].version(c),t!=-1&&(r=f(t),n.raw=r.raw,n.major=r.major,n.minor=r.minor,n.revision=r.revision,n.revisionStr=r.revisionStr))}()};n.flashMode=typeof t!="undefined"&&t.installed&&n.params.versionFlash<=""+t.major+t.minor+".0.0";n.params.htmlOnly==="true"&&(n.flashMode=!1);n.isSupportFlash=function(){return n.flashMode?!1:!n.flashMode&&!n.utils.browser.isMobile()}}(n),window.RadioCanada=window.RadioCanada||{},window.console=window.console||{},window.console.warn=window.console.warn||function(){},window.console.info=window.console.info||function(){},window.console.log=window.console.log||function(){},window.console.error=window.console.error||function(){},RadioCanada.player=function(){return n.api.getPlayer.apply(this,arguments)},RadioCanada.player.events={AD_COMPLETE:"AD_COMPLETE",AD_PLAY:"AD_PLAY",AD_STARTED:"AD_STARTED",BEGIN:"BEGIN",CLOSING_CREDITS_STARTED:"CLOSING_CREDITS_STARTED",COMPLETE:"COMPLETE",CURRENT_TIME_CHANGE:"CURRENT_TIME_CHANGE",END:"END",END_CHAPTER:"END_CHAPTER",ENTER_FULL_SCREEN:"ENTER_FULL_SCREEN",EXIT_FULL_SCREEN:"EXIT_FULL_SCREEN",EXTRACT:"EXTRACT",ERROR:"ERROR",MEDIA_CHANGED:"MEDIA_CHANGED",META_LOADED:"META_LOADED",MUTE:"MUTE",NEXT:"NEXT",NEXT_CHAPTER:"NEXT_CHAPTER",PAUSE:"PAUSE",PLAY:"PLAY",PLAY_REJECTED:"PLAY_REJECTED",PLAYER_READY:"PLAYER_READY",PRESENCE:"PRESENCE",PREVIOUS:"PREVIOUS",READY:"READY",REDUCE_PLAYER:"REDUCE_PLAYER",RELATED:"RELATED",SEEK:"SEEK",SEEKED:"SEEKED",SEEKING:"SEEKING",SHARE:"SHARE",START:"START",STOP:"STOP",THEATER_MODE:"THEATER_MODE",UNMUTE:"UNMUTE",VOLUME_CHANGE:"VOLUME_CHANGE"},RadioCanada.player.version=n.xmlConfigVersion,RadioCanada.player.extensions=function(t,i){n.api.plugin(t,i)},document.documentElement.setAttribute("data-browser",navigator.userAgent),n.plugin={},function(){if(typeof f!="undefined"&&f!==""){var n=document.createElement("style");n.setAttribute("type","text/css");n.innerHTML=f;document.head.insertBefore(n,document.head.firstChild)}}(),function(n){typeof n.params=="undefined"&&(n.params={lang:"FR",debugMode:0})}(n),function(n){n.autorizedParams=n.autorizedParams||[]}(n),function(n){n.params=n.params||[]}(n),function(n){n.token=function(){return""};n.debug_next_play_mp4=0}(n),function(n){var t,i;if(n.externalload={comscoreUrl:"//s.radio-canada.ca/player/ressources/js/streamsense.5.2.0.160629.min.js",hlsUrl:"//cdn.jsdelivr.net/hls.js/latest/hls.min.js"},t=[{id:"comscore",url:n.externalload.comscoreUrl},{id:"hls",url:n.externalload.hlsUrl}],typeof requirejs=="undefined")e=e.concat(t);else for(i=0;i<t.length;i++)(function(i){require([t[i].url],function(r){n.utils.log(t[i].id+" loaded by requirejs",n.utils.debugger.tabs.INFO);n[t[i].id]=r})})(i)}(n),function(){window.addEventListener("load",function(){var t=document.getElementsByClassName("audio-video-console"),i,n,r;for(i in t)if(t.hasOwnProperty(i)&&typeof t[i].getElementsByClassName!="undefined"){n=t[i].getElementsByClassName("h_iframe");for(r in n)n.hasOwnProperty(r)&&n[r].offsetWidth===0&&n[r].setAttribute("style","width: 1px!important; height: 1px !important;")}})}(n),function(n){n.swfobject=function(){function v(){var i,r,n;if(!c){try{i=t.getElementsByTagName("body")[0].appendChild(h("span"));i.parentNode.removeChild(i)}catch(u){return}for(c=!0,r=w.length,n=0;n<r;n++)w[n]()}}function yt(n){c?n():w[w.length]=n}function pt(n){if(typeof r.addEventListener!=i)r.addEventListener("load",n,!1);else if(typeof t.addEventListener!=i)t.addEventListener("load",n,!1);else if(typeof r.attachEvent!=i)ui(r,"onload",n);else if(typeof r.onload=="function"){var u=r.onload;r.onload=function(){u();n()}}else r.onload=n}function gt(){lt?ni():it()}function ni(){var o=t.getElementsByTagName("body")[0],u=h(f),r,e;u.setAttribute("type",p);r=o.appendChild(u);r?(e=0,function(){if(typeof r.GetVariable!=i){var t=r.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),n.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(e<10){e++;setTimeout(arguments.callee,10);return}o.removeChild(u);r=null;it()}()):it()}function it(){var y=s.length,r,t,h,c,v;if(y>0)for(r=0;r<y;r++){var f=s[r].id,e=s[r].callbackFn,o={success:!1,id:f};if(n.pv[0]>0){if(t=u(f),t)if(!g(s[r].swfVersion)||n.wk&&n.wk<312)if(s[r].expressInstall&&ut()){h={};h.data=s[r].expressInstall;h.width=t.getAttribute("width")||"0";h.height=t.getAttribute("height")||"0";t.getAttribute("class")&&(h.styleclass=t.getAttribute("class"));t.getAttribute("align")&&(h.align=t.getAttribute("align"));var p={},a=t.getElementsByTagName("param"),w=a.length;for(c=0;c<w;c++)a[c].getAttribute("name").toLowerCase()!="movie"&&(p[a[c].getAttribute("name")]=a[c].getAttribute("value"));ft(h,p,f,e)}else ti(t),e&&e(o);else l(f,!0),e&&(o.success=!0,o.ref=rt(f),e(o))}else l(f,!0),e&&(v=rt(f),v&&typeof v.SetVariable!=i&&(o.success=!0,o.ref=v),e(o))}}function rt(n){var r=null,t=u(n),e;return t&&t.nodeName=="OBJECT"&&(typeof t.SetVariable!=i?r=t:(e=t.getElementsByTagName(f)[0],e&&(r=e))),r}function ut(){return!d&&g("6.0.65")&&(n.win||n.mac)&&!(n.wk&&n.wk<312)}function ft(f,e,o,s){var c,v,l,a;d=!0;nt=s||null;at={success:!1,id:o};c=u(o);c&&(c.nodeName=="OBJECT"?(y=et(c),k=null):(y=c,k=o),f.id=ht,(typeof f.width==i||!/%$/.test(f.width)&&parseInt(f.width,10)<310)&&(f.width="310"),(typeof f.height==i||!/%$/.test(f.height)&&parseInt(f.height,10)<137)&&(f.height="137"),t.title=t.title.slice(0,47)+" - Flash Player Installation",v=n.ie&&n.win?"ActiveX":"PlugIn",l="MMredirectURL="+r.location.toString().replace(/&/g,"%26")+"&MMplayerType="+v+"&MMdoctitle="+t.title,typeof e.flashvars!=i?e.flashvars+="&"+l:e.flashvars=l,n.ie&&n.win&&c.readyState!=4&&(a=h("div"),o+="SWFObjectNew",a.setAttribute("id",o),c.parentNode.insertBefore(a,c),c.style.display="none",function(){c.readyState==4?c.parentNode.removeChild(c):setTimeout(arguments.callee,10)}()),ot(f,e,o))}function ti(t){if(n.ie&&n.win&&t.readyState!=4){var i=h("div");t.parentNode.insertBefore(i,t);i.parentNode.replaceChild(et(t),i);t.style.display="none",function(){t.readyState==4?t.parentNode.removeChild(t):setTimeout(arguments.callee,10)}()}else t.parentNode.replaceChild(et(t),t)}function et(t){var u=h("div"),e,i,o,r;if(n.win&&n.ie)u.innerHTML=t.innerHTML;else if(e=t.getElementsByTagName(f)[0],e&&(i=e.childNodes,i))for(o=i.length,r=0;r<o;r++)i[r].nodeType==1&&i[r].nodeName=="PARAM"||i[r].nodeType==8||u.appendChild(i[r].cloneNode(!0));return u}function ot(t,r,e){var v,y=u(e),w,o,k,a,c,s,l;if(n.wk&&n.wk<312)return v;if(y)if(typeof t.id==i&&(t.id=e),n.ie&&n.win){w="";for(o in t)t[o]!=Object.prototype[o]&&(o.toLowerCase()=="data"?r.movie=t[o]:o.toLowerCase()=="styleclass"?w+=' class="'+t[o]+'"':o.toLowerCase()!="classid"&&(w+=" "+o+'="'+t[o]+'"'));k="";for(a in r)r[a]!=Object.prototype[a]&&(k+='<param name="'+a+'" value="'+r[a]+'" />');y.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+w+">"+k+"<\/object>";b[b.length]=t.id;v=u(t.id)}else{c=h(f);c.setAttribute("type",p);for(s in t)t[s]!=Object.prototype[s]&&(s.toLowerCase()=="styleclass"?c.setAttribute("class",t[s]):s.toLowerCase()!="classid"&&c.setAttribute(s,t[s]));for(l in r)r[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"&&ii(c,l,r[l]);y.parentNode.replaceChild(c,y);v=c}return v}function ii(n,t,i){var r=h("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)}function wt(t){var i=u(t);i&&i.nodeName=="OBJECT"&&(n.ie&&n.win?(i.style.display="none",function(){i.readyState==4?ri(t):setTimeout(arguments.callee,10)}()):i.parentNode.removeChild(i))}function ri(n){var t=u(n),i;if(t){for(i in t)typeof t[i]=="function"&&(t[i]=null);t.parentNode.removeChild(t)}}function u(n){var i=null;try{i=t.getElementById(n)}catch(r){}return i}function h(n){return t.createElement(n)}function ui(n,t,i){n.attachEvent(t,i);a[a.length]=[n,t,i]}function g(t){var r=n.pv,i=t.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?!0:!1}function bt(r,u,o,s){var a,c,l;n.ie&&n.mac||(a=t.getElementsByTagName("head")[0],a)&&(c=o&&typeof o=="string"?o:"screen",s&&(e=null,tt=null),e&&tt==c||(l=h("style"),l.setAttribute("type","text/css"),l.setAttribute("media",c),e=a.appendChild(l),n.ie&&n.win&&typeof t.styleSheets!=i&&t.styleSheets.length>0&&(e=t.styleSheets[t.styleSheets.length-1]),tt=c),n.ie&&n.win?e&&typeof e.addRule==f&&e.addRule(r,u):e&&typeof t.createTextNode!=i&&e.appendChild(t.createTextNode(r+" {"+u+"}")))}function l(n,t){if(vt){var i=t?"visible":"hidden";c&&u(n)?u(n).style.visibility=i:bt("#"+n,"visibility:"+i)}}function kt(n){var t=/[\\\"<>\.;]/.exec(n)!=null;return t&&typeof encodeURIComponent!=i?encodeURIComponent(n):n}var i="undefined",f="object",st="Shockwave Flash",dt="ShockwaveFlash.ShockwaveFlash",p="application/x-shockwave-flash",ht="SWFObjectExprInst",ct="onreadystatechange",r=window,t=document,o=navigator,lt=!1,w=[gt],s=[],b=[],a=[],y,k,nt,at,c=!1,d=!1,e,tt,vt=!0,n=function(){var l=typeof t.getElementById!=i&&typeof t.getElementsByTagName!=i&&typeof t.createElement!=i,e=o.userAgent.toLowerCase(),s=o.platform.toLowerCase(),a=s?/win/.test(s):/win/.test(e),v=s?/mac/.test(s):/mac/.test(e),y=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,h=!+"\v1",u=[0,0,0],n=null,c;if(typeof o.plugins!=i&&typeof o.plugins[st]==f)n=o.plugins[st].description,!n||typeof o.mimeTypes!=i&&o.mimeTypes[p]&&!o.mimeTypes[p].enabledPlugin||(lt=!0,h=!1,n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),u[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10),u[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10),u[2]=/[a-zA-Z]/.test(n)?parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof r.ActiveXObject!=i)try{c=new ActiveXObject(dt);c&&(n=c.GetVariable("$version"),n&&(h=!0,n=n.split(" ")[1].split(","),u=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]))}catch(w){}return{w3:l,pv:u,wk:y,ie:h,win:a,mac:v}}(),fi=function(){n.w3&&((typeof t.readyState!=i&&t.readyState=="complete"||typeof t.readyState==i&&(t.getElementsByTagName("body")[0]||t.body))&&v(),c||(typeof t.addEventListener!=i&&t.addEventListener("DOMContentLoaded",v,!1),n.ie&&n.win&&(t.attachEvent(ct,function(){t.readyState=="complete"&&(t.detachEvent(ct,arguments.callee),v())}),r==top&&function(){if(!c){try{t.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}v()}}()),n.wk&&function(){if(!c){if(!/loaded|complete/.test(t.readyState)){setTimeout(arguments.callee,0);return}v()}}(),pt(v)))}(),ei=function(){n.ie&&n.win&&window.attachEvent("onunload",function(){for(var r,i,u,f,e=a.length,t=0;t<e;t++)a[t][0].detachEvent(a[t][1],a[t][2]);for(r=b.length,i=0;i<r;i++)wt(b[i]);for(u in n)n[u]=null;n=null;for(f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(t,i,r,u){if(n.w3&&t&&i){var f={};f.id=t;f.swfVersion=i;f.expressInstall=r;f.callbackFn=u;s[s.length]=f;l(t,!1)}else u&&u({success:!1,id:t})},getObjectById:function(t){if(n.w3)return rt(t)},embedSWF:function(t,r,u,e,o,s,h,c,a,v){var y={success:!1,id:r};n.w3&&!(n.wk&&n.wk<312)&&t&&r&&u&&e&&o?(l(r,!1),yt(function(){var n,b,p,k,w,d;if(u+="",e+="",n={},a&&typeof a===f)for(b in a)n[b]=a[b];if(n.data=t,n.width=u,n.height=e,p={},c&&typeof c===f)for(k in c)p[k]=c[k];if(h&&typeof h===f)for(w in h)typeof p.flashvars!=i?p.flashvars+="&"+w+"="+h[w]:p.flashvars=w+"="+h[w];if(g(o))d=ot(n,p,r),n.id==r&&l(r,!0),y.success=!0,y.ref=d;else{if(s&&ut()){n.data=s;ft(n,p,r,v);return}l(r,!0)}v&&v(y)})):v&&v(y)},switchOffAutoHideShow:function(){vt=!1},ua:n,getFlashPlayerVersion:function(){return{major:n.pv[0],minor:n.pv[1],release:n.pv[2]}},hasFlashPlayerVersion:g,createSWF:function(t,i,r){return n.w3?ot(t,i,r):undefined},showExpressInstall:function(t,i,r,u){n.w3&&ut()&&ft(t,i,r,u)},removeSWF:function(t){n.w3&&wt(t)},createCSS:function(t,i,r,u){n.w3&&bt(t,i,r,u)},addDomLoadEvent:yt,addLoadEvent:pt,getQueryParamValue:function(n){var r=t.location.search||t.location.hash,u,i;if(r){if(/\?/.test(r)&&(r=r.split("?")[1]),n==null)return kt(r);for(u=r.split("&"),i=0;i<u.length;i++)if(u[i].substring(0,u[i].indexOf("="))==n)return kt(u[i].substring(u[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(d){var t=u(ht);t&&y&&(t.parentNode.replaceChild(y,t),k&&(l(k,!0),n.ie&&n.win&&(y.style.display="block")),nt&&nt(at));d=!1}}}}()}(n),function(n){n.events={};n.events.EXTERNAL_LOADED="externalloaded";n.events.EXTERNAL_FAILED_TO_LOAD="externalfailedtoload";n.events.flash={SHARE:"flash.share"};n.events.nativeevents={CLICK:"click",DBCLICK:"dblclick",ONMOUSEUP:"mouseup",ONMOUSEDOWN:"mousedown",ONMOUSEMOVE:"mousemove",ONMOUSEOVER:"mouseover",ONMOUSEOUT:"mouseout",ONMOUSEENTER:"mouseenter",ONMOUSELEAVE:"mouseleave",TOUCH_START:"touchstart",TOUCH_END:"touchend",TOUCH_CANCEL:"touchcancel",TOUCH_LEAVE:"touchleave",TOUCH_MOVE:"touchmove",TOUCH_GESTUREEND:"gestureend",KEY_DOWN:"keydown",KEY_PRESS:"keypress",FOCUS:"focus",PAGE_SHOW:"pageshow",VISIBILITY_CHANGED:"visibilitychange",ORIENTATION_CHANGE:"orientationchange"};n.events.core={CURRENT_STATE_CHANGE:"core.currentStateChange",BEGIN:"core.begin",CREATED:"core.created",READY:"core.ready",PLAYER_READY:"core.playerready",PLAY:"core.play",PLAYING:"core.playing",PLAY_EXTERNAL:"core.playexternal",PAUSE:"core.pause",CAN_PLAY:"core.can_play",STOP:"core.stop",START:"core.start",COMPLETE:"core.complete",END:"core.end",AD_PLAY:"core.adPlay",AD_PLAYING:"core.adPlaying",AD_STARTED:"core.adStarted",AD_RESUMED:"core.adResumed",AD_CLICK_TRACKING:"core.adClickTracking",AD_PAUSE:"core.adPause",AD_COMPLETE:"core.adComplete",SINGLE_AD_LOADED:"core.singleAdLoaded",SINGLE_AD_STARTED:"core.singleAdStarted",SINGLE_AD_COMPLETE:"core.singleAdComplete",AD_STARTED_FROM_FLASH:"core.adStartedFromFlash",AD_ENDED_FROM_FLASH:"core.adEndedFromFlash",AD_MANAGER_LOADED:"core.adManagerLoaded",EXTRACT:"core.extract",NEXT:"core.next",PREVIOUS:"core.previous",SHARE:"core.share",MUTE:"core.mute",UNMUTE:"core.mute",POSTER:"core.poster",SEEK_COMPLETE:"core.seekComplete",SEEKING:"core.seeking",BUFFERING:"core.buffering",PRESENCE:"core.presence",MEDIA_CHANGED:"core.mediaChanged",BEFORE_MEDIA_CHANGE:"core.onBeforeMediaChange",CURRENT_TIME_CHANGE:"core.currentTimeChange",CURRENT_TIME_CHANGE_EXTERNAL:"core.currentTimeChange_external",VOLUME_CHANGE:"core.volumeChacnge",DURATION_CHANGE:"core.durationChange",DURATION_LABEL_CHANGE:"core.durationLabelChange",METAS_CHANGE:"core.metasChange",CURSOR_TIME_LABEL_CHANGE:"core.cursorTimeLabelChange",CURRENT_TIME_LABEL_CHANGE:"core.currentTimeLabelChange",AD_REMAINING_TIME_LABEL_CHANGE:"core.adRemainingTimeChange",ENTER_FULLSCREEN:"core.enterFullscreen",EXIT_FULLSCREEN:"core.exitFullscreen",ERROR:"core.error",BEFORE_METAMEDIA_REQUEST:"core.beforemetamediarequest",AFTER_VALIDATIONMEDIA_REQUEST:"core.aftervalidationmediarequest",NEXT_CHAPTER:"core.nextChapter",END_CHAPTER:"core.endChapter",SKIP_CHAPTER:"core.skipChapter",RELATED:"core.related",FLASH_READY:"core.flashready",BITRATE_CHANGING:"core.bitratechanging",BITRATE_CHANGED:"core.bitratechanged",PROVIDER_CHOSEN:"core.providerChosen",DISPOSE:"core.dispose",LIVE_PROGRAM_START:"core.liveProgramStart",LIVE_PROGRAM_END:"core.liveProgramEnd",CLOSING_CREDITS_STARTED:"core.closingCreditsStarted",REDUCE_PLAYER:"core.reducePlayer",EMBED_PLAYER:"api.embedPlayer",RESUME:"core.resume",THEATER_MODE:"core.theatermode",PLAY_REJECTED:"core.playRejected"};n.events.media={READY:"media.ready",PLAY:"media.play",PLAYING:"media.playing",PAUSE:"media.pause",RESUME:"media.resume",DURATION_CHANGE:"media.durationChange",SEEKING:"media.seeking",SEEK_COMPLETE:"media.seekComplete",VOLUME_CHANGE:"media.volumeChange",COMPLETE:"media.complete",CURRENT_TIME_CHANGE:"media.currentTimeChange",CURRENT_TIME_LABEL_CHANGE:"media.currentTimeLabelChange",PRESENCE:"media.presence",BUFFERING:"media.buffering",AD_REMAINING_TIME_LABEL_CHANGE:"media.adRemainingTimeChange",CAN_PLAY:"media.canplay",CURRENT_STATE_CHANGE:"media.currentStateChange",META_LOADED:"media.metaLoaded",URL_LOADED:"media.urlLoaded",FIRST_MINUTE:"media.firstMinute",CHAPTER_START:"media.chapterStart",CHAPTER_END:"media.chapterEnd",AD_STARTED:"media.adStart",AD_END:"media.adEnded",AD_CLICK_TRACKING:"media.adClickTracking",ERROR:"media.error",BEFORE_METAMEDIA_REQUEST:"media.beforemetamediarequest",AFTER_VALIDATIONMEDIA_REQUEST:"media.aftervalidationmediarequest",BITRATE_CHANGING:"media.bitratechanging",BITRATE_CHANGED:"media.bitratechanged",PROVIDER_CHOSEN:"media.providerChosen",ENDED:"media.end"};n.events.provider={READY:"provider.ready",LOADED:"provider.loaded",PLAYING:"provider.playing",PLAY:"provider.play",PAUSE:"provider.paused",CURRENT_TIME_CHANGE:"provider.currentTimeChange",TIME_UPDATE:"provider.timeUpdate",SEEKING:"provider.seeking",SEEK_COMPLETE:"provider.seekComplete",COMPLETE:"provider.complete",DURATION_CHANGE:"provider.durationChange",VOLUME_CHANGE:"provider.volumeChange",ENTER_FULLSCREEN:"provider.enterFullscreen",EXIT_FULLSCREEN:"provider.exitFullscreen",ERROR:"provider.error",BITRATE_CHANGED:"provider.bitrateChanged",BITRATE_CHANGING:"provider.bitrateChanging",BUFFERING:"provider.buffering"};n.events.html={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",CONTEXT_MENU:"contextmenu",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOAD_START:"loadstart",LOADED:"loadeddata",META_LOADED:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",WEBKIT_EXIT_FULLSCREEN:"webkitendfullscreen",WEBKIT_ENTER_FULLSCREEN:"webkitEnterFullscreen",WEBKIT_NEED_KEY:"webkitneedkey",FULLSCREEN:"flash.fullscreen",BUFFERING:"flash.buffering",START:"flash.start",BITRATE_CHANGED:"flash.bitrateChanged",BITRATE_CHANGING:"flash.bitrateChanging",CANNOT_SEEK:"flash.cannotseek"};n.events.ima={CONTENT_RESUME:"ima.contentResume",CONTENT_PAUSE:"ima.contentPause",AD_LOADED:"ima.adLoaded",AD_STARTED:"ima.adStarted",AD_COMPLETE:"ima.adComplete",AD_PAUSE:"ima.adPause",AD_PLAYING:"ima.adPlaying",ALL_ADS_COMPLETE:"ima.allAdsComplete",IGNORE_ADS:"ima.ignoreAds",AD_CLICK:"ima.adClick",REMAINING_TIME_CHANGE:"ima.remainingTimeChange",AD_CLICK_TRACKING:"ima.adClickTracking",ERROR:"ima.error"};n.events.api={PLAY:"api.play",PAUSE:"api.apiPause",STOP:"api.stop",EXTRACT:"api.extract",SEEK:"api.seek",START:"api.begin",COMPLETE:"api.end",CURRENT_TIME_CHANGE:"api.currentTimeChange",AD_PLAY:"api.adStart",AD_COMPLETE:"api.adComplete",NEXT:"api.next",PREVIOUS:"api.previous",SHARE:"api.share",VOLUME_CHANGE:"api.volumeChange",MUTE:"api.mute",UNMUTE:"api.mute",ENTER_FULL_SCREEN:"api.enterFullscreen",EXIT_FULL_SCREEN:"api.exitFullscreen",RELATED:"api.related",CURRENT_STATE_CHANGE:"api.currentStateChange",ERROR:"api.error",EMBED_PLAYER:"api.embedPlayer"};n.events.ui={CLICK_PLAY:"ui.play",MOVE_TO:"ui.moveto",SEEK_TO:"ui.seekto",VOLUME_CHANGED:"ui.changevolume",BITRATE_CHANGED:"ui.bitratechanged",BITRATE_CHANGING:"ui.bitratechanging",RESIZE:"ui.resize",FULLSCREEN_ENTER:"ui.fullscreenenter",FULLSCREEN_EXIT:"ui.fullscreenexit",HIDE_TRANSITION:"ui.transition",INFO_BAR_SHOWN:"ui.infobarshown",INFO_BAR_HIDDEN:"ui.infobarhidden",REDUCE_PLAYER:"ui.reducePlayer",RESUME_CHOOSEN:"ui.resumechoosen",THEATER_MODE:"ui.theatermode"};n.events.ui.intern={HIDETEASER:"ui.hideteasers",SHOWTEASER:"ui.showteasers",ADD_TEASER:"ui.addteaser",SHOW_INFOBAR:"ui.showinfobar",SHOW_POSTER:"ui.showposter",ON_PROGRESS_BAR_MOUSE_MOVE:"ui.onprogressbarmousemove",ON_PROGRESS_BAR_MOUSE_LEAVE:"ui.onprogressbarmouseleave",HIDE_AD:"ui.hidead",SHOW_AD:"ui.showad",RESIZE:"ui.resize",RESIZE_FULLSCREEN:"ui.resizefullscreen",REQUEST_DOCUMENT_FULLSCREEN:"ui.requestdocumentfullscreen",FULLSCREEN_ENTER_DESKTOP:"ui.fullscreenenterdesktop",FULLSCREEN_ENTER_MOBILE:"ui.fullscreenentermobile",FULLSCREEN_EXIT_MOBILE:"ui.fullscreenentermobile",CLOSE_INFO:"ui.closeinfo",SHOW_CONTROLER_BAR:"ui.showcontrolerbar",HIDE_CONTROLER_BAR:"ui.hidecontrolerbar",TEASER_CLICK:"ui.teaserclick",BEFORE_INIT:"ui.beforeInit",AFTER_INIT:"ui.afterInit"};n.events.global={VOLUME_CHANGED:"global.volumeChanged",FULLSCREEN_CHANGED:"global.fullScreenChanged"};n.events.medias={CURRENT_MEDIA_CHANGED:"medias.currentMediaChanged",ERROR:"medias.error"};n.events.states={CURRENT_STATE_CHANGE:"states.currentStateChange",NO_STATE_CHANGE:"states.noStateChange",MEDIA_STATE_CHANGE:"states.currentStateChange",SETTINGS_CHANGE:"states.settingsChange",ERROR:"states.error"};n.events.net={COMPLETE:"net.complete",ERROR:"net.error"};n.events.error={HTTP_ERROR:"httpError",ERROR:"error"};n.events.touch={DRAG:"events.touch.Drag",DRAG_START:"events.touch.DragStart",DRAG_END:"events.touch.DragEnd",TAP:"events.touch.Tap",OPEN:"events.touch.open",CLOSE:"events.touch.close",FULLSCREEN_EXIT:"events.touch.exit",FULLSCREEN_ENTER:"events.touch.enter",RESIZE_FULLSCREEN:"events.touch.resize.fullscreen"};n.events.elderEvent={PLAY:"play",PAUSE:"pause",STOP:"stop",EXTRACT:"extract",SEEKED:"seek",START:"start",COMPLETE:"end",CURRENT_TIME_CHANGE:"currentTime",PRESENCE:"loopPlaying",AD_STARTED:"pubStarted",AD_COMPLETE:"pubCompleted",NEXT:"next",PREVIOUS:"previous",SHARE:"share",VOLUME_CHANGE:"changeVolume",ERROR:"error",MUTE:"mute",UNMUTE:"unmute",ENTER_FULL_SCREEN:"enterFullScreen",EXIT_FULL_SCREEN:"exitFullScreen",RELATED:"related",CURRENT_STATE_CHANGE:"state",META_LOADED:"meta",NOT_DEFINED:"not defined event"};n.events.bitrate={OPTION_ADDED:"bitrate.optionAdded"};n.events.broadcastingStationScheduleManager={LIVE_PROGRAM_START:"broadcastingStationScheduleManager.liveProgramStart",LIVE_PROGRAM_END:"broadcastingStationScheduleManager.liveProgramEnd"}}(n),function(n){var t=n.events||{};t.EventRegistration=function(t){function h(n,t,i){t!==null?n.call(t,i):n(i)}function l(n,t,i,r){typeof r=="undefined"&&(r=0);window.setTimeout(function(){h(n,t,i)},r)}function a(n,t){var u,r,f,o;if(i.exists(n))for(u=0;u<n.length;u++)if(r=n[u],r){r.counter!==null&&--r.counter==0&&delete n[u];try{f=t.async?l:h;f(r.func,r.context,t)}catch(e){o=typeof r.listenerName=="string"?r.listenerName:r.func.name;i.log(['Error handling "'+t.type+'" event listener ['+u+"]: "+e.toString(),o,t],i.debugger.tabs.ERROR,i.color.RED);throw e;}}}function v(n,r,f){var h,l;if(typeof n=="undefined")throw new Error("_fireEvent() - type is not defined");var v=!0,y=!0,p=!1;if(typeof f=="object"&&(v=typeof f.async=="boolean"?f.async:!0,y=typeof f.stringify=="boolean"?f.stringify:!0,p=typeof f.disableLogging=="boolean"?f.disableLogging:!1),i.exists(r)||(r=null),h={name:c,type:n,data:r,async:v,context:this},!p){l=typeof this.log=="function"&&!i.isWindowScope(this)?this:i;try{l.log([n,t,y?JSON.stringify(h.data):h.data],e.EVENTS)}catch(w){l.log("Error is produced trying to log fireEvent()"+n+" : "+w.message,e.ERROR)}}o=s.test(o)&&s.test(n);o=n;a(u[n],h)}var f=this,c=t,i=n.utils,e=n.utils.debugger.tabs,u={},o=null,s=/(core\.currentTime.*|core\.presence)/;f.addEventListener=function(n,t,r,f){try{return i.exists(u[n])||(u[n]=[]),typeof t=="object"?u[n].push({func:r,context:t,listenerName:t.name,counter:f||null}):(i.exists(r)||(r=t.name!==""?t.name:"undefined"),u[n].push({func:t,context:null,listenerName:r,counter:f||null})),!0}catch(o){return i.log("--eventRegistration("+n+"):"+o.message,e.ERROR,i.color.RED),!1}};f.removeEventListener=function(n,t){var r,f;if(i.exists(u[n]))try{for(i.exists(t)||(u[n]=[]),r=0;r<u[n].length;r++)if(f=u[n],!!f[r]&&f[r].func===t)return delete f[r],!0}catch(o){i.log("--removeEventListener():"+o.message,e.ERROR,i.color.RED)}return!1};f.resetAllEventListeners=function(){return u={},!0};f.fireEvent=function(n,t,i){v(n,t,i)};f.fireEventOnce=function(n,t,i){f.fireEvent(n,r,i)}}}(n),function(n){n.EventChapter=function(t){function s(f){var s=f===n.events.core.END_CHAPTER,e=s?o:r,c=e===i.length-1,l={currentTime:u,chapter:e,chapterTime:e===0?0:i[e-1]};s&&h||(t.fireEvent(f,l),h=s&&c)}function y(n){var r,t;for(typeof n=="undefined"&&(n=u),r=0,t=0;t<i.length;t++,r++)if(n<i[t])break;return r}function c(t){var h=5,c=u-f,l=c>h||c<-h,a;f=u;u=t.data;o=r;r=y(f);o===r&&e||(a=r-o>0,e&&a&&!l&&s(n.events.core.END_CHAPTER),i[r]&&(l?s(n.events.core.SKIP_CHAPTER):s(n.events.core.NEXT_CHAPTER),e||(e=!0)))}function p(){u=0;f=0;t.removeEventListener(n.events.core.CURRENT_TIME_CHANGE,c)}function w(){u=0;f=0;r=0;e=!1;h=!1;a=t.metas.isLive;v=t.metas.duration;i=t.metas.chaptersTime?t.metas.chaptersTime:[];i.splice(i.length,0,t.metas.duration)}function b(){a||i.length===0||t.addEventListener(n.events.core.CURRENT_TIME_CHANGE,c)}function k(){s(n.events.core.END_CHAPTER);t.removeEventListener(n.events.core.CURRENT_TIME_CHANGE,c)}var l=this,u=0,f=0,r=0,o=0,i=[],v=0,a=!1,e=!1,h=!1;l.registerChapterEvents=function(){t.addEventListener(n.events.core.MEDIA_CHANGED,p);t.addEventListener(n.events.core.BEGIN,w);t.addEventListener(n.events.core.START,b);t.addEventListener(n.events.core.COMPLETE,k)};l.currentChapter=function(){return r}}}(n),function(n){var t=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:undefined};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i};t.prototype=window.Event.prototype;n.CustomEvent=t}(n),function(n){function r(){try{return(i===null&&(i=JSON.parse(n.params.consoleDebugConfig)),typeof i!="object")?null:(typeof i.outputToConsole!="boolean"&&(i.outputToConsole=!1),typeof i.azureProvider!="boolean"&&(i.azureProvider=!1),typeof i.hlsProvider!="boolean"&&(i.hlsProvider=!1),typeof i.save!="boolean"&&(i.save=!1),i.tab=typeof i.tabs!="object"?function(){return!0}:typeof i.tabs.excluded=="object"?function(n){return i.tabs.excluded.indexOf(n)===-1}:typeof i.tabs.included=="object"?function(n){return i.tabs.included.indexOf(n)!==-1}:function(){return!0},i)}catch(t){}return null}function e(t,i,u,f,e){e=!e?"":e;i&&["info"].indexOf(i)===-1&&n.debugger.log(e+i+": "+t,"info",u,f);n.debugger.log(e+t,i,u,f);var s=e+i+" : "+t,o=r();o&&o.outputToConsole&&o.tab(i)&&console.info(s)}var t=n.utils={},o=Object.prototype.hasOwnProperty,u=null,i=null,f;t.MAX_MEDIA_DURATION=86400;t.capitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};t.clone=function(n){return JSON.parse(JSON.stringify(n))};t.deepClone=function(n){var i,t;if(null==n||"object"!=typeof n)return n;i=n.constructor();for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i};t.isEmpty=function(n){for(var t in n)if(n[t]!==null)return!1;return!0};t.isNull=function(n){return n===null};t.isUndefined=function(n){return n===void 0};t.isNullOrUndefined=function(n){return t.isNull(n)||t.isUndefined(n)};t.isNotNullOrUndefined=function(n){return!t.isNull(n)&&!t.isUndefined(n)};t.exists=function(n){switch(typeof n){case"string":return n.length>0;case"object":return n!==null;case"undefined":return!1}return!0};t.isDebugModeAzureProvider=function(){var n=r();return n&&n.azureProvider};t.isDebugModeHlsProvider=function(){var n=r();return typeof n!="undefined"&&n!=null&&n.hlsProvider};t.isDebugMode=function(){return!!n.params.debugmode.match(/^(1|2|3|6)$/)};t.isDevEnviroment=function(){return n.environnement==="lcl-"||n.environnement==="dev-"};t.setPrefix=function(){return n.environnement===""?"":"br-"};t.setPrefixGetway=function(){return n.environnement===""?"":"dev-"};t.setDeviceTypeFree=function(){return n.utils.browser.isMobile()?"ipad":"flashhd"};f=function(n){return n};t.memoize=function(n,t){var i={};return t||(t=f),function(){var r=t.apply(this,arguments);return i.hasOwnProperty(r)?i[r]:i[r]=n.apply(this,arguments)}};t.log=function(t,i,f){if(u===null){var o=r();u=o!==null&&typeof o.save=="boolean"&&o.save}(u===!0&&(n.savedLogs=n.savedLogs||[],n.savedLogs.push(i+" : "+t)),n.debugger)&&t&&(i||(i=n.utils.debugger.tabs.INFO),f||(f=n.utils.color.BLACK),e(t,i,f))};t.LogInstance=function(t,i,r){var f=t,u;r||(r=n.utils.color.BLACK);u=isNaN(i)?"":"Player("+i+") - ";this.log=function(t,i,o){if(n.debugger&&t){i||(i=n.utils.debugger.tabs.INFO);o||(o=r);var s=n.countPlayer()>1?u:"";e(t,i,o,f,s)}}};t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.foreach=function(n,i){var r,u;for(r in n)t.typeOf(n.hasOwnProperty)==="function"?n.hasOwnProperty(r)&&(u=n[r],i(r,u)):(u=n[r],i(r,u))};t.typeOf=function(n){if(n===null)return"null";var t=typeof n;return t==="object"&&_.isArray(n)?"array":t};t.extend=function(){for(var n=Array.prototype.slice.call(arguments,0),r=n[0],u=function(n,t){t!==undefined&&t!==null&&(r[n]=t)},i=1;i<n.length;i++)t.foreach(n[i],u);return r};t.createEl=function(n,i){var r;return n=n||"div",i=i||{},r=document.createElement(n),t.obj.each(i,function(n,t){n.indexOf("aria-")!==-1||n=="role"?r.setAttribute(n,t):r[n]=t}),r};t.obj={};t.obj.create=Object.create||function(n){function t(){}return t.prototype=n,new t};t.obj.each=function(n,t,i){for(var r in n)o.call(n,r)&&t.call(i||this,r,n[r])};t.ecart=function(n,t,i){return i-Math.abs(n-t)>0};t.isTouchSupport=function(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}};t.isNumeric=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};t.toBoolean=function(n,t){return arguments.length===0?null:(arguments.length===1&&(t=!1),typeof n=="string"?(n=n.toLowerCase(),n=n==="true"||n==="false"?n==="true":t):typeof n!="boolean"&&(n=t),n)};t.toDefaultColor=function(n,t){var i="";return arguments.length===0&&(i=null),arguments.length===1&&(i="white"),typeof n=="string"&&n.match(/^(white|black)$/)?n:t};t.removeChar=function(n,t){return n.replace(new RegExp("("+t.replace(/(.)/g,"\\$1|")+"\\')","g"),"-").replace(/ {2,}/g,"-")};t.parseString=function(n){var r,u,i;if(typeof n=="undefined"||n===null)return"";for(n=(""+n).replace(/^\s\s*/,"").replace(/\s\s*$/,""),r=" :<>$?|'`".split(""),u="eEaAeEoOcCiIeEuUeEiIoO----------".split(""),n=t.removeChar(n,'!&^@%#`|     ,"*()=.[]+'),i=0;i<r.length;i++)n=n.replace(r[i],u[i],"g");return escape(n).substr(0,55)};t.sendPixel=function(t,i){var r,u;typeof t=="string"&&t.indexOf("http")!==-1&&(i&&n.utils.log("--sendPixel("+t+") ",i),r=new Image(1,1),r.src=t,u=["//static.tou.tv/player/ressources/images/pixel.gif","//img.radio-canada.ca/player/pixel.bmp"],window.setTimeout(function(){r.src=u[1]},3e3))};t.obj2str=function(n,t,i){var u="",f,r;if(typeof t=="undefined"&&(t="="),typeof i=="undefined"&&(i="&"),typeof n=="undefined")return null;if(typeof n!="object")return u;f=!0;for(r in n)n.hasOwnProperty(r)&&(f?(u+=r+t+n[r],f=!1):u+=i+r+t+n[r]);return u};t.extendPAV=function(t,i){return n.utils.extend(t,i)};t.Timer=function(n){var i=n,t=(new Date).getTime();this.check=function(){var n=(new Date).getTime()>t+i;return n&&(t=(new Date).getTime()),n}};t.cssLoader=function(n){var t=document.createElement("link");t.setAttribute("type","text/css");t.setAttribute("href",n);t.setAttribute("rel","stylesheet");document.getElementsByTagName("head")[0].insertBefore(t,document.head.firstChild)};t.styleAdd=function(n){var t=document.createElement("style");t.setAttribute("type","text/css");t.innerHTML=n;document.head.appendChild(t)};t.parseURL=function(n){var i,r,e,f,o,u;for(f=["protocol","hostname","port","pathname","search","hash","host"],r=t.createEl("a",{href:n}),e=r.host===""&&r.protocol!=="file:",e&&(i=t.createEl("div"),i.innerHTML='<a href="'+n+'"><\/a>',r=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(i)),o={},u=0;u<f.length;u++)o[f[u]]=r[f[u]];return e&&document.body.removeChild(i),o};t.merge2Object=function(n,t){var u={},i,r;for(i in n)n.hasOwnProperty(i)&&(u[i]=n[i]);for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return u};t.isWindowScope=function(n){return n&&n.document&&n.location&&n.alert&&n.setInterval};t.isWebcast=function(n){return n.network==="undefined"&&n.SrcAvDiffusion==="direct"}}(n),function(n){n.utils.dom=function(){var f=function(n){var t,i;if(t=i=0,n.offsetParent){do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return{x:t,y:i}}return{x:0,y:0}},e=function(n,t){var i=document.getElementById(n);return i?(i.innerHTML+=t,i):null},o=function(n,t){var i=document.getElementsByTagName(n);return i&&i[0]?(i[0].innerHTML+=t,i[0]):null},s=function(n,t){var i=document.getElementsByTagName(n);i&&i[0]&&i[0].appendChild(t)},h=function(n){for(var t=0,i=0;n!==null;t+=n.offsetLeft,i+=n.offsetTop,n=n.offsetParent);return{x:t,y:i}},c=function(n,t){var i;switch(typeof n){case"string":i=document.getElementById(n);break;case"object":i=n;break;default:i=null}if(!!i)switch(typeof t){case"string":i.innerHTML=t;break;case"object":i.appendChild(t)}},l=function(t,i){var u=typeof t=="string"?document.getElementById(t):t,r=u.getElementsByClassName(i);return r.length===0?(n.utils.log("Element "+i+" not found",n.utils.debugger.tabs.WARNING),null):r[0]},a=function(n,t){var i=document.querySelector(n),r=window.getComputedStyle(i);return r.getPropertyValue(t)},v=function(t,i){var u=typeof t=="string"?document.getElementById(t):t,r=u.getElementsByClassName(i);return r.length===0?(n.utils.log("Element "+i+" not found",n.utils.debugger.tabs.WARNING),null):r},y=function(t,i){var u=typeof t=="string"?document.getElementById(t):t,r=u.getElementsByTagName(i);return r.length===0?(n.utils.log("Tag "+i+" not found",n.utils.debugger.tabs.ERROR),null):r[0]},p=function(){var t,i;return typeof innerWidth=="number"?(t=window.innerWidth,i=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(t=document.documentElement.clientWidth,i=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)?(t=document.body.clientWidth,i=document.body.clientHeight):n.utils.log("document.body is not initialize ",n.utils.debugger.tabs.ERROR),{width:t,height:i}},w=function(t,i){var r,e,f,u;if(typeof t!="undefined"&&typeof t.className!="undefined"&&typeof i=="string"){if(r=t.className,r.length===0)r=i;else for(e=r.split(" "),f=i.split(" "),u=0;u<f.length;u++)f[u]!==" "&&e.indexOf(f[u])===-1&&(r+=" "+f[u].trim());t.className=r}else{n.utils.log("Unable to add className:"+i,n.utils.debugger.tabs.WARNING);return}},b=function(t,i){var e,u,f,r,o;if(t&&typeof i=="string"){if(e=t.className,e.length===0)return;for(u=e.split(" "),f=i.split(" "),r=0;r<f.length;r++)o=u.indexOf(f[r]),f[r]!==" "&&o!==-1&&u.splice(o,1);t.className=u.join(" ")}else n.utils.log("Unable to remove className: "+i,n.utils.debugger.tabs.ERROR)},pt=function(n){return typeof Node=="object"?n instanceof Node:n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"},k=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"},d=function(n){var t=n;switch(typeof t){case"string":t=document.getElementById(n);case"object":return k(t)?t:null;default:return null}},g=function(n,t){var r,i;for(t||(t="name"),r=document.getElementsByTagName("meta"),i=0;i<r.length;i++)if(r[i].hasAttribute(t)&&r[i].getAttribute(t)===n)return r[i].getAttribute("content");return null},r=!1,nt=function(n){r=n},tt=function(){return!(!document.mozFullScreen&&!document.webkitIsFullScreen&&!document.msFullscreenElement)||r},it=function(){var n=document.documentElement;return n.requestFullScreen||n.webkitRequestFullScreen||n.mozRequestFullScreen||n.msRequestFullscreen},rt=function(t){var i=n.utils.browser.isIPod()?t:document;return i.exitFullScreen||i.cancelFullScreen||i.webkitExitFullScreen||i.webkitCancelFullScreen||i.mozCancelFullScreen||i.msExitFullscreen},u=function(n){var t=typeof n=="object"?n:document.getElementById(n);t&&(t.style.display="block")},i=function(n){var t=typeof n=="object"?n:document.getElementById(n);t&&(t.style.display="none")},t=null,ut=function(){t?t.innerHTML="header{display:none;}":(t=document.createElement("style"),t.setAttribute("type","text/css"),t.innerHTML="header{display:none;}",document.body.appendChild(t));i("hostNavSticky");i("hostPub")},ft=function(){t&&(t.innerHTML="");u("hostNavSticky")},et=function(n,t){for(var r=["MSFullscreenChange","fullscreenchange","mozfullscreenchange","webkitfullscreenchange"],i=0;i<r.length;i++)window.document[t](r[i],n)},ot=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n.style[i]=t[i])},st=function(){try{return window.self!==window.top}catch(n){return!0}},ht=function(){var t={vScrollbar:!0,hScrollbar:!0},n;try{n=document.compatMode=="BackCompat"?document.body:document.documentElement;t.vScrollbar=n.scrollHeight>n.clientHeight;t.hScrollbar=n.scrollWidth>n.clientWidth}catch(i){}return t},ct=function(n){var i=document.getElementsByTagName("meta"),t;if(i.length>0)for(t=0;t<i.length;t++)if(i[t].hasAttribute("name")&&i[t].getAttribute("name")===n)return i[t].hasAttribute("content")?i[t].getAttribute("content"):"";return""},lt=function(n,t){for(var i in t)n.setAttribute(i,t[i])},at=function(n,t){for(var i=t.parentNode;i!=null;){if(i==n)return!0;i=i.parentNode}return!1},vt=function(n,t){return n.className&&new RegExp("(\\s|^)"+t+"(\\s|$)").test(n.className)},yt=function(n){if(n)try{n.blur?n.blur():n.onblur()}catch(t){}};return{AppendToId:e,AppendToTag:o,AppendToChild:s,getPos:h,AppendToContainer:c,FindByClassName:l,FindAllByClassName:v,FindByTagName:y,GetWindowSize:p,getCssValue:a,findPos:f,addClass:w,removeClass:b,element:d,showElement:u,hideElement:i,isFullscreen:tt,requestFullscreen:it,requestExitFullscreen:rt,setFakeFullscreenMode:nt,setStyleAttributes:ot,setAttributes:lt,hideHeader:ut,showHeader:ft,onFullscreenChange:et,lireMetaTag:g,inIframe:st,getScrollBarState:ht,meta:ct,hasClass:vt,isDescendant:at,blur:yt}}()}(n),function(n){var t=n.utils.color={BLACK:"#000000",RED:"red",GREEN:"lightgreen",BROWN:"brown",YELLOW:"yellow",BLUE:"blue",LIME:"lime",DARKGREEN:"darkgreen",BLUEVIOLET:"blueviolet",CORAL:"coral"}}(n),function(n){var t=n.utils.css={}}(n),function(n){function r(n){return n>=1&&n<=12?f[i==="en"?1:0][n-1]:""}function u(n){return i==="en"?n===1?"1st":n===2?"2nd":n===3?"3rd":n===21?"21st":n===22?"22nd":n===23?"23rd":n===31?"31st":String(n)+"th":n===1?"1er":String(n)}var t=n.utils.date={},i="fr",f=[["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"],["January","February","March","April","May","June","July","August","September","October","November","December"]];t.setLanguage=function(n){i=n.toLowerCase()};t.timecodeToSec=function(n){for(var r=0,i=n.split(":"),t=0;t<i.length;t++)r+=parseInt(i[t],10)*Math.pow(60,i.length-t-1);return r};t.secToHoursMinSecOptional=function(n){var t,i,r;return isNaN(n)||n<0?"":(t=Math.floor(n/3600)>0?Math.floor(n/3600).toString()+":":"",i=Math.floor(n/3600)>0?Math.floor(n%3600/60)<10?"0"+Math.floor(n%3600/60).toString():Math.floor(n%3600/60).toString():Math.floor(n%3600/60).toString(),r=Math.floor(n%60)<10?"0"+Math.floor(n%60).toString():Math.floor(n%60).toString(),t+i+":"+r)};t.strYearMonthDayToDate=function(n){if(!n)return null;var t=n.split("-");return t?new Date(t[0],Math.max(0,t[1]-1),t[2],0,0,0):null};t.strDateHourTimezoneToDate=function(n){if(!n)return null;var r=n.substring(0,n.indexOf("T")),u=n.substring(n.indexOf("T")+1,n.indexOf("Z")),t=r.split("-"),i=u.split(":");return!t||!i?null:new Date(Date.UTC(parseInt(t[0]),parseInt(t[1])-1,parseInt(t[2]),parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),0))};t.strYearMonthDayToString=function(n){var f=n.split("-"),t;return f?(t="",i==="en"?(t=r(parseInt(f[1]))+"&nbsp;",t+=u(parseInt(f[2]))+",&nbsp;",t+=String(f[0])):(t=u(parseInt(f[2]))+"&nbsp;",t+=r(parseInt(f[1]))+"&nbsp;",t+=String(f[0])),t):""};t.dateToString=function(t){return t?n.utils.date.strYearMonthDayToString(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()):""};t.dateToSec=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()};t.dateToHourMinSec=function(n){if(!n)return"";var t=n.getHours()<10?"0"+n.getHours().toString():n.getHours().toString(),i=n.getMinutes()<10?"0"+n.getMinutes().toString():n.getMinutes().toString(),r=n.getSeconds()<10?"0"+n.getSeconds().toString():n.getSeconds().toString();return t+" : "+i+" : "+r};t.dateToHourMin=function(n){if(!n)return"";var t=n.getHours()<10?"0"+n.getHours().toString():n.getHours().toString(),i=n.getMinutes()<10?"0"+n.getMinutes().toString():n.getMinutes().toString();return t+" : "+i+" : "};t.stringTimeToSecond=function(n){var u=0,t,i,r;if(typeof n!="string"||(t=n.split(":"),t.length>3))return null;for(i=t.length-1,r=1;i>=0;i--,r*=60){if(isNaN(t[i]))return null;u+=t[i]*r}return u};t.addHours=function(n,t){return n.setTime(n.getTime()+t*36e5)};t.addSecondes=function(n,t){return n.setTime(n.getTime()+t*1e3)}}(n),function(n){function r(n){return function(){return i(n)}}function u(n){if(!t.isSafari())return!1;var r=new RegExp(/Version\/([\d.]+)/),i=r.exec(navigator.userAgent),u=i===null?null:parseFloat(i[1]);return u>=n}var t=n.utils.browser={},i=n.utils.memoize(function(n){var t=navigator.userAgent.toLowerCase();return t.match(n)!==null});t.isGalaxyS8=r(/sm-g950f/i);t.isGalaxyS8plus=r(/sm-g955f/i);t.isFF=r(/firefox/i);t.isChrome=r(/chrome/i);t.isIPod=r(/iP(hone|od)/i);t.isIPad=r(/iPad/i);t.isIos=r(/iP(hone|od|ad)/i);t.isSafari602=r(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i);t.isMac_Chrome=function(){return/Macintosh(.*)? Mac OS (.*)? Chrome/i.test(navigator.userAgent)};t.isIETrident=function(n){return n?(n=parseFloat(n).toFixed(1),i(new RegExp("trident/.+rv:\\s*"+n,"i"))):i(/trident/i)};t.isMSIE=function(n){return n?(n=parseFloat(n).toFixed(1),i(new RegExp("msie\\s*"+n,"i"))):i(/msie/i)};t.isIE=function(n){return n?(n=parseFloat(n).toFixed(1),n>=11?t.isIETrident(n):t.isMSIE(n)):t.isMSIE()||t.isIETrident()};t.isSafari=function(){return i(/safari/i)&&!i(/chrome/i)&&!i(/chromium/i)&&!i(/android/i)};t.isIOS=function(n){return n?i(new RegExp("iP(hone|ad|od).+\\sOS\\s"+n,"i")):i(/iP(hone|ad|od)/i)};t.isAndroidNative=function(n){return t.isAndroid(n,!0)};t.isAndroid=function(n,r){return r&&i(/chrome\/[123456789]/i)&&!i(/chrome\/18/)?!1:n?(t.isInt(n)&&!/\./.test(n)&&(n=""+n+"."),i(new RegExp("Android\\s*"+n,"i"))):i(/Android/i)};t.isAndroidStockBrowser=function(){var n=navigator.userAgent,f=n.indexOf("Android")>-1&&n.indexOf("Mozilla/5.0")>-1&&n.indexOf("AppleWebKit")>-1,t=new RegExp(/AppleWebKit\/([\d.]+)/),e=t.exec(n),i=e===null?null:parseFloat(t.exec(n)[1]),r=new RegExp(/Chrome\/([\d.]+)/),o=r.exec(n),u=o===null?null:parseFloat(r.exec(n)[1]);return f&&(i!==null&&i<537||u!==null&&u<37)};t.isAutoPlayForbiden=function(){return t.isMobile()};t.isMobile=function(){return t.isIOS()||t.isAndroid()};t.isSupportHLS=function(){var t=window.MediaSource=window.MediaSource||window.WebKitMediaSource,n=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer,i=t&&typeof t.isTypeSupported=="function"&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!n||n.prototype&&typeof n.prototype.appendBuffer=="function"&&typeof n.prototype.remove=="function";return i&&r};t.hasTouch=function(){return window.matchMedia("(pointer: coarse)").matches||t.isIPad()||t.isIPod()};t.isSafariVersion=u}(n),function(n){var u=n.utils,t="touchmove",i="touchstart",r="touchend",f="touchcancel";u.touch=function(u){function p(n){s&&h&&c(e.DRAG_END,n);h=!1;s=!1;o=null}function a(n){n.type===i?(s=!0,o=y(e.DRAG_START,n)):n.type===t?s&&(h?c(e.DRAG,n):(c(e.DRAG_START,n,o),h=!0,c(e.DRAG,n))):(s&&(h?c(e.DRAG_END,n):(n.cancelBubble=!0,c(e.TAP,n))),h=!1,s=!1,o=null)}function c(n,t,i){if(l[n]){w(t);var r=i?i:y(n,t);r&&l[n](r)}}function y(n,t){var r=null,u,i;return(t.touches&&t.touches.length?r=t.touches[0]:t.changedTouches&&t.changedTouches.length&&(r=t.changedTouches[0]),!r)?null:(u=v.getBoundingClientRect(),i={type:n,target:v,x:r.pageX-window.pageXOffset-u.left,y:r.pageY,deltaX:0,deltaY:0},n!==e.TAP&&o&&(i.deltaX=i.x-o.x,i.deltaY=i.y-o.y),i)}function w(n){n.preventManipulation&&n.preventManipulation();n.preventDefault&&n.preventDefault()}var v=u,s=!1,l={},o=null,h=!1,e=n.events.touch;return document.addEventListener(t,a),document.addEventListener(r,p),document.addEventListener(f,a),u.addEventListener(i,a),u.addEventListener(r,a),this.addEventListener=function(n,t){l[n]=t},this.removeEventListener=function(n){delete l[n]},this}}(n),function(n){function t(t){n.utils.log("AJAX :"+t,n.utils.debugger.tabs.AJAX)}var i=n.utils,r=n.utils.ajax=function(i,r,u,f,e){var s,c;if(u=u||function(t){n.utils.log("AJAX ERROR: "+t.message,n.utils.debugger.tabs.ERROR)},typeof XMLHttpRequest=="undefined")throw new Error("This browser does not support XMLHttpRequest.");var a=n.utils.parseURL(i),o=new XMLHttpRequest,h="GET";if(e&&(e.type&&(h=e.type),e.responseType&&(o.responseType=e.responseType),e.session&&(o.session=e.session)),o.open(h,i,!0),f)for(s=0;s<f.length;s++)c=f[s],o.setRequestHeader(c.name,c.value);o.timeout=n.utils.isNotNullOrUndefined(e)&&n.utils.isNotNullOrUndefined(e.timeout)?e.timeout:1e4;o.onload=e&&e.responseType?r:function(){t("xhr.onload");t("xhr.response :"+o.response);try{var n=JSON.parse(o.response)}catch(i){u("Failed to parse response:"+o.response)}r(n)};o.onerror=u;o.onprogress=function(){t("onProgress")};o.ontimeout=function(){t("onTimeout");u.call(this,arguments)};o.abort=function(){t("onAbort")};o.onreadystatechange=function(){t("onReadystatechange")};o.onloadstart=function(){t("onloadstart")};try{o.send(h==="POST"?e.body:null)}catch(l){u(l)}}}(n),function(n){function r(i,r,o,s){var h,c=!1;if(i.indexOf("#")>0&&(i=i.replace(/#.*$/,"")),u(i)&&n.utils.exists(window.XDomainRequest))h=new window.XDomainRequest,h.onload=t(h,i,r,o,s),h.ontimeout=h.onprogress=function(){},h.timeout=5e3;else if(n.utils.exists(window.XMLHttpRequest))h=new window.XMLHttpRequest,h.onreadystatechange=e(h,i,r,o,s);else return o&&o("",i,h),h;h.overrideMimeType&&h.overrideMimeType("text/xml");h.onerror=f(o,i,h);try{h.open("GET",i,!0)}catch(l){c=!0}return window.setTimeout(function(){if(c){o&&o(i,i,h);return}try{h.send()}catch(n){o&&o(i,i,h)}},0),h}function u(n){return n&&n.indexOf("://")>=0&&n.split("/")[2]!==window.location.href.split("/")[2]}function f(n,t,i){return function(){n("Error loading file",t,i)}}function e(n,i,r,u,f){return function(){if(n.readyState===4)switch(n.status){case 200:t(n,i,r,u,f)();break;case 404:u("File not found",i,n)}}}function t(n,t,i){return function(){i(n.responseText)}}var i=n.utils.HTTPRequest={};i.getRemote=function(t,i,u){n.utils.log("HTTPRequest -- url: "+t,n.utils.debugger.tabs.EVENTS);r(t,i,u,!0)}}(n),function(n){Array.prototype.map||(Array.prototype.map=function(n,t){var e,u,i,r,f,o,s;if(this===null)throw new TypeError(" this is null or not defined");if(r=Object(this),f=r.length>>>0,typeof n!="function")throw new TypeError(n+" is not a function");for(t&&(e=t),u=new Array(f),i=0;i<f;)i in r&&(o=r[i],s=n.call(e,o,i,r),u[i]=s),i++;return u});var t=n.utils.detect=function(){var n=function(){};n.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"];n.types=["browser","os","device"];n.regexes={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]}||function(){var t={};return n.parsers.map(function(n){t[n]=[]}),t}();n.families=function(){var t={};return n.types.map(function(n){t[n]=[]}),t}();var e=Array.prototype,l=Object.prototype,a=Function.prototype,o=e.forEach,s=e.indexOf,r=function(n,t){for(var i={},r=0;r<t.length;r++)if(i=t[r](n),i)break;return i},h=function(n,t){u(n,function(n){u(t,function(t){delete n[t]})})},v=function(n,t){return n==null?!1:s&&n.indexOf===s?n.indexOf(t)!=-1:any(n,function(n){return n===t})},c=function(n,t,i){var r,f,u;if(n!=null)if(o&&n.forEach===o)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n);else for(u in n)_.has(n,u)&&t.call(i,n[u],u,n)},u=c,y=function(n){return u(slice.call(arguments,1),function(t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}),n},t=function(n){return!!(n&&typeof n!="undefined"&&n!=null)},i=function(n){var i="";return n=n||{},t(n)&&t(n.major)&&(i+=n.major,t(n.minor)&&(i+="."+n.minor,t(n.patch)&&(i+="."+n.patch))),i},f=function(n){n=n||{};var r=i(n);return r&&(r=" "+r),n&&t(n.family)?n.family+r:""};return n.parse=function(u){var o=function(t){return n.regexes[t+"_parsers"].map(function(n){function f(t){var f=t.match(u),e;return f?(e={},e.family=(i?i.replace("$1",f[1]):f[1])||"other",e.major=parseInt(r?r:f[2])||null,e.minor=f[3]?parseInt(f[3]):null,e.patch=f[4]?parseInt(f[4]):null,e.tablet=n.tablet,e.man=n.manufacturer||null,e):null}var u=new RegExp(n.regex),i=n[(t==="browser"?"family":t)+"_replacement"],r=n.major_version_replacement;return f})},c=function(){},l=o("browser"),a=o("os"),v=o("device"),e=new c;e.source=u;e.browser=r(u,l);t(e.browser)?(e.browser.name=f(e.browser),e.browser.version=i(e.browser)):e.browser={};e.os=r(u,a);t(e.os)?(e.os.name=f(e.os),e.os.version=i(e.os)):e.os={};e.device=r(u,v);t(e.device)?(e.device.name=f(e.device),e.device.version=i(e.device)):e.device={tablet:!1,family:"Other"};var s={},y=n.regexes.mobile_browser_families.map(function(n){s[n]=!0}),p=n.regexes.mobile_os_families.map(function(n){s[n]=!0});return e.device.type=e.browser.family==="Spider"?"Spider":e.browser.tablet||e.os.tablet||e.device.tablet?"Tablet":s.hasOwnProperty(e.browser.family)?"Mobile":"Desktop",e.device.manufacturer=e.browser.man||e.os.man||e.device.man||null,h([e.browser,e.os,e.device],["tablet","man"]),e},n}();typeof exports!="undefined"&&(typeof module!="undefined"&&module.exports&&(exports=module.exports=t),exports.detect=t)}(n),function(n){var i=n.utils,t=n.events.nativeevents.TOUCH_MOVE,r=n.events.nativeevents.TOUCH_START,u=n.events.nativeevents.TOUCH_END,f=n.events.nativeevents.TOUCH_GESTUREEND,e=n.events.nativeevents.ORIENTATION_CHANGE;i.Fullscreen=function(o,s,h){function it(n){return Math.sqrt(Math.pow(n.touches[0].pageX-n.touches[1].pageX,2)+Math.pow(n.touches[0].pageY-n.touches[1].pageY,2))}function w(n,t,i){c.log("touch interface _fireEvent :"+n,v);c.fireEvent(n,t,i)}function a(){return s.fullscreen.isItMe()}function vt(){var n=0,t=0;return typeof outerWidth=="number"?(n=b?window.innerWidth:window.outerWidth,t=b?window.innerHeight:window.outerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(n=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)?(n=document.body.clientWidth,t=document.body.clientHeight):c.log("document.body is not initialize ",ht),{width:n,height:t}}function rt(){if(c.log("touch interface _onResize:"),a()){var n=vt();(k.width!==n.width||k.height!==n.height)&&(c.log("_onResize: window.resize( w="+n.width+", h="+n.height+")",v),w(p.RESIZE_FULLSCREEN,n),k=n)}}function ut(n){n.preventDefault();n.touches.length===2&&(g=it(n))}function y(t){c.log("touch interface _onTouchMove()",n.utils.debugger.tabs.TOUCH);(t.touches.length===2||a())&&t.preventDefault()}function ft(n){n.preventDefault();l.removeEventListener(u,ft,!1);l.removeEventListener(t,ut,!1);l.addEventListener(t,y,!1);var i=g-d;c.log("touch interface _onGestureEnd2("+i+")",v);i>10&&!a()?w(p.FULLSCREEN_ENTER):i<-10&&a()&&w(p.FULLSCREEN_EXIT)}function et(n){if(c.log("touch interface _onTouchStart()",v),n&&n.touches&&n.touches.length===2&&(l.addEventListener(u,ft,!1),l.removeEventListener(t,y),l.addEventListener(t,ut,!1),d=it(n)),a()){var i=new Date;i-nt<300&&n.preventDefault();nt=i}}function ot(n){i.log("touch interface _onGestureEnd",v);n.scale<1&&a()&&(c.log("_onGestureClose",v),w(p.FULLSCREEN_EXIT));n.scale>1&&!a()&&(c.log("_onGestureOpen",v),w(p.FULLSCREEN_ENTER))}function st(n){a()&&n.preventDefault()}var c=this,v=n.utils.debugger.tabs.GUI,ht=n.utils.debugger.tabs.ERROR,p=n.events.touch,yt=n.events.core,l=o,d,g,nt=new Date,ct=i.browser.isIOS(),lt=i.browser.isIPad(),tt=0,b=n.utils.browser.isIPad(),k={width:b?window.innerWidth:window.outerWidth,height:b?window.innerHeight:window.outerHeight},at=null;i.extend(c,new n.events.EventRegistration("fullscreen"));i.extend(c,new i.LogInstance("fullscreen"));c.enter=function(n){c.log("touch interface enter",v);at=n;lt?(l.addEventListener(f,ot,!1),l.addEventListener(t,st,!1)):l.addEventListener(r,et,!1);l.addEventListener(t,y,!1)};c.exit=function(){a()&&(c.log("touch interface exit",v),ct?(l.removeEventListener(f,ot),l.removeEventListener(t,y),l.removeEventListener(t,st,!1)):(l.removeEventListener(r,et),l.removeEventListener(t,y),l.removeEventListener("click",y)))};window.addEventListener(e,rt)}}(n),function(n){n.utils.IsSeekable=function(t,i){function c(){u.isLive()||s||(n.utils.dom.removeClass(a,"disabled"),o=!1)}function l(){n.utils.dom.addClass(a,"disabled");o=!0}function y(){s=!0;l()}function p(){s=!1;c()}function w(n){n.data.name==="isSeekable"&&(n.data.value?c():l())}var r=this,f=t,a=i,u=f.internalApi,e=n.events.core,o=!1,s=!1,v=0,h=!1;r.isDisabled=function(){var i=n.utils.dom.FindByClassName(f.container,"bottomcontainer");return i.className.indexOf("showstate")===-1&&(t.timerManager.clearTimeout(v),h=!0,v=t.timerManager.setTimeout(function(){h=!1},1e3)),o||h};r.initSeekable=function(){!f.playerSettings.isSeekable||u.isLive()?l():c()};u.addEventListener(e.COMPLETE,r,r.initSeekable);u.addEventListener(e.READY,r,r.initSeekable);u.addEventListener(e.AD_STARTED,r,y);u.addEventListener(e.AD_COMPLETE,r,p);f.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,w)}}(n),function(n){function t(n,t){var i=t||n.target||n.srcElement;i.__resizeRAF__&&f(i.__resizeRAF__);i.__resizeRAF__=u(function(){var t=i.__resizeTrigger__;t.__resizeListeners__.forEach(function(i){i.call(t,n)})})}function e(n){if(this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",t),this.alreadyLoaded){t.call(this,n,this.contentDocument.defaultView);return}this.alreadyLoaded=!0}var i=document.attachEvent,r=navigator.userAgent.match(/Trident/),u=function(){var n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(n){return window.setTimeout(n,20)};return function(t){return n(t)}}(),f=function(){var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return n(t)}}();n.utils.addResizeListener=function(n,u){if(!n.__resizeListeners__)if(n.__resizeListeners__=[],i)n.__resizeTrigger__=n,n.attachEvent("onresize",t);else{getComputedStyle(n).position=="static"&&(n.style.position="relative");var f=n.__resizeTrigger__=document.createElement("object");f.alreadyLoaded=!1;f.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");f.__resizeElement__=n;f.onload=e;f.type="text/html";r&&n.appendChild(f);f.data="about:blank";r||n.appendChild(f);f.setAttribute("aria-hidden","true");f.setAttribute("tabindex","-1")}n.__resizeListeners__.push(u)};n.utils.removeResizeListener=function(n,r){n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(r),1);n.__resizeListeners__.length||(i?n.detachEvent("onresize",t):(n.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",t),n.__resizeTrigger__=!n.removeChild(n.__resizeTrigger__)))}}(n),function(n){var t=n.utils;t.ButtonEvents=function(i,r,u,f,e){function l(n){c||(c=!0,typeof n!="undefined"&&n.preventDefault(),e.timerManager.setTimeout(function(){c=!1},600),_isVisible===!0&&v(n))}function p(){typeof a.playerSettings[u]!="undefined"&&a.playerSettings[u]===!1?(o.style.display="none",_isVisible=!1):_isVisible=!0}var a=e,s=this,o=i,v=f,h=n.events.nativeevents,y=u,c;t.extend(s,new n.events.EventRegistration("btnEvent"));t.extend(s,new t.LogInstance("ButtonEvents"));c=!1;s.disableBtn=function(){o.removeEventListener(h.CLICK,l);o.removeEventListener(h.TOUCH_START,l);o.style.cursor="default"};s.enableBtn=function(){o.addEventListener(h.CLICK,l);o.addEventListener(h.TOUCH_START,l);o.style.cursor="pointer"};s.enableBtn();a.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,function(n){n.data.name===y&&n.data.value===!1?(o.style.display="none",_isVisible=!1):_isVisible=!0});p()}}(n),n.utils.PlayPauseCommandManager=function(n,t,i){this.isRunning=!1;this.commands=n;this.currentCommandIndex=0;this.currentCommand=this.commands[0].name;this.lastCommandManager=t;this.api=i},n.utils.PlayPauseCommandManager.prototype={constructor:n.utils.PlayPauseCommandManager,setCommand:function(n){var t=this.getCommandIndexByName(n.name);if(t===-1)throw"Command "+n.name+" not found";this.currentCommandIndex=t;this.currentCommand=n},setCommandByName:function(n){var t=this.getCommandIndexByName(n);if(t===-1)throw"Command "+n+" not found";this.currentCommandIndex=t;this.currentCommand=this.commands[t]},nextCommand:function(n){var r=this.commands.length,i=this.currentCommandIndex+1,t=this.commands[0];return i!==r?(t=this.commands[i],this.setCommand(t)):(t=this.commands[0],this.setCommand(t)),this.refreshUI(t.name,n),this.lastCommandManager.add(t.name),this.runLastCommand(n),this.getCurrentCommand()},refreshUI:function(n,t){var i=this.getCommandByName(n);i!==null&&i.ui_callback.call(null,t)},getCommandByName:function(n){for(var i,t=0;t<this.commands.length;t++)if(i=this.commands[t],i.name===n)return i;return null},getCommandIndexByName:function(n){for(var i,t=0;t<this.commands.length;t++)if(i=this.commands[t],i.name===n)return t;return-1},getCurrentCommand:function(){return this.currentCommand},runLastCommand:function(n){if(this.lastCommandManager.hasLastCommand()&&!this.isRunning){this.isRunning=!0;this.api[this.lastCommandManager.lastCommand].call(this,null,n);this.lastCommandManager.clear();return}this.isRunning=!1;this.syncCurrentCommandWithPlayer()},syncCurrentCommandWithPlayer:function(){var n="";n=this.api.media().isPlaying()?"play":"pause";this.setCommandByName(n)},commandCompleted:function(n,t){t=t||{};this.isRunning=!1;this.refreshUI(n,t);this.setCommandByName(n);this.runLastCommand()},log:function(t){n.utils.log(t,"info","blue")}},n.utils.LastCommandManager=function(n){this.possibleCommands=n||[];this.lastCommand=null},n.utils.LastCommandManager.prototype={constructor:n.utils.LastCommandManager,add:function(n){if(this.isPossible(n))this.lastCommand=n;else throw"Command "+n+" not possible";},isPossible:function(n){return this.possibleCommands.indexOf(n)!==-1},hasLastCommand:function(){return this.lastCommand!==null},clear:function(){this.lastCommand=null}},function(n){"use strict";function e(n,i,r){return(typeof i=="string"?i:i.toString()).replace(n.define||t,function(t,i,u,f){return i.indexOf("def.")===0&&(i=i.substring(4)),i in r||(u===":"?(n.defineParams&&f.replace(n.defineParams,function(n,t,u){r[i]={arg:t,text:u}}),i in r||(r[i]=f)):new Function("def","def['"+i+"']="+f)(r)),""}).replace(n.use||t,function(t,i){n.useParams&&(i=i.replace(n.useParams,function(n,t,i,u){if(r[i]&&r[i].arg&&u){var f=(i+":"+u).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[f]=r[i].text.replace(new RegExp("(^|[^\\w$])"+r[i].arg+"([^\\w$])","g"),"$1"+u+"$2"),t+"def.__exp['"+f+"']"}}));var u=new Function("def","return "+i)(r);return u?e(n,u,r):u})}function r(n){return n.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var i=n.utils.doT={version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:undefined,compile:undefined,log:!0},u,f,t;i.encodeHTMLSource=function(n){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=n?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(n){return n?n.toString().replace(i,function(n){return t[n]||n}):""}};u=function(){return this||eval("this")}();f={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}};t=/$^/;i.template=function(n,o,s){o=o||i.templateSettings;var l=o.append?f.append:f.split,v,h=0,a,c=o.use||o.define?e(o,n,s||{}):n;c=("var out='"+(o.strip?c.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):c).replace(/'|\\/g,"\\$&").replace(o.interpolate||t,function(n,t){return l.start+r(t)+l.end}).replace(o.encode||t,function(n,t){return v=!0,l.startencode+r(t)+l.end}).replace(o.conditional||t,function(n,t,i){return t?i?"';}else if("+r(i)+"){out+='":"';}else{out+='":i?"';if("+r(i)+"){out+='":"';}out+='"}).replace(o.iterate||t,function(n,t,i,u){return t?(h+=1,a=u||"i"+h,t=r(t),"';var arr"+h+"="+t+";if(arr"+h+"){var "+i+","+a+"=-1,l"+h+"=arr"+h+".length-1;while("+a+"<l"+h+"){"+i+"=arr"+h+"["+a+"+=1];out+='"):"';} } out+='"}).replace(o.evaluate||t,function(n,t){return"';"+r(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");v&&(o.selfcontained||!u||u._encodeHTML||(u._encodeHTML=i.encodeHTMLSource(o.doNotSkipEncoded)),c="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+i.encodeHTMLSource.toString()+"("+(o.doNotSkipEncoded||"")+"));"+c);try{return new Function(o.varname,c)}catch(y){typeof console!="undefined"&&console.log("Could not create a template function: "+c);throw y;}};i.compile=function(n,t){return i.template(n,null,t)}}(n),function(n){n.utils.TimerManager=function(){function t(t){n.push(t)}function f(n){window.clearTimeout(n);window.clearInterval(n)}function i(t){var i=n.indexOf(t);i>-1&&n.splice(i,1)}var n=[],r=function(){var n=window.setTimeout.apply(window,arguments);return t(n),n},u=function(){var n=window.setInterval.apply(window,arguments);return t(n),n},e=function(n){return i(n),window.clearTimeout.apply(window,arguments)},o=function(n){i(n);window.clearInterval.apply(window,arguments)},s=function(){for(var i=0,t=0;t<n.length;t++)i=n[t],f(i);n=[]};return{setTimeout:r,setInterval:u,removeAll:s,clearTimeout:e,clearInterval:o}}}(n),function(n){for(var t,f=n.utils.FullscreenApi={},i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e=i[0],r=void 0,u=0;u<i.length;u++)if(i[u][1]in document){r=i[u];break}if(r)for(t=0;t<r.length;t++)f[e[t]]=r[t]}(n),function(n){var t=n.utils.dom,r=function(n){n.setAttribute("tabindex","0");n.setAttribute("aria-hidden","false")},u=function(n){n.setAttribute("aria-hidden","true");n.setAttribute("tabindex","-1")},f=function(n,t){n.setAttribute("aria-label",t);n.setAttribute("label",t);n.setAttribute("title",t)},e=function(n){var t=38,i=40,r,u,f;(n.keyCode===i||n.keyCode===t)&&n.preventDefault();r=n.target;(n.keyCode===i||n.keyCode===t)&&n.preventDefault();u=r.nextSibling;f=r.previousSibling;u&&n.keyCode===i&&u.focus();f&&n.keyCode===t&&f.focus()},i=function(n){var t=!0;if(n){var i=n.screenX===0&&n.screenY===0||typeof n.screenX=="undefined"&&typeof n.screenY=="undefined",r=n.key==="Enter",u=n.mozInputSource===0;(i||r||u)&&(t=!1)}return t},o=function(r,u){var f=u.type==="click"&&i(u),e=t.hasClass(r,"progressbar")?"a11y-focus-border":"a11y-focus";u.type==="blur"||u.type==="focusout"||f?n.utils.dom.removeClass(r,e):n.utils.dom.addClass(r,e);!f||t.hasClass(r,"bitRate")||n.utils.browser.isSafari()||n.utils.dom.blur(r)},s=function(n){return n.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]')};n.utils.a11y={activate:r,deactivate:u,upDownArrowNavigation:e,detectMouseNavigation:i,toggleA11yFocus:o,modifyLabel:f,getElementFirstFocusableElement:s}}(n),n.utils.loadjs=function(){function o(n,t){n=n.push?n:[n];for(var i,e,s,h=[],o=n.length,c=o,f=function(n,i){i.length&&h.push(n);--c||t(h)};o--;)i=n[o],e=u[i],e?f(i,e):(s=r[i]=r[i]||[],s.push(f))}function f(n,t){if(n){var i=r[n];if(u[n]=t,i)for(;i.length;)i[0](n,t),i.splice(0,1)}}function e(n,i,r,u){var s,f,o=document,h=r.async,c=(r.numRetries||0)+1,l=r.before||t;u=u||0;/(^css!|\.css$)/.test(n)?(s=!0,f=o.createElement("link"),f.rel="stylesheet",f.href=n.replace(/^css!/,"")):(f=o.createElement("script"),f.src=n,f.async=void 0===h||h);f.onload=f.onerror=f.onbeforeload=function(t){var o=t.type[0];if(s&&"hideFocus"in f)try{f.sheet.cssText.length||(o="e")}catch(n){o="e"}if("e"==o&&(u+=1)<c)return e(n,i,r,u);i(n,o,t.defaultPrevented)};l(n,f)!==!1&&o.head.appendChild(f)}function s(n,t,i){n=n.push?n:[n];for(var o=n.length,s=o,u=[],f=function(n,i,r){if("e"==i&&u.push(n),"b"==i){if(!r)return;u.push(n)}--o||t(u)},r=0;r<s;r++)e(n[r],f,i)}function n(n,r,u){var e,o;if(r&&r.trim&&(e=r),o=(e?u:r)||{},e){if(e in i)throw"LoadJS";i[e]=!0}s(n,function(n){n.length?(o.error||t)(n):(o.success||t)();f(e,n)},o)}var t=function(){},i={},u={},r={};return n.ready=function(i,r){return o(i,function(n){n.length?(r.error||t)(n):(r.success||t)()}),n},n.done=function(n){f(n,[])},n.reset=function(){i={};u={};r={}},n.isDefined=function(n){return n in i},n}(),function(n){n.utils.convert=function(){function n(n){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",e,r,u,h,c,o,f,t=0;t<n.length;)e=n[t++],r=t<n.length?n[t++]:Number.NaN,u=t<n.length?n[t++]:Number.NaN,h=e>>2,c=(e&3)<<4|r>>4,o=(r&15)<<2|u>>6,f=u&63,isNaN(r)?o=f=64:isNaN(u)&&(f=64),s+=i.charAt(h)+i.charAt(c)+i.charAt(o)+i.charAt(f);return s}function t(n){var t=window.atob(n),r=t.length,u=new Uint8Array(new ArrayBuffer(r));for(i=0;i<r;i++)u[i]=t.charCodeAt(i);return u}function r(n){for(var r=new ArrayBuffer(n.length*2),i=new Uint16Array(r),t=0,u=n.length;t<u;t++)i[t]=n.charCodeAt(t);return i}function u(n){var t=new Uint16Array(n.buffer);return String.fromCharCode.apply(null,t)}return{base64EncodeUint8Array:n,base64DecodeUint8Array:t,stringToArray:r,arrayToString:u}}()}(n),function(){function nt(t){function r(n,i,r,u,f,e){for(;f>=0&&e>f;f+=t){var o=u?u[f]:f;r=i(r,n[o],o,n)}return r}return function(u,f,o,s){f=e(f,s,4);var h=!i(u)&&n.keys(u),l=(h||u).length,c=t>0?0:l-1;return arguments.length<3&&(o=u[h?h[c]:c],c+=t),r(u,f,o,h,c,l)}}function tt(n){return function(i,r,f){r=t(r,f);for(var o=u(i),e=n>0?0:o-1;e>=0&&o>e;e+=n)if(r(i[e],e,i))return e;return-1}}function it(t,i,f){return function(e,o,s){var c=0,h=u(e);if("number"==typeof s)t>0?c=s>=0?s:Math.max(s+h,c):h=s>=0?Math.min(s+1,h):s+h+1;else if(f&&s&&h)return s=f(e,o),e[s]===o?s:-1;if(o!==o)return s=i(r.call(e,c,h),n.isNaN),s>=0?s+c:-1;for(s=t>0?c:h-1;s>=0&&h>s;s+=t)if(e[s]===o)return s;return-1}}function rt(t,i){var u=d.length,f=t.constructor,e=n.isFunction(f)&&f.prototype||v,r="constructor";for(n.has(t,r)&&!n.contains(i,r)&&i.push(r);u--;)r=d[u],r in t&&t[r]!==e[r]&&!n.contains(i,r)&&i.push(r)}var a=this,lt=a._,s=Array.prototype,v=Object.prototype,at=Function.prototype,vt=s.push,r=s.slice,o=v.toString,yt=v.hasOwnProperty,pt=Array.isArray,ut=Object.keys,y=at.bind,ft=Object.create,p=function(){},n=function(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)},e,t,h,f,b,k,d,c,ct,l;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):a._=n;n.VERSION="1.8.3";e=function(n,t,i){if(t===void 0)return n;switch(null==i?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};t=function(t,i,r){return null==t?n.identity:n.isFunction(t)?e(t,i,r):n.isObject(t)?n.matcher(t):n.property(t)};n.iteratee=function(n,i){return t(n,i,1/0)};var w=function(n,t){return function(i){var e=arguments.length,r,u;if(2>e||null==i)return i;for(r=1;e>r;r++)for(var o=arguments[r],s=n(o),h=s.length,f=0;h>f;f++)u=s[f],t&&i[u]!==void 0||(i[u]=o[u]);return i}},et=function(t){if(!n.isObject(t))return{};if(ft)return ft(t);p.prototype=t;var i=new p;return p.prototype=null,i},ot=function(n){return function(t){if(null!=t)return t[n]}},wt=Math.pow(2,53)-1,u=ot("length"),i=function(n){var t=u(n);return"number"==typeof t&&t>=0&&wt>=t};n.each=n.forEach=function(t,r,u){var f,o,s;if(r=e(r,u),i(t))for(f=0,o=t.length;o>f;f++)r(t[f],f,t);else for(s=n.keys(t),f=0,o=s.length;o>f;f++)r(t[s[f]],s[f],t);return t};n.map=n.collect=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,c=Array(h),e=0;h>e;e++)s=o?o[e]:e,c[e]=u(r[s],s,r);return c};n.reduce=n.foldl=n.inject=nt(1);n.reduceRight=n.foldr=nt(-1);n.find=n.detect=function(t,r,u){var f;return f=i(t)?n.findIndex(t,r,u):n.findKey(t,r,u),f!==void 0&&f!==-1?t[f]:void 0};n.filter=n.select=function(i,r,u){var f=[];return r=t(r,u),n.each(i,function(n,t,i){r(n,t,i)&&f.push(n)}),f};n.reject=function(i,r,u){return n.filter(i,n.negate(t(r)),u)};n.every=n.all=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,!u(r[s],s,r))return!1;return!0};n.some=n.any=function(r,u,f){var s;u=t(u,f);for(var o=!i(r)&&n.keys(r),h=(o||r).length,e=0;h>e;e++)if(s=o?o[e]:e,u(r[s],s,r))return!0;return!1};n.contains=n.includes=n.include=function(t,r,u,f){return i(t)||(t=n.values(t)),("number"!=typeof u||f)&&(u=0),n.indexOf(t,r,u)>=0};n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){var t=f?i:n[i];return null==t?t:t.apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matcher(i))};n.findWhere=function(t,i){return n.find(t,n.matcher(i))};n.max=function(r,u,f){var h,o,e=-1/0,c=-1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],h>e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o>c||o===-1/0&&e===-1/0)&&(e=n,c=o)});return e};n.min=function(r,u,f){var h,o,e=1/0,c=1/0,s,l;if(null==u&&null!=r)for(r=i(r)?r:n.values(r),s=0,l=r.length;l>s;s++)h=r[s],e>h&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(c>o||1/0===o&&1/0===e)&&(e=n,c=o)});return e};n.shuffle=function(t){for(var u,e=i(t)?t:n.values(t),o=e.length,f=Array(o),r=0;o>r;r++)u=n.random(0,r),u!==r&&(f[r]=f[u]),f[u]=e[r];return f};n.sample=function(t,r,u){return null==r||u?(i(t)||(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,r))};n.sortBy=function(i,r,u){return r=t(r,u),n.pluck(n.map(i,function(n,t,i){return{value:n,index:t,criteria:r(n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index-t.index}),"value")};h=function(i){return function(r,u,f){var e={};return u=t(u,f),n.each(r,function(n,t){var f=u(n,t,r);i(e,n,f)}),e}};n.groupBy=h(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=h(function(n,t,i){n[i]=t});n.countBy=h(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.toArray=function(t){return t?n.isArray(t)?r.call(t):i(t)?n.map(t,n.identity):n.values(t):[]};n.size=function(t){return null==t?0:i(t)?t.length:n.keys(t).length};n.partition=function(i,r,u){r=t(r,u);var f=[],e=[];return n.each(i,function(n,t,i){(r(n,t,i)?f:e).push(n)}),[f,e]};n.first=n.head=n.take=function(t,i,r){if(null!=t)return null==i||r?t[0]:n.initial(t,t.length-i)};n.initial=function(n,t,i){return r.call(n,0,Math.max(0,n.length-(null==t||i?1:t)))};n.last=function(t,i,r){if(null!=t)return null==i||r?t[t.length-1]:n.rest(t,Math.max(0,t.length-i))};n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,null==t||i?1:t)};n.compact=function(t){return n.filter(t,n.identity)};f=function(t,r,e,o){for(var s,l,a,h=[],v=0,c=o||0,y=u(t);y>c;c++)if(s=t[c],i(s)&&(n.isArray(s)||n.isArguments(s)))for(r||(s=f(s,r,e)),l=0,a=s.length,h.length+=a;a>l;)h[v++]=s[l++];else e||(h[v++]=s);return h};n.flatten=function(n,t){return f(n,t,!1)};n.without=function(t){return n.difference(t,r.call(arguments,1))};n.uniq=n.unique=function(i,r,f,e){var o,c;n.isBoolean(r)||(e=f,f=r,r=!1);null!=f&&(f=t(f,e));for(var s=[],l=[],h=0,a=u(i);a>h;h++)o=i[h],c=f?f(o,h,i):o,r?(h&&l===c||s.push(o),l=c):f?n.contains(l,c)||(l.push(c),s.push(o)):n.contains(s,o)||s.push(o);return s};n.union=function(){return n.uniq(f(arguments,!0,!0))};n.intersection=function(t){for(var r,i,f=[],o=arguments.length,e=0,s=u(t);s>e;e++)if(r=t[e],!n.contains(f,r)){for(i=1;o>i&&n.contains(arguments[i],r);i++);i===o&&f.push(r)}return f};n.difference=function(t){var i=f(arguments,!0,!0,1);return n.filter(t,function(t){return!n.contains(i,t)})};n.zip=function(){return n.unzip(arguments)};n.unzip=function(t){for(var r=t&&n.max(t,u).length||0,f=Array(r),i=0;r>i;i++)f[i]=n.pluck(t,i);return f};n.object=function(n,t){for(var r={},i=0,f=u(n);f>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.findIndex=tt(1);n.findLastIndex=tt(-1);n.sortedIndex=function(n,i,r,f){var o;r=t(r,f,1);for(var h=r(i),e=0,s=u(n);s>e;)o=Math.floor((e+s)/2),r(n[o])<h?e=o+1:s=o;return e};n.indexOf=it(1,n.findIndex,n.sortedIndex);n.lastIndexOf=it(-1,n.findLastIndex);n.range=function(n,t,i){null==t&&(t=n||0,n=0);i=i||1;for(var u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;u>r;r++,n+=i)f[r]=n;return f};b=function(t,i,r,u,f){if(!(u instanceof i))return t.apply(r,f);var e=et(t.prototype),o=t.apply(e,f);return n.isObject(o)?o:e};n.bind=function(t,i){if(y&&t.bind===y)return y.apply(t,r.call(arguments,1));if(!n.isFunction(t))throw new TypeError("Bind must be called on a function");var f=r.call(arguments,2),u=function(){return b(t,u,i,this,f.concat(r.call(arguments)))};return u};n.partial=function(t){var i=r.call(arguments,1),u=function(){for(var f=0,o=i.length,e=Array(o),r=0;o>r;r++)e[r]=i[r]===n?arguments[f++]:i[r];for(;f<arguments.length;)e.push(arguments[f++]);return b(t,u,this,this,e)};return u};n.bindAll=function(t){var i,r,u=arguments.length;if(1>=u)throw new Error("bindAll must be passed function names");for(i=1;u>i;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=""+(i?i.apply(this,arguments):u);return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)};n.defer=n.partial(n.delay,n,1);n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,0>=c||c>i?(u&&(clearTimeout(u),u=null),o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;i>c&&c>=0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0&&(i=t.apply(this,arguments)),1>=n&&(t=null),i}};n.once=n.partial(n.before,2);k=!{toString:null}.propertyIsEnumerable("toString");d=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(ut)return ut(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return k&&rt(t,i),i};n.allKeys=function(t){var i,r;if(!n.isObject(t))return[];i=[];for(r in t)i.push(r);return k&&rt(t,i),i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=t[r[i]];return f};n.mapObject=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),h=o.length,s={},e=0;h>e;e++)f=o[e],s[f]=r(i[f],f,i);return s};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;u>i;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;f>i;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=w(n.allKeys);n.extendOwn=n.assign=w(n.keys);n.findKey=function(i,r,u){r=t(r,u);for(var f,o=n.keys(i),e=0,s=o.length;s>e;e++)if(f=o[e],r(i[f],f,i))return f};n.pick=function(t,i,r){var c,o,l={},u=t,s,v,h,a;if(null==u)return l;for(n.isFunction(i)?(o=n.allKeys(u),c=e(i,r)):(o=f(arguments,!1,!1,1),c=function(n,t,i){return t in i},u=Object(u)),s=0,v=o.length;v>s;s++)h=o[s],a=u[h],c(a,h,u)&&(l[h]=a);return l};n.omit=function(t,i,r){if(n.isFunction(i))i=n.negate(i);else{var u=n.map(f(arguments,!1,!1,1),String);i=function(t,i){return!n.contains(u,i)}}return n.pick(t,i,r)};n.defaults=w(n.allKeys,!0);n.create=function(t,i){var r=et(t);return i&&n.extendOwn(r,i),r};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};n.isMatch=function(t,i){var e=n.keys(i),o=e.length,f,r,u;if(null==t)return!o;for(f=Object(t),r=0;o>r;r++)if(u=e[r],i[u]!==f[u]||!(u in f))return!1;return!0};c=function(t,i,r,u){var h,a,e,s,f,l,v;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),h=o.call(t),h!==o.call(i))return!1;switch(h){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:0==+t?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(a="[object Array]"===h,!a&&("object"!=typeof t||"object"!=typeof i||(e=t.constructor,s=i.constructor,e!==s&&!(n.isFunction(e)&&e instanceof e&&n.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in i)))return!1;for(r=r||[],u=u||[],f=r.length;f--;)if(r[f]===t)return u[f]===i;if(r.push(t),u.push(i),a){if(f=t.length,f!==i.length)return!1;for(;f--;)if(!c(t[f],i[f],r,u))return!1}else{if(v=n.keys(t),f=v.length,n.keys(i).length!==f)return!1;for(;f--;)if(l=v[f],!n.has(i,l)||!c(t[l],i[l],r,u))return!1}return r.pop(),u.pop(),!0};n.isEqual=function(n,t){return c(n,t)};n.isEmpty=function(t){return null==t?!0:i(t)&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?0===t.length:0===n.keys(t).length};n.isElement=function(n){return!(!n||1!==n.nodeType)};n.isArray=pt||function(n){return"[object Array]"===o.call(n)};n.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(n){return o.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(n.isFunction=function(n){return"function"==typeof n||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===o.call(n)};n.isNull=function(n){return null===n};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return null!=n&&yt.call(n,t)};n.noConflict=function(){return a._=lt,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=ot;n.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}};n.matcher=n.matches=function(t){return t=n.extendOwn({},t),function(i){return n.isMatch(i,t)}};n.times=function(n,t,i){var u=Array(Math.max(0,n)),r;for(t=e(t,i,1),r=0;n>r;r++)u[r]=t(r);return u};n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bt=n.invert(st),ht=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=null==n?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=ht(st);n.unescape=ht(bt);n.result=function(t,i,r){var u=null==t?void 0:t[i];return u===void 0&&(u=r),n.isFunction(u)?u.call(t):u};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g,gt=function(n){return"\\"+kt[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||g).source,(i.interpolate||g).source,(i.evaluate||g).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(dt,gt),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){throw s.source=u,s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};l=function(t,i){return t._chain?n(i).chain():i};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return vt.apply(t,arguments),l(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=s[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],l(this,n)}});n.each(["concat","join","slice"],function(t){var i=s[t];n.prototype[t]=function(){return l(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};n.prototype.valueOf=n.prototype.toJSON=n.prototype.value;n.prototype.toString=function(){return""+this._wrapped}}.call(this),n.utils.underscore=_.noConflict(),function(n){function f(n){(n.key==="Tab"||n.keyCode===9)&&(n.shiftKey?document.activeElement===t&&(i.focus(),n.preventDefault()):document.activeElement===i&&(t.focus(),n.preventDefault()))}var r=n.events.nativeevents,t,i,u,e=function(n,u){u=u?u:null;var o=n,e=o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"]');t=e[0];i=e[e.length-1];o.addEventListener(r.KEY_DOWN,f)},o=function(n){n.removeEventListener(r.KEY_DOWN,f);u&&u.focus()};n.utils.focusTrap={trap:e,untrap:o}}(n),function(n){var t=n.utils.debugger={};t.tabs={INFO:"info",EVENTS:"events",ERROR:"error",TEST:"debugmode",TIME:"time",PARAMS:"params",LOOP:"loop",GUI:"gui",STATES:"states",STATS:"stats",EXTERNAL_LOAD:"load",FULLSCREEN:"fullscreen",TOUCH:"touch",ADS:"ima",PROVIDER:"provider",PLUGIN:"plugin",API:"api",AJAX:"ajax",WARNING:"warn",broadcastingStationScheduleManager:"stats"}}(n),function(n){n.language={};n.label={GEO_BLOCK:"GEO_BLOCK",NOT_AVAILABLE_TEMPORARY:"NOT_AVAILABLE_TEMPORARY",NOT_AVAILABLE:"NOT_AVAILABLE",NOT_AVAILABLE_ANYMORE:"NOT_AVAILABLE_ANYMORE",NOT_AVAILABLE_SOCIAL_NETWORK:"NOT_AVAILABLE_SOCIAL_NETWORK",LANGUAGUE_NOT_DEFINED:"LANGUAGUE_NOT_DEFINED",FLASH_MISSING1:"FLASH_MISSING1",FLASH_MISSING2:"FLASH_MISSING2",FLASH_DISACTIVATED_LONG:"FLASH_DISACTIVATED_LONG",FLASH_DISACTIVATED_SHORT:"FLASH_DISACTIVATED_SHORT",HOURS:"HOURS",MINUTES:"MINUTES",SECONDS:"SECONDS",COUNTDOWN:"COUNTDOWN",START_SHORTLY:"START_SHORTLY",NO_INFO:"NO_INFO",DIFFUSE_LE:"DIFFUSE_LE",EN_ONDES_DE:"EN_ONDES_DE",EN_ONDES_DEPUIS:"EN_ONDES_DEPUIS",EN_ONDES_JUSQUA:"EN_ONDES_JUSQUA",EN_ONDES_A:"EN_ONDES_A",EN_ONDES_PRESENTEMENT:"EN_ONDES_PRESENTEMENT",UPCOMING:"UPCOMING",INFO_BUTTON:"INFO_BUTTON",CUE_BUTTON:"CUE_BUTTON",LIVE_BUTTON:"LIVE_BUTTON",REDIRECT_AUDIO_RADIOCANADA:"REDIRECT_AUDIO_RADIOCANADA",REDIRECT_VIDEO_RADIOCANADA:"REDIRECT_VIDEO_RADIOCANADA",REDIRECT_AUDIO_TOUTV:"REDIRECT_AUDIO_TOUTV",REDIRECT_VIDEO_TOUTV:"REDIRECT_VIDEO_TOUTV",REDIRECT_AUDIO_ESPACEMU:"REDIRECT_AUDIO_ESPACEMU",REDIRECT_VIDEO_ESPACEMU:"REDIRECT_VIDEO_ESPACEMU",REDIRECT_AUDIO_YOUTUBE:"REDIRECT_AUDIO_YOUTUBE",REDIRECT_VIDEO_YOUTUBE:"REDIRECT_VIDEO_YOUTUBE",REDIRECT_AUDIO_VIMEO:"REDIRECT_AUDIO_VIMEO",REDIRECT_VIDEO_VIMEO:"REDIRECT_VIDEO_VIMEO",RELATED_BUTTON:"RELATED_BUTTON",RELATED_NEXT_MEDIA:"RELATED_NEXT_MEDIA",RELATED_MEDIA:"RELATED_MEDIA",AD:"AD",CLOSE:"CLOSE",CLOSE2:"CLOSE2",COPIER:"COPIER",OF:"OF",SEEK:"SEEK",SHARE:"SHARE",SHARE_VIDEO:"SHARE_VIDEO",SHARE_VIDEO_FROM:"SHARE_VIDEO_FROM",SHARE_FACEBOOK:"SHARE_FACEBOOK",SHARE_TWITTER:"SHARE_TWITTER",SHARE_GOOGLE:"SHARE_GOOGLE",SHARE_LINKEDIN:"SHARE_LINKEDIN",SHARE_EMAIL:"SHARE_EMAIL",SHARE_PAGEWEB:"SHARE_PAGEWEB",TITLE_NOT_AVAILABLE:"TITLE_NOT_AVAILABLE",PLAY_CONTENT:"PLAY_CONTENT",PAUSE_CONTENT:"PAUSE_CONTENT",INFO:"INFO",NEXT:"NEXT",PREVIOUS:"PREVIOUS",MORE_OPTIONS:"MORE_OPTIONS",CLOSE_CAPTION:"CLOSE_CAPTION",VOLUME:"VOLUME",MUTE:"MUTE",UNMUTE:"UNMUTE",EXTRACT:"EXTRACT",EXTRACT_CONSOLE:"EXTRACT_CONSOLE",AUTO:"AUTO",VIDEO_QUALITY:"VIDEO_QUALITY",FULLSCREEN:"FULLSCREEN",LIST:"LIST",RESUME_REPRENDRE:"RESUME_REPRENDRE",RESUME_REPRENDRE_A:"RESUME_REPRENDRE_A",RESUME_REPRENDRE_B:"RESUME_REPRENDRE_B",RESUME_POURSUIVRE:"RESUME_POURSUIVRE",RESUME_POURSUIVRE_A:"RESUME_POURSUIVRE_A",RESUME_POURSUIVRE_B:"RESUME_POURSUIVRE_B",BUFFERING:"BUFFERING",REDUCE:"REDUCE",THEATER_MODE_IN:"THEATER_MODE_IN",THEATER_MODE_OUT:"THEATER_MODE_OUT"}}(n),function(n){n.label.intern={DEBUG_INIT:"DEBUG_INIT",PLAYER_INIT:"PLAYER_INIT",DEBUG_ONLY_FRENCH:"DEBUG_ONLY_FRENCH",TEST_LABEL:"TEST_LABEL",NEW_SETTING_INSTANCE:"NEW_SETTING_INSTANCE"}}(n),function(n){n.label.error={VM_TIMEOUT:"VM_TIMEOUT",ERROR_1:"ERROR_1",ERROR_2:"ERROR_2",ERROR_3:"ERROR_3",ERROR_4:"ERROR_4",ERROR_5:"ERROR_5",ERROR_6:"ERROR_6",ERROR_7:"ERROR_7",ERROR_8:"ERROR_8",ERROR_9:"ERROR_9",ERROR_10:"ERROR_10",ERROR_11:"ERROR_11",ERROR_12:"ERROR_12",ERROR_13:"ERROR_13",ERROR_14:"ERROR_14",ERROR_15:"ERROR_15",ERROR_16:"ERROR_16",ERROR_17:"ERROR_17",ERROR_18:"ERROR_18",ERROR_19:"ERROR_19",ERROR_201:"ERROR_201",ERROR_202:"ERROR_202",ERROR_203:"ERROR_203",ERROR_204:"ERROR_204",ERROR_205:"ERROR_205",ERROR_206:"ERROR_206",ERROR_207:"ERROR_207",ERROR_208:"ERROR_208",ERROR_209:"ERROR_209",ERROR_210:"ERROR_210",ERROR_211:"ERROR_211",ERROR_212:"ERROR_212",ERROR_215:"ERROR_215",ERROR_216:"ERROR_216",ERROR_217:"ERROR_217",ERROR_218:"ERROR_218",ERROR_219:"ERROR_219",ERROR_220:"ERROR_220",ERROR_221:"ERROR_221",ERROR_222:"ERROR_222",ERROR_223:"ERROR_223",ERROR_224:"ERROR_224",ERROR_225:"ERROR_225",ERROR_226:"ERROR_226",ERROR_227:"ERROR_227",ERROR_230:"ERROR_230",ERROR_231:"ERROR_231",ERROR_232:"ERROR_232",ERROR_233:"ERROR_233",ERROR_234:"ERROR_234",ERROR_235:"ERROR_235",ERROR_236:"ERROR_236",ERROR_237:"ERROR_237",ERROR_238:"ERROR_238",ERROR_239:"ERROR_239",ERROR_250:"ERROR_250",ERROR_251:"ERROR_251"}}(n),function(n){n.DOMLangue=function(t){function f(t,i){t.textContent=n.label[i]}function r(t,i,r){t.setAttribute(r,n.label[i])}function i(n,i,r){for(var e=document.getElementById(t.container),f=e.getElementsByTagName("*"),u=0,o=f.length;u<o;u++)f[u].hasAttribute(n)&&i(f[u],f[u].getAttribute(n),r)}function u(){i("label",f);i("label-title",r,"title");i("label-aria",r,"aria-label")}function e(n){n&&n.data&&n.data.name==="lang"&&u(n.data.value)}t.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,e);u(t.playerSettings.lang)}}(n),function(n){n.language.FR={GEO_BLOCK:"Conformment aux droits de diffusion, le contenu slectionn n'est pas disponible dans votre pays.",NOT_AVAILABLE_TEMPORARY:"Dsol, le contenu demand n'est pas disponible en ce moment.",NOT_AVAILABLE:"Dsol, le contenu demand n'est pas disponible.",NOT_AVAILABLE_ANYMORE:"Dsol, le contenu demand n'est plus disponible.",NOT_AVAILABLE_SOCIAL_NETWORK:"Conformment aux droits de diffusion, le contenu slectionn n'est pas disponible sur les rseaux sociaux.",AVAILABLE_IN_PREMIUM_ONLY:"Le contenu slectionn est disponible uniquement aux abonns Extra.",BROWSER_NOT_SUPPORTED:"Votre navigateur ne permet pas de lire le contenu.",LANGUAGUE_NOT_DEFINED:"La langue n'est pas dfinie",FLASH_MISSING1:"Une erreur nous empche d'afficher le contenu demand. Cliquez <a href='//www.adobe.com/go/getflash/'><span style='color:Red;'>ici<\/span><\/a> pour obtenir la dernire version du plugiciel Flash.",FLASH_MISSING2:"Cliquez <a href='//www.adobe.com/go/getflash/'><span style='color:Red;'>ici<\/span><\/a> pour obtenir la dernire version du plugiciel Flash.",FLASH_DISACTIVATED_LONG:"Veuillez vous assurer que les modules d'extension (plug-ins) Flash sont autoriss sur votre navigateur.",FLASH_DISACTIVATED_SHORT:"Veuillez vous assurer que les modules d'extension (plug-ins) Flash sont autoriss sur votre navigateur.",HOURS:"heures",MINUTES:"minutes",SECONDS:"secondes",COUNTDOWN:"dbutera dans ",START_SHORTLY:"dbutera dans quelques instants.",NO_INFO:"Auncune information disponible",DIFFUSE_LE:"Diffus le ",EN_ONDES_DE:"En&nbsp;ondes&nbsp;de&nbsp;",EN_ONDES_DEPUIS:"En&nbsp;ondes&nbsp;depuis&nbsp;",EN_ONDES_JUSQUA:"En&nbsp;ondes&nbsp;jusqu'&nbsp;",EN_ONDES_A:"&nbsp;&nbsp;",EN_ONDES_PRESENTEMENT:"EN ONDES PRSENTEMENT",UPCOMING:" VENIR",INFO_BUTTON:"Info",CUE_BUTTON:"Musiques",LIVE_BUTTON:"EN DIRECT",REDIRECT_AUDIO_RADIOCANADA:"couter sur Radio-Canada.ca",REDIRECT_VIDEO_RADIOCANADA:"Regarder sur Radio-Canada.ca",REDIRECT_AUDIO_TOUTV:"couter sur TOU.TV",REDIRECT_VIDEO_TOUTV:"Regarder sur TOU.TV",REDIRECT_AUDIO_ESPACEMU:"couter sur Espace.mu",REDIRECT_VIDEO_ESPACEMU:"Regarder sur Espace.mu",REDIRECT_AUDIO_YOUTUBE:"couter sur YouTube.com",REDIRECT_VIDEO_YOUTUBE:"Regarder sur YouTube.com",REDIRECT_AUDIO_VIMEO:"couter sur Vimeo.com",REDIRECT_VIDEO_VIMEO:"Regarder sur Vimeo.com",RELATED_BUTTON:"Clips suggrs",RELATED_NEXT_MEDIA:"VOTRE PROCHAIN VIDO",RELATED_MEDIA:"SUR LE MME THME",AD:"PUBLICIT",CLOSE:"FERMER",CLOSE2:"Fermer",CLOSE_INFO:"Fermer l'information",CLOSE_SHARE:"Quitter la fonction de partage",CLOSE_HELP:"Quitter la fonction d'aide",COPIER:"Copier",AD_REMAINING_TIME:"Publicit",VISIT_SITE:"Site de l'annonceur",OF:"de",SEEK:"Barre de recherche",SUBTITLE_CODE:"fr",SUBTITLE_LABEL:"Franais web",SHARE:"Partager",SHARE_VIDEO:"Partager cette vido",SHARE_VIDEO_FROM:"Partager la vido  :",SHARE_FACEBOOK:"Partager via Facebook (fentre modale)",SHARE_TWITTER:"Partager via Twitter (fentre modale)",SHARE_GOOGLE:"Partager via Google Plus (fentre modale)",SHARE_LINKEDIN:"Partager via LinkedIn (fentre modale)",SHARE_EMAIL:"Partager via courriel (fentre modale)",SHARE_PAGEWEB:"Intgrer dans une page",TITLE_NOT_AVAILABLE:"Aucune information disponible",PLAY_CONTENT:"couter la vido",PAUSE_CONTENT:"Mettre en pause la vido",INFO:"Information",NEXT:"Suivant",PREVIOUS:"Prcdent",MORE_OPTIONS:"Plus d'options",CLOSE_CAPTION:"Sous-titres",VOLUME:"Volume",MUTE:"Dsactiver le son",UNMUTE:"Activer le son",EXTRACT:"Extraire",EXTRACT_CONSOLE:"Ouvrir dans une nouvelle fentre",AUTO:"Auto",VIDEO_QUALITY:"Qualit de la vido",FULLSCREEN:"Choisir le mode plein cran",LIST:"Liste",RESUME_POURSUIVRE:"Poursuivre le visionnement",RESUME_POURSUIVRE_A:"Poursuivre",RESUME_POURSUIVRE_B:"le visionnement",RESUME_REPRENDRE:"Recommencer  partir du dbut",RESUME_REPRENDRE_A:"Recommencer",RESUME_REPRENDRE_B:" partir du dbut",BUFFERING:"Chargement de la vido",REDUCE:"Extraire la console",THEATER_MODE_IN:"Choisir le mode thtre",THEATER_MODE_OUT:"Quitter le mode thtre",FULLSCREEN:"Mode plein cran",FULLSCREEN_OUT:"Quitter le mode plein cran",LIST:"Liste",SHORTCUT_HELP_TITLE:"Raccourcis clavier pour la console audio-vido",SHORTCUT_HELP_PLAY_PAUSE:"Lecture/Pause",SHORTCUT_HELP_SPACE:"Espace",SHORTCUT_HELP_10_FORWARD:"Avancer de 10 secondes",SHORTCUT_HELP_10_BACKWARD:"Reculer de 10 secondes",SHORTCUT_HELP_VIEW_AGAIN:"Afficher la liste des raccourcis clavier",SHORTCUT_HELP_OPEN:"Afficher les raccourcis clavier"};n.language.FR.intern={}}(n),function(n){n.language.FR.api={}}(n),function(n){n.language.FR.error={VM_TIMEOUT:"ValidationMedia  t chou",ERROR_1:"Erreur gnrique provenant de flash",ERROR_2:"Erreur provenant du mdia",ERROR_3:"Mdia non trouv",ERROR_4:"Erreur NetLoader Akamai",ERROR_5:"Erreur du service MtaMdia",ERROR_6:"Contenu non partageable",ERROR_7:"Erreur provenant de la publicit",ERROR_8:"Erreur du service ValidationMdia",ERROR_9:"Erreur dans les paramtres dinitialisation du player.",ERROR_10:"Un paramtre inexistant a t pass  la fonction gui() de l'api du player.",ERROR_11:"Votre navigateur ne permet pas de lire le contenu.",ERROR_12:"Plugiciel Flash non install dans le fureteur.",ERROR_13:"Le contenu slectionn n'est pas disponible dans votre pays.",ERROR_14:"Le contenu slectionn n'est pas disponible.",ERROR_16:"Nous avons dtect la prsence dun bloqueur de publicit sur votre navigateur. Veuillez le dsactiver pour accder au contenu.",ERROR_17:"Une erreur est survenue lors de la lecture.",ERROR_18:"Cette diffusion en direct n'est pas disponible en ce moment",ERROR_19:"Votre session est expire. Veuillez-vous reconnecter."}}(n),function(n){n.language.EN={GEO_BLOCK:"Sorry, the content you're looking for is not available in your country.",NOT_AVAILABLE_TEMPORARY:"Sorry, the content you're looking for is not available at this time.",NOT_AVAILABLE:"Sorry, the content you're looking for is not available.",NOT_AVAILABLE_ANYMORE:"Sorry, the content you're looking for is not available anymore.",NOT_AVAILABLE_SOCIAL_NETWORK:"Sorry, the content you're looking for is not available for social networks.",AVAILABLE_IN_PREMIUM_ONLY:"Sorry, the content you're looking for is not available for premium users.",BROWSER_NOT_SUPPORTED:"Your browser is not able to play the content.",LANGUAGUE_NOT_DEFINED:"Language is not defined",FLASH_MISSING1:"You need the Flash plugin to view this content. Click <a href='//www.adobe.com/go/getflash/'><span style='color:Red;'>here<\/span><\/a> to get the latest Flash plugin.",FLASH_MISSING2:"You need the Flash plugin to view this content. Click <a href='//www.adobe.com/go/getflash/'><span style='color:Red;'>here<\/span><\/a> to download it.",FLASH_DISACTIVATED_LONG:"Please ensure that the plugin Flash is enabled.",FLASH_DISACTIVATED_SHORT:"Please ensure that the plugin Flash is enabled.",HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds",COUNTDOWN:"will start in ",START_SHORTLY:"will start shorly.",NO_INFO:"No information available",DIFFUSE_LE:"Broadcasted on ",EN_ONDES_DE:"From&nbsp;",EN_ONDES_DEPUIS:"On&nbsp;air&nbsp;since&nbsp;",EN_ONDES_JUSQUA:"On&nbsp;air&nbsp;until&nbsp;",EN_ONDES_A:"&nbsp;to&nbsp;",EN_ONDES_PRESENTEMENT:"NOW PLAYING",UPCOMING:"UPCOMING",INFO_BUTTON:"Info",CUE_BUTTON:"Musics",LIVE_BUTTON:"LIVE",REDIRECT_AUDIO_RADIOCANADA:"Listen on Radio-Canada.ca",REDIRECT_VIDEO_RADIOCANADA:"Watch on Radio-Canada.ca",REDIRECT_AUDIO_TOUTV:"Listen on TOU.TV",REDIRECT_VIDEO_TOUTV:"Watch on TOU.TV",REDIRECT_AUDIO_ESPACEMU:"Listen on Espace.mu",REDIRECT_VIDEO_ESPACEMU:"Watch on Espace.mu",REDIRECT_AUDIO_YOUTUBE:"Listen on YouTube.com",REDIRECT_VIDEO_YOUTUBE:"Watch on YouTube.com",REDIRECT_AUDIO_VIMEO:"Listen on Vimeo.com",REDIRECT_VIDEO_VIMEO:"Watch on Vimeo.com",RELATED_BUTTON:"Related clips",RELATED_NEXT_MEDIA:"YOUR NEXT VIDEO",RELATED_MEDIA:"RELATED VIDEOS",AD:"ADVERTISING",CLOSE:"CLOSE",CLOSE2:"Close",COPIER:"Copy",AD_REMAINING_TIME:"Advertising",VISIT_SITE:"Visit the advertiser's site",OF:"of",SEEK:"Seek slider",SUBTITLE_CODE:"en",SUBTITLE_LABEL:"English web",SHARE:"Share",SHARE_VIDEO:"Share this video",SHARE_VIDEO_FROM:"Share the video from :",SHARE_FACEBOOK:"Share on Facebook",SHARE_TWITTER:"Share on Twitter",SHARE_GOOGLE:"Share on Google Plus",SHARE_LINKEDIN:"Share on LinkedIn",SHARE_EMAIL:"Share by email",SHARE_PAGEWEB:"Integrate in a page",TITLE_NOT_AVAILABLE:"Information not available",PLAY_CONTENT:"Play",PAUSE_CONTENT:"Pause",INFO:"Information",NEXT:"Next",PREVIOUS:"Previous",MORE_OPTIONS:"More options",CLOSE_CAPTION:"Close caption",VOLUME:"Volume",MUTE:"Mute",UNMUTE:"Unmute",EXTRACT:"Extract",EXTRACT_CONSOLE:"Extract console",AUTO:"Auto",VIDEO_QUALITY:"Video quality",FULLSCREEN:"Fullscreen",LIST:"List",RESUME_REPRENDRE:"Start over again the video",RESUME_REPRENDRE_A:"Start over again",RESUME_REPRENDRE_B:"the video",RESUME_POURSUIVRE:"Resume the video",RESUME_POURSUIVRE_A:"Resume",RESUME_POURSUIVRE_B:"the video",BUFFERING:"Buffering",REDUCE:"Extract console",THEATER_MODE_IN:"Theater mode",THEATER_MODE_OUT:"Exit theater mode",FULLSCREEN_OUT:"Exit Full Screen Mode",LIST:"List",SHORTCUT_HELP_TITLE:"Audio-video player shortcuts",SHORTCUT_HELP_PLAY_PAUSE:"Play/Pause",SHORTCUT_HELP_SPACE:"Space",SHORTCUT_HELP_10_FORWARD:"10 seconds fast forward",SHORTCUT_HELP_10_BACKWARD:"10 seconds rewind",SHORTCUT_HELP_VIEW_AGAIN:"View this help menu again",SHORTCUT_HELP_OPEN:"Open audio-video player shortcuts"}}(n),function(n){n.language.EN.error={VM_TIMEOUT:"ValidationMedia failed with timeout",ERROR_1:"Sorry, an error occured.",ERROR_2:"Media Error",ERROR_3:"Stream not found",ERROR_4:"Akamai NetLoader Error",ERROR_5:"MetaMedia error",ERROR_6:"Cannot share content",ERROR_7:"Error Google IMA",ERROR_8:"ValidationMedia Error",ERROR_9:"PlayerSetting error",ERROR_10:"userAPI error, param is not defined",ERROR_11:"Your browser is unable to play the content",ERROR_12:"Flash is missing",ERROR_13:"The content is not available in your country",ERROR_14:"Content not available",ERROR_16:"We've detected an ad blocker on your browser. Please disable it to access the content.",ERROR_17:"An error is occured during the playback",ERROR_18:"This live stream is not available right now",ERROR_19:"Your session has expired. Please reconnect."}}(n),function(n){var i=n.params.lang.toUpperCase(),t;n.label=n.language[i];n.label.language=i;var r=n.utils.log,u=n.label,f=n.utils.debugger.tabs;n.language.setLang=function(i){return typeof i=="string"&&(i=i.toUpperCase(),typeof n.language[i]!="undefined")?(n.label=n.language[i],t(n.language[i],n.language.FR),n.label.language=i,n.utils.date.setLanguage(i),!0):(r(u.error.LANGUAGUE_NOT_DEFINED,f.ERROR),!1)};t=function(n,i){for(var r in i)if(i.hasOwnProperty(r))switch(typeof n[r]){case"object":t(n[r],i[r]);break;case"undefined":n[r]=i[r]}}}(n),function(n){function r(){return!1}var i,t;for(n.providers={},n.providers.Ui=function(t){var u=this,i,r;this.container=t;u.name="ui";i={error:null,src:"",srcObject:null,currentSrc:"",crossOrigin:null,networkState:0,preload:"none",buffered:{length:0},readyState:null,seeking:!1,currentTime:0,duration:NaN,paused:!0,defaultPlaybackRate:1,playbackRate:1,played:{length:0},seekable:{length:0},ended:!1,autoplay:!1,loop:!1,mediaGroup:null,controller:null,controls:!1,volume:0,muted:!1,defaultMuted:!1,audioTracks:null,videoTracks:null,textTracks:{length:0,onchange:null,onaddtrack:null,onremovetrack:null},width:"100%",height:"100%",videoWidth:0,videoHeight:0,enableIMA:!1};for(r in i)i.hasOwnProperty(r)&&(u[r]=i[r]);n.utils.extend(u,new n.events.EventRegistration("provider.ui"))},i=["addTrack","beforeContentChanging","begin","bindHtmlEvents","changeMedia","clearAfterAds","disableTrack","hide","hideSubtitle","hideTracks","initFlash","isMuted","play","providerType","reset","resize","setOnInit","setUiControlsOffset","show","showSubtitle","showTrack","stop","toggleSubtitle","load"],t=0;t<i.length;t++)n.providers.Ui.prototype[i[t]]=r;n.providers.Ui.prototype.canPlayType=function(n){return this.element?this.element.canPlayType(n):""};n.providers.Ui.prototype.load=function(){var t=n.utils.dom.FindByClassName(this.container,"tagaudio"),i=n.utils.dom.FindByClassName(this.container,"tagvideo");i.currentTime<=0&&i.load();t.currentTime<=0&&t.load()};n.providers.Ui.prototype.handlePlayPromise=function(t,i){t&&t.catch(function(t){typeof t.name!="undefined"&&t.name==="NotAllowedError"&&(this.stop(),n.utils.log("on promises error","provider","red"),n.utils.log(arguments,"provider","red"),i())}).then(n.utils.underscore.noop)};n.providers.Ui.prototype.durationChanged=function(t){this.log("provider  video durationchange: "+t,n.utils.debugger.tabs.PROVIDER);t>10&&t<n.utils.MAX_MEDIA_DURATION&&(this.duration=t,this.fireEvent(n.events.provider.DURATION_CHANGE,t,{disableLogging:!0}))}}(n),function(n){n.providers.Html5=function(t){function ui(){return v=v*1,i.log("_doSeek: "+v,f),at=!1,d=0,lt=s,s=v.toFixed(1),p&&(r.currentTime=v.toFixed(1)),c=!0,!0}function ot(n){n?r.setAttribute("crossorigin","withcredentials"):r.removeAttribute("crossorigin")}function tt(l){var a=l.type===u.TIME_UPDATE;(!a||a&&d++<2)&&i.log("providerHTML Event : "+l.type,f,n.utils.color.BLUEVIOLET);switch(l.type){case u.LOAD_START:n.utils.browser.isIos()&&(clearTimeout(ft),ft=setTimeout(function(){r.paused&&(i.log("timeout  Event LOAD_START ",f,"green"),b())},3e3));break;case u.LOADED:b();break;case u.CAN_PLAY:p||(p=!0,i.fireEvent(o.READY,null,{disableLogging:!0}),b());r.volume=t.ui.volume.getCurrentVolume()/100;break;case u.META_LOADED:i.fireEvent(o.LOADED,r.currentTime,{disableLogging:!0});break;case u.PAUSE:bt()||i.fireEvent(o.PAUSE,r.currentTime,{disableLogging:!1});break;case u.PLAY:i.fireEvent(o.PLAY,r.currentTime);clearTimeout(ft);break;case u.PLAYING:e.time?(i.seekTo(e.time),delete e.time):i.fireEvent(o.PLAYING,r.currentTime,{disableLogging:!1});ni=!1;break;case u.SEEKED:at=!0;i.log("providerHTML Event : "+l.type+" save time : "+s,f);i.log(" real time : "+r.currentTime+", _seekTime : "+h,f);Math.abs(h!==-1&&h-r.currentTime)<10&&(t.timerManager.clearTimeout(yt),t.timerManager.setTimeout(function(){var n=r.currentTime;h=-1;c=!1;i.fireEvent(o.SEEK_COMPLETE,n,{disableLogging:!1})},150));break;case u.SEEKING:i.log("seeking To: "+r.currentTime,f);c=!0;h=r.currentTime;i.fireEvent(o.CURRENT_TIME_CHANGE,s,{disableLogging:!1});i.fireEvent(o.SEEKING,{before:lt,after:s},{disableLogging:!1});break;case u.TIME_UPDATE:i.fireEvent(o.TIME_UPDATE,r.currentTime,{disableLogging:!0});h>-1&&Math.abs(h-r.currentTime)<10&&(yt=t.timerManager.setTimeout(function(){h=-1;c=!1;i.fireEvent(o.SEEK_COMPLETE,r.currentTime,{disableLogging:!0})},500));c||r.seeking||r.paused||(s=r.currentTime,i.fireEvent(o.CURRENT_TIME_CHANGE,s,{disableLogging:!0}));d+=2;break;case u.VOLUME_CHANGE:i.fireEvent(o.VOLUME_CHANGE,r.volume,{disableLogging:!0});break;case u.DURATION_CHANGE:i.durationChanged(r.duration);break;case u.ENDED:if(w===!1){h=-1;c=!1;i.fireEvent(o.COMPLETE,r.duration,{disableLogging:!1});i.log("provider html complete: ",f);try{}catch(v){}break}case u.WEBKIT_ENTER_FULLSCREEN:i.log("provider html5 webkit enter fullscreen");break;case u.WEBKIT_EXIT_FULLSCREEN:i.log("provider html5 webkit exit fullscreen")}}function b(){i.handlePlayPromise(r.play(),t.internalApi.media().onPromiseError)}function wt(){var u,h;i.log("video element error: "+(r&&r.error?r.error.code:""),f,"error");u="Video HTML Error "+r.error.code+", ";switch(r.error.code){case r.error.MEDIA_ERR_ABORTED:a=0;u+="User aborted the media playback.";break;case r.error.MEDIA_ERR_NETWORK:a=0;u+="A network error caused a media download fail.";break;case r.error.MEDIA_ERR_DECODE:u+="The media playback was aborted due to a corruption problem or because the video used features your browser did not support.";t.ui.video.hideTracks();break;case r.error.MEDIA_ERR_SRC_NOT_SUPPORTED:u+="The media could not be loaded, either because the server or network failed or because the format is not supported."}a>0?(i.log("retry media wirh _currentTime = "+s,f),e.time=s,a--,r.error.code===4?e.vmRequest(fi,ei,event):t.timerManager.setTimeout(function(){i.log("media readyState="+r.readyState,f);r.readyState<2&&i.reload()},1e3)):r.src!==document.URL&&(h=i.canPlayHls?n.models.error.MEDIA_ERROR():n.models.error.BROWSER_NOT_SUPPORTED(),a=k,h.innerId=r.error.code,h.innerMessage="HTML5 - code = 7"+r.error.code+", message = "+u,h.origin=i.name,i.fireEvent(o.ERROR,h))}function fi(n){i.log("_onSucceedAfterValidationMediaRetry("+s+")",f);e.params=n.params;e.url=n.url;e.time=s;i.reload()}function ei(){l("Repeated call to VM failed: ",98)}function bt(){return Math.abs(i.duration-s)<1&&!vt}function y(t,i){i||(i="gray");n.utils.log(t,"FairPlay",i)}function l(r,u){n.utils.log(r,"FairPlay","red");var f=n.models.error.FAIRPLAY_ERROR();f.message=r;f.innerId=u;f.origin=i.name;f.innerMessage="HTML fairPlay - code = "+u+", message = "+r;new n.Error(t).error(t.internalApi.media(),f);i.fireEvent(o.ERROR,f)}function kt(){e.fairplay||(e.fairplay={});for(var n=0;n<e.params.length;n++)e.fairplay[e.params[n].name]=e.params[n].value}function oi(){r.removeEventListener(n.events.html.WEBKIT_NEED_KEY,it,!1);r.removeEventListener("error",dt,!1);r.removeEventListener(n.events.html.WEBKIT_NEED_KEY,ht,!1);kt();si()}function st(n,t,i){i.addEventListener(n,function(){t(arguments[0])},!1)}function si(){n.utils.ajax(e.fairplay.fairplayCertificatePath,hi,ci,null,{responseType:"arraybuffer"})}function hi(n){var t=n.target;e.fairplay.certificate=new Uint8Array(t.response);yi()}function ci(){l("Failed to retrieve the server certificate.",90)}function li(t){var r=n.utils.convert.arrayToString(t),i=document.createElement("a");return i.href=r,i.hostname}function ai(t,i,r){var e,s;typeof i=="string"&&(i=n.utils.convert.stringToArray(i));var u=0,f=new ArrayBuffer(t.byteLength+4+i.byteLength+4+r.byteLength),o=new DataView(f),h=new Uint8Array(f,u,t.byteLength);return h.set(t),u+=t.byteLength,o.setUint32(u,i.byteLength,!0),u+=4,e=new Uint8Array(f,u,i.byteLength),e.set(i),u+=e.byteLength,o.setUint32(u,r.byteLength,!0),u+=4,s=new Uint8Array(f,u,r.byteLength),s.set(r),new Uint8Array(f,0,f.byteLength)}function vi(){if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";}function yi(){r.addEventListener(n.events.html.WEBKIT_NEED_KEY,it,!1);r.addEventListener(n.events.html.ERROR,dt,!1);r.src=e.url}function dt(){l("A video playback error occurred while using drm with FairPlay :",91)}function ht(n){y("WEBKIT_NEED_KEY  is requested once more");e.vmRequest(pi,wi,n)}function pi(n){try{e.params=n.params;kt();it(this)}catch(t){l("FairPlay : _onSuccessVMrequest failed : "+t.message,92)}}function wi(){l("FairPlay : Repeated call to VM failed: ",93)}function it(t){var i;y("WEBKIT_NEED_KEY is requested");var u=t.target,r=t.initData,f=li(r);y("initData FairPlay");y(n.utils.convert.base64EncodeUint8Array(r));r=ai(r,f,e.fairplay.certificate);u.webkitKeys||(vi(),u.webkitSetMediaKeys(new WebKitMediaKeys(ri)));u.webkitKeys||l("FairPlay : Could not create MediaKeys",94);i=u.webkitKeys.createSession("video/mp4",r);i||l("FairPlay : Could not create key session",95);i.contentId=f;st("webkitkeymessage",bi,i);st("webkitkeyadded",nr,i);st("webkitkeyerror",gi,i)}function bi(t){var r=t.target,o=t.message,i=n.utils.convert.base64EncodeUint8Array(o),u,f;i=encodeURIComponent(i);u="spc="+i+"&"+r.contentId;f=e.fairplay.fairplayLicenseUrl.replace("skd://","https://");n.utils.ajax(f,ki,di,[{name:"Content-type",value:"application/x-www-form-urlencoded"},{name:"Authorization",value:e.fairplay.fairplayAuthToken}],{responseType:"text",type:"POST",session:r,body:u})}function ki(t){var r=t.target,f=r.session,i=r.responseText.trim(),u;i.substr(0,5)==="<ckc>"&&i.substr(-6)==="<\/ckc>"&&(i=i.slice(5,-6));y("keyText:"+i);u=n.utils.convert.base64DecodeUint8Array(i);f.update(u)}function di(){l("The license request failed.",96)}function gi(){l("A decryption key error was encountered",97)}function nr(){y("Decryption key was added to session.");r.removeEventListener(n.events.html.WEBKIT_NEED_KEY,it,!1);r.removeEventListener(n.events.html.WEBKIT_NEED_KEY,ht,!1);r.addEventListener(n.events.html.WEBKIT_NEED_KEY,ht,!1)}function ct(){typeof document.hidden!="undefined"&&et&&(y("pageAwakened"),et=!1,i.bindHtmlEvents(r,!1),setTimeout(function(){i.bindHtmlEvents(r,!0);et=!0},100))}this.container=t.container;var gt=Math.round(Math.random()*1e6),k=3,i=this,r=null,e={url:null,bitrates:null},p=!1,s=0,lt=0,c=!1,h=-1,rt,w=!1,ni=!0,u=n.events.html,o=n.events.provider,ut=n.events.nativeevents,f=n.utils.debugger.tabs.PROVIDER,tr=n.utils.debugger.tabs.LOOP,v=0,at=!0,a=k,d=0,ir=n.utils.dom.FindByClassName(t.container,"videocontainer"),ti=n.utils.dom.FindByClassName(t.container,"tagaudio"),ii=n.utils.dom.FindByClassName(t.container,"tagvideo"),g=ii,vt=!1,nt=!1,ft=0,yt=0,pt=!1,et=!0,ri="com.apple.fps.1_0";n.utils.extend(i,new n.events.EventRegistration("provider"));n.utils.extend(i,new n.utils.LogInstance("HTML5_PROVIDER",t.index));i.init=function(n,t){vt=t;g.style.display=n?"none":"block";i.log("--html5 init(isAudio:"+n+") ",f,"brown");r&&i.bindHtmlEvents(r,!1);pt=n;r=n?ti:g;i.bindHtmlEvents(r,!0)};i.hide=function(){g.style.display="none"};Object.defineProperty(i,"id",{get:function(){return gt}});Object.defineProperty(i,"element",{get:function(){return r}});Object.defineProperty(i,"paused",{get:function(){return r.paused}});Object.defineProperty(i,"src",{get:function(){return e.url},set:function(n){var t=pt?"AUDIO":"VIDEO";i.log(t+" src: "+n.url,f);e=n;c=!1;h=-1;i.log(t+" counter: "+r.getAttribute("data"),f);n.isFairPlay?(i.log("HTML FairPlay",f),a--,oi()):(a=k,r.src=n.url)}});Object.defineProperty(i,"bitrate",{get:function(){return 1},set:function(){}});Object.defineProperty(i,"currentTime",{get:function(){return s}});Object.defineProperty(i,"duration",{get:function(){return r?r.duration:0}});Object.defineProperty(i,"closedCaption",{set:function(){}});Object.defineProperty(i,"volume",{get:function(){return r?r.volume:1},set:function(n){r&&(i.log("set volume  "+n,f),n>0&&r.muted&&(r.muted=!1),r&&(r.volume=Math.max(0,Math.min(1,n))))}});Object.defineProperty(i,"fullscreen",{get:function(){return null},set:function(){}});Object.defineProperty(i,"useCredentials",{set:function(n){rt=n;i.log("useCredentials: "+n);r&&ot(n)}});Object.defineProperty(i,"isPlayingAds",{set:function(t){i.log("set isPlayingAds: "+w+", new: "+t,f);w!==t&&(w=t,n.utils.browser.isIPod()&&(r.removeEventListener(n.events.html.WEBKIT_EXIT_FULLSCREEN,tt),w&&r.addEventListener(n.events.html.WEBKIT_EXIT_FULLSCREEN,tt)),i.log("isPlayingAds: "+t,f),ot(!t&&rt))}});Object.defineProperty(i,"isFirstPlay",{get:function(){return r?r.buffered.length===0:!0}});Object.defineProperty(i,"canPlayHls",{get:function(){return r?r.canPlayType("application/x-mpegURL")==="probably"||r.canPlayType("application/x-mpegURL")==="maybe":!1}});Object.defineProperty(i,"name",{get:function(){return"player.providers.Html5 "+typeof r}});Object.defineProperty(i,"muted",{get:function(){return r.muted},set:function(n){n?i.mute():i.unmute()}});Object.defineProperty(i,"enableIMA",{get:function(){return!0}});i.begin=function(){};i.providerType=function(){return"html"};i.reload=function(){function u(){i.log("providerHtml5 _onLoad()",f);r.removeEventListener(n.events.html.LOAD_START,u);r.addEventListener(n.events.html.PLAYING,o);try{b()}catch(e){i.log("provider HTML5, reload: "+e.message,n.utils.debugger.tabs.ERROR);t.timerManager.setTimeout(r.play,1e3)}}function o(){i.log("providerHtml5 _onPlaying( time ="+e.time+")",f);r.removeEventListener(n.events.html.PLAYING,o);e.time&&(r.currentTime=e.time,delete e.time);i.bindHtmlEvents(r,!0)}i.log("--reload("+e.url+") ",f);r.addEventListener(n.events.html.LOAD_START,u);r.src=e.url;r.load()};i.clearAfterAds=function(){r.innerHTML="";r.childNodes=[]};i.load=function(){i.show();r&&r.load&&!p&&(i.log("load: "+r+", src: "+r.src,f),ot(rt),r.load(),i.fireEvent(o.LOADED,r.currentTime,{disableLogging:!0}))};i.resize=function(){};i.show=function(){i.log("html5 show",f);g.style.display="block"};i.play=function(){return i.log("--play("+nt+")",f),nt?r.load():b(),nt=!1,r.readyState===4};i.resume=i.play;i.pause=function(){return bt()?0:(i.log("--pause()",f),r.pause(),nt=t.internalApi.media().isLive,r.readyState===4)};i.stop=function(){i.bindHtmlEvents(r,!1);r&&(i.log("--stop() ",f),r.removeAttribute("src"));i.reset()};i.seekTo=function(n){Math.round(i.currentTime)!==Math.round(n)&&(i.log("-seekTo("+n+")",f),i.log("_seeking="+c,f),v=n,ui())};i.isMute=function(){return r.muted};i.mute=function(){return(i.log("--mute() ",f),!r)?!1:(r.muted=!0,!0)};i.unmute=function(){return(i.log("--unmute() ",f),!r)?!1:(r.muted=!1,!0)};i.changeMedia=function(){i.pause();i.reset()};i.reset=function(){i.log("--Html reset() ",f,"brown");i.isPlayingAds=!1;p=!1;s=0;c=!1;h=-1;v=0;d=0;a=k};i.bindHtmlEvents=function(n,t){var e,r;if(n){for(i.log("bindHtmlEvents: "+t,f,"lightgreen"),e=[u.ABORT,u.CAN_PLAY,u.CAN_PLAY_THROUGH,u.CONTEXT_MENU,u.DURATION_CHANGE,u.EMPTIED,u.ENDED,u.LOAD_START,u.LOADED,u.PAUSE,u.PLAY,u.PLAYING,u.RATE_CHANGE,u.SEEKED,u.SEEKING,u.STALLED,u.SUSPEND,u.TIME_UPDATE,u.VOLUME_CHANGE,u.WAITING,u.WEBKIT_EXIT_FULLSCREEN,],r=0;r<e.length;r++)n.removeEventListener(e[r],tt),t&&n.addEventListener(e[r],tt);n.removeEventListener(u.ERROR,wt);t&&n.addEventListener(u.ERROR,wt)}};i.isReady=function(){return p};n.utils.browser.isIos()&&(window.addEventListener(ut.FOCUS,ct),window.addEventListener(ut.PAGE_SHOW,ct),window.addEventListener(ut.VISIBILITY_CHANGED,function(){document.hidden||ct()}))};n.providers.Html5.prototype=new n.providers.Ui;n.providers.Html5.constructor=n.providers.Html5}(n),function(n){n.providers.Flash=function(t){function it(n){for(var t in n)n.hasOwnProperty(t)&&(typeof n[t]=="function"?n[t]():i[t]=n[t]);l=!0}function k(n){switch(n.type){case u.CAN_PLAY:i.fireEvent(f.READY,null,{disableLogging:!0});break;case u.META_LOADED:i.fireEvent(f.LOADED,r.currentTime,{disableLogging:!0});break;case u.PAUSE:i.fireEvent(f.PAUSE,r.currentTime,{disableLogging:!1});break;case u.PLAYING:s=!1;i.fireEvent(f.PLAYING,r.currentTime,{disableLogging:!1});break;case u.SEEKED:s=!1;i.fireEvent(f.SEEK_COMPLETE,r.currentTime,{disableLogging:!1});break;case u.CANNOT_SEEK:s=!1;break;case u.SEEKING:i.log("provider flash seeking To: "+r.currentTime,h);i.fireEvent(f.SEEKING,{before:p,after:w},{disableLogging:!1});break;case u.TIME_UPDATE:s||(i.fireEvent(f.TIME_UPDATE,r.currentTime,{disableLogging:!0}),i.fireEvent(f.CURRENT_TIME_CHANGE,r.currentTime,{disableLogging:!0}));a=r.currentTime;break;case u.VOLUME_CHANGE:i.fireEvent(f.VOLUME_CHANGE,r.volume,{disableLogging:!0});break;case u.DURATION_CHANGE:i.durationChanged(n.data,nt);break;case u.ENDED:i.fireEvent(f.COMPLETE,r.duration,{disableLogging:!1,async:!1});break;case u.BUFFERING:i.log("provider flash video buffering: "+n.data.toString(),h);i.fireEvent(f.BUFFERING,n.data,{disableLogging:!1});break;case u.BITRATE_CHANGED:i.fireEvent(f.BITRATE_CHANGED,n.data,{disableLogging:!1});break;case u.BITRATE_CHANGING:i.fireEvent(f.BITRATE_CHANGING,n.data,{disableLogging:!1})}}function d(t){var r=n.models.error.GENERIC_ERROR();switch(t.data.errorId){case 101:r=n.models.error.STREAMING_ERROR();break;case 100:r=n.models.error.MEDIA_ERROR();break;case 103:r=n.models.error.METAMEDIA_ERROR();break;case 104:r=n.models.error.SHARE_ERROR();break;case 201:r=n.models.error.GEO_BLOCK();break;case 102:r=n.models.error.STREAMING_ERROR()}i.fireEvent(f.ERROR,r,{disableLogging:!1})}this.container=t.container;var g=Math.round(Math.random()*1e6),o={url:null,bitrates:null},r=null,i=this,a=0,v=!1,f=n.events.provider,u=n.events.html,y="Auto",nt,tt=!1,e=n.utils.dom.FindByClassName(t.container,"flashContainer"),p=0,w=0,s=!1,c=!1,b={},l=!1,h=n.utils.debugger.tabs.PROVIDER;i.name="player.providers.Flash";n.utils.extend(i,new n.events.EventRegistration("provider Flash"));n.utils.extend(i,new n.utils.LogInstance("FLASH_PROVIDER",t.index));i.loadMediaTag=function(){};i.init=function(n){n?(e.style.width="1px",e.style.height="1px"):(e.style.width="100%",e.style.height="100%")};Object.defineProperty(i,"id",{get:function(){return g}});Object.defineProperty(i,"element",{get:function(){return r}});Object.defineProperty(i,"paused",{get:function(){return r.paused}});Object.defineProperty(i,"src",{get:function(){return o},set:function(n){if(i.log("source: "+n,h),n.url===null){o=n;return}n.url!==o.url?(o=n,r.loadMedia(n)):r.play()}});Object.defineProperty(i,"bitrate",{get:function(){return y},set:function(n){y=n.bitrate;r.setBitrate(n.bitrate)}});Object.defineProperty(i,"currentTime",{get:function(){return a}});Object.defineProperty(i,"duration",{get:function(){return r?r.duration:0}});Object.defineProperty(i,"closedCaption",{set:function(){}});Object.defineProperty(i,"volume",{get:function(){return r?r.volume:1},set:function(n){!isNaN(n)&&r&&(r.volume=Math.max(0,Math.min(1,n)))}});Object.defineProperty(i,"fullscreen",{get:function(){return r?r.fullscreen:!1},set:function(n){r&&(r.fullscreen=n)}});Object.defineProperty(i,"isPlayingAds",{});Object.defineProperty(i,"isFirstPlay",{get:function(){return!1}});Object.defineProperty(i,"canPlayHls",{get:function(){return!1}});Object.defineProperty(i,"name",{get:function(){return"player.providers.Flash "+typeof r}});Object.defineProperty(i,"isLive",{set:function(n){tt=n}});Object.defineProperty(i,"muted",{get:function(){return c},set:function(n){n?i.mute():i.unmute()}});Object.defineProperty(i,"flashReady",{get:function(){return!!r&&v}});i.providerType=function(){return"flash"};i.begin=function(n){r&&(n.adsUrl=t.internalApi.getAdsUrl(),r.begin(n),n.adsUrl===null&&t.internalApi.media().loadValidationMedia(),l||it(b),r.volume=t.ui.volume.getCurrentVolume())};i.reload=function(){r&&(i.bindHtmlEvents(r,!1),r.source=o)};i.load=function(){i.reload();i.BUFFERING(f.LOADED,r.currentTime,{disableLogging:!0})};i.resize=function(){};i.show=function(){n.utils.dom.isFullscreen()?t.ui.fullscreen.resizeFlashContainerToFitViewport():(e.style.width="100%",e.style.height="100%")};i.hide=function(){e.style.width="1px";e.style.height="1px"};i.play=function(){r&&r.play()};i.resume=i.play;i.pause=function(){r&&r.pause()};i.stop=function(){r&&(r.stop(),o={})};i.seekTo=function(n){r&&(p=r.currentTime,w=n,s=!0,r.seek(n))};i.isMute=function(){return c};i.mute=function(){r&&(r.mute(),c=!0)};i.unmute=function(){r&&(r.unmute(),c=!1)};i.reset=function(){(i.log("--Flash reset() ",_tabProvider,h,"brown"),r)&&r.reset()};i.bindHtmlEvents=function(t,r){var u,e,f;if(t){for(i.log("bindHtmlEvents: "+r,h),u=n.events.html,e=[u.CAN_PLAY,u.PAUSE,u.PLAY,u.PLAYING,u.SEEKED,u.SEEKING,u.TIME_UPDATE,u.VOLUME_CHANGE,u.DURATION_CHANGE,u.ENDED,u.FULLSCREEN,u.BUFFERING,u.START,u.BITRATE_CHANGED,u.BITRATE_CHANGING],f=0;f<e.length;f++)t.removeEventListener(e[f],k),r&&t.addEventListener(e[f],k);t.removeEventListener(u.ERROR,d);r&&t.addEventListener(u.ERROR,d)}};i.toggleSubtitle=function(n){r&&r.toggleClosedCaption(n)};i.setUiControlsOffset=function(n){r&&r.setUiControlsOffset(n)};i.initFlash=function(n){v=!0;r=n;i.bindHtmlEvents(r,!0)};i.showMouseCursor=function(){r&&r.showMouseCursor()};i.hideMouseCursor=function(){r&&r.hideMouseCursor()};i.setOnInit=function(n){l=!1;b=n}};n.providers.Flash.prototype=n.providers.Ui.prototype}(n),function(n){n.providers.Hls=function(t){function dt(){for(var i=[n.hls.Events.LEVEL_SWITCHING,n.hls.Events.LEVEL_SWITCHED,n.hls.Events.LEVEL_LOADED,n.hls.Events.LEVEL_LOADING,n.hls.Events.FRAG_BUFFERED,n.hls.Events.FRAG_CHANGED],t=0;t<i.length;t++)e.on(i[t],gt)}function gt(t,u){var c=u.level;t===n.hls.Events.FRAG_CHANGED||t===n.hls.Events.FRAG_BUFFERED?c=u.frag.level:i.log("_onHlsEvent : "+t+", data.level="+c,f,"darkgreen");switch(t){case n.hls.Events.LEVEL_SWITCHING:s.isBitrateChanging=!0;s.bitrate=u.bitrate;s.index=u.level;i.fireEvent(o.BITRATE_CHANGING,s,{disableLogging:!1});break;case n.hls.Events.FRAG_BUFFERED:case n.hls.Events.FRAG_CHANGED:s.isBitrateChanging&&s.bitrateAsked===e.currentLevel&&(s.index=e.currentLevel,i.fireEvent(o.BITRATE_CHANGED,s,{disableLogging:!1}),s.isBitrateChanging=!1);break;case n.hls.Events.LEVEL_SWITCHED:s.isBitrateChanging=!1;s.index=c;i.fireEvent(o.BITRATE_CHANGED,s,{disableLogging:!1});tt&&(i.bindHtmlEvents(r,!0),tt=!1,i.fireEvent(o.PLAYING,h,{disableLogging:!1}));break;case n.hls.Events.LEVEL_LOADED:tt&&(e.nextLevel=c)}}function ht(i){n.hls||(n.hls=Hls);w=n.hls;var u={startPosition:i.time,startLevel:-1,loadLevel:-1,autoLevelCapping:-1,nextLevel:-1,debug:n.utils.isDebugModeHlsProvider(),forceKeyFrameOnDiscontinuity:!t.internalApi.isLive()};e=new n.hls(u);v=!1;ti();c.url=i.url.replace("cp122642-f.akamaihd.net","webradios-vh.akamaihd.net");e.on(w.Events.MEDIA_ATTACHED,function(){e.loadSource(c.url)});e.attachMedia(r);dt();lt()}function ni(){return a=a*1,i.log("_doSeek: "+a,f),g=0,ft=h,h=a.toFixed(1),p&&(r.currentTime=a.toFixed(1)),!0}function ct(n){n?r.setAttribute("crossorigin","withcredentials"):r.removeAttribute("crossorigin")}function at(){return Math.abs(i.duration-h)<1}function it(n){var e=n.type===u.TIME_UPDATE;(!e||e&&g++<2)&&i.log("provider hls Event : "+n.type,f);switch(n.type){case u.LOAD_START:i.log("onLoadStart -do nothing ",f);break;case u.LOADED:rt();break;case u.CAN_PLAY:p||(p=!0,i.fireEvent(o.READY,null,{disableLogging:!0}),rt());break;case u.META_LOADED:i.fireEvent(o.LOADED,r.currentTime,{disableLogging:!0});break;case u.PAUSE:at()||i.fireEvent(o.PAUSE,r.currentTime,{disableLogging:!1});break;case u.PLAYING:y.raised&&(i.log("mediaDecodeError raised -   do seek to "+y.timeWhenItHappened,f),y.raised=!1,t.timerManager.setTimeout(function(){i.seekTo(y.timeWhenItHappened);y.timeWhenItHappened=null},150));k=0;i.fireEvent(o.PLAYING,r.currentTime,{disableLogging:!1});bt=!1;break;case u.SEEKED:i.fireEvent(o.SEEK_COMPLETE,r.currentTime,{disableLogging:!0});break;case u.SEEKING:Math.abs(ft-r.currentTime)>1&&(i.log("seeking To: "+r.currentTime,f),et=r.currentTime,i.fireEvent(o.CURRENT_TIME_CHANGE,h,{disableLogging:!1}),i.fireEvent(o.SEEKING,{before:ft,after:h},{disableLogging:!1}));break;case u.TIME_UPDATE:i.fireEvent(o.TIME_UPDATE,r.currentTime,{disableLogging:!0});!l&&i.duration-r.currentTime<.3&&(t.timerManager.clearTimeout(nt),nt=t.timerManager.setTimeout(vt,600));r.seeking||r.paused||(h=r.currentTime,i.fireEvent(o.CURRENT_TIME_CHANGE,h,{disableLogging:!0}));g++;break;case u.VOLUME_CHANGE:i.fireEvent(o.VOLUME_CHANGE,r.volume,{disableLogging:!0});break;case u.DURATION_CHANGE:i.durationChanged(r.duration);l&&st&&(st=!1,rt());break;case u.ENDED:vt();break;case u.WEBKIT_ENTER_FULLSCREEN:i.log("provider hls webkit enter fullscreen");break;case u.WEBKIT_EXIT_FULLSCREEN:i.log("provider hls webkit exit fullscreen")}}function rt(){i.handlePlayPromise(r.play(),t.internalApi.media().onPromiseError)}function vt(){t.timerManager.clearTimeout(nt);et=-1;i.fireEvent(o.COMPLETE,r.duration,{disableLogging:!1,async:!1})}function ti(){e.on(w.Events.ERROR,function(t,r){var s=r.type,u=r.details,l=r.fatal,o;if(l){i.log("HLS error type:"+s+", errorDetails:"+u,f,"red");o="provider hls: errorType="+s+", errorDetails="+u;i.log(o,"error");switch(s){case w.ErrorTypes.NETWORK_ERROR:if(k<3){if(ut({isUser:!1,level:n.models.errorLevel.WARN,message:u,userMessage:"",origin:"provider.hls",innerId:87,innerMessage:o}),k++,y.raised)break;u==="manifestLoadError"?c.vmRequest(ii,ri,i):(c.time=h,yt())}else i.log("provider hls: cannot recover after several attempts",f,"red"),ut({isUser:!0,level:n.models.errorLevel.FATAL,message:u,userMessage:n.label.error.ERROR_2,origin:"provider.hls",innerId:88,innerMessage:o}),e.destroy();break;case w.ErrorTypes.MEDIA_ERROR:k++==1?e.swapAudioCodec():e.recoverMediaError();break;default:i.log("provider hls: cannot recover","error","red");ut({isUser:!0,level:n.models.errorLevel.FATAL,message:"Hls - Unrecoverable error",userMessage:n.label.error.ERROR_2,origin:"provider.hls",innerId:90,innerMessage:o});e.destroy()}}})}function yt(){e.destroy();ht.call(i,c)}function ii(n){c.url=n.url;c.time=h;yt()}function ri(){ui("Hls - Repeated call to VM failed: ",86)}function ui(t,i){ut({isUser:!0,level:n.models.errorLevel.FATAL,message:"HlsError",userMessage:n.label.error.ERROR_2,origin:"provider.hls",innerId:i,innerMessage:"code = "+i+", message = "+t})}function ut(n){i.fireEvent(o.ERROR,n)}function pt(){i.log("video element error: "+(r&&r.error?r.error.code:""),f,"red");l||(y={raised:!0,timeWhenItHappened:h});e.recoverMediaError()}this.container=t.container;var wt=Math.round(Math.random()*1e6),i=this,r=null,c={url:null,bitrates:null},s={bitrate:"auto",index:0,_isBitrateChanging:!1,bitrateAsked:-1},p=!1,h=0,ft=0,et=-1,ot,d=!1,bt=!0,u=n.events.html,o=n.events.provider,f=n.utils.debugger.tabs.PROVIDER,fi=n.utils.debugger.tabs.LOOP,a=0,g=0,ei=n.utils.dom.FindByClassName(t.container,"videocontainer"),kt=n.utils.dom.FindByClassName(t.container,"tagaudio"),b=n.utils.dom.FindByClassName(t.container,"tagvideo"),l=!1,v=!1,st=!1,lt=function(){},y={raised:!1,timeWhenItHappened:null},nt=0,k=0,e=null,w=null,tt=!1;n.utils.extend(i,new n.events.EventRegistration("provider"));n.utils.extend(i,new n.utils.LogInstance("HLS_PROVIDER",t.index));n.utils.extend(i,new n.Error(t));i.init=function(n,u){l=u;b.style.display=n?"none":"block";i.log("--hls init(isAudio:"+n+") ",f,"pink");r&&i.bindHtmlEvents(r,!1);r=b;i.bindHtmlEvents(r,!0);r.volume=t.ui.volume.getCurrentVolume()/100};i.hide=function(){b.style.display="none"};Object.defineProperty(i,"id",{get:function(){return wt}});Object.defineProperty(i,"element",{get:function(){return r}});Object.defineProperty(i,"paused",{get:function(){return r.paused}});Object.defineProperty(i,"src",{get:function(){return c.url},set:function(t){i.log("HLS source: "+t.url,f);c=t;k=0;typeof requirejs!="undefined"?require([n.externalload.hlsUrl],function(r){w=n.hls=r;ht.call(i,t)}):ht.call(i,t)}});Object.defineProperty(i,"bitrate",{get:function(){return s},set:function(n){s.bitrateAsked=n.index;e!==null&&typeof e.nextLevel!="undefined"?(i.log("set bitrate 1: "+n.index,f),l&&e.currentLevel!==n.index?(e.loadLevel=n.index,e.currentLevel=n.index,tt=!0,i.bindHtmlEvents(r,!1),i.fireEvent(o.BUFFERING,h,{disableLogging:!1})):e.nextLevel=n.index,e.autoLevelCapping=n.index):lt=function(){i.log("set bitrate _afterInitHls: "+n.index,f);e.autoLevelCapping=n.index;e.nextLevel=n.index}}});Object.defineProperty(i,"currentTime",{get:function(){return h}});Object.defineProperty(i,"duration",{get:function(){return r?r.duration:0}});Object.defineProperty(i,"closedCaption",{set:function(){}});Object.defineProperty(i,"volume",{get:function(){return r?r.volume:1},set:function(n){r&&(i.log("set volume  "+n,f),n>0&&r.muted&&(r.muted=!1),r&&(r.volume=Math.max(0,Math.min(1,n))))}});Object.defineProperty(i,"fullscreen",{get:function(){return null},set:function(){}});Object.defineProperty(i,"useCredentials",{set:function(n){ot=n;i.log("useCredentials: "+n);r&&ct(n)}});Object.defineProperty(i,"isPlayingAds",{set:function(t){i.log("set isPlayingAds: "+d+", new: "+t,f);d!==t&&(d=t,n.utils.browser.isIPod()&&(r.removeEventListener(n.events.html.WEBKIT_EXIT_FULLSCREEN,it),d&&r.addEventListener(n.events.html.WEBKIT_EXIT_FULLSCREEN,it)),i.log("isPlayingAds: "+t,f),ct(!t&&ot))}});Object.defineProperty(i,"isFirstPlay",{get:function(){return r?r.buffered.length===0:!0}});Object.defineProperty(i,"canPlayHls",{get:function(){return r?r.canPlayType("application/x-mpegURL")==="probably"||r.canPlayType("application/x-mpegURL")==="maybe":!1}});Object.defineProperty(i,"name",{get:function(){return"player.providers.Hls "+typeof r}});Object.defineProperty(i,"muted",{get:function(){return r.muted},set:function(n){n?i.mute():i.unmute()}});Object.defineProperty(i,"enableIMA",{get:function(){return!0}});i.begin=function(){};i.providerType=function(){return"hls"};i.reload=function(){i.log("--reload() ",f);e.loadSource(c.url)};i.load=function(){i.show();r&&r.load&&!p&&(i.log("load: "+r+", src: "+r.src,f),ct(ot),r.load(),i.fireEvent(o.LOADED,r.currentTime,{disableLogging:!0}))};i.resize=function(){};i.show=function(){i.log("HLS show",f);b.style.display="block"};i.play=function(){return i.log("--play("+l+")",f),l&&r.duration>0?(e.attachMedia(r),st=!0):rt(),r.readyState===4};i.resume=i.play;i.pause=function(){return at()?0:(i.log("--pause()",f),r.pause(),l&&e!==null&&e.stopLoad(),r.readyState===4)};i.stop=function(){i.log("--stop()",f);i.reset()};i.seekTo=function(n){Math.round(i.currentTime)!==Math.round(n)&&(i.log("-seekTo("+n+")",f),a=n,ni())};i.isMute=function(){return r.muted};i.mute=function(){return(i.log("--mute() ",f),!r)?!1:(r.muted=!0,!0)};i.changeMedia=function(){i.log("--Hls changeMedia() ",f,"brown");i.pause();i.stop();v=!0};i.unmute=function(){return(i.log("--unmute() ",f),!r)?!1:(r.muted=!1,!0)};i.reset=function(){i.log("--Hls reset() ",f);t.timerManager.clearTimeout(nt);i.isPlayingAds=!1;v=!0;p=!1;h=0;et=-1;a=0;g=0;i.bindHtmlEvents(r,!1);e&&e.detachMedia()};i.bindHtmlEvents=function(n,t){var e,r;if(n){for(i.log("bindHtmlEvents: "+t,f),e=[u.CONTEXT_MENU,u.CAN_PLAY,u.PAUSE,u.PLAY,u.PLAYING,u.SEEKED,u.SEEKING,u.TIME_UPDATE,u.VOLUME_CHANGE,u.DURATION_CHANGE,u.ENDED,u.WEBKIT_EXIT_FULLSCREEN,u.LOAD_START,u.LOADED],r=0;r<e.length;r++)n.removeEventListener(e[r],it),t&&n.addEventListener(e[r],it);n.removeEventListener(u.ERROR,pt);t&&n.addEventListener(u.ERROR,pt)}};i.isReady=function(){return p};kt.addEventListener(u.TIME_UPDATE,function(){v&&(i.log("Disposing media after timeupdate",f,"brown"),i.reset(),v=!1)});b.addEventListener(u.TIME_UPDATE,function(){v&&(i.log("Disposing media after timeupdate",f,"brown"),i.reset(),v=!1)})};n.providers.Hls.prototype=new n.providers.Ui;n.providers.Hls.constructor=n.providers.Hls}(n),function(n){var t=!1;n.providers.AzurePlayer=function(i){function ot(){return u.textTracks_.tracks_.length>0}function st(n){for(var i=u.currentVideoStreamList().streams[0].tracks,r=i.length,t=0;t<r;t++)if(i[t]._bitrate==n)return{bitrate:n,index:t};return{bitrate:"auto",index:0}}function kt(n){var t=st(n.azureHtml5.currentDownloadBitrate);r.log("_onPlayBackBitrateChanged : pos="+t.index+" currentDownloadBitrate="+n.azureHtml5.currentDownloadBitrate+", currentPlaybackBitrate="+n.azureHtml5.currentPlaybackBitrate,f);n.azureHtml5.currentPlaybackBitrate===-1&&v.index!==t.index||(v=t,r.fireEvent(e.BITRATE_CHANGED,t,{disableLogging:!1}))}function dt(n){var t=st(n.azureHtml5.currentDownloadBitrate);r.log("_onDownloadBitratechanged : pos="+t.index+" currentDownloadBitrate="+n.azureHtml5.currentDownloadBitrate+", currentPlaybackBitrate="+n.azureHtml5.currentPlaybackBitrate,f);r.fireEvent(e.BITRATE_CHANGING,t,{disableLogging:!1})}function ht(t){g!==t.type?(p>0&&r.log("event: "+g+"("+p+")",f),r.log("event: "+t.type,f),p=0):p++;g=t.type;switch(t.type){case amp.eventName.canplaythrough:r.fireEvent(e.READY,null,{disableLogging:!0});break;case amp.eventName.loadedmetadata:r.fireEvent(e.LOADED,u.currentTime(),{disableLogging:!0});n.utils.userProfile.isTextTrackActive()&&r.showSubtitle();break;case amp.eventName.playing:c.time?(u.currentTime(c.time),l=!0,delete c.time):(l=!1,r.fireEvent(e.PLAYING,o.currentTime,{disableLogging:!1}));break;case amp.eventName.seeked:l=!1;r.fireEvent(e.SEEK_COMPLETE,u.currentTime(),{disableLogging:!1});break;case amp.eventName.seeking:l=!0;r.fireEvent(e.SEEKING,{before:ut,after:ft},{disableLogging:!1});break;case amp.eventName.timeupdate:l||(y=u.currentTime(),r.fireEvent(e.TIME_UPDATE,u.currentTime(),{disableLogging:!0}),r.fireEvent(e.CURRENT_TIME_CHANGE,u.currentTime(),{disableLogging:!0}));y=u.currentTime();y>0&&(nt=!0);break;case amp.eventName.volumechange:r.fireEvent(e.VOLUME_CHANGE,u.volume(),{disableLogging:!0});break;case amp.eventName.durationchange:t.azureHtml5&&r.durationChanged(t.azureHtml5.duration);break;case amp.eventName.ended:r.fireEvent(e.COMPLETE,u.duration(),{disableLogging:!1,async:!1});break;case amp.eventName.waiting:r.fireEvent(e.BUFFERING,u.currentTime(),{disableLogging:!1});break;case amp.eventName.downloadbitratechanged:dt(t);break;case amp.eventName.playbackbitratechanged:kt(t);w&&b&&(w=!1,r.bitrate=b,b=null);break;case amp.eventName.error:ni(t);break;default:r.log("Provider azure event handler. The event  "+t.type+" is not implemented",f)}}function gt(){return Math.abs(r.duration-y)<1}function ni(){var t=o&&o.error?o.error.code:-1,n;if(r.log("video element error: "+t,f),n="",t!==-1){n="Video HTML Error "+t+", ";switch(t){case o.error.MEDIA_ERR_ABORTED:h=!1;n+="User aborted the media playback.";break;case o.error.MEDIA_ERR_NETWORK:h=!1;n+="A network error caused a media download fail.";break;case o.error.MEDIA_ERR_DECODE:n+="The media playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case o.error.MEDIA_ERR_SRC_NOT_SUPPORTED:n+="The media could not be loaded, either because the server or network failed or because the format is not supported."}}a=u.error();k=n;h?(r.log("retry media, error code: "+it(),f,"red"),h=!1,setTimeout(function(){r.element.readyState===0&&r.reload()},2e3)):ct()}function it(){return a?a.code.toString(16):""}function ti(){return a?a.message:""}function ct(){if(k+="code = "+it()+", message = "+ti(),o.src!==document.URL){var t=n.models.error.MEDIA_ERROR();h=!0;t.innerId=it();t.innerMessage="Azure - "+k;t.origin=r.name;r.fireEvent(e.ERROR,t)}}function ii(){var n=document.createElement("video");return n.className="azurePlayer",rt.insertBefore(n,rt.firstChild),n}function d(n,t){for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i].value;return null}function ri(){function f(){for(var f,o,e=n.utils.dom.FindAllByClassName(i.container,"vjs-control"),u=[],r,t=0;t<e.length;t++)r=e[t],u.push(r);for(f=["vjs-big-play-button","vjs-loading","vjs-tech","vjs-volume-bar","vjs-error-display"],t=0;t<f.length;t++)o=f[t],r=n.utils.dom.FindByClassName(i.container,o),r!==null&&u.push(r);for(t=0;t<u.length;t++)r=u[t],n.utils.a11y.deactivate(r),r.removeAttribute("aria-live")}var u=document.location.href.indexOf("silverlight=1")!==-1,r=["azureHtml5JS","silverlightSS","html5FairPlayHLS","html5"],t;return u&&r.splice(0,0,"silverlightSS"),t={autoplay:!0,controls:!1,width:"100%",height:"100%",language:"fr",enabled:!1,techOrder:r,silverlightSS:{xap:at},heuristicProfile:bt,hotKeys:{enableFullscreen:!1,enableJogStyle:!1,enableMute:!1,enableNumbers:!1,seekStep:!1,volumeStep:!1},logo:{enabled:!1}},n.utils.isDebugModeAzureProvider()&&(t.traceConfig={TraceTargets:[{target:"console"}],maxLogLevel:3}),amp(s,t,f)}function lt(t){var r=[{type:"PlayReady",authenticationToken:d(t.params,"playreadyAuthToken")},{type:"Widevine",authenticationToken:d(t.params,"widevineAuthToken")},{type:"FairPlay",certificateUrl:d(t.params,"fairplayCertificatePath"),authenticationToken:d(t.params,"fairplayAuthToken")}],f=[{src:t.url.replace("http://","https://"),type:"application/vnd.ms-sstr+xml",protectionInfo:r,streamingFormats:["SMOOTH","DASH","HLS","HLS-V3","HLS-V4"]}],i=[];t.subttitle&&(i=[{kind:"subtitles",src:t.subttitle,srclang:n.label.SUBTITLE_CODE,label:n.label.SUBTITLE_LABEL}]);u.src(f,i)}this.container=i.container;var at=document.location.protocol+"//s.radio-canada.ca/player/ressources/xap/SmoothStreamingPlayer.xap",r=this,f=n.utils.debugger.tabs.PROVIDER,rt=n.utils.dom.FindByClassName(i.container,"videocontainer"),s=n.utils.dom.FindByClassName(i.container,"tagvideo"),g=null,p=0,o=r,c={url:null,bitrates:null,drm:null},v={bitrate:"auto",index:0},y=0,e=n.events.provider,ut=0,ft=0,l=!1,ui=n.events.html,et=0,vt=!1,yt=-1,pt=0,wt=0,h=!0,u=null,w=!1,b=null,bt=i.playerSettings.heuristicProfile,nt=!1,tt=0,a=null,k="";n.utils.extend(r,new n.events.EventRegistration("provider AZURE"));n.utils.extend(r,new n.utils.LogInstance("AZURE_PROVIDER",i.index));Object.defineProperty(r,"azurePlayer",{get:function(){return u}});Object.defineProperty(r,"id",{get:function(){return _id}});Object.defineProperty(r,"element",{get:function(){return o}});Object.defineProperty(r,"ended",{get:function(){return u.ended()}});Object.defineProperty(r,"paused",{get:function(){return u.paused()}});Object.defineProperty(r,"src",{get:function(){return c},set:function(n){r.log("src: "+n,f);c=n;lt(n)}});Object.defineProperty(r,"bitrate",{get:function(){return v},set:function(n){w?b=n:(v=n,r.log("bitrate: "+JSON.stringify(n),f,"darkgreen"),u&&u.currentVideoStreamList()&&u.currentVideoStreamList().streams&&u.currentVideoStreamList().streams[0].selectTrackByIndex(v.index))}});Object.defineProperty(r,"currentTime",{get:function(){return u.currentTime()}});Object.defineProperty(r,"duration",{get:function(){return u.duration()}});Object.defineProperty(r,"closedCaption",{});Object.defineProperty(r,"volume",{get:function(){return u.volume()},set:function(n){u&&(r.log("--volume("+n+")",f),et=u.volume(),u.volume(n))}});Object.defineProperty(r,"fullscreen",{get:function(){return u.isFullScreen()},set:function(){u.requestFullscreen()}});Object.defineProperty(r,"isPlayingAds",{});Object.defineProperty(r,"isFirstPlay",{get:function(){return!1}});Object.defineProperty(r,"name",{get:function(){return"player.providers.AzurePlayer "}});Object.defineProperty(r,"isLive",{get:function(){return u.isLive()},set:function(){}});Object.defineProperty(r,"enableIMA",{get:function(){return!0}});r.showSubtitle=function(){ot()&&(u.textTracks_.tracks_[0].mode="showing")};r.hideSubtitle=function(){ot()&&(u.textTracks_.tracks_[0].mode="disabled")};r.providerType=function(){return"azure"};r.begin=function(){};r.reload=function(){function t(){r.log("providerAzure azure _onLoad()",f);u.removeEventListener(n.events.html.LOAD_START,t);u.addEventListener(n.events.html.PLAY,e);u.play()}function e(){r.log("providerAzure _onPlaying()",f);i.timerManager.clearTimeout(tt);u.removeEventListener(n.events.html.PLAY,e);r.bindHtmlEvents(null,!0)}r.log("--reload() ",f);r.bindHtmlEvents(null,!1);u.addEventListener(n.events.html.LOAD_START,t);lt(c);h||(tt=i.timerManager.setTimeout(ct,6e3))};r.resize=function(){};r.dispose=function(){u&&u.dispose()};r.play=function(){r.log("--play() ",f);u.play()};r.resume=r.play;r.pause=function(){return gt()?0:(r.log("--pause() ",f),u.pause())};r.stop=function(){r.log("--stop() ",f);r.dispose()};r.seekTo=function(n){if(!nt){r.log("--seekTo("+n+") - seek is not allowed, request is canceled  ",f,"magenta");return}Math.round(r.currentTime)!==Math.round(n)&&(ut=u.currentTime(),ft=n,l=!0,u.currentTime(n))};r.mute=function(){u.volume(0)};r.unmute=function(){u.volume(et)};r.changeMedia=function(){u.pause()};r.reset=function(){r.log("--Azure reset() ",f,"brown");r.isPlayingAds=!1;y=0;vt=!1;yt=-1;pt=0;wt=0;h=!0;r.stop()};r.init=function(){t||(n.utils.cssLoader("//amp.azure.net/libs/amp/1.5.0/skins/amp-default/azuremediaplayer.min.css"),n.utils.styleAdd(".vjs-loading-spinner {display: none;visibility: hidden;z-index: -1;}\n.amp-logo {display: none;}"),t=!0);var e=n.utils.dom.FindByClassName(i.container,"vjs-controls-disabled");if(e&&e.parentNode.removeChild(e),s&&(s.style.display="none"),o=s=ii(),r.log("--azure init() ",f,"blue"),typeof amp=="undefined")return r.log("azure player is not present",n.utils.debugger.tabs.ERROR),null;r.dispose();u=ri();u.isReadyOnInitFinish_;r.bindHtmlEvents(null,!0);u.volume(i.ui.volume.getCurrentVolume()/100);r.show();w=!0;nt=!1;h=!0;i.timerManager.clearTimeout(tt);a=null;k=""};r.addTrack=function(){};r.showTrack=function(){};r.hideTracks=function(){};r.disableTrack=function(){};r.show=function(){s&&(r.log("AZURE provider show",f),s.style.display="block")};r.hide=function(){s&&(s.style.display="none")};r.bindHtmlEvents=function(n,t){var i,e;if(!u||u.disposed_===!0){r.log("azure player is not defined or disposed",f);return}r.log("bindHtmlEvents: "+t,f);i=amp.eventName;for(e in i)i.hasOwnProperty(e)&&(u.removeEventListener(i[e],ht),t&&u.addEventListener(i[e],ht))}};n.providers.AzurePlayer.prototype=new n.providers.Ui}(n),function(n){n.services=n.services||{};n.services.MetaMedia=function(t,i){function f(n){var r="https://",i=null,f;switch(t.ApiEnvironment){case"dev":r+="dev-";i=u(t.clientKey);break;case"":i=u(t.clientKey);break;case"lcl":r+="lcl-";i=null}return f=r+"services.radio-canada.ca/media/meta/v1/index.ashx"+n,[f,e,o,i]}function u(n){return[{name:"Authorization",value:"Client-Key "+n}]}function e(t){if(t===null)r.fireEvent(n.events.net.ERROR,null);else{var i=s(t);i!==null&&r.fireEvent(n.events.net.COMPLETE,i,{stringify:!1})}}function o(t){r.log("httpRequest ERROR: "+t,n.utils.debugger.tabs.ERROR);var i=n.models.error.METAMEDIA_ERROR();i.innerMessage=t;i.origin=r.name;r.fireEvent(n.events.net.ERROR,i)}function s(t){var i=null,s=null,o,e,f,u;try{i=typeof t=="string"?JSON.parse(t):t}catch(h){return o=n.models.error.METAMEDIA_ERROR(),o.innerMessage=h.message,o.origin=r.name,r.fireEvent(n.events.net.ERROR,o),null}if(i&&i.errorMessage)return e=n.models.error.METAMEDIA_ERROR(),e.innerId=i.errorCode,e.innerMessage=i.errorMessage,e.origin=r.name,r.fireEvent(n.events.net.ERROR,e),null;if(i&&i.Metas&&i.Metas.length>0)for(s={},f=0;f!==i.Metas.length;++f)i.Metas[f].name&&i.Metas[f].text&&i.Metas[f].text.trim()&&(u=i.Metas[f].text,isNaN(u)||i.Metas[f].name==="SrcAvDuree"?typeof u=="string"&&u.toLowerCase()==="true"?u=!0:typeof u=="string"&&u.toLowerCase()==="false"&&(u=!1):u=u*1,s[i.Metas[f].name]=u);return s}var r=this;n.utils.extend(r,new n.events.EventRegistration("metamedia"));n.utils.extend(r,new n.utils.LogInstance("META_M",i));r.name="player.services.MetaMedia";r.callRemote=function(t,i){if(!i||!t){r.fireEvent(n.events.error.ERROR,null);return}var u="?appCode="+t+"&idMedia="+i+"&output=json";n.utils.ajax.apply(this,f(u))}}}(n),function(n){n.services=n.services||{};n.services.ValidationMedia=function(t){function c(e,h){var y=[],c,p,v;t.playerSettings.ApiEnvironment!=="lcl"?u&&(c={name:"Authorization"},h?(c.value="Bearer "+h,r.claims=e?e.claims:null):c.value="Client-Key "+f,y.push(c)):(r.bypasslock="NZt5K62gRqfc",r.paysJ391wsHjbOJwvCs26toz="CA");p=n.utils.obj2str(r);v=l()+p;i.log("callRemote: "+v);o=function(t,i,r){n.utils.ajax(v,t.bind(r),i,y)};i.requestHttp(a,s,i)}function l(){var i=window.location.protocol.indexOf("https")>-1,f=i||u?"https://":"http://",n="",r="";if(typeof t.playerSettings.ApiEnvironment!="undefined")switch(t.playerSettings.ApiEnvironment){case"dev":n=u?"dev-":i?"":"br-";break;case"lcl":n="lcl-"}return r=u?"services.radio-canada.ca/media/validation/v2/":n==="lcl-"?"api.radio-canada.ca/validationMedia/v1/Validation.ashx":"api.radio-canada.ca/validationMedia/v1/Validation.html",f+n+r+"?"}function a(t){if(!t){i.fireEvent(n.events.net.ERROR,null);return}if(t.error){s(t.error);return}if(t.errorCode!==0){var r=r=n.models.error.VALIDATION_MEDIA_ERROR();switch(t.errorCode){case 33:r.userMessage=n.label.AVAILABLE_IN_PREMIUM_ONLY;break;case 1:r.userMessage=n.label.GEO_BLOCK;break;case 3:case 17:case 52:r.userMessage=n.label.BROWSER_NOT_SUPPORTED;break;case 20:r.userMessage=n.label.BROWSER_NOT_SUPPORTED}r.innerId=t.errorCode;r.innerMessage=t.message;r.origin=i.name;i.fireEvent(n.events.net.ERROR,r);return}i.fireEvent(n.events.net.COMPLETE,t,{stringify:!0})}function s(t){i.log("httpRequest ERROR: "+t,n.utils.debugger.tabs.ERROR);var r=n.models.error.VALIDATION_MEDIA_ERROR();r.innerMessage=t;r.innerId=e;r.origin=i.name;i.fireEvent(n.events.net.ERROR,r)}var i=this,v=t,h={connectionType:"hd",output:"json",multibitrate:!0,deviceType:"flashhd",appCode:null,idMedia:null},r={},u=!1,f=null,e=0,o=function(){};n.utils.extend(i,new n.events.EventRegistration("VM"));n.utils.extend(i,new n.utils.LogInstance("VALIDATION_MEDIA",t.index));Object.defineProperty(i,"requestHttp",{get:function(){return o}});i.name="ValidationMedia";i.callRemote=function(t){r=n.utils.merge2Object(h,t.vmParams);u=t.isVM2;f=t.client_key;e=n.claims.token?3:0;c(n.claims.claims,n.claims.token)}}}(n),function(n){n.services=n.services||{};n.services.MediaAnalytics=function(t,i){function s(t){var i=n.states.state;switch(t.data.currentState){case i.MEDIA_READY_TO_PLAY:r.handlePlaying();break;case i.MEDIA_PLAYING:(t.data.previousState===i.MEDIA_PAUSED||t.data.previousState===i.MEDIA_AD_COMPLETE)&&r.handleResume();break;case i.MEDIA_PAUSED:r.handlePause();break;case i.MEDIA_COMPLETE:r.handlePlayEnd("Play.End.Detected");break;case i.MEDIA_AD_STARTED:r.handleAdLoaded({});r.handleAdStarted();break;case i.MEDIA_AD_COMPLETE:r.handleAdCompleted()}}function h(n){n.data?r.handleBufferStart():r.handleBufferEnd()}function c(n){r.handleError(n.data.innerId+" : "+n.data.innerMessage)}function l(){u.log("Akamai MediaAnalytics");try{r=new AkaHTML5MediaAnalytics}catch(t){u.log("error instance Akamai MediaAnalytics: "+t,n.utils.debugger.tabs.ERROR,n.utils.color.RED)}}var u=this,o=t,f=null,r=null,e="";n.utils.extend(u,new n.utils.LogInstance("ANALYTICS",i));Object.defineProperty(u,"userId",{get:function(){return e},set:function(n){e=n}});u.name="player.services.MediaAnalytics";u.changeMedia=function(t){t&&(u.log("MediaAnalytics media: "+t.id+", isMobile: "+o.isMobile),r||l(),r&&(t.addEventListener(n.events.media.CURRENT_STATE_CHANGE,s),t.addEventListener(n.events.media.BUFFERING,h),t.addEventListener(n.events.media.ERROR,c),f={},f.streamHeadPosition=function(){return t.getProvider().currentTime},f.streamLength=function(){return t.getProvider().duration},f.streamURL=function(){return u.log("Analytics streamURL: "+t.getProvider().source,n.utils.debugger.tabs.STATS),t.getProvider().source.url},r.handleSessionInit(f),r.setData("viewerId",e),r.setData("device",(o.isMobile?"Mobile":"Desktop")+" HTML"),r.setData("playerId","HTML5 0.1")))}}}(n),function(n){function f(i,r,u,f){var s=a(),e={adUnit:p(r,i.DARTsite,s),cust_params:l(i,r.isLive?"000":r.isVideo?r.SrcAvDuree:null),companion:f?f:"300x250,300x600,728x90",pageUrl:encodeURIComponent(document.location.href),correlator:Math.round(Math.random()*1e7),idMedia:r.idMedia,idFeed:v(s,r.appCode),size:y(s,r.isVideo),resume:!u?"":"%26resume%3Dtrue"},c={avdif:r.isLive?"direct":"differe"},h,o;e.cust_params+=(e.cust_params===""?"":"%26")+n.utils.obj2str(c,"%3D","%26").replace(/,/ig,"%2C");r.isLive&&(h={idMedia:r.idMedia},e.cust_params+="%26"+n.utils.obj2str(h,"%3D","%26").replace(/,/ig,"%2C"));url="//pubads.g.doubleclick.net/gampad/ads?sz=[size]&iu=[adUnit]&ciu_szs=[companion]&impl=s&gdfp_req=1&env=vp&ad_rule=1&output=xml_vast3&unviewed_position_start=1&url=[pageUrl]&correlator=[correlator]&cmsid=[idFeed]&vid=[idMedia]&cust_params=[cust_params][resume]";for(o in e)e.hasOwnProperty(o)&&(url=url.replace("["+o+"]",e[o]));return t("adsUrl="+url),url}function e(){return r.isNotNullOrUndefined(RadioCanada)&&r.isNotNullOrUndefined(RadioCanada.Publicite)}function u(n){var i="",t;return e()&&r.isNotNullOrUndefined(RadioCanada.Publicite[n])&&(t=RadioCanada.Publicite[n](),r.isNotNullOrUndefined(t)&&(i=t)),i}function o(){return u("site")}function s(){return u("getAudienceList")}function h(){return u("inUrl")}function c(){return u("getMediaId")}function l(t,i){var y="",p,r,f,u,e,l,a,v;try{if(p=["ref","inURL"],r={},typeof RadioCanada!="undefined"&&typeof RadioCanada.Mod!="undefined"&&typeof RadioCanada.Mod.oPub!="undefined"&&typeof RadioCanada.Mod.oPub.GlobalVars!="undefined"&&typeof RadioCanada.Mod.oPub.GlobalVars.MetaTags!="undefined"){f=RadioCanada.Mod.oPub.GlobalVars.MetaTags;for(u in f)f.hasOwnProperty(u)&&p.indexOf(u)===-1&&(r[u]=f[u])}typeof t.noAds!="undefined"&&t.noAds===!0&&(r.ads="exclude");e=o();e!==""&&(r.site=e);l=s();l!==""&&(r.audienceList=l);a=h();a!==""&&(r.inUrl=a);v=c();v!==""&&(r.dID=v);i&&(r.avdur=i);y=n.utils.obj2str(r,"%3D","%26").replace(/,/ig,"%2C")}catch(w){return""}return y}function a(){return!!window.CBC&&!!window.CBC.Ads&&!!window.CBC.Ads.getHierarchy()}function v(n,t){return n?"":t==="toutv"||t==="thePlatform"?823:1303}function y(n,t){return n?"320x240":t?"852x480|640x480":"10x10"}function p(n,t,i){var r="not defined",u=n.showAds,f;try{f=RadioCanada&&RadioCanada.Publicite&&RadioCanada.Publicite.getAdUnit;r=f?f():RadioCanada.Mod.oPub.AdUnit.GetGlobalVariables().AddUnitPrefix;r.indexOf("reclasser")!=-1&&n.isLive&&(r=r.replace("reclasser","live"));r.indexOf("/audiovideo/reclasser")!=-1&&(n.appCode==="medianet"||n.appCode==="ca")&&n.isVideo&&(r=r.replace("/audiovideo/reclasser","/television/chaine-principale/"+u));r.indexOf("/")==-1&&(r+="/television/chaine-principale/"+u);r="%2F"+(r.indexOf("6642")===-1?"6642%2F":"")+r}catch(e){r=i?CBC.Ads.getHierarchy():"%2F6642%2F"+t+"/television/chaine-principale/"+u}return r}function w(n){var r,u;if("string"!=typeof n)return n;/^\/\//.test(n)&&(n=window.location.protocol+n);var t=window.location!=window.parent.location?document.referrer:document.location.href;return bucket_selector=function(n,t){var u=n.length,r;for(bucketSelector=-1,i=0;i<u;++i){for(r=n[i].length,j=0;j<r;++j)if(-1!==t.indexOf(n[i][j])){bucketSelector=i;break}if(bucketSelector>-1)break}return bucketSelector}([["tou.tv"],["radio-canada.ca"],["artv.ca"],["exploratv.ca"]],t.toLowerCase()),-1===bucket_selector&&(bucket_selector=0),r=[["225760","225759"],["225757","225758"],["225761","225762"],["225764","225763"]][bucket_selector][-1===navigator.userAgent.indexOf("Mobi")?0:1],u={protocols:[2,3,5,6],mimes:["video/mp4","video/webm","application/javascript"],apiList:[2],size:"853x480",durations:[6,10,15,30]},"//as-sec.casalemedia.com/playlist?ix_u="+encodeURIComponent(t)+"&ix_s="+encodeURIComponent(r)+"&ix_ca="+encodeURIComponent(JSON.stringify(u))+"&ix_vt="+encodeURIComponent(n)}var r=n.utils,t=function(t){n.utils.log(t,n.utils.debugger.tabs.ADS)};n.getAdsUrl=function(i,r,u){n.environnement==="lcl-"&&document.location.href.indexOf("mikhail")!==-1&&(n.adsStatus=0);var e=null,o=null;if(n.adsStatus=0,!r.isVideo)return n.adsStatus=1,null;if(n.params.imaCustomUrl.toLowerCase()==="null")return t("Pub desactiv dans setDebugMode - no pub"),n.adsStatus=2,null;if(n.params.imaCustomUrl!=="")return e=n.params.imaCustomUrl,t("debug mode customImaUrl="+e),n.adsStatus=-1,e;if(i.playerSettings.maxTimePubDuree===0)return t("Pub desactiv dans admim - no pub"),n.adsStatus=3,null;if(r.isJeunesse==!0)return t("Pub desactiv pour le contenu de jeunesse - no pub"),n.adsStatus=6,null;if(n.claims.isSecure())if(n.claims.isPub)t("Claims, ad is active"),e=f(i.playerSettings,r,u,o);else if(r.isAdsAlways)t("Premium user - pub forced for the media"),e=f(i.playerSettings,r,u,o);else return t("Premium user - no pub "),n.adsStatus=5,null;else e=f(i.playerSettings,r,u,o);return r.isVideo?w(e):e}}(n),function(n){n.services.neuro={};n.services.neuro.Api=function(n,t,i){this.endpoint="https://services.radio-canada.ca/neuro/v1";i.ApiEnvironment==="dev"&&(this.endpoint="https://dev-services.radio-canada.ca/neuro/v1");this.doT=n;this.ajax=t;this.clientKey="55e07958-9508-4084-b447-fff9b11a8b82"};n.services.neuro.Api.prototype={constructor:n.services.neuro.Api,getBroadcastingStationSchedule:function(n,t,i){return this._makeApiCall("/broadcasting-stations/{{#def.id}}/schedule?offset={{#def.offset}}",{id:n,offset:0},t,i)},getBroadcastingStationTrafficSchedule:function(n,t,i){return this._makeApiCall("/broadcasting-stations/{{#def.id}}/traffic-schedules/today?audioVideo",{id:n},t,i)},getProgramme:function(n,t,i){return this._makeApiCall("/programmes/{{#def.id}}",{id:n},t,i)},_makeApiCall:function(n,t,i,r){var u=this.doT.template(n,null,t)(),f=this.endpoint+u;return this.ajax(f,i,r,[{name:"Authorization",value:"Client-Key "+this.clientKey}],{timeout:0}),this}}}(n),function(n){n.services.neuro.BroadcastingStationScheduleManager=function(t,i,r,u,f,e){this.api=new n.services.neuro.Api(t,i,r);this.playerSettings=r;this.coreApi=u;this.coreEvents=f;this.underscore=e;this.metas=null;this.isLiveAudio=!1;this.broadcastingSchedule=null;this.currentBroadcast=null;this.pastBroadcast=null;this.canCallNeuroToGetBroadcastInfo=!1;this.mustUpdateCurrentBroadcast=!1;this.currentTime=null;n.utils.extend(this,new n.events.EventRegistration("model.media"));this._log("Initializing")};n.services.neuro.BroadcastingStationScheduleManager.prototype={constructor:n.services.neuro.BroadcastingStationScheduleManager,start:function(){this._log("Starting");this._bindEventHandlers()},_bindEventHandlers:function(){this.coreApi.addEventListener(this.coreEvents.METAS_CHANGE,this,this._onMetasChange);this._log("Event handlers bound")},_onMetasChange:function(t){this._log("Metas changed");this._resetState();this.canCallNeuroToGetBroadcastInfo=!1;var i=t.data;this.canCallNeuroToGetBroadcastInfo=i.isLive&&!n.utils.isWebcast(i)&&this.underscore.isNumber(i.broadcastingStation);this.coreApi.removeEventListener(this.coreEvents.PLAY,this._onPlay);this.coreApi.removeEventListener(this.coreEvents.PAUSE,this,this._onPause);this.canCallNeuroToGetBroadcastInfo?(this._log("We can call neuro because it's a live stream that is not a webcast."),this.metas=i,this.isLiveAudio=!i.isVideo,this.timeOffset=this._getTimeOffset(i),this.coreApi.addEventListener(this.coreEvents.PLAY,this,this._onPlay),this.coreApi.addEventListener(this.coreEvents.PAUSE,this,this._onPause)):this._log("It's not a live stream or it's a webcast. We can't call neuro to get info about this stream.")},_onPlay:function(){this._log("Playing");this._resetState();this.numberOfRetries=2;this._getBroadcastingSchedule(this.metas)},_onPause:function(){this._log("Paused");this._resetState()},_getTimeOffset:function(n){var i=n.serverTimeGMT,r=n.serverTime,u=0,t;return u=i>0?i:r>0?new Date(new Date(r*1e3).getTime()+(new Date).getTimezoneOffset()*6e4).getTime()/1e3:new Date((new Date).getTime()+(new Date).getTimezoneOffset()*60).getTime()/1e3,t=u*1e3-(new Date).getTime(),this._log("We have a time zone offset of approximately "+Math.floor(t/6e4)+" minutes."),t},_resetState:function(){this._log("State reset");this.coreApi.removeEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this._onCurrentTimeChange);this.broadcastingSchedule=null;this.currentBroadcast=null;this.mustUpdateCurrentBroadcast=!1},_getBroadcastingSchedule:function(n){if(this.coreApi.removeEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this._onCurrentTimeChange),n.isVideo){var t=!1;t!==null&&typeof t=="object"?(this._log("Neuro cached broadcasting schedule for this station used."),this._onGetBroadcastingStationScheduleSuccess.call(this,t)):(this._log("Neuro called to get the broadcasting schedule for this station."),this.api.getBroadcastingStationSchedule(n.broadcastingStation,this._onGetBroadcastingStationScheduleSuccess.bind(this),this._onGetBroadcastingStationScheduleFailure.bind(this)))}else this._log("Neuro called to get the broadcasting traffic schedule for this station."),this.api.getBroadcastingStationTrafficSchedule(n.broadcastingStation,this._onGetBroadcastingStationTrafficScheduleSuccess.bind(this),this._onGetBroadcastingStationScheduleFailure.bind(this))},_onGetBroadcastingStationScheduleSuccess:function(t){this._log("Neuro broadcasting station schedule call was a success.");this.broadcastingSchedule=new n.services.neuro.dtos.BroadcastingSchedule(t);this.mustUpdateCurrentBroadcast=!0;this.coreApi.removeEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this._onCurrentTimeChange);this.coreApi.addEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this,this._onCurrentTimeChange)},_onGetBroadcastingStationScheduleFailure:function(){if(this._log("Neuro broadcasting station schedule call was a failure."),this.numberOfRetries>0){this._log("Retry neuro broadcasting station schedule call.");this.numberOfRetries--;this._getBroadcastingSchedule(this.metas);return}this._resetState()},_onGetBroadcastingStationTrafficScheduleSuccess:function(t){this._log("Neuro broadcasting station traffic schedule call was a success.");this.trafficSchedule=new n.services.neuro.dtos.TrafficSchedule(t);this.broadcastingSchedule=this.trafficSchedule.convertToBroadcastingSchedule();this.mustUpdateCurrentBroadcast=!0;this.coreApi.removeEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this._onCurrentTimeChange);this.coreApi.addEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this,this._onCurrentTimeChange)},_onCurrentTimeChange:function(t){this.currentTime=new Date(t.data*1e3);this.mustUpdateCurrentBroadcast&&(this.currentBroadcast=this._getCurrentBroadcastAndUpdateMetas(),this.mustUpdateCurrentBroadcast=!1);this.currentBroadcast!==null?this.currentTime>=this.currentBroadcast.endDate&&(this.fireEvent(n.events.broadcastingStationScheduleManager.LIVE_PROGRAM_END),this._log("Current broadcast ended, we need to refresh the broadcast schedule from neuro."),this.numberOfRetries=2,this._getBroadcastingSchedule(this.metas)):(this.coreApi.removeEventListener(this.coreEvents.CURRENT_TIME_CHANGE,this._onCurrentTimeChange),this._log("We haven't found the current broadcast info from neuro."))},_getCurrentBroadcastAndUpdateMetas:function(){var t=this.broadcastingSchedule.getCurrentBroadcast(this.currentTime,this.timeOffset),i;return t!==null&&(i=new Date(new Date(t.endsAt).getTime()+this.timeOffset),i=new Date(i.setSeconds(i.getSeconds()+2)),t.endDate=i,this._updateMetaInfo(t),this.fireEvent(n.events.broadcastingStationScheduleManager.LIVE_PROGRAM_START,{broadcast:t}),this._log("Found the current broadcast info from neuro. Updating meta infos.\n"+JSON.stringify(t))),t},_updateMetaInfo:function(n){this.metas.title=n.title;this.metas.description=n.summary},_log:function(t){n.utils.log(t,n.utils.debugger.tabs.broadcastingStationScheduleManager)}}}(n),function(n){n.services.neuro.dtos={};n.services.neuro.dtos.Base=function(n){this.data=n};n.services.neuro.dtos.Base.prototype={constructor:n.services.neuro.dtos.Base}}(n),function(n){n.services.neuro.dtos.BroadcastingSchedule=function(t){n.services.neuro.dtos.Base.apply(this,[t])};n.services.neuro.dtos.BroadcastingSchedule.prototype=n.utils.underscore.create(n.services.neuro.dtos.Base.prototype);n.services.neuro.dtos.BroadcastingSchedule.prototype.constructor=n.services.neuro.dtos.BroadcastingSchedule;n.services.neuro.dtos.BroadcastingSchedule.prototype.getCurrentBroadcast=function(n,t){var r=this.getCurrentBroadcastIndex(n,t),i;if(r!==null)for(i=0;i<this.data.broadcasts.length;i++)if(i===r)return this.data.broadcasts[i];return null};n.services.neuro.dtos.BroadcastingSchedule.prototype.getCurrentBroadcastIndex=function(n,t){for(var i=0;i<this.data.broadcasts.length;i++){var r=this.data.broadcasts[i],u=new Date(new Date(r.startsAt).getTime()+t),f=new Date(new Date(r.endsAt).getTime()+t),e=n>=u&&n<f;if(e)return i}return null};n.services.neuro.dtos.BroadcastingSchedule.prototype.getNextBroadcast=function(){var t=this.etCurrentBroadcastIndex(),i=this.data.broadcasts.length,n;return t!==null&&(n=t+1,n<=i-1)?this.data.broadcasts[n]:null}}(n),function(n){n.services.neuro.dtos.TrafficSchedule=function(t){n.services.neuro.dtos.Base.apply(this,[t])};n.services.neuro.dtos.TrafficSchedule.prototype=n.utils.underscore.create(n.services.neuro.dtos.Base.prototype);n.services.neuro.dtos.TrafficSchedule.prototype.constructor=n.services.neuro.dtos.TrafficSchedule;var t=n.services.neuro.dtos.TrafficSchedule.prototype;t.convertToBroadcastingSchedule=function(){for(var r,f,i=this.data.items,u=[],t=0;t<i.length;t++)r=i[t],this.fillGapWithNoContent(r,i[t+1]),u.push(this.convertItemToBroadcast(r));return f={broadcasts:u},new n.services.neuro.dtos.BroadcastingSchedule(f)};t.fillGapWithNoContent=function(n,t){typeof t!="undefined"&&n.dateTimeRange.endsAt!==t.dateTimeRange.startsAt&&(t.dateTimeRange.startsAt=n.dateTimeRange.endsAt)};t.convertItemToBroadcast=function(n){return{title:n.programme.title,startsAt:n.dateTimeRange.startsAt,endsAt:n.dateTimeRange.endsAt}}}(n),function(n){n.services.metrik={};n.services.metrik.Api=function(n,t,i,r){this.clientKey=n;this.endpoint="https://services.radio-canada.ca/metrik/omniture/v1";this.doT=i;this.ajax=r;this.application=t};n.services.metrik.Api.prototype={constructor:n.services.metrik.Api,getLiveAudio:function(n,t,i){return this._makeApiCall("/audio/live/{{#def.id}}?application={{#def.application}}",{id:n,application:this.application},t,i)},getVideoToutv:function(n,t,i){return this._makeApiCall("/videotoutv/{{#def.id}}?application={{#def.application}}",{id:n,application:this.application},t,i)},_makeApiCall:function(n,t,i,r){var u=this.doT.template(n,null,t)(),f=this.endpoint+u;return this.ajax(f,i,r,[{name:"Authorization",value:"Client-Key "+this.clientKey}],{timeout:0}),this}}}(n),function(n){n.states={};n.states.state={CORE_CREATED:"state.core.created",CORE_READY:"state.core.ready",CORE_MEDIA_STARTED:"state.core.mediaStarted",CORE_MEDIA_COMPLETE:"state.core.mediaComplete",CORE_RELATED:"state.core.related",CORE_ERROR:"state.core.error",MEDIA_CREATED:"state.media.created",MEDIA_READY:"state.media.ready",MEDIA_POSTER:"state.media.poster",MEDIA_STARTED:"state.media.started",MEDIA_RESUME:"state.media.resume",MEDIA_BEGIN:"state.media.begin",MEDIA_READY_TO_PLAY:"state.media.readyToPlay",MEDIA_PLAYING:"state.media.playing",MEDIA_AD_STARTED:"state.media.adStarted",MEDIA_AD_PAUSED:"state.media.adPaused",MEDIA_AD_COMPLETE:"state.media.adComplete",MEDIA_PAUSED:"state.media.paused",MEDIA_COMPLETE:"state.media.complete",MEDIA_ENDED:"state.media.ended",MEDIA_ERROR:"state.media.error",AD_CREATED:"state.ad.created",AD_READY:"state.ad.ready",AD_STARTED:"state.ad.started",AD_WAITING:"state.ad.waiting",AD_PLAYING:"state.ad.playing",AD_PAUSED:"state.ad.paused",AD_RESUMED:"state.ad.resumed",AD_COMPLETE:"state.ad.complete",AD_ERROR:"state.ad.error"}}(n),function(n){n.states.Core=function(t){function h(t){if(t.data.currentState){switch(t.data.currentState){}u!==r.CORE_ERROR&&(u=r.CORE_MEDIA_STARTED,i.fireEvent(n.events.states.MEDIA_STATE_CHANGE,t.data,{disableLogging:!0}))}}function f(t){var r=u;u=t;i.log("CORE change state from: "+r+" to: "+u,n.utils.debugger.tabs.STATES);i.fireEvent(n.events.states.CURRENT_STATE_CHANGE,{previousState:r,currentState:u},{disableLogging:!0,async:!1})}function s(t){i.log("CORE ++++++++ NO state change from: "+u+" to: "+t,n.utils.debugger.tabs.STATES);i.fireEvent(n.events.states.NO_STATE_CHANGE,{previousState:u,currentState:t},{disableLogging:!0})}var i=this,u=null,e=null,o=!1,r=n.states.state;n.utils.extend(i,new n.events.EventRegistration("states.core"));n.utils.extend(i,new n.utils.LogInstance("CORE_STATE",t));Object.defineProperty(i,"currentState",{get:function(){return u}});Object.defineProperty(i,"eventStartFired",{get:function(){return o},set:function(n){o=!!n}});Object.defineProperty(i,"mediaStates",{get:function(){return e},set:function(t){e=t;e.addEventListener(n.events.states.CURRENT_STATE_CHANGE,h)}});i.create=function(){i.log("core state created");f(r.CORE_CREATED)};i.error=function(){i.log("core state error");f(r.CORE_ERROR)};i.ready=function(){i.log("core state ready");switch(u){case r.CORE_ERROR:case r.CORE_CREATED:f(r.CORE_READY);break;default:s(r.CORE_READY)}};i.completeMedia=function(){i.log("core state completeMedia - previousState:"+u);switch(u){case r.CORE_MEDIA_STARTED:f(r.CORE_MEDIA_COMPLETE);break;default:s(r.CORE_MEDIA_COMPLETE)}}}}(n),function(n){n.states.Media=function(t){function u(t,u,e){if(t===r){f(t);return}e=e||{};typeof u=="undefined"&&(u=!0);var o=r;r=t;i.log("MEDIA change state from: "+o+" to: "+r,n.utils.debugger.tabs.STATES);i.fireEvent(n.events.states.CURRENT_STATE_CHANGE,{previousState:o,currentState:r,async:u,params:e},{disableLogging:!0,async:!1})}function f(t){i.log("MEDIA ++++++++ NO state change from: "+r+" to: "+t,n.utils.debugger.tabs.STATES);i.fireEvent(n.events.states.NO_STATE_CHANGE,{previousState:r,currentState:t},{disableLogging:!0})}var i=this,r=null;n.utils.extend(i,new n.events.EventRegistration("states.media"));n.utils.extend(i,new n.utils.LogInstance("MEDIA_STATE",t));Object.defineProperty(i,"currentState",{get:function(){return r}});i.init=function(){r=null};i.create=function(){i.init();u(n.states.state.MEDIA_CREATED,!1)};i.begin=function(){i.log("states.beginFired ");switch(r){case n.states.state.MEDIA_STARTED:u(n.states.state.MEDIA_BEGIN,!1);break;default:u(n.states.state.MEDIA_BEGIN)}return};i.ready=function(t,r){i.log("states.ready (autoplay: "+t);u(n.states.state.MEDIA_READY,!1);t?(u(n.states.state.MEDIA_POSTER,!1),r?u(n.states.state.MEDIA_RESUME,!1):u(n.states.state.MEDIA_STARTED,!1)):u(n.states.state.MEDIA_POSTER);return};i.reset=function(){i.log("states.reset  MEDIA_COMPLETE => MEDIA_POSTER");u(n.states.state.MEDIA_POSTER);return};i.startResume=function(){i.log("states.start: "+r);switch(r){case n.states.state.MEDIA_POSTER:case n.states.state.MEDIA_READY:u(n.states.state.MEDIA_RESUME,!1);break;default:f(n.states.state.MEDIA_RESUME)}};i.start=function(){i.log("states.start: "+r);switch(r){case n.states.state.MEDIA_POSTER:case n.states.state.MEDIA_READY:case n.states.state.MEDIA_RESUME:u(n.states.state.MEDIA_STARTED,!1);break;default:f(n.states.state.MEDIA_STARTED)}};i.startAd=function(){i.log("states.startAd: "+r);u(n.states.state.MEDIA_AD_STARTED);return};i.completeAd=function(){i.log("states.completeAd: "+r);switch(r){case n.states.state.MEDIA_STARTED:case n.states.state.MEDIA_BEGIN:case n.states.state.MEDIA_PLAYING:case n.states.state.MEDIA_READY_TO_PLAY:case n.states.state.MEDIA_PAUSED:case n.states.state.MEDIA_AD_STARTED:case n.states.state.MEDIA_AD_PAUSED:case n.states.state.MEDIA_COMPLETE:u(n.states.state.MEDIA_AD_COMPLETE);break;default:f(n.states.state.MEDIA_AD_COMPLETE)}};i.readyToPlay=function(){i.log("states.readyToPlay: "+r);switch(r){case n.states.state.MEDIA_POSTER:u(n.states.state.MEDIA_READY_TO_PLAY);break;case n.states.state.MEDIA_BEGIN:case n.states.state.MEDIA_AD_COMPLETE:u(n.states.state.MEDIA_READY_TO_PLAY);break;default:f(n.states.state.MEDIA_READY_TO_PLAY)}};i.play=function(t){i.log("states.play: "+r);switch(r){case n.states.state.MEDIA_PAUSED:case n.states.state.MEDIA_READY_TO_PLAY:case n.states.state.MEDIA_AD_COMPLETE:u(n.states.state.MEDIA_PLAYING,!1,t);break;case n.states.state.MEDIA_AD_PAUSED:u(n.states.state.MEDIA_AD_STARTED);break;case n.states.state.MEDIA_ENDED:u(n.states.state.MEDIA_STARTED);break;case n.states.state.MEDIA_STARTED:f(n.states.state.MEDIA_STARTED);break;case n.states.state.MEDIA_BEGIN:f(n.states.state.MEDIA_BEGIN);break;case n.states.state.MEDIA_POSTER:u(n.states.state.MEDIA_POSTER);break;default:f(n.states.state.MEDIA_PLAYING)}};i.playAds=function(){u(n.states.state.MEDIA_PLAYING)};i.pause=function(t){t=t||{};i.log("states.pause: "+r);switch(r){case n.states.state.MEDIA_PLAYING:case n.states.state.MEDIA_STARTED:case n.states.state.MEDIA_BEGIN:case n.states.state.MEDIA_READY_TO_PLAY:u(n.states.state.MEDIA_PAUSED,!1,t);break;case n.states.state.MEDIA_AD_STARTED:u(n.states.state.MEDIA_AD_PAUSED);break;default:f(n.states.state.MEDIA_PAUSED)}};i.adStarted=function(){u(n.states.state.MEDIA_AD_STARTED)};i.complete=function(){i.log("states.complete: "+r);switch(r){case n.states.state.MEDIA_PLAYING:case n.states.state.MEDIA_PAUSED:case n.states.state.MEDIA_AD_COMPLETE:u(n.states.state.MEDIA_COMPLETE,!1);break;default:f(n.states.state.MEDIA_COMPLETE);i.log("complete default: "+r)}};i.ended=function(){switch(r){case n.states.state.MEDIA_COMPLETE:case n.states.state.MEDIA_AD_COMPLETE:u(n.states.state.MEDIA_ENDED,!1);break;default:f(r)}};i.error=function(){}}}(n),function(n){n.states.Ad=function(){function u(t){var u=r;r=t;i.log("AD change state from: "+u+" to: "+r,n.utils.debugger.tabs.STATES);i.fireEvent(n.events.states.CURRENT_STATE_CHANGE,{previousState:u,currentState:r},{disableLogging:!0})}function f(t){i.log("AD +++++++ NO state change from: "+r+" to: "+t,n.utils.debugger.tabs.STATES);i.fireEvent(n.events.states.NO_STATE_CHANGE,{previousState:r,currentState:t},{disableLogging:!0})}var i=this,r=null,t=n.states.state;n.utils.extend(i,new n.events.EventRegistration("states.ads"));n.utils.extend(i,new n.utils.LogInstance("AD_STATE"));Object.defineProperty(i,"currentState",{get:function(){return r}});i.create=function(){u(t.AD_CREATED)};i.ready=function(){r===t.AD_CREATED?u(t.AD_READY):f(t.AD_READY)};i.start=function(){switch(r){case t.AD_READY:case t.AD_COMPLETE:u(t.AD_STARTED);break;default:f(t.AD_STARTED)}};i.play=function(){switch(r){case t.AD_STARTED:case t.AD_PAUSED:u(t.AD_PLAYING);break;default:f(t.AD_PLAYING)}};i.pause=function(){switch(r){case t.AD_STARTED:case t.AD_PLAYING:u(t.AD_PAUSED);break;default:f(t.AD_PAUSED)}};i.waiting=function(){u(t.AD_WAITING)};i.complete=function(){u(t.AD_COMPLETE)};i.skip=function(){u(t.AD_COMPLETE)};i.error=function(){i.fireEvent(n.events.states.AD_ERROR,null)}}}(n),function(n){n.controllers={};n.controllers.Live=function(t){function c(n){var t=h+n*1e3+s,i=new Date(Math.round(t));return Math.floor(i.getTime()/1e3)}function l(t){if(n.utils.log(t,"time"),!i.paused){var r=i.providerType()==="flash"?Math.floor(new Date(t.getTime()+s)/1e3):c(t);u.fireEvent(f.CURRENT_TIME_CHANGE,r,{disableLogging:!0});u.fireEvent(n.events.core.CURRENT_TIME_CHANGE_EXTERNAL,r,{disableLogging:!0})}}function a(n){n.data>0&&(t.timerManager.clearInterval(r),e&&(e=!1,r&&t.timerManager.clearInterval(r)),l(n.data))}function v(){e=!0;t.timerManager.clearInterval(r);r=t.timerManager.setInterval(w,1e3);h=(new Date).getTime()}function y(){e=!1;r&&t.timerManager.clearInterval(r)}function p(){e=!1;r&&t.timerManager.clearInterval(r)}function w(){var n=((new Date).getTime()-h+s)/1e3;l(n)}function b(n,t,r){u.log("content in live controller: "+n);i=n;o=t>0?t:r>0?new Date(new Date(r*1e3).getTime()+(new Date).getTimezoneOffset()*6e4).getTime()/1e3:new Date((new Date).getTime()+(new Date).getTimezoneOffset()*60).getTime()/1e3;s=o*1e3-(new Date).getTime();i.addEventListener(f.TIME_UPDATE,a);i.providerType()!=="flash"&&i.addEventListener(f.PLAYING,v);i.addEventListener(f.PAUSE,y);i.addEventListener(f.COMPLETE,p)}function k(){t.timerManager.clearInterval(r);i.removeEventListener(f.PLAYING,v);i.removeEventListener(f.TIME_UPDATE,a);i.removeEventListener(f.PAUSE,y);i.removeEventListener(f.COMPLETE,p)}var u=this,o=0,s=0,h=(new Date).getTime(),r=0,f=n.events.provider,e=!0,i=null;n.utils.extend(u,new n.events.EventRegistration("contr.live"));n.utils.extend(u,new n.utils.LogInstance("LIVE_CORE",t.index));u.name="player.controllers.Live";u.stop=k;u.start=b;u.calculateTimeWithOffset=c}}(n),function(n){n.models={};n.models.Metas=function(){var n=this;n.idMedia=null;n.appCode=null;n.title=null;n.description=null;n.shortDescription=null;n.watermarkUrl=null;n.posterUrl=null;n.thumbnailUrl=null;n.seekThumbnailsUrl=null;n.seekThumbnailsHRUrl=null;n.closedCaptionUrl=null;n.redirectUrl=null;n.duration=0;n.startTime=0;n.creditsTime=0;n.creditsRatio=0;n.chaptersTime=null;n.chaptersRatio=null;n.serverTime=0;n.serverTimeGMT=0;n.language="fr";n.network=null;n.chain=null;n.station=null;n.date=null;n.show=null;n.showAds=null;n.category=null;n.theme=null;n.rating=null;n.isVideo=!0;n.isLive=!1;n.isAdsAlways=!1;n.isFree=!0;n.isReleased=!0;n.isJeunesse=!1;n.SrcAvDuree=null;n.isAvailable=!0;n.broadcastingStation=null;n.TitleID="";n.SrcEmission=null;n.SrcSaison=null;n.SrcEpisode=null;n.Date=null;n.SrcSource=null;n.SrcAvIntegrale=null;n.SrcTypeDocument=null;n.SrcAvDiffusion=null;n.appCode=null;n.fileID=null;n.avNom=null;n.avEmission=null;n.avNomEmission=null;n.providerId="flash";n.isDRM=!1;n.protectionType=!1}}(n),function(n){n.models.Media=function(t){function st(n){n=Math.max(.1,n);u.seekTo(n);at(n)}function kt(){i.api().exitFullscreen()}function nt(n){function t(n){u[n](s.READY,yi);u[n](s.PLAYING,pi);u[n](s.PAUSE,wi);u[n](s.SEEK_COMPLETE,bi);u[n](s.SEEKING,ki);u[n](s.CURRENT_TIME_CHANGE,rt);u[n](s.DURATION_CHANGE,tr);u[n](s.VOLUME_CHANGE,ir);u[n](s.COMPLETE,vt);u[n](s.ERROR,rr);u[n](s.BUFFERING,di);u[n](s.BITRATE_CHANGED,gi);u[n](s.BITRATE_CHANGING,nr)}(i.log("_setProviderListener("+n+")"),t("removeEventListener"),n)&&t("addEventListener")}function dt(n){n.hasOwnProperty("autoPlay")&&(i.isAutoPlay=n.autoPlay)}function gt(t){var o,s,c,l,a,v,e,u;if(t.hasOwnProperty("idMedia")&&(r.idMedia=t.idMedia),t.hasOwnProperty("appCode")&&(i.appCode=t.appCode,r.appCode=t.appCode),r.title=t.hasOwnProperty("Title")?t.Title:t.hasOwnProperty("Description")&&t.Description!==""?"":n.label.TITLE_NOT_AVAILABLE,o="{{#def.title}} ({{#def.play_action}})",r.play_accessibility_description_text=n.utils.doT.template(o,null,{title:r.title,play_action:n.label.PLAY_CONTENT})(),r.pause_accessibility_description_text=n.utils.doT.template(o,null,{title:r.title,play_action:n.label.PAUSE_CONTENT})(),s="{{#def.play_action}}",r.play_description_text=n.utils.doT.template(s,null,{play_action:n.label.PLAY_CONTENT})(),r.pause_description_text=n.utils.doT.template(s,null,{play_action:n.label.PAUSE_CONTENT})(),t.hasOwnProperty("length")?(r.duration=i.duration=t.length,i.log("duration: "+i.duration+", typeof:"+typeof t.length)):r.duration=i.duration=0,c="{{#def.title}} ({{#def.play_action}} - {{#def.duration}})",r.play_big_button_accessibility_description_text=n.utils.doT.template(c,null,{title:r.title,play_action:n.label.PLAY_CONTENT,duration:ni(r.duration)})(),l="{{#def.title}} ({{#def.play_action}})",r.pause_big_button_accessibility_description_text=n.utils.doT.template(l,null,{title:r.title,play_action:n.label.PAUSE_CONTENT})(),a="{{#def.title}} ({{#def.resume_action}})",r.resume_reprendre_button_accessibility_description_text=n.utils.doT.template(a,null,{title:r.title,resume_action:n.label.RESUME_REPRENDRE})(),v="{{#def.title}} ({{#def.resume_action}})",r.resume_poursuivre_button_accessibility_description_text=n.utils.doT.template(v,null,{title:r.title,resume_action:n.label.RESUME_POURSUIVRE})(),t.hasOwnProperty("Chapitres")){var y=[],p=[],h=0,w=0,b=t.Chapitres.split(",");for(e=0;e<b.length;e++)h=n.utils.date.timecodeToSec(b[e]),w=h/i.duration,y.push(h),p.push(w);r.chaptersTime=y;r.chaptersRatio=p}else r.chaptersTime=[],r.chaptersRatio=[];return(r.description=t.hasOwnProperty("Description")?t.Description:"",r.watermarkUrl=t.hasOwnProperty("watermark")?t.watermark:null,r.posterUrl===null&&(t.hasOwnProperty("imageHR")?r.posterUrl=t.imageHR:t.hasOwnProperty("imagePlayerLargeA")&&(r.posterUrl=t.imagePlayerLargeA)),r.language=t.hasOwnProperty("Language")?t.Language==="francais"?"fr":"en":"fr",r.network=t.hasOwnProperty("Network")?t.Network:"undefined",t.hasOwnProperty("Date")&&(r.date=n.utils.date.strYearMonthDayToDate(t.Date)),t.hasOwnProperty("ShortDescription")&&(r.shortDescription=t.ShortDescription),t.hasOwnProperty("Show")?r.show=t.Show:t.hasOwnProperty("Emission")&&(r.show=t.Emission),t.hasOwnProperty("Thumbnail")?r.thumbnailUrl=t.Thumbnail:t.hasOwnProperty("imageThumbNormalF")&&(r.thumbnailUrl=t.imageThumbNormalF),i.showAds=t.hasOwnProperty("SrcEmission")?t.showAds:"undefined",i.isShareable=t.hasOwnProperty("shareable")?t.shareable:!1,i.isProgressive=t.hasOwnProperty("progressive")?t.progressive:!1,r.isJeunesse=t.hasOwnProperty("isJeunesse")?t.isJeunesse:!1,r.isLive=i.isLive=t.hasOwnProperty("SrcAvDiffusion")&&t.SrcAvDiffusion==="direct",r.isVideo=!(t.SrcTypeDocument&&t.SrcTypeDocument==="audio"),t.hasOwnProperty("SrcChaine")&&(r.chain=t.SrcChaine),t.hasOwnProperty("Station")&&(r.station=t.Station),t.hasOwnProperty("plancheContact")&&(r.seekThumbnailsUrl=t.plancheContact),t.hasOwnProperty("plancheContactHR")&&(r.seekThumbnailsHRUrl=t.plancheContactHR),t.hasOwnProperty("closedCaptionHTML5")&&(r.closedCaptionUrl=t.closedCaptionHTML5),t.hasOwnProperty("geoPassed")&&(i.isGeoPassed=t.geoPassed),t.hasOwnProperty("Genre")&&(r.category=t.Genre),t.hasOwnProperty("IsFree")&&(r.isFree=t.IsFree),t.hasOwnProperty("isReleased")&&(r.isReleased=t.isReleased),t.hasOwnProperty("RcTheme")&&(r.theme=t.RcTheme),i.log("theme: "+r.theme),t.hasOwnProperty("genericEnd")&&t.genericEnd>0&&(r.creditsTime=t.genericEnd,i.duration>0&&(r.creditsRatio=r.creditsTime/i.duration)),t.hasOwnProperty("adsAlways")&&(r.isAdsAlways=t.adsAlways),t.hasOwnProperty("Rating")&&(r.rating=t.Rating),t.hasOwnProperty("heureServeur")&&(r.serverTime=t.heureServeur,i.log("heureServeur: "+t.heureServeurGMT)),t.hasOwnProperty("heureServeurGMT")&&(r.serverTimeGMT=t.heureServeurGMT),t.hasOwnProperty("noFMC")&&(r.noFMC=t.noFMC),t.hasOwnProperty("SrcAvDuree")&&(r.SrcAvDuree=t.SrcAvDuree),t.hasOwnProperty("TitleID")&&(r.TitleID=t.TitleID),t.hasOwnProperty("SrcEmission")&&(r.SrcEmission=t.SrcEmission),t.hasOwnProperty("SrcSaison")&&(r.SrcSaison=t.SrcSaison),t.hasOwnProperty("SrcEpisode")&&(r.SrcEpisode=t.SrcEpisode),t.hasOwnProperty("Date")&&(r.OriginalDate=t.Date),t.hasOwnProperty("SrcSource")&&(r.SrcSource=t.SrcSource),t.hasOwnProperty("SrcAvIntegrale")&&(r.SrcAvIntegrale=t.SrcAvIntegrale),t.hasOwnProperty("SrcTypeDocument")&&(r.SrcTypeDocument=t.SrcTypeDocument),t.hasOwnProperty("SrcAvDiffusion")&&(r.SrcAvDiffusion=t.SrcAvDiffusion),t.hasOwnProperty("isAvailable")&&(r.isAvailable=t.isAvailable),t.hasOwnProperty("FileID")&&(r.fileID=t.FileID),t.hasOwnProperty("Av-Nom")&&(r.avNom=t["Av-Nom"]),t.hasOwnProperty("Av-Emission")&&(r.avEmission=t["Av-Emission"]),t.hasOwnProperty("providerId")&&(r.providerId=t.providerId),t.hasOwnProperty("AV-nomEmission")&&(r.avNomEmission=t["AV-nomEmission"]),t.hasOwnProperty("broadcastingStation")&&(r.broadcastingStation=t.broadcastingStation),r.isDRM=t.hasOwnProperty("isDrmActive")&&t.isDrmActive,r.isAzureImperatif=r.isDRM&&t.hasOwnProperty("protectionType")&&t.protectionType!=="",r.isFairPlay=it(),i.log("metas, duration: "+r.duration),!i.isGeoPassed)?(u=n.models.error.METAMEDIA_ERROR(),u.userMessage=n.label.GEO_BLOCK,f.error(u),i.fireEvent(n.events.media.ERROR,u),!1):r.isAvailable?(i.fireEvent(n.events.media.META_LOADED,r,{disableLogging:!0}),!0):(u=n.models.error.NOT_AVAILABLE_ANYMORE(),f.error(u),i.fireEvent(n.events.media.ERROR,u),!1)}function ni(t){var r=new Date(null);r.setHours(0);r.setMinutes(0);r.setSeconds(t);var u=r.getHours(),f=r.getMinutes(),e=r.getSeconds(),i="";return u!==0&&(i.length>0&&(i+=" "),i+=u+" "+n.label.HOURS),f!==0&&(i.length>0&&(i+=" "),i+=f+" "+n.label.MINUTES),e!==0&&(i.length>0&&(i+=" "),i+=e+" "+n.label.SECONDS),i}function ti(t){(typeof t.data.bitrates=="undefined"&&(t.data.bitrates=[]),i.log("validationMedia complete"),i.fireEvent(n.events.media.AFTER_VALIDATIONMEDIA_REQUEST,t.data.bitrates,{disableLogging:!0,async:!1}),g=!0,t.data.hasOwnProperty("url")&&(i.url=t.data.url,i.bitrates=t.data.bitrates,i.params=t.data.params),i.bitrates.push({lines:"Auto",bitrate:0,width:"Auto"}),ri(i.bitrates),ui())||(u.useCredentials=i.url.indexOf("hdnea")!==-1,u.src={url:i.url,bitrates:i.bitrates,content:!0,time:h.time,params:i.params,subttitle:r.closedCaptionUrl,isFairPlay:it(),vmRequest:a.requestHttp},i.log("MEDIA -- idMedia: "+i.idMedia+", url: "+i.url),f.readyToPlay())}function ii(){h.autoPlay=!1;u.element.removeAttribute("src");t.internalApi.changeMedia({idMedia:i.idMedia,appCode:i.appCode,params:h})}function ri(t){for(var r,i=0;i<t.length;i++)r=t[i],r.ariaLabel=n.utils.doT.template("{{#def.videoQuality}} ({{#def.bitrate}})",null,{videoQuality:n.label.VIDEO_QUALITY,bitrate:r.lines})()}function ui(){if(n.params.htmlOnly==="true"){var t=["https://medias-pub.radio-canada.ca/2016-03-26_13_00_00_revechamplain_0001_1200.mp4","https://medias-pub.radio-canada.ca/00_lolita_30sec_anImaInittion_04_cc_final_800.mp4","https://medias-pub.radio-canada.ca/2015-01-23_11_00_00_ric_1696_256.mp4","https://medias-pub.radio-canada.ca/ dralion envente quebec 30_800.mp4"];return u.element.removeAttribute("crossorigin"),u.src={url:t[n.debug_next_play_mp4++%t.length],content:!0,bitrates:"",time:0,params:{}},!0}return!1}function fi(t){i.log("validationMedia error");var r=n.models.error.VALIDATION_MEDIA_ERROR();if(t.data){r=t.data;switch(r.innerId){case 1:case 2:r=n.models.error.GEO_BLOCK();break;case 3:r=n.models.error.TOKEN_EXPIRED();break;case 6:r=n.models.error.NOT_AVAILABLE_ANYMORE()}}f.error(r);i.fireEvent(n.events.media.ERROR,r)}function ei(n){for(var t in n)n.hasOwnProperty(t)&&typeof n[t]=="string"&&n[t].indexOf("http://")!==-1&&(n[t]=n[t].replace("http://","//"));return n}function oi(u){t.internalApi.state.currentState!==n.states.state.CORE_ERROR&&gt.call(i,ei(u.data))&&(i.log("metaMedia complete: "+r.serverTimeGMT),c=null,f.ready(i.isAutoPlay,h.isModeResume))}function si(){ht();f.currentState===n.states.state.MEDIA_STARTED&&(f.begin(),u.begin(r))}function ht(){var f,e;(i.log("--_processingMedia()"),f=hi.call(i),f!=null)&&(f!=="flash"||i.getProvider().flashReady?(u.removeEventListener(s.CURRENT_TIME_CHANGE,rt),v&&v.stop(),i.isLive?(v||(v=new n.controllers.Live(t)),v.start(u,r.serverTimeGMT,r.serverTime),v.addEventListener(s.CURRENT_TIME_CHANGE,ur)):u.addEventListener(s.CURRENT_TIME_CHANGE,rt),i.getProvider().isLive=i.isLive,r.duration&&r.duration>0&&(i.isLive?r.duration=0:(e=n.utils.date.secToHoursMinSecOptional(r.duration),i.log("durationLabel: "+e),i.fireEvent(n.events.media.DURATION_CHANGE,{duration:r.duration,durationLabel:e},{disableLogging:!0})))):ot=t.internalApi.startFlashLoading(ot,si))}function ct(){return n.utils.browser.isChrome()&&!r.isAzureImperatif}function lt(){return document.location.protocol==="https:"||!n.utils.browser.isChrome()}function tt(){var t=navigator.userAgent.match(/Mac OS X \d+_(\d+)/,"i");return n.utils.browser.isSafari()&&t!==null&&t.length>1&&!isNaN(t[1])&&t[1]>8}function it(){return tt()&&r.isDRM}function hi(){var t="flash",f=r.providerId==="hls"&&n.utils.browser.isSupportHLS(),e=n.utils.browser.isMobile()||r.providerId==="html";e?t="html":(f&&(t="hls"),r.isDRM&&(t=tt()?"html":lt()?"azure":ct()?"hls":null));switch(h.providerId){case"html":case"hls":case"flash":t=h.providerId;break;default:n.params.htmlOnly==="true"&&(t="html")}return(i.log("_isChromeProtectionSluck="+ct()),i.log("_isBrowserDrmReady="+lt()),i.log("_isSafariWithHtml="+tt()),i.log("provider type: "+t,n.utils.debugger.tabs.PROVIDER,n.utils.color.GREEN),!i.changeContent(t))?null:(u.init(!r.isVideo,r.isLive),i.fireEvent(n.events.media.PROVIDER_CHOSEN,u),t)}function ci(t){i.log("metaMedia error");var r=n.models.error.METAMEDIA_ERROR();t.data&&(r=t.data,i.log("metaMedia inner error id: "+r.innerId),r.innerId===33&&(r.userMessage=n.label.AVAILABLE_IN_PREMIUM_ONLY));f.error(r);i.fireEvent(n.events.media.ERROR,r)}function li(r){var h,s;if(i.log("MEDIA _onMediaStateChange: "+r.data.currentState),h=e,r.data.currentState){s=n.states.state;switch(r.data.currentState){case s.MEDIA_STARTED:y=!1;ht();u.enableIMA&&(i.initAds.call(i,u)||i.loadValidationMedia());break;case s.MEDIA_READY_TO_PLAY:i.log("content type: "+typeof u.element);g&&f.play();break;case s.MEDIA_AD_PAUSED:i.isFlashProvider()?u.pause():o.pause();break;case s.MEDIA_AD_COMPLETE:p?y?f.ended():(e=!0,t.timerManager.setTimeout(function(){y?(e=!0,i.isAutoPlay=!1):(i.log("MEDIA_AD_COMPLETE play, complete: "+y),f.play())},50)):i.loadValidationMedia();break;case s.MEDIA_PLAYING:i.log("media play");u&&u.play();break;case s.MEDIA_PAUSED:u.element&&u.pause();break;case s.MEDIA_COMPLETE:y=!0;i.isFlashProvider()||(u.stop(),o&&o.isImaActive&&!o.allAdsComplete||f.ended());break;case s.MEDIA_ENDED:i.fireEvent(n.events.media.CURRENT_STATE_CHANGE,r.data,{disableLogging:!0,async:!1});ai();return}i.fireEvent(n.events.media.CURRENT_STATE_CHANGE,r.data,{disableLogging:!0});h!==e&&i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0})}}function ai(){e=!1;i.isAutoPlay=!1;p=!1;i.reset();kt()}function vi(t){i.log("ad state change: "+t.data.currentState);var r=n.states.state;switch(t.data.currentState){case r.AD_STARTED:f.startAd();break;case r.AD_RESUMED:o.resumed();break;case r.AD_COMPLETE:f.completeAd()}}function yi(){i.log("content READY");i.fireEvent(n.events.media.CAN_PLAY)}function pi(t){i.log("content PLAYING: "+t.data);e&&t.data>0&&(e=!1,i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0}));f.play();i.fireEvent(n.events.media.PLAYING,i.isLive)}function wi(n){i.log("content PAUSE: "+n.data);f.pause();o&&!o.adsActive&&i.duration>0&&n.data>i.duration-2&&vt(n)}function bi(t){d&&(i.log("content SEEK_COMPLETE: "+t.data),d=!1,i.fireEvent(n.events.media.SEEK_COMPLETE,t.data,{disableLogging:!0}),e&&(e=!1,i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0})))}function ki(t){i.log("content seeking: "+t.data);d=!0;i.fireEvent(n.events.media.SEEKING,t.data,{disableLogging:!0});e||(e=!0,i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0}))}function di(t){i.log("media  BUFFERING: "+t.data.toString());e=!0;i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0})}function gi(t){i.fireEvent(n.events.media.BITRATE_CHANGED,t.data,{disableLogging:!0})}function nr(t){i.fireEvent(n.events.media.BITRATE_CHANGING,t.data,{disableLogging:!0})}function at(t){var r=n.utils.date.secToHoursMinSecOptional(t);r&&i.timeLabel!==r&&(i.timeLabel=r,i.fireEvent(n.events.media.CURRENT_TIME_LABEL_CHANGE,r,{disableLogging:!0}))}function rt(t){var u,r;isNaN(t.data)||(u=null,e&&t.data>0&&(e=!1,i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0})),e||i.fireEvent(n.events.media.CURRENT_TIME_CHANGE,t.data,{disableLogging:!0}),at(t.data),r=Math.floor(t.data),t.data>0&&r%10==0&&w!==r&&(w=r,i.fireEvent(n.events.media.PRESENCE,null,{disableLogging:!0})))}function tr(t){if(i.log("duration change: "+t.data+",isLive: "+i.isLive+",isAd="+i.api().isAdsPlaying()),!i.isLive&&!isNaN(t.data)&&t.data>0&&!i.api().isAdsPlaying()){i.duration=t.data;var r=n.utils.date.secToHoursMinSecOptional(t.data);i.fireEvent(n.events.media.DURATION_CHANGE,{duration:t.data,durationLabel:r},{disableLogging:!0})}}function ir(t){i.log("content VOLUME_CHANGE: "+t.data);i.fireEvent(n.events.media.VOLUME_CHANGE,t.data,{disableLogging:!0})}function vt(n){b=null;k=null;i.log("content COMPLETE: "+n.data);f.complete()}function rr(t){var e=t.data;u.providerType()==="hls"&&r.isLive&&r.isVideo&&e.message==="manifestLoadError"&&(e.userMessage=n.label.error.ERROR_18);f.error(e);i.fireEvent(n.events.media.ERROR,e)}function ur(t){var f=new Date(t.data*1e3),r=n.utils.date.dateToHourMinSec(f),u;e||i.fireEvent(n.events.media.CURRENT_TIME_CHANGE,t.data,{disableLogging:!0});r&&i.timeLabel!==r&&(i.timeLabel=r,i.fireEvent(n.events.media.CURRENT_TIME_LABEL_CHANGE,r,{disableLogging:!0}));u=Math.floor(f.getTime()/1e3);t.data>0&&u%10==0&&w!==u&&(w=u,i.fireEvent(n.events.media.PRESENCE));e&&(e=!1,i.fireEvent(n.events.media.BUFFERING,e,{disableLogging:!0}))}var i=this,h=null,c=null,a=null,o=null,r=new n.services.MetaMedia(t.playerSettings,t.index),v=null,d=!1,e=!1,p=!1,y=!1,s=n.events.provider,f=new n.states.Media(t.index),l=new n.states.Ad,ut=0,ft=0,w=0,b=null,k=null,yt=new n.providers.Ui(t.container),et=new n.providers.Flash(t),pt=new n.providers.Html5(t),g=!1,wt=new n.providers.Hls(t),bt=new n.providers.AzurePlayer(t),u=yt,ot=null;f.addEventListener(n.events.states.CURRENT_STATE_CHANGE,li);l.addEventListener(n.events.states.CURRENT_STATE_CHANGE,vi);n.utils.extend(i,new n.events.EventRegistration("model.media"));n.utils.extend(i,new n.utils.LogInstance("MEDIA",t.index,n.utils.color.BROWN));i.adStates=l;i.id=null;i.url=null;i.idMedia=null;i.appCode=null;i.duration=0;i.timeLabel="";i.videoTag=null;i.audioTag=null;i.isShareable=!1;i.isProgressive=!1;i.isLive=!1;i.isAutoPlay=!1;i.isSeekable=!0;i.isNextable=!1;i.isPreviousable=!1;i.isGeoPassed=!0;i.api=function(){return t.internalApi};i.init=function(n,t,r){i.log("init model.media");i.appCode=n;i.idMedia=t;i.isAutoPlay=r.autoPlay;i.id=n+":"+t;i.cancelValidationMediaRequest=!1;h=r;i.log("init id: "+i.id);dt(r);f.create();nt(!0)};i.isPlaying=function(){return f.currentState===n.states.state.MEDIA_PLAYING||f.currentState===n.states.state.MEDIA_STARTED||l.currentState===n.states.state.AD_STARTED||l.currentState===n.states.state.AD_PLAYING};i.isComplete=function(){return f.currentState===n.states.state.MEDIA_COMPLETE};i.isPaused=function(){return u.paused};i.isIOSAudio=function(){return n.utils.browser.isIos()&&!r.isVideo};i.initAds=function(r){if(i.log("initAds"),i.isIOSAudio())return!1;o||(o=new n.ima.ImaInit(i.api,i,t.ui.ad.getAdContainer(),t.ui,t.playerSettings.lang,t));return o.onReady(r)};i.getIMA=function(){return o};i.changeContent=function(t){if(u.stop(),t===u.providerType())return!0;i.log("--changeContent("+t+") volume - "+u.volume);nt(!1);u.hide();switch(t){case"flash":u=et;break;case"html":u=pt;break;case"hls":u=wt;break;case"azure":u=bt;break;default:var r=n.models.error.BROWSER_NOT_SUPPORTED();return f.error(r),i.fireEvent(n.events.media.ERROR,r),!1}return u.show(),nt(!0),!0};i.isFlashProvider=function(){return u.providerType()==="flash"};i.loadMeta=function(u){p=!1;i.log("loadMeta");(c===null||c.appCode!==i.appCode||c.idMedia!==i.idMedia)&&(c=new n.services.MetaMedia(t.playerSettings,t.index),r=new n.models.Metas,r.posterUrl=typeof u!="undefined"?u:null,c.addEventListener(n.events.net.COMPLETE,oi),c.addEventListener(n.events.net.ERROR,ci));i.fireEvent(n.events.media.BEFORE_METAMEDIA_REQUEST);c.callRemote(i.appCode,i.idMedia)};i.loadValidationMedia=function(){var f;if(p=!0,b!=i.appCode||k!=i.idMedia){b=i.appCode;k=i.idMedia;i.log("MEDIA loadValidationMedia");a||(a=new n.services.ValidationMedia(t),a.addEventListener(n.events.net.COMPLETE,ti),a.addEventListener(n.events.net.ERROR,fi));f=null;switch(u.providerType()){case"html":f=it()?"appleams":r.providerId==="html"?"prgd":"ipad";break;case"flash":f="flashhd";break;case"hls":f="ipad";break;case"azure":f="multiams";break;default:i.log("deviceType is undefined","error");throw"deviceType is not defined";}g=!1;var o=["iosfp","ioscenc","androidcenc","html5cenc","win8","multiams"].indexOf(f)!==-1,e=o||!r.isFree||r.appCode==="toutv",s=e?"hd":"broadband",h={vmParams:{appCode:i.appCode,idMedia:i.idMedia,deviceType:f,connectionType:s},isVM2:e,client_key:t.playerSettings.clientKey};a.callRemote(h)}};i.cancelSeektime=function(){delete h.time};i.startAfterResume=function(){f.start()};i.start=function(){f&&(h.isModeResume?f.startResume():f.start())};i.play=function(t){i.log("models.media.play");t=t||{};switch(l.currentState){case n.states.state.AD_PAUSED:o.play();break;case n.states.state.AD_STARTED:case n.states.state.AD_PLAYING:l.play();break;default:f.play(t)}};i.pause=function(t){t=t||{};switch(l.currentState){case n.states.state.AD_PLAYING:o.pause();l.pause();break;case n.states.state.AD_WAITING:case n.states.state.AD_RESUMED:case n.states.state.AD_PAUSED:break;default:f.pause(t)}};i.seekToTime=function(n){st(n)};i.seekToRatio=function(n){if(i.log("MEDIA seektoratio: "+n),isNaN(n)){i.log("seekToRatio() - ERROR bad ratio from UI","error");return}i.duration===0&&i.log("seekToRatio() - ERROR no duration","error");n=Math.max(0,Math.min(1,n));var t=n*i.duration;st(t)};i.resize=function(n,t){(i.log("resize media: "+n+" x "+t),isNaN(n)||isNaN(t))||(ut=n,ft=t,u&&u.resize(ut,ft))};i.mute=function(){u.mute();o&&(o.volume=0)};i.unmute=function(){u.unmute();o&&(o.volume=1)};i.enterFullscreen=function(){t.ui.fullscreen.enterFullscreen()};i.exitFullscreen=function(){t.ui.fullscreen.exitFullscreen()};i.reset=function(){f.reset();u.reset();u&&u.reset()};i.ended=function(){f.ended()};i.getProviderFlash=function(){return et};i.getProvider=function(){return u};i.resetValidationMedia=function(){b=null;k=null};i.getTitle=function(n){typeof n=="undefined"&&(n=!0);var t=r.title;return n&&r.show&&(t=r.show+" - "+t),t};i.getInfo=function(){if(r){var t=n.utils.date.dateToString(r.date);return{show:r.show,title:r.title,description:r.description,shortDescription:r.shortDescription,date:t}}return null};i.getTimeLabel=function(t,r){var u,f;return isNaN(t)?"":(r?(t=Math.max(0,Math.min(1,t)),u=t*i.duration):u=t,f=n.utils.date.secToHoursMinSecOptional(u),i.log("getTimeLabel: "+f),f)};i.getTimeRatio=function(n){return i.duration>0?n/i.duration:0};i.dispose=function(){i.resetAllEventListeners()};i.begin=function(){(u.providerType()!=="flash"||u.flashReady)&&(f.begin(),u.begin(r))};i.isVideo=function(){return r.isVideo};Object.defineProperty(i,"metas",{get:function(){return r}});Object.defineProperty(i,"volume",{get:function(){return i.getProvider().volume},set:function(n){t.ui.volume.setVolume(n*100)}});Object.defineProperty(i,"mediaStates",{get:function(){return f}});Object.defineProperty(i,"autoPlay",{get:function(){return i.isAutoPlay},set:function(n){i.isAutoPlay=n}});i.onPromiseError=ii}}(n),function(n){n.models.Playlist=function(){var t=this,i={},f={},r=null,u=null;n.utils.extend(t,new n.events.EventRegistration("playlist"));n.utils.extend(t,new n.utils.LogInstance("MEDIAS"));t.addMedia=function(n){return n&&typeof n.id=="string"?(i[n.id]=n,!0):!1};t.addRelatedMedia=function(n){return n&&typeof n.id=="string"?(f[n.id]=n,!0):!1};t.removeMediaById=function(n){return n!==null&&typeof n=="string"&&i[n]?(delete i[n],!0):!1};t.getMediaById=function(n){return n!==null&&typeof n=="string"?i[n]:null};t.getMedia=function(n,t){if(n!==null&&typeof n=="string"&&t!==null&&typeof t=="string"){for(var r in i)if(i[r].appCode===n&&i[r].idMedia===t)return i[r];return null}return null};Object.defineProperty(t,"currentMediaId",{get:function(){return r},set:function(u){t.log("set currentMediaId: "+u);u&&typeof u=="string"&&i[u]?r!==u&&(r=u,t.fireEvent(n.events.medias.CURRENT_MEDIA_CHANGED,{value:u}),t.log(n.events.medias.CURRENT_MEDIA_CHANGED+": "+u,n.utils.debugger.tabs.EVENTS)):(t.fireEvent(n.events.medias.ERROR,{error:"id is not valid: "+u}),t.log(n.events.medias.ERROR+": "+u,n.utils.debugger.tabs.EVENTS))}});Object.defineProperty(t,"currentMedia",{get:function(){return i[r]},set:function(u){t.log("set currentMedia: "+u.id);u&&u.id&&typeof u.id=="string"?(i[u.id]||t.addMedia(u),r!==u.id&&(r=u.id,t.fireEvent(n.events.medias.CURRENT_MEDIA_CHANGED,{value:u.id}),t.log(n.events.medias.CURRENT_MEDIA_CHANGED+": "+u.id,n.utils.debugger.tabs.EVENTS))):(t.fireEvent(n.events.medias.ERROR,u.id),t.log(n.events.medias.ERROR+": "+u.id,n.utils.debugger.tabs.EVENTS))}});Object.defineProperty(t,"nextMedia",{get:function(){return i[u]},set:function(r){r&&r.id?(t.log("set nextMedia: "+r.id),i[r.id]||t.addMedia(r),u!==r.id&&(u=id,t.fireEvent(n.events.medias.CURRENT_MEDIA_CHANGED,{value:r.id}),t.log(n.events.medias.CURRENT_MEDIA_CHANGED+": "+r.id,n.utils.debugger.tabs.EVENTS))):(t.fireEvent(n.events.medias.ERROR,{error:"wrong media object."}),t.log(n.events.medias.ERROR+": "+r,n.utils.debugger.tabs.EVENTS))}})}}(n),function(n){n.models.Settings=function(t,i){function e(n){var i,t;if(n===null||typeof n!="object"||"isActiveClone"in n)return n;i={};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n.isActiveClone=null,i[t]=e(n[t]),delete n.isActiveClone);return i}function a(){for(var n in r)r.hasOwnProperty(n)&&k(n)}function v(n,t){var i="";return arguments.length===0&&(i=null),arguments.length===1&&(i=""),typeof n=="string"&&n.match(/^(http:\/\/|https:\/\/|\/\/)/i)?n:t}function s(n,t){return arguments.length===0?null:(arguments.length===1&&(t=[]),Array.isArray(n)?n:t)}function h(n,t){return arguments.length===0?null:(arguments.length===1&&(t=0),isNaN(n)?t:n*1)}function f(n,t){return arguments.length===0?null:(arguments.length===1&&(t=null),(typeof n).match(/^(boolean|number|date|string)$/)?n.toString():t)}function y(n,t){return arguments.length===0?null:(arguments.length===1&&(t=null),typeof n=="function")?n:typeof n=="string"&&typeof window[n]=="function"?window[n]:n.indexOf("window.")===0?eval(n):t}function o(t,i){return n.utils.toBoolean(t,i)}function p(t,i){return n.utils.toDefaultColor(t,i)}function w(){for(var t in n.params)r[t]=n.params.hasOwnProperty(t)&&!r.hasOwnProperty(t)?u.hookFilterParam(n.params[t],t):u.hookFilterParam(r[t],t)}function b(){for(var t in r)n.autorizedParams.indexOf(t)===-1?delete r[t]:r[t]=c(r[t],t,r[t])}function c(n,t,i){var r=n,f;return typeof n=="string"&&(r=u.hookFilterParam(n,t,i),f=n.toLowerCase(),f==="true"?r=!0:f==="false"&&(r=!1)),r}function k(n){Object.defineProperty(u,n,{get:function(){return r[n]},enumerable:!0,configurable:!1})}var r,u,l;t=e(t);r={};u=this;n.utils.extend(u,new n.utils.LogInstance("Settings",i.index));n.utils.extend(u,new n.events.EventRegistration("settings"));n.utils.extend(u,new n.Error(i));l=n.utils;u.setSize=function(t,i){r.width=t;r.height=i;u.log("Settings property changed: setSize = {width:"+t+", height:"+i+"}");u.fireEvent(n.events.states.SETTINGS_CHANGE,{name:"setSize",value:{width:t,height:i}})};u.validateParams=function(){r=!!t&&typeof t.params!="undefined"?t.params:{};typeof r.id=="undefined"&&(r.id="Player_srcAV_"+Math.round(Math.random()*1e7));b();w();var n="Player_srcAV_"+Math.round(Math.random()*1e7);r.userId=r.id?r.id:n;r.id=n;a()};u.cloneAndValidate=function(t){var r=e(u),i;typeof t=="undefined"&&(t={});for(i in t)n.autorizedParams.indexOf(i)!==-1&&t.hasOwnProperty(i)&&(r[i]=c(t[i],i,r[i]));return r};u.hookFilterParam=function(t,i,r){var e=t,c;switch(i){case"width":case"height":isNaN(e)?typeof e=="string"&&(e=e.trim(),e.indexOf("%")===-1&&(e=e.indexOf("px")!==-1?e.replace(/px/g,""):"100%")):e=e+"";break;case"ComScoreC2":case"ComScoreC4":case"maxTimePubDuree":case"time":return h(e,r?r:0);case"dvrDuration":return h(e,r?r:-1);case"suggested":return s(e,r?r:[]);case"isNextable":case"infoBar":case"isClosedCaption":case"canChangeMBR":case"isSeekable":case"opaque":case"controlBar":case"backwardCompatibleAudio":case"isModeVideo":return o(e,r?r:!0);case"canFullScreen":case"activateBroadcastingStationScheduleManager":return!n.utils.browser.isIPod()&&o(e,r?r:!0);case"fullscreen":case"autoPlay":case"multiInstance":case"canExtract":case"next":case"canReduce":case"share":case"isSuggest":case"nextMedia":case"isPlancheContact":case"previous":case"isPreviousable":case"htmlOnly":case"showRelated":case"heartbeat":case"omnitureV1":case"noAds":case"unmuteWhenChangingContent":case"AdBlockDetection":case"useExternalFont":return o(e,r?r:!1);case"playButton":case"MAplugin":case"MAbeacon":case"configPlayerFlash":case"MAbeaconLive":case"playButtonHTML":case"configPlayerFlashHttps":case"pagePopup":case"loggingURL":return v(e,r?r:"");case"hdnea":case"playerReadyCallback":case"clientKey":return f(e,r?r:null);case"lang":return f(e,r?r:"fr");case"wmode":return f(e,r?r:"opaque");case"styleDivContainer":return f(e,r?r:"background:#000000;");case"gui":return f(e,r?r:"console");case"pubPolicy":return f(e,r?r:"playOnce");case"DARTrcapp":return f(e,r?r:"rcca_siteWeb");case"loggingLevel":return f(e,r?r:"DEBUG");case"versionFlash":return f(e,r?r:"10.2.0.0");case"deviceType":return f(e,r?r:"flashhd");case"output":return f(e,r?r:"json");case"connectionType":return f(e,r?r:"broadband");case"pubRegle":case"consoleDebugConfig":return f(e,r?r:"{}");case"heartbeatEnvironment":return f(e,r?r:"prod");case"ApiEnvironment":case"urlTeaser":return f(e,r?r:"");case"pageShare":case"ComScoreC3":case"DARTsite":case"WebTrendsProfils":case"WebTrendsSiteName":case"id":case"pagePopupParams":case"facebookSite":case"WebTrendsProfilsIndexeur":case"WebTrendsProfilsSegment":case"socialNetwork":case"configDom":case"version":case"site":case"debugmode":case"eventReady":case"imaCustomUrl":case"heartbeatDebugLevel":case"comscoreDebugLevel":case"watermark":case"noFMC":return f(e,r?r:"");case"heuristicProfile":return f(e,r?r:"HighQuality");case"uiColor":return p(e,r?r:"white");case"related":case"suggestion":return s(e,r?r:[]);case"shareURL":return y(e,null);case"heartbeatRSID":return f(e,r?r:"rc-dev05");case"isModeResume":case"btnTheaterMode":case"disableTimeControl":return!1;default:c=n.models.error.PLAYER_SETTINGS_ERROR();c.innerMessage='Missing eval definition for "'+i+'"';c.origin="playerSettings";u.error(null,c)}return e};u.setProperty=function(t,i){r[t]=i;u.fireEvent(n.events.states.SETTINGS_CHANGE,{name:t,value:i})};u.validateParams()}}(n),function(n){n.models.errorLevel={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4};n.models.errorLevelLabels=["DEBUG","INFO","WARN","ERROR","FATAL"];n.models.error={GEO_BLOCK:function(){return{id:1,message:n.label.error.ERROR_13,userMessage:n.label.GEO_BLOCK,isUser:!0,level:n.models.errorLevel.FATAL}},MEDIA_ERROR:function(){return{id:2,message:n.label.error.ERROR_2,userMessage:n.label.NOT_AVAILABLE_TEMPORARY,isUser:!0,level:n.models.errorLevel.FATAL}},STREAMING_ERROR:function(){return{id:4,message:n.label.error.ERROR_4,userMessage:n.label.NOT_AVAILABLE_TEMPORARY,isUser:!0,level:n.models.errorLevel.FATAL}},METAMEDIA_ERROR:function(){return{id:5,message:n.label.error.ERROR_5,userMessage:n.label.NOT_AVAILABLE_TEMPORARY,isUser:!0,level:n.models.errorLevel.FATAL}},SHARE_ERROR:function(){return{id:6,message:n.label.error.ERROR_6,userMessage:n.label.NOT_AVAILABLE_SOCIAL_NETWORK,isUser:!0,level:n.models.errorLevel.FATAL}},ADS_ERROR:function(){return{id:7,message:n.label.error.ERROR_7,userMessage:null,isUser:!0,level:n.models.errorLevel.WARN}},VALIDATION_MEDIA_ERROR:function(){return{id:8,message:n.label.error.ERROR_8,userMessage:n.label.NOT_AVAILABLE_TEMPORARY,isUser:!0,level:n.models.errorLevel.FATAL}},PLAYER_SETTINGS_ERROR:function(){return{id:9,message:n.label.error.ERROR_9,isUser:!1,level:n.models.errorLevel.WARN}},USER_API_ERROR:function(){return{id:10,message:n.label.error.ERROR_10,isUser:!0,level:n.models.errorLevel.WARN}},BROWSER_NOT_SUPPORTED:function(){return{id:11,message:n.label.error.ERROR_11,userMessage:n.label.BROWSER_NOT_SUPPORTED,isUser:!0,level:n.models.errorLevel.FATAL}},FLASH_IS_MISSING:function(t){return{id:12,message:n.label.error.ERROR_12,userMessage:t>479?n.label.FLASH_MISSING1:n.label.FLASH_MISSING2,isUser:!0,level:n.models.errorLevel.FATAL}},GENERIC_ERROR:function(){return{id:13,message:n.label.error.ERROR_1,userMessage:n.label.NOT_AVAILABLE_TEMPORARY,isUser:!0,level:n.models.errorLevel.FATAL}},NOT_AVAILABLE_ANYMORE:function(){return{id:14,message:n.label.error.ERROR_14,userMessage:n.label.NOT_AVAILABLE_ANYMORE,isUser:!0,level:n.models.errorLevel.FATAL}},FLASH_DESACTIVATED:function(t){return{id:15,message:n.label.error.ERROR_15,userMessage:t>479?n.label.FLASH_DISACTIVATED_LONG:n.label.FLASH_DISACTIVATED_SHORT,isUser:!0,level:n.models.errorLevel.ERROR}},AD_BLOCKER_PRESENT:function(){return{id:16,message:n.label.error.ERROR_16,userMessage:n.label.ERROR_16,isUser:!0,level:n.models.errorLevel.FATAL}},FAIRPLAY_ERROR:function(){return{id:17,message:n.label.error.ERROR_17,userMessage:n.label.error.ERROR_17,isUser:!0,level:n.models.errorLevel.FATAL}},TOKEN_EXPIRED:function(){return{id:19,message:n.label.error.ERROR_19,userMessage:n.label.error.ERROR_19,isUser:!0,level:n.models.errorLevel.FATAL}}}}(n),function(n){n.models.VideoElement=function(n,t){function i(n,t,i,u){for(var f in t)t.hasOwnProperty(f)&&r(n,t[f],i,u)}function r(n,t,i,r){n[t.func]=function(){return t.show&&r("Videotag function "+t.func),i[t.func].apply(i,arguments)}}function u(n,t,i,r){for(var u in t)t.hasOwnProperty(u)&&f(n,t[u],i,r)}function f(n,t,i,r){Object.defineProperty(n,t.attr,{get:function(){return t.show&&r("Videotag get "+t.attr+"="+i[t.attr]),i[t.attr]},set:function(n){t.show&&r("Videotag set "+t.attr+" :"+n);i[t.attr]=n},enumerable:!0,configurable:!0})}this.videoTag=n;u(this,[{attr:"accesskey",show:!0},{attr:"class",show:!0},{attr:"contenteditable",show:!0},{attr:"contextmenu",show:!0},{attr:"dir",show:!0},{attr:"draggable",show:!0},{attr:"dropzone",show:!0},{attr:"hidden",show:!0},{attr:"id",show:!1},{attr:"itemid",show:!0},{attr:"itemprop",show:!0},{attr:"itemref",show:!0},{attr:"itemscope",show:!0},{attr:"itemtype",show:!0},{attr:"lang",show:!0},{attr:"spellcheck",show:!0},{attr:"style",show:!0},{attr:"tabindex",show:!0},{attr:"title",show:!0},{attr:"translate",show:!0},{attr:"autoplay",show:!0},{attr:"buffered",show:!1},{attr:"controls",show:!0},{attr:"crossorigin",show:!0},{attr:"height",show:!0},{attr:"loop",show:!0},{attr:"muted",show:!1},{attr:"played",show:!0},{attr:"preload",show:!0},{attr:"poster",show:!0},{attr:"src",show:!1},{attr:"videoTracks",show:!0},{attr:"volume",show:!1},{attr:"width",show:!0},{attr:"mediagroup",show:!0},{attr:"error",show:!0},{attr:"srcObject",show:!1},{attr:"currentSrc",show:!1},{attr:"networkState",show:!0},{attr:"readyState",show:!1},{attr:"seeking",show:!1},{attr:"currentTime",show:!1},{attr:"duration",show:!1},{attr:"paused",show:!1},{attr:"defaultPlaybackRate",show:!0},{attr:"playbackRate",show:!1},{attr:"seekable",show:!1},{attr:"ended",show:!0},{attr:"controller",show:!0},{attr:"defaultMuted",show:!0},{attr:"audioTracks",show:!0},{attr:"textTracks",show:!0},{attr:"videoWidth",show:!0},{attr:"videoHeight",show:!0}],n,t);i(this,[{func:"load",show:!0},{func:"play",show:!0},{func:"pause",show:!0},{func:"addEventListener",show:!1},{func:"removeEventListener",show:!1},{func:"canPlayType",show:!0},{func:"setAttribute",show:!0},{func:"getAttribute",show:!0},{func:"appendChild",show:!0},{func:"removeAttribute",show:!0}],n,t)}}(n),function(n){n.controllers.Core=function(t){function et(n){c=!1;!!n.params||(n.params={});!!n.params.time||(n.params.time=0);!!n.params.isModeResume||(n.params.isModeResume=!1);o=n;h=e.cloneAndValidate(n.params);i.pause();b=null;r.init(n.appCode,n.idMedia,h);r.getIMA()&&typeof r.getIMA().application!="undefined"&&r.getIMA().application.ads_.initializeAdDisplayContainer();h.urlTeaser&&n.params.urlTeaser?r.loadMeta(h.urlTeaser):r.loadMeta()}function ct(){return ft<n.utils.date.addSecondes(new Date,-19)}function lt(){r.getProvider().flashReady&&(t.ui.errorpanel.hide(),t.timerManager.clearInterval(rt))}function at(n){i.log("settings change, name: "+n.data.name+"::"+n.data.value.width);switch(n.data.name){case"setSize":r&&r.resize(n.data.value.width,n.data.value.height)}}function vt(u){i.fireEvent(n.events.core.CURRENT_STATE_CHANGE,u.data);switch(u.data.currentState){case n.states.state.CORE_CREATED:i.fireEvent(n.events.core.CREATED,null);break;case n.states.state.CORE_READY:it=!0;i.fireEvent(n.events.core.PLAYER_READY,t.playerSettings,{stringify:!1});break;case n.states.state.CORE_MEDIA_COMPLETE:ot()||(n.adsStatus<=0?i.log("wait for postroll ads"):(i.log("no ads"),r.ended()))}}function w(i){t.ui.removeEventListener(n.events.ui.RESUME_CHOOSEN,w);i.data===0&&r.cancelSeektime();r.startAfterResume()}function yt(e){var l,v,y,s;if(u.currentState!==n.states.state.CORE_ERROR){e.data=e.data||{};e.data.params=e.data.params||{};i.log("CORE _onMediaCurrentStateChange: "+e.data.currentState);l=n.states.state;switch(e.data.currentState){case l.MEDIA_READY:i.fireEvent(n.events.core.READY,h,{stringify:!1});break;case n.states.state.MEDIA_POSTER:i.log("getInfo: "+i.getInfo().title);v=!r.metas.isVideo;y=t.playerSettings.height<=64||!r.metas.isAvailable;i.fireEvent(n.events.core.POSTER,{isAutoPlay:o.params.autoPlay,isAlwaysVisible:v,isAlwaysHidden:y,isModeResume:o.params.isModeResume});break;case n.states.state.MEDIA_RESUME:t.ui.removeEventListener(n.events.ui.RESUME_CHOOSEN,w);t.ui.addEventListener(n.events.ui.RESUME_CHOOSEN,w);i.fireEvent(n.events.core.RESUME,{time:o.params.time,mouseNavigation:ut});break;case n.states.state.MEDIA_STARTED:i.begin();break;case n.states.state.MEDIA_READY_TO_PLAY:for(s=0;s<a.length;s++)a[s].changeMedia(r);break;case n.states.state.MEDIA_PLAYING:r.resetValidationMedia();i.log("core MEDIA_PLAYING actionFromApi: "+f);i.fireEvent(n.events.core.PLAY,{skip:!f,async:!0,params:e.data.params});i.fireEvent(n.events.core.PLAY_EXTERNAL,{idMedia:r.idMedia,appCode:r.appCode},{disableLogging:!0});f=!1;break;case n.states.state.MEDIA_PAUSED:i.log("core MEDIA_PAUSED actionFromApi: "+f);r&&r.isLive&&(b=r.getProvider().currentTime);i.fireEvent(n.events.core.PAUSE,{skip:!f,async:!1,params:e.data.params});f=!1;break;case n.states.state.MEDIA_COMPLETE:u.eventStartFired=!1;n.utils.browser.isIPod()&&i.fireEvent(n.events.core.EXIT_FULLSCREEN);u.completeMedia();i.fireEvent(n.events.core.COMPLETE,{async:!1});c=!1;break;case n.states.state.MEDIA_ENDED:i.fireEvent(n.events.core.END,null,{async:!1});break;case n.states.state.MEDIA_AD_STARTED:r.getProvider().isPlayingAds=!0;i.fireEvent(n.events.core.AD_STARTED,{skip:!f});f=!1;break;case n.states.state.MEDIA_AD_PAUSED:i.fireEvent(n.events.core.AD_PAUSE,{skip:!f});f=!1;break;case n.states.state.MEDIA_AD_COMPLETE:r.getProvider().isPlayingAds=!1;i.fireEvent(n.events.core.AD_COMPLETE,i.lastAdCompleteData);f=!1}}}function pt(t){var f=t.data;r.getProvider().paused||(i.fireEvent(n.events.core.CURRENT_TIME_CHANGE,f,{disableLogging:!0}),i.fireEvent(n.events.core.CURRENT_TIME_CHANGE_EXTERNAL,f,{disableLogging:!0}),f>1&&!u.eventStartFired&&(u.eventStartFired=!0,i.fireEvent(n.events.core.START,{idMedia:r.idMedia,appCode:r.appCode})));r.metas.creditsTime>0&&(f>=r.metas.creditsTime&&!y&&(y=!0,i.fireEvent(n.events.core.CLOSING_CREDITS_STARTED)),f<r.metas.creditsTime&&(y=!1))}function wt(t){i.fireEvent(n.events.core.CURRENT_TIME_LABEL_CHANGE,t.data,{disableLogging:!0})}function bt(){i.fireEvent(n.events.core.PRESENCE,null,{disableLogging:!0})}function kt(t){i.fireEvent(n.events.core.SEEK_COMPLETE,t.data)}function dt(t){i.fireEvent(n.events.core.PLAYING,t.data)}function gt(t){i.fireEvent(n.events.core.SEEKING,t.data)}function ni(t){i.log("BUFFERING: "+t.data.toString());i.fireEvent(n.events.core.BUFFERING,t.data)}function ti(t){i.fireEvent(n.events.core.DURATION_CHANGE,t.data.duration,{disableLogging:!0});i.fireEvent(n.events.core.DURATION_LABEL_CHANGE,t.data.durationLabel,{disableLogging:!0})}function ii(t){i.fireEvent(n.events.core.VOLUME_CHANGE,t.data)}function ri(n){i.log("core error: "+n.data.message+", innerMessage: "+n.data.innerMessage);i.error(r,n.data)}function ui(t){i.fireEvent(n.events.core.METAS_CHANGE,t.data,{async:!1,stringify:!1})}function fi(t){i.fireEvent(n.events.core.AD_CLICK_TRACKING,t.data)}function ei(){if(e.MAbeacon){window.AKAMAI_MEDIA_ANALYTICS_CONFIG_FILE_PATH=e.MAbeacon+"?enableGenericAPI=1";var i=new n.services.MediaAnalytics(e,t.index);i.userId="";a.push(i)}}function oi(){r.mediaStates.currentState===n.states.state.MEDIA_STARTED&&(r.begin(r.metas),i.fireEvent(n.events.core.BEGIN,r.metas,{stringify:!1}))}function si(){e.addEventListener(n.events.states.SETTINGS_CHANGE,at);ei();u=new n.states.Core(t.index);u.mediaStates=r.mediaStates;u.addEventListener(n.events.states.CURRENT_STATE_CHANGE,vt);u.create();i.log("CORE VERSION: 0.20.007");i.log("timezone offset in mins: "+(new Date).getTimezoneOffset())}function ot(){return r.isFlashProvider()}function hi(){var t=n.models.error.AD_BLOCKER_PRESENT();t.innerId=1012;t.innerMessage="Ad Blocker detected";i.criticalError(t)}function st(){return e.AdBlockDetection&&!e.noAds&&n.claims.isPub}function ci(t){return t.appCode===r.appCode&&t.idMedia===r.idMedia&&t.params&&!isNaN(t.params.time)&&!r.isLive&&!r.isVideo()?(i.log("do seek instead time="+t.params.time,n.utils.debugger.tabs.API,n.utils.color.GREEN),i.seekTo(t.params.time),!0):!1}function ht(){p=!0;r.removeEventListener(n.events.media.PLAYING,ht)}var i=this,u=null,e=t.playerSettings,r=new n.models.Media(t),a=[],f=!1,c=!1,b=null,k=t,o={},d=null,g=!1,nt=!1,tt=!1,v=null,it=!1,rt=0,s=null,y=!1,ut=!0,p=!1,h={},ft,l;i.lastAdCompleteData=null;ft=Date.now();r.addEventListener(n.events.media.CURRENT_TIME_CHANGE,pt);r.addEventListener(n.events.media.CURRENT_TIME_LABEL_CHANGE,wt);r.addEventListener(n.events.media.PRESENCE,bt);r.addEventListener(n.events.media.VOLUME_CHANGE,ii);r.addEventListener(n.events.media.DURATION_CHANGE,ti);r.addEventListener(n.events.media.CURRENT_STATE_CHANGE,yt);r.addEventListener(n.events.media.SEEK_COMPLETE,kt);r.addEventListener(n.events.media.SEEKING,gt);r.addEventListener(n.events.media.PLAYING,dt);n.utils.browser.isMobile()&&r.addEventListener(n.events.media.PLAYING,ht);r.addEventListener(n.events.media.BUFFERING,ni);r.addEventListener(n.events.media.ERROR,ri);r.addEventListener(n.events.media.META_LOADED,ui);r.addEventListener(n.events.media.AD_CLICK_TRACKING,fi);r.addEventListener(n.events.media.BEFORE_METAMEDIA_REQUEST,function(){i.fireEvent(n.events.core.MEDIA_CHANGED,e,{stringify:!1});i.fireEvent(n.events.core.BEFORE_METAMEDIA_REQUEST,null,{stringify:!1})});r.addEventListener(n.events.media.AFTER_VALIDATIONMEDIA_REQUEST,function(t){i.fireEvent(n.events.core.AFTER_VALIDATIONMEDIA_REQUEST,t.data,{stringify:!1})});r.addEventListener(n.events.media.PROVIDER_CHOSEN,function(t){i.fireEvent(n.events.core.PROVIDER_CHOSEN,t.data)});r.addEventListener(n.events.media.BITRATE_CHANGED,function(t){i.fireEvent(n.events.core.BITRATE_CHANGED,t.data)});r.addEventListener(n.events.media.BITRATE_CHANGING,function(t){i.fireEvent(n.events.core.BITRATE_CHANGING,t.data)});r.addEventListener(n.events.media.CAN_PLAY,function(){i.fireEvent(n.events.core.CAN_PLAY)});n.utils.extend(i,new n.events.EventRegistration("CORE",t.index));n.utils.extend(i,new n.utils.LogInstance("core",t.index,n.utils.color.BLUEVIOLET));n.utils.extend(i,new n.Error(t));t.playerSettings.activateBroadcastingStationScheduleManager===!0&&(l=new n.services.neuro.BroadcastingStationScheduleManager(n.utils.doT,n.utils.ajax,t.playerSettings,i,n.events.core,n.utils.underscore),l.start(),l.addEventListener(n.events.broadcastingStationScheduleManager.LIVE_PROGRAM_START,function(t){i.fireEvent(n.events.core.LIVE_PROGRAM_START,{broadcast:t.data.broadcast})}),l.addEventListener(n.events.broadcastingStationScheduleManager.LIVE_PROGRAM_END,function(){i.fireEvent(n.events.core.LIVE_PROGRAM_END)}));i.begin=function(){oi()};i.dispose=function(){t.timerManager.removeAll();i.fireEvent(n.events.core.DISPOSE);r.dispose();r=null;t.dispose();i.resetAllEventListeners()};i.uiRegister=function(){t.ui.addEventListener(n.events.ui.BITRATE_CHANGING,function(n){r.getProvider().bitrate=n.data});t.ui.addEventListener(n.events.ui.VOLUME_CHANGED,function(n){r.getProvider().volume=n.data});t.ui.addEventListener(n.events.ui.REDUCE_PLAYER,function(){i.fireEvent(n.events.core.REDUCE_PLAYER)});t.ui.addEventListener(n.events.ui.THEATER_MODE,function(t){i.fireEvent(n.events.core.THEATER_MODE,t.data)})};i.embedPlayer=function(){i.fireEvent(n.events.core.EMBED_PLAYER,null)};i.focusOnPlay=function(){k.ui.btnPlay.focusPlayBtn()};i.flashReady=function(t){r.getProviderFlash().initFlash(t);i.fireEvent(n.events.core.FLASH_READY)};i.isAdsPlaying=function(n){return typeof n=="boolean"&&(g=n),g};i.name="player.controllers.Core";i.provider=null;i.getInternalApi=function(){return i};i.isValidationMediaURLLoaded=function(){return c};i.media=function(){return r};i.replay=function(){o.params.autoPlay=!0;i.changeMedia(o)};i.getAdsUrl=function(){var u=n.getAdsUrl(t,r.metas,!1);return u===null&&i.begin(),u};i.externalLoadCompleted=function(n){i.log('externalLoadCompleted("'+n+'")');r.getProvider().show();c=!0;i.begin()};i.cancelChangeMedia=function(n){nt=n};i.changeMediaWaiting=function(){v&&et(v)};i.lastChangeMedia=function(){s&&i.changeMedia(s)};i.stop=function(){if(s){var t=n.utils.clone(s);t.params?t.params.autoPlay=!1:t.params={autoPlay:!1};i.changeMedia(t)}};i.changeMedia=function(t){if(u.ready(),st()&&n.detectAdBlock.check(),!ci(t)){var f=r.getProvider();if(f.changeMedia(),s=t,!(t&&t.appCode&&t.idMedia)){i.log("changeMedia - params missing",n.utils.debugger.tabs.ERROR);return}t.hasOwnProperty("params")||(t.params={});n.utils.browser.isMobile()&&(t.params.canExtract=!1);t.params.imaCustomUrl&&(n.params.imaCustomUrl=t.params.imaCustomUrl);t.appCode!=r.appCode||t.idMedia!=r.idMedia||!t.params.time||r.metas.isLive||["hls","html"].indexOf(f.providerType())!==-1&&!f.isReady()?(i.log("core changeMedia: "+t.appCode+"::"+t.idMedia),u.eventStartFired=!1,i.fireEvent(n.events.core.BEFORE_MEDIA_CHANGE,t,{async:!1,stringify:!1}),nt?v=t:et(t)):i.seekTo(t.params.time)}};Object.defineProperty(i,"isModeResume",{get:function(){return o.params.isModeResume},set:function(n){o.params.isModeResume=n}});i.playerReady=function(r,u){return it?r(t.playerSettings):i.addEventListener(n.events.core.PLAYER_READY,function(n){r.call(u,n.data)}),!0};i.adBreakComplete=function(n){tt=!1;r.mediaStates.completeAd();i.isAdsPlaying(!1);i.lastAdCompleteData=n};i.adBreakStart=function(){tt=r.mediaStates.currentState===n.states.state.MEDIA_COMPLETE;i.fireEvent(n.events.core.AD_STARTED,0);r.mediaStates.adStarted()};i.adsPlaying=function(t,u){i.isAdsPlaying()||r.mediaStates.playAds();i.isAdsPlaying(!0);i.fireEvent(n.events.core.AD_PLAYING,t,{disableLogging:!0});var f=isNaN(u.position)||u.position<1||isNaN(u.total)||u.total<1;i.fireEvent(n.events.core.AD_REMAINING_TIME_LABEL_CHANGE,{adCounter:n.utils.date.secToHoursMinSecOptional(Math.round(t)),adPosition:f?"":"("+u.position+" "+n.label.OF+" "+u.total+")"},{disableLogging:!0})};i.allAdsComplete=function(){i.adBreakComplete()};i.onEnded=function(){r.reset();i.fireEvent(n.events.core.END,null,{async:!1})};i.isFlashProvider=ot;i.adStarted=function(){i.fireEvent(n.events.core.AD_PLAY)};i.isLive=function(){return r&&r.metas&&r.metas.isLive===!0?!0:!1};i.isAudio=function(){return!r.metas.isVideo};i.play=function(t,u){i.flashDesactivatedError();i.log("CORE action play in state: "+r.mediaStates.currentState);u&&(ut=n.utils.a11y.detectMouseNavigation(u));switch(r.mediaStates.currentState){case n.states.state.MEDIA_POSTER:r.start();break;case n.states.state.MEDIA_STARTED:r.getProvider().show();default:r.getProvider().show();i.log("core play");r&&(f=!0,r.play(t))}};i.pauseFromExternalApi=function(){var n=u.eventStartFired?"pause":"stop";i.log("externalApi pause, use - "+n);f=!0;i[n]()};i.pause=function(n){i.log("core pause");n=n||{};r.pause(n)};i.getTimeLabel=function(n,t){return r.getTimeLabel(n,t)};i.getInfo=function(){return r?r.getInfo():null};i.getCurrentChapter=function(){return k.EventChapter.currentChapter()};i.getTimeRatio=function(n){return r.getTimeRatio(n)};i.seekTo=function(n,t){r&&r.metas&&!r.metas.isLive?(i.log("CORE seekto: "+n+", isRatio: "+t),t?r.seekToRatio(n):r.seekToTime(n)):i.log("CORE seek canceled: can't seek in  live ")};i.mute=function(){i.volume=0;r&&r.mute()};i.next=function(){i.fireEvent(n.events.core.NEXT)};i.previous=function(){i.fireEvent(n.events.core.PREVIOUS)};i.extract=function(){i.fireEvent(n.events.core.EXTRACT)};i.setSize=function(n,t){r&&r.resize(n,t)};i.setAdContainer=function(n){d=n;r&&r.setImaVideoAdContainer(n)};i.getAdContainer=function(){return d};i.enterFullscreen=function(){t.ui.fullscreen.enterFullscreen()};i.exitFullscreen=function(){t.ui.fullscreen.exitFullscreen()};i.isSupportFlash=function(){return n.isSupportFlash()?(i.error(r,n.models.error.FLASH_IS_MISSING(document.getElementById(t.container).offsetWidth)),!0):!1};i.startFlashLoading=function(r,u){var f=r;return f||(f=new n.Flash(t)),i.removeEventListener(n.events.core.FLASH_READY,u),i.addEventListener(n.events.core.FLASH_READY,u),i.waitForFlashReady(),f};i.waitForFlashReady=function(){i.timeoutFlashDesactivated=t.timerManager.setTimeout(t.internalApi.flashDesactivatedError,2e4)};i.flashDesactivatedError=function(){if(!r.getProvider().flashReady&&r.getProvider().providerType()==="flash"){if(!ct())return;rt=t.timerManager.setInterval(lt,50);i.log("plugin is not activated","error","red");var u=n.models.error.FLASH_DESACTIVATED(document.getElementById(t.container).offsetWidth);i.error(r,u)}};i.share=function(t){i.fireEvent(n.events.core.SHARE,t)};i.get_media_current_time=function(){return r.getProvider().currentTime};i.requestAutoplayAuthorization=function(){return p||i.currentMedia&&i.currentMedia.getProvider()&&i.currentMedia.getProvider().load(),p};i.registerForAntiCheaters=function(){if(st())n.detectAdBlock.onDetected(hi)};i.ready=function(){u.ready()};i.criticalError=function(t){u.error();i.fireEvent(n.events.core.ERROR,t,{async:!1})};i.refreshToken=function(t){n.claims.refreshToken(-1,t)};Object.defineProperty(i,"state",{get:function(){return u}});Object.defineProperty(i,"isFirstClick",{get:function(){return _isFirstClick},set:function(n){_isFirstClick=n}});Object.defineProperty(i,"currentMedia",{get:function(){return r}});Object.defineProperty(i,"metas",{get:function(){return r?r.metas:null}});Object.defineProperty(i,"volume",{get:function(){return r?r.volume:n.utils.storage.load("volume")/100},set:function(n){r.volume=n}});si()}}(n),function(n){n.UserApiHTML=function(t){var i=this,h=n.utils,f=h.debugger.tabs.API,l=h.color,e=t.playerSettings,r=RadioCanada.player.events,u=n.events.core,a=function(){var n={};return n[r.READY]=[u.READY],n[r.BEGIN]=[u.BEGIN],n[r.END]=[u.END],n[r.PLAY]=[u.PLAY_EXTERNAL],n[r.STOP]=[u.STOP],n[r.PAUSE]=[u.PAUSE],n[r.SEEKING]=[u.SEEKING],n[r.SEEKED]=[u.SEEK_COMPLETE],n[r.EXTRACT]=[u.EXTRACT],n[r.START]=[u.START],n[r.COMPLETE]=[u.COMPLETE],n[r.CURRENT_TIME_CHANGE]=[u.CURRENT_TIME_CHANGE_EXTERNAL],n[r.PRESENCE]=[u.PRESENCE],n[r.AD_STARTED]=[u.AD_STARTED],n[r.AD_PLAY]=[u.AD_PLAY],n[r.AD_PAUSE]=[u.AD_PAUSE],n[r.AD_COMPLETE]=[u.AD_COMPLETE],n[r.NEXT]=[u.NEXT],n[r.PREVIOUS]=[u.PREVIOUS],n[r.SHARE]=[u.SHARE],n[r.VOLUME_CHANGE]=[u.VOLUME_CHANGE],n[r.MUTE]=[u.MUTE],n[r.UNMUTE]=[u.UNMUTE],n[r.ENTER_FULL_SCREEN]=[u.ENTER_FULLSCREEN],n[r.EXIT_FULL_SCREEN]=[u.EXIT_FULLSCREEN],n[r.RELATED]=[u.RELATED],n[r.ERROR]=[u.ERROR],n[r.NEXT_CHAPTER]=[u.NEXT_CHAPTER],n[r.END_CHAPTER]=[u.END_CHAPTER],n[r.MEDIA_CHANGED]=[u.MEDIA_CHANGED],n[r.META_LOADED]=[u.METAS_CHANGE],n[r.REDUCE_PLAYER]=[u.REDUCE_PLAYER],n[r.THEATER_MODE]=[u.THEATER_MODE],n[r.CLOSING_CREDITS_STARTED]=[u.CLOSING_CREDITS_STARTED],n[r.PLAY_REJECTED]=[u.PLAY_REJECTED],n},c=a(),o={},s={},v=function(n){var e=!1,i=n.args[0],r=c[n.args[0]],u,t,f;if(typeof n.args[1]=="function"&&(n.args=Array.prototype.slice.call(n.args),n.args.splice(1,0,this)),u=n.args[2],t=Math.round(Math.random()*Number.MAX_SAFE_INTEGER),s["wrapper"+t]=function(n){n.type=i;try{u.call(this,n.data)}catch(t){typeof console=="object"&&typeof console.error=="function"&&console.error("An error occured in a handler for the event : "+n.type+" - "+t.message)}},s["wrapper"+t].name="wrapper"+t,n.args[2]=s["wrapper"+t],!r)return!1;for(f in r)r.hasOwnProperty(f)&&(n.args[0]=r[f],n.func.apply(n.args[1],n.args),o[i]||(o[i]=[]),o[i].push({func:u,wrapper:s["wrapper"+t]}),e=!0);return e},y=function(n){var t=o[n.args[0]],r=c[n.args[0]],i,u;if(!t)return!1;for(i in t)if(t.hasOwnProperty(i)&&t[i].func===n.args[1]){for(u in r)r.hasOwnProperty(u)&&n.func.apply(this,[r[u],t[i].wrapper]);return!0}return!1};i.events=r;i.addEventListener=function(){if(arguments.length===3&&arguments[2]===!1||arguments.length===4&&arguments[3]===!1||t.log("API addEventListener("+arguments[0]+")",f),arguments[0]===r.PLAYER_READY){var n=typeof arguments[1]=="function"?arguments[1]:arguments[2],u=typeof arguments[1]=="function"?i:arguments[1];return t.internalApi.playerReady(n,u)}return v({func:t.internalApi.addEventListener,args:arguments})};i.removeEventListener=function(){return t.log("API removeEventListener("+arguments[0]+")",f),y({func:t.internalApi.removeEventListener,args:arguments})};i.play=function(){t.log('API command "play()"',f);t.internalApi.play()};i.pause=function(){t.log('API command "pause()"',f);t.internalApi.pauseFromExternalApi()};i.stop=function(){t.log('API command "stop()"',f);t.internalApi.stop()};i.seek=function(n,i){t.log('API command "seek" to: '+n,f);t.internalApi.seekTo(n,i)};i.volume=function(n){if(t.log('API command "volume('+n+')"',f),isNaN(n))return t.internalApi.volume;t.internalApi.volume=n};i.mute=function(){t.log('API command "mute()"',f);t.internalApi.mute()};i.volumeDefault=function(){t.log('API command "volumeDefault()"',f)};i.embedPlayer=function(){t.log('API command "embedPlayer()"',f);t.internalApi.embedPlayer()};i.focusOnPlay=function(){t.log('API command "focusOnPlay()"',f);t.internalApi.focusOnPlay()};i.autoPlay=function(n){t.log('API command "autoPlay()"',f);t.playerSettings.setProperty("autoPlay",n)};i.requestPlayAuthorizationForMobileDevices=function(){t.log('API command "requestPlayAuthorizationForMobileDevices()"',f);t.internalApi.requestAutoplayAuthorization()};i.dispose=function(){t.log('API command "dispose()"',f);t.internalApi.dispose()};i.change=function(i){var r=n.utils.clone(i);return(t.log('API command "change('+JSON.stringify(r)+')"',f),typeof r!="object"||!r||typeof r.appCode!="string"||!r.idMedia)?!1:(typeof r.params!="object"&&(r.params={}),t.internalApi.changeMedia(r),!0)};i.setSize=function(n,i){t.log('API command "setSize('+n+", "+i+')"',f);var r=!n?t.playerSettings.width:n,u=!i?t.playerSettings.height:i;r=t.playerSettings.hookFilterParam(r,"width");u=t.playerSettings.hookFilterParam(u,"height");t.playerSettings.setSize(r,u)};i.enterFullscreen=function(){t.log('API command "enterFullscreen()"',f);t.internalApi.enterFullscreen()};i.exitFullscreen=function(){t.log('API command "exitFullscreen()"',f);t.internalApi.exitFullscreen()};i.setTeaser=function(n){t.log('API command "setTeaser('+n+')"',f);typeof n=="string"&&n.indexOf("http")===0&&e.setProperty("teaserURL",n)};i.setLang=function(i){t.log('API command "setLang('+i+')"',f);n.language.setLang(i)&&e.setProperty("lang",i)};i.setPlayerMode=function(n){t.log('API command "setPlayerMode('+n+')"',f);typeof n=="string"&&n.match(/^(pop|console)$/)&&e.setProperty("gui",n)};i.allowMultiPlay=function(n){t.log('API command "allowMiltiPlay('+n+')"',f);typeof n=="boolean"&&e.setProperty("multiInstance",n)};i.refreshToken=function(n){t.log('API command "refreshToken()"',f);t.internalApi.refreshToken(n)};i.token=function(n){t.log('API command "token('+n+')"',f);switch(typeof n){case"function":case"string":return t.playerSettings.setProperty("hdnea",n),!0;default:return t.log("API token() parameter should be a string or a function",h.debugger.tabs.ERROR,l.LIME),!1}};i.suggested=function(){t.log('API command "suggested(obj)"',f)};i.enterFullScreen=function(){t.log('API command "enterFullScreen()"',f);t.internalApi.enterFullscreen()};i.exitFullScreen=function(){t.log('API command "exitFullscreen()"',f);t.internalApi.exitFullscreen()};i.bitrate=function(n){t.log('API command "bitrate('+n+')"',f)};i.share=function(){t.log('API command "share"',f)};i.shareURL=function(n){t.log('API command "shareURL"',f);typeof n=="function"&&t.playerSettings.setProperty("pageShare",n)};i.activateShortcuts=function(){t.log('API command "Activate Shortcuts"',f);t.shortcuts.apiAssignShortcuts(t)};i.removeShortcuts=function(){t.log('API command "Remove Shortcuts"',f);t.shortcuts.apiRemoveShortcuts(t)};i.gui=function(i){var u,r,o;t.log('API command "gui('+JSON.stringify(i)+')"',f);u=null;for(r in i)if(i.hasOwnProperty(r)){switch(r){case"isNextable":case"isPreviousable":case"infoBar":case"next":case"previous":case"btnBitrate":case"btnShare":case"btnExtract":case"canReduce":case"canFullScreen":case"btnTheaterMode":case"isSeekAllowed":case"isSubtitle":case"disableTimeControl":u=n.utils.toBoolean(i[r],null);break;case"btnFullscreen":u=n.utils.toBoolean(i[r],null);r="canFullScreen";break;case"uiColor":u=n.utils.toDefaultColor(i[r],null);break;case"opaque":u=n.utils.toBoolean(i[r],null);r="wmode";break;default:o=n.models.error.USER_API_ERROR();o.innerMessage="GUI param "+r+" is not defined ";o.origin="userAPIParam";t.error(null,o)}u!==null&&e.setProperty(r,u)}};i.log=function(t,i){n.utils.log(t,i)};i.id=function(){return e.userId};i.savedLogs=function(){return n.savedLogs}}}(n),function(n){n.UserApiFlash=function(t){var i=this,u=n.utils,o=u.debugger.tabs,s=u.color,r=t.playerSettings,e,f;n.utils.extend(i,new u.LogInstance("userApi"));i.events={PLAY:"PLAY",PAUSE:"PAUSE",STOP:"STOP",EXTRACT:"EXTRACT",SEEK:"SEEK",START:"START",COMPLETE:"COMPLETE",CURRENT_TIME_CHANGE:"CURRENT_TIME_CHANGE",PRESENCE:"PRESENCE",AD_PLAY:"AD_PLAY",AD_COMPLETE:"AD_COMPLETE",NEXT:"NEXT",PREVIOUS:"PREVIOUS",SHARE:"SHARE",VOLUME_CHANGE:"VOLUME_CHANGE",MUTE:"MUTE",UNMUTE:"UNMUTE",ENTER_FULL_SCREEN:"ENTER_FULL_SCREEN",EXIT_FULL_SCREEN:"EXIT_FULL_SCREEN",RELATED:"RELATED",CURRENT_STATE_CHANGE:"CURRENT_STATE_CHANGE",ERROR:"ERROR"};e=function(t){switch(t){case"play":return n.events.api.PLAY;case"pause":return n.events.api.PAUSE;case"mute":return n.events.api.MUTE;case"share":return n.events.api.SHARE;case"unmute":return n.events.api.UNMUTE;default:return n.events.api.NOTDEFINED}};f=function(t){for(var r in i.events)if(i.events.hasOwnProperty(r)&&i.events[r]===t)return n.events.elderEvent[r];return"undefined"};i.addEventListener=function(n,t){return srcPlayer("addEventListener",{eventName:f(n),callback:t},r.userId)};i.removeEventListener=function(n,t){return srcPlayer("removeEventListener",{eventName:f(n),funcName:t.name,callback:t},r.userId)};i.play=function(){return t.log('API command "play()"'),srcPlayer("play",null,r.userId)};i.stop=function(){return t.log('API command "stop()"'),srcPlayer("stop",null,r.userId)};i.pause=function(){return t.log('API command "pause()"'),srcPlayer("pause",null,r.userId)};i.seek=function(n){return t.log('API command "seek()"'),srcPlayer("seek",{time:n},r.userId)};i.volume=function(n){return t.log('API command "volume()"'),typeof n!="undefined"?srcPlayer("setVolume",{volume:n},r.userId):srcPlayer("getVolume",null,r.userId)};i.mute=function(){return t.log('API command "mute()"'),_currentVolume=srcPlayer("getVolume",null,r.userId),srcPlayer("setVolume",{volume:0},r.userId)};i.volumeDefault=function(){return t.log('API command "volumeDefault()"'),srcPlayer("setVolume",{volume:_currentVolume},r.userId)};i.change=function(n){return t.log('API command "change('+JSON.stringify(n)+')"'),srcPlayer("change",n,r.userId)};i.setSize=function(){t.log("setSize  is not implemented in elder player")};i.setTeaser=function(){t.log("setTeaser  is not implemented in elder player")};i.setLang=function(){t.log("setLang  is not implemented in elder player")};i.setPlayerMode=function(){t.log("setPlayerMode  is not implemented in elder player")};i.allowMultiPlay=function(){t.log("allowMultiPlay  is not implemented in elder player")};i.token=function(){t.log("token  is not implemented in elder player")};i.suggested=function(){t.log("suggested  is not implemented in elder player")};i.enterFullScreen=function(){return t.log('API command "enterFullScreen()"'),srcPlayer("enterFullScreen",null,r.userId)};i.exitFullScreen=function(){return t.log('API command "exitFullscreen()"'),srcPlayer("exitFullScreen",null,r.userId)};i.bitrate=function(){t.log("bitrate  is not implemented in elder player")};i.share=function(){};i.gui=function(){t.log("gui  is not implemented in elder player")}}}(n),function(n){var t=[],r=0,i=n.utils.log;n.api=function(){};n.findPlayerById=function(r,u){if(t.length!==0){if(!!!r)return t[0];for(var f=0;f<t.length;f++)if(t[f].playerSettings.userId===r)return t[f].log("Client call player "+t[f].playerSettings.userId),t[f]}return u||i("findPlayerById() player "+r+" not found",n.utils.debugger.tabs.ERROR,n.utils.color.RED),null};n.countPlayer=function(){return r};n.executeDelayedCommand=function(t){var r,i;if(t)try{for(r=[],i=0;i<t.length;i++)window.srcPlayer.apply(window,t[i]),r.push(i)}catch(u){n.utils.log("early registration failed "+u.message,n.utils.debugger.tabs.ERROR)}};n.api.plugin=function(i,r){n.plugin.extension(i,r,t)};n.api.getPlayer=function(u,f){function s(){if(n.plugin.add(e.instance),n.multiInstance(t,e.instance),e.instance.shortcuts=new n.Shortcuts(t,e.instance),e.instance.internalApi.registerForAntiCheaters(),e.instance.internalApi.ready(),f.params&&f.params.eventReady)try{window[f.params.eventReady.replace("window.","")]()}catch(i){e.instance.log("eventReady:"+f.params.eventReady+" failed",n.utils.debugger.tabs.ERROR)}f.params.autoPlay?(e.instance.log("autoplay fait for claims"),n.claims.getClaims(e.instance.internalApi.changeMedia.bind(e.instance.internalApi,f))):(e.instance.log("autoplay=false go ahead"),n.claims.getClaims(),e.instance.internalApi.changeMedia(f))}var o,e;return f=!f?{}:f,f.params=!f.params?{}:f.params,typeof f.params.autoPlay!="undefined"&&(f.params.autoPlay=n.utils.toBoolean(f.params.autoPlay,!1)),i("input params: "+JSON.stringify(f)),o=n.utils.dom.element(u),o===null?i("Element container is not valid DOM element",n.utils.debugger.tabs.ERROR):!o.offsetWidth||!o.offsetHeight||(f.params=f.params||{},f.params.width="100%",f.params.height="100%"),n.sendPlayerRejectEvent=!1,n.utils.browser.isAutoPlayForbiden()&&(i("isAutoPlayForbiden :"+n.utils.browser.isAutoPlayForbiden()),n.sendPlayerRejectEvent=f.params.autoPlay,f.params.autoPlay=!1),n.utils.dom.inIframe()&&n.utils.browser.isIPad()&&(f.params.canFullScreen=!1),e=new function(){var i=this,e=new function(i){var e=this,o;e.timeoutFlashDesactivated=0;e.index=r++;n.utils.extend(e,new n.utils.LogInstance("instance_"+t.length,e.index));n.utils.extend(e,new n.events.EventRegistration("api"));n.utils.extend(e,new n.Error(e));e.timerManager=new n.utils.TimerManager;e.playerSettings=new n.models.Settings(f,e);n.claims?n.claims.registerEvent(e.playerSettings):n.claims=new n.Claims(e.playerSettings);n.flashMode&&t.length>0&&t[0].playerSettings.autoPlay===!0&&(e.playerSettings.autoPlay=!1,e.log("multiplayer page - autoplay = false"));e.container=u;e.options=f;e.clickAutorization=!n.utils.browser.isAutoPlayForbiden();e.log("player mode: "+(n.flashMode?"flash":"html"));n.UserApi=n.UserApiHTML;n.utils.dom.AppendToContainer(u,h);e.internalApi=new n.controllers.Core(e);e.EventChapter=new n.EventChapter(e.internalApi);e.EventChapter.registerChapterEvents();e.playerSettings.flashId=e.playerSettings.id;o=new n.ui.Init(e);e.ui=o;e.internalApi.uiRegister();f.params&&f.params.lang&&n.language.setLang(f.params.lang);new n.DOMLangue(e);e.userApi=new n.UserApi(e);e.dispose=function(){var r,n;for(i=null,r=e.ui.container.getContainer(),r.parentNode.removeChild(r),n=0;n<t.length;n++)if(t[n].playerSettings.userId===e.playerSettings.userId){t.splice(n,1);return}}}(i);Object.defineProperty(i,"instance",{get:function(){return e}})},t.push(e.instance),s(),e.instance.userApi}}(n),function(n){function i(i,r,u,f){if(arguments.length===0)return!0;var e=n.findPlayerById(u,!0);if(e===null)typeof f=="undefined"&&window.RadioCanada.player._command.push({command:i,params:r,userId:u});else switch(i){case"play":e.userApi.play();break;case"fullScreen":case"enterFullScreen":e.userApi.enterFullScreen();break;case"exitFullScreen":e.userApi.exitFullScreen();break;case"stop":e.userApi.stop();break;case"pause":e.userApi.pause();break;case"getVolume":return e.userApi.volume();case"setVolume":e.userApi.volume(r.volume);break;case"mute":e.userApi.mute();break;case"unmute":e.userApi.unmute();break;case"changeBitrate":e.userApi.bitrate(r.bitrate);break;case"change":e.userApi.change(r);break;case"seek":e.userApi.seek(r.time);break;case"setSize":e.userApi.setSize(r.width,r.height);break;case"addEventListener":e.userApi.addEventListener(t(r.eventName),r.callback);break;case"removeEventListener":e.userApi.removeEventListener(t(r.eventName),r.callback);break;case"setLang":e.userApi.setLang(r.lang);break;case"setTransparence":e.userApi.gui({isOpaque:r.wmode});break;case"setColor":e.userApi.gui(r);break;case"share":break;case"shareURL":e.userApi.shareURL(r.func);break;case"gui":e.userApi.gui(r);break;case"requestPlayAuthorizationForMobileDevices":e.userApi.requestAutoplayAuthorization();break;case"instance":return e.userApi;case"shareURL":e.userApi.shareURL(r.func);break;default:e.log("Wrong player command "+i,n.utils.debugger.tabs.ERROR,n.utils.color.LIME);e.error(n.label.error.ERROR_4,!0,!0)}}if(typeof srcPlayer!="function"||window.srcPlayer()===-1){var t=function(t){for(var i in n.events.elderEvent)if(n.events.elderEvent[i]===t)return i;return"undefined"};window.RadioCanada.player._command=[];window.srcPlayer=i}}(n),function(n){var t=n.utils.debugger.tabs.TEST,i=n.utils.log;n.multiInstance=function(t,i){function r(){for(var r,n=0;n<t.length;n++)r=t[n].playerSettings.userId!==i.playerSettings.userId&&!t[n].playerSettings.multiInstance,r&&t[n].internalApi.pauseFromExternalApi()}i.internalApi.addEventListener(n.events.core.PLAY,r);i.internalApi.addEventListener(n.events.core.AD_PLAY,r)}}(n),function(n){n.Shortcuts=function(t,i){function f(){c||l||(s(),a())}function a(){for(var n=0;n<r.length;n++)r[n].playerSettings.userId===i.playerSettings.userId&&document.addEventListener(e.KEY_DOWN,r[n].ui.shortcuts.manageKeydown)}function s(){for(var n=0;n<r.length;n++)document.removeEventListener(e.KEY_DOWN,r[n].ui.shortcuts.manageKeydown)}var o=this,u=i,e=n.events.nativeevents,h=n.utils.dom.FindByClassName(u.container,"videocontainer"),r=t,c=n.utils.browser.isAndroid(),l=n.utils.browser.isIOS();o.apiAssignShortcuts=function(n){u=n;f()};o.apiRemoveShortcuts=function(n){u=n;s()};u.options.params.autoPlay&&f();t.length===1&&f();h.addEventListener(e.CLICK,f,!0)}}(n),function(n){function s(t,i){var u,r;if(n.utils.exists(t))for(u=0;u<t.length;u++)if(r=t[u],r){r.counter!==null&&--r.counter==0&&delete t[u];try{r.context!==null?r.func.call(r.context,i):r.func(i)}catch(f){console.log("error handling plugin:"+f.message)}}}function u(t){var i=function(t){var r=this,i;Object.defineProperty(r,"instance",{get:function(){return t},enumerable:!0,configurable:!1});for(i in n.plugin.interface)n.plugin.interface.hasOwnProperty(i)&&(r[i]=n.plugin.interface[i])};return new i(t)}function r(n,t,i){if(i)for(var r in i)if(i.hasOwnProperty(r)){t=t.isInternalPlugin?new u(i[r]):new u(i[r].userApi);new n(t);return}}function c(n){if(t)for(var i in t)t.hasOwnProperty(i)&&r.call(this,t[i].plugin,t[i].options,[n])}var t=[],i;n.plugin={};i=RadioCanada.player.events;n.plugin.extension=function(n,i,u){i=i||{};i.isInternalPlugin=!1;t.push({plugin:n,options:i,instances:u});r(n,i,u)};n.plugin.extensionIntern=function(i,u){u=u||{};u.log=u.log||!0;u.isInternalPlugin=!0;t.push({plugin:i,options:u,instances:[]});r.apply(this,t.slice(-1)[0]);i.prototype.log=u.log?function(t){n.utils.log(t,n.utils.debugger.tabs.PLUGIN)}:function(){}};n.plugin.add=function(n){c(n)}}(n),function(n){n.FlashAPI=function(t,i){function e(){return c===null&&(c=document.getElementById(i)),c}var r=this,c=null,p=null,a=!1,o="provider",u=-1,f=n.events.html,s=0,w=!1,b=-1,k=0,d=0,g=!0,h=1,l=!1,y={total:1,position:1,duration:30},v=[];n.utils.extend(r,new n.events.EventRegistration("api.Flash"));Object.defineProperty(r,"currentTime",{get:function(){return s}});Object.defineProperty(r,"volume",{get:function(){return h},set:function(n){n!==h&&(h=n,t.log("flash command setVolume("+h+")",o),e().setVolume(h))}});Object.defineProperty(r,"isMute",{get:function(){return l}});r.showMouseCursor=function(){t.log("flash command setMouseCursor(true)",o);e().setMouseCursor(!0)};r.hideMouseCursor=function(){t.log("flash command setMouseCursor(false)",o);e().setMouseCursor(!1)};r.flashReady=function(){return a};r.play=function(){t.log("flash command play()",o);e().playMedia()};r.pause=function(){t.log("flash command pause()",o);e().pauseMedia()};r.stop=function(){t.log("flash command stop()",o);r.mute();l=!0;e().stopMedia()};r.loadMedia=function(n){t.log("flash command loadMedia()",o);l&&r.unmute();e().loadMedia(n)};r.seek=function(n){t.log("flash command seek("+n+")",o);e().seekMedia(n)};r.mute=function(){e().setVolume(0)};r.unmute=function(){e().setVolume(h)};r.reset=function(){r.isPlayingAds=!1;s=0;w=!1;b=-1;k=0;d=0;g=!0};r.toggleClosedCaption=function(n){t.log("flash command toggleClosedCaption()",o);e().toggleClosedCaption(n)};r.setUiControlsOffset=function(n){e().setUiControlsOffset(n)};r.setBitrate=function(n){t.log("flash command setBitrate("+n+")",o);e().setCurrentBitrate(n)};r.log=t.internalApi.log;r.begin=function(i){t.log("flash command startMedia()",o);var r=n.utils.storage.load("bitrate_active_video|"+i.appCode);isNaN(r)&&(r=1200);t.internalApi.media().metas.isVideo===!1&&(i.adsUrl="");e().startMedia({adsUrl:i.adsUrl,bitrate:r,closedCaptionUrl:i.closedCaptionUrl,isLive:i.isLive,serverTime:i.serverTime,serverTimeGMT:i.serverTimeGMT})};r.eventDispatcher=function(e,h){var k,w,b;switch(e){case"ready":k=a;a=!0;t.log("FLASH is ready");u=0;p=h;c=document.getElementById(i);w=n.utils.storage.load("volume");c.init({volume:w?w:60,bitrate:1200,MAbeacon:t.playerSettings.MAbeacon,MAbeaconLive:t.playerSettings.MAbeaconLive});k||t.internalApi.flashReady(r);break;case"timeUpdate":u++;s=h;r.fireEvent(f.TIME_UPDATE,h,{disableLogging:!0});break;case"play":u=1;r.fireEvent(f.PLAY,h);break;case"playing":u=1;r.fireEvent(f.PLAYING,h);break;case"pause":u=1;r.fireEvent(f.PAUSE,h);break;case"seeked":u=1;r.fireEvent(f.SEEKED,h);break;case"cannotSeekTo":r.fireEvent(f.CANNOT_SEEK);break;case"seeking":r.fireEvent(f.SEEKING,h);u=1;break;case"buffering":u=1;r.fireEvent(f.BUFFERING,h===!0);break;case"complete":u=1;r.fireEvent(f.ENDED,h,{async:!1});break;case"error":u=1;u=1;r.fireEvent(f.ERROR,h);break;case"abort":u=1;r.fireEvent(f.ABORT,h);break;case"durationChange":u=1;r.fireEvent(f.DURATION_CHANGE,h);break;case"fullscreen":u=1;h||r.fireEvent(f.FULLSCREEN,h);break;case"start":u=1;r.fireEvent(f.CAN_PLAY,h);break;case"switchStart":u=1;r.fireEvent(f.BITRATE_CHANGING,h);break;case"switchComplete":u=1;r.fireEvent(f.BITRATE_CHANGED,h);break;case"adBreakStart":u=1;v=[];t.internalApi.adBreakStart(0);l&&r.unmute();break;case"adTimeRemaining":u=1;t.internalApi.adsPlaying(h,y);break;case"adStart":y=h;u=1;v.push(Math.round(h.duration));t.internalApi.fireEvent(n.events.core.AD_STARTED_FROM_FLASH,{flash_ad_event:h});break;case"adComplete":t.internalApi.fireEvent(n.events.core.AD_ENDED_FROM_FLASH);break;case"adBreakComplete":u=1;t.internalApi.adBreakComplete(v);break;case"allAdsComplete":t.internalApi.allAdsComplete();break;case"ended":t.internalApi.onEnded();break;case"liveTimeUpdate":u++;s=h;r.fireEvent(f.TIME_UPDATE,s,{disableLogging:!0});t.internalApi.fireEvent(n.events.core.CURRENT_TIME_CHANGE_EXTERNAL,s,{disableLogging:!0});break;default:t.log("flash event undefined '"+e+"'")}u<=2&&(b=typeof h=="object"?JSON.stringify(h):h,t.log("flash event '"+e+"'("+b+")",o),e.indexOf("buffering")!==-1&&t.log("flash event '"+e+"'("+b+")"))}}}(n),function(n){n.Flash=function(t){function s(t){var u=t.replace(/\[id]/g,r).replace("[site]",i.site).replace("[version]",i.version).replace("[token]",n.token()).replace("[userId]",i.userId);return u+(i.site==="guillaume_provider"?"&r="+Math.random():"")}function l(){return u}function h(){var i=n.utils.dom.FindByClassName(t.container,"flashContainer").firstElementChild,f=t.playerSettings;i.id="container_"+r;u.log("flash swf url: "+s(e));n.swfobject.embedSWF(s(e),i.id,"100%","100%",f.versionFlash,c,{playerReferer:o},{quality:"high",bgcolor:"#000000",loop:"true",wmode:f.opaque?"opaque":"window",scale:"noscale",menu:"true",devicefont:"true",salign:"",allowScriptAccess:"always",allowFullScreen:"true"},{id:r,align:"left",style:"align:left;","aria-hidden":"true",tabindex:"-1"});u.log("flash is inserted on the page  ")}function a(){n.external.loaded||n.external.addEventListener(n.events.EXTERNAL_LOADED,h);typeof swfobject!="undefined"&&h()}var f="";n.environnement===""&&(f="https:");var e=f+"//"+n.environnement+"services.radio-canada.ca/media/player/flash/[site]?ver=[version]",v=n.environnement===""?"":"br-",c="https://s.radio-canada.ca/player/ressources/swf/expressInstall.swf",i=t.playerSettings,r=i.flashId,o="playerReferer_"+r,u=new n.FlashAPI(t,r);this.flashApi=u;window[o]=l;a()}}(n),function(n){n.Claims=function(t){function a(){}function v(){var n="r="+Math.random();return h.replace("[dev]",l)+n}function e(n){switch(typeof n){case"string":return n;case"function":return n();case"undefined":case"null":return null;default:return null}}function o(t,i){var u,f;t?(u=n.utils.storage.load(t),u?(f=typeof u=="string"?JSON.parse(u):u,f.expire>Date.now()?(n.utils.log("Get claims from cache"),r=f,i(r,t)):s(t,i)):s(t,i)):i(null,null)}function s(t,i){n.utils.log("Geting claims from server");var u=v(),f=[{name:"Authorization",value:"Bearer "+t}];u.indexOf("lcl-services")!==-1&&(u+="&rcid="+this.getRcid());c=0;n.utils.ajax(u,function(u){r=u;var f=u;f.expire=n.utils.date.addHours(new Date,1);n.utils.storage.save(t,JSON.stringify(f));i(r,t);n.utils.log("service rcid="+u.rcid,"resume")},function(t,u){n.utils.log("Failed to get claims "+u,n.utils.debugger.tabs.ERROR);i(null);r=null},f)}var h="https://[dev]services.radio-canada.ca/media/validation/v2/getClaims?",i=this,r=null,c=0,f=t.hdnea,u=e.bind(i,f),l=t.ApiEnvironment===""?"":"dev-";return Object.defineProperty(i,"isPub",{get:function(){return!r||r.isPub==="true"}}),Object.defineProperty(i,"claims",{get:function(){return r}}),Object.defineProperty(i,"token",{get:function(){return u()}}),i.getClaims=function(n){n||(n=function(){});o(u(),n)},i.isSecure=function(){return!!u()},i.refreshToken=function(n,t){t||(t=a);u=n!==-1?e.bind(i,f):u;i.isSecure()?o(u(),t):t()},i.registerEvent=function(t){t.addEventListener(n.events.states.SETTINGS_CHANGE,function(n){n.data.name==="hdnea"&&(f=n.data.value,i.refreshToken(n.data.value))})},i.registerEvent(t),window.getRcid=function(){return"358cc424-a664-4593-babd-5b460ce62662"},i}}(n),function(n){function r(){return n.utils.storage.load("soustitre")==="active"}var t="RC_PLAYER_",i=new RegExp("s*"+t+"s*=(.*?);");n.utils.storage=function(){function r(t,i){n.utils.log(t,n.utils.debugger.tabs.ERROR);n.utils.log(i,n.utils.debugger.tabs.ERROR)}function f(n,i){try{var f=window.localStorage||!1;return f?(localStorage[t+n]=JSON.stringify({value:i,type:typeof i}),!0):null}catch(u){return u.code===22||u.code===1014?r("LocalStorage Full (SRCplayer)",u):u.code===18?r("LocalStorage not allowed (SRCplayer)",u):r("LocalStorage Error (SRCplayer)",u),null}}function e(n){var f=window.localStorage||!1,u,r,i;if(f){if(u=localStorage[t+n],r=null,typeof u!="undefined"){r=u;try{i=JSON.parse(u);switch(i.type){case"object":r=i.value;break;case"string":r=i.value;break;case"number":r=i.value*1;break;case"boolean":r=i.value==="true";break;default:r=typeof i.value!="undefined"?i.value:i}}catch(e){}}return r}return null}function o(){var n=window.localStorage||!1;if(!n)return!1;try{return n[t]=!0,n[t]}catch(i){return!1}}function s(n,i,r){var f,e,o;r=30;f=u();f!==null&&typeof f!="undefined"&&(f[n]=i);e=new Date;e.setDate(e.getDate()+r);o=escape(JSON.stringify(f))+(r==null?"":"; expires="+e.toUTCString());document.cookie=t+"="+f}function u(n){var r=i.exec(document.cookie),t;try{return(t=JSON.parse(r==null?{}:unescape(r[1])),typeof n=="undefined")?t:typeof t[n]!="undefined"?t[n]:null}catch(u){}}function h(n,t){return f(n,t)?!0:s(n,t)}function c(n){return o()?e(n):u(n)}return{save:h,load:c}}();n.utils.userProfile={isTextTrackActive:r}}(n),function(player){player.ui={};player.ui.component={};player.ui.Init=function(instance){function t(){for(var n in _self)_self.hasOwnProperty(n)&&typeof _self[n]=="object"&&typeof _self[n].registerEvents=="function"&&_self[n].registerEvents()}var _self=this,n;_self.index=instance.index;player.utils.extend(_self,new player.events.EventRegistration("UI"));_self.fireEvent(player.events.ui.intern.BEFORE_INIT);with(player.ui.component)_self.hub=new Hub(instance,_self),_self.container=new Container(instance,_self),_self.master=new Master(instance,_self),_self.notAvailable=new NotAvailable(instance,_self),_self.btnPlay=new BtnPlay(instance,_self),_self.btnNextPrevious=new BtnNextPrevious(instance,_self),_self.reduce=new Reduce(instance,_self),_self.video=new Video(instance,_self),_self.ad=new Ad(instance,_self),_self.teaser=new Teaser(instance,_self),_self.loading=new Loading(instance,_self),_self.bigPlay=new BigPlayButton(instance,_self),_self.controller=new Controller(instance,_self),_self.fullscreen=new Fullscreen(instance,_self),_self.progressbar=new ProgressBar(instance,_self),_self.timecontrol=new TimeControl(instance,_self),_self.cursor=new Cursor(instance,_self),_self.showhidecontroller=new ShowHideController(instance,_self),_self.errorpanel=new ErrorPanel(instance,_self),_self.curtain=new Curtain(instance,_self),_self.closeButton=new CloseButton(instance,_self),_self.watermark=new Watermark(instance,_self),_self.opaque=new OpaqueAndColor(instance,_self),_self.extract=new Extract(instance,_self),_self.subtitle=new Subtitle(instance,_self),_self.share=new Share(instance,_self),_self.infobar=new Description(instance,_self),_self.volume=new Volume(instance,_self),_self.bitrate=new Bitrate(instance,_self),_self.thumbnail=new Thumbnail(instance,_self),_self.mouseCursor=new MouseCursor(instance,_self),_self.resumePanel=new ResumePanel(instance,_self),_self.theaterMode=new TheaterMode(instance,_self),_self.shortcuts=new Shortcuts(instance,_self),player.environnement!==""&&(_self.debugpanel=new DebugPanel(instance,_self));_self.fireEvent(player.events.ui.intern.AFTER_INIT);_self.states={};instance.options.params.useExternalFont||(n=player.utils.dom.FindByClassName(instance.container,"radcanplayer"),n.style.fontFamily="playerLoadedFont, Helvetica, Arial, sans-serif");t()}}(n),function(n){n.ui.component.Container=function(t,i){function ht(t){for(var i=0;i<t.length;i++)n.utils.dom.removeClass(r,t[i])}function ct(t){r.className.indexOf(k[t])===-1&&(ht(k),n.utils.dom.addClass(r,k[t]))}function p(){for(var n=0;n<=rt.length;n++)if(r.offsetWidth>=rt[n])return ct(n)}function lt(){v.exit()}function at(n){u.log("touch _onResizeFullscreen()",h);u.fireEvent(l.RESIZE_FULLSCREEN,n.data)}function vt(){o.enterFullscreen()}function d(){u.log("_onMediaStarted()",h);o.removeEventListener(c.PLAY,d);v.enter(w.requestFullscreen);st&&v.addEventListener(tt.FULLSCREEN_ENTER,vt);v.addEventListener(tt.RESIZE_FULLSCREEN,at)}function yt(){u.log("_initSizeContainer()",h);t.playerSettings.width&&s.playerSettings.height?(e.style.width=t.playerSettings.width.indexOf("%")===-1?s.playerSettings.width+"px":s.playerSettings.width,e.style.height=t.playerSettings.height.indexOf("%")===-1?s.playerSettings.height+"px":s.playerSettings.height):(e.style.width="100%",e.style.height="100%");r.style.width="100%";r.style.height="100%";nt()}function ut(){var t=f.offsetWidth*9/16,r=f.offsetHeight,i=n.utils.dom.getScrollBarState().vScrollbar;g!==i&&Math.abs(r-t)<11||(g=i,f.style.height=t+"px")}function nt(){if(t.playerSettings.disableRatioRestriction!==!0){var n=f.offsetHeight,i=f.offsetWidth,r=i/n,e=r>1.32&&r<1.8;n===0&&i>0||y||!e?(u.log("set 16x9 auto mode ",h),y=!0,t.timerManager.clearTimeout(it),ut(),it=t.timerManager.setTimeout(ut,100)):y=!1}}function pt(){f.offsetHeight===0&&f.offsetWidth===0?f.style.width="100%":(f.offsetHeight===0||f.offsetWidth===0)&&nt();o.removeEventListener(c.PLAY,d);o.addEventListener(c.PLAY,d)}function wt(n){n&&n.data&&n.data.name==="setSize"&&(u.log("_onResizeFromApi() ",h),bt(n.data.value.width,n.data.value.height),u.fireEvent(l.RESIZE,{width:n.data.value.width,height:n.data.value.height}))}function bt(n,t){u.log("RESIZE OUTER CONTAINER (width, height) ==> "+n+","+t,h);!n||(e.style.width=typeof n=="string"&&(n.indexOf("%")!==-1||n.indexOf("px")!==-1)?n:n+"px");!t||(e.style.height=typeof t=="string"&&(t.indexOf("%")!==-1||t.indexOf("px")!==-1)?t:t+"px");b={width:e.offsetWidth,height:e.offsetHeight}}function kt(){r.offsetHeight===25&&t.playerSettings.backwardCompatibleAudio===!0?(n.utils.dom.removeClass(r,"audiomode64"),n.utils.dom.addClass(r,"audiomode25")):r.offsetHeight===64&&t.playerSettings.backwardCompatibleAudio===!0?(n.utils.dom.removeClass(r,"audiomode25"),n.utils.dom.addClass(r,"audiomode64")):r.offsetHeight>64&&(n.utils.dom.removeClass(r,"audiomode25"),n.utils.dom.removeClass(r,"audiomode64"))}function dt(t){var i=t.data.isLive?"addClass":"removeClass";n.utils.dom[i](r,"live")}function gt(){kt();p();t.timerManager.setInterval(function(){p()},2e3);n.utils.browser.isMobile()&&(n.utils.log("add class mobiledevice"),n.utils.dom.addClass(r,"mobiledevice"))}function ni(){w.fullscreen.isItMe()&&(u.log("window('resize')",n.utils.debugger.tabs.GUI),u.fireEvent(l.RESIZE,{width:r.offsetWidth,height:r.offsetHeight}))}function ti(t){et.check()&&y&&!n.utils.dom.isFullscreen()&&ft(t)}function ft(){ot.check()&&((p(),n.utils.dom.isFullscreen())||(u.log("element('resize')",n.utils.debugger.tabs.GUI),b.width=r.offsetWidth,b.height=r.offsetHeight,nt(),o.setSize(r.offsetWidth,r.offsetHeight),u.fireEvent(l.RESIZE,{width:r.offsetWidth,height:r.offsetHeight})))}var u=this,s=t,o=s.internalApi,w=i,h=n.utils.debugger.tabs.GUI,ii=n.utils.debugger.tabs.TOUCH,ri=n.utils.debugger.tabs.ERROR,ui=n.events.media,c=n.events.core,fi=n.states.state,ei=n.events.ui,l=n.events.ui.intern,tt=n.events.touch,f=document.getElementById(s.container),r=n.utils.dom.FindByClassName(f,"radcanplayer"),e=n.utils.dom.FindByClassName(f,"outer"),et=new n.utils.Timer(300),ot=new n.utils.Timer(20),a=n.utils,st=a.browser.isIOS(),v=new n.utils.Fullscreen(r,w,t),b={width:0,height:0},y=!1,it=0,k=["plus1500","entre1500et1000","entre1000et800","entre800et640","entre640et400","entre400et280","moins280"],rt=[1500,1e3,800,640,400,280,0],g;a.extend(u,new n.events.EventRegistration("container"));a.extend(u,new a.LogInstance("container",t.index));u.getElem=function(){return r};u.getContainer=function(){return f};u.addResponsiveClass=p;g=!1;o.addEventListener(c.POSTER,lt,"Container");o.addEventListener(c.METAS_CHANGE,dt);o.addEventListener(c.BEGIN,pt);s.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,wt);yt();window.addEventListener("resize",ni);window.addEventListener("resize",ti);n.utils.addResizeListener(f,ft);r.style.display="block";gt()}}(n),function(n){n.ui.component.BtnPlay=function(t){function c(t){var u=r.media().metas,f=u[t+"_accessibility_description_text"],e=u[t+"_description_text"];n.utils.dom.setAttributes(i.children[0],{"aria-label":f,title:e})}function nt(){a();n.utils.a11y.activate(e)}function tt(){n.utils.a11y.activate(e)}function it(){var i=document.activeElement===e;n.utils.a11y.deactivate(e);i&&t.ui.bigPlay.getElem().children[0].focus()}function rt(){c("play")}function ut(t){n.utils.log(t,n.utils.debugger.tabs.GUI)}function l(n){f.log("btn play click",v);n.preventDefault();n.stopPropagation();h.nextCommand(n)}function a(){h.commandCompleted("play")}function p(){h.commandCompleted("pause")}var f=this,s=t,r=s.internalApi,v=n.utils.debugger.tabs.GUI,ft=n.events.media,u=n.events.core,et=n.events.ui,y=n.events.nativeevents,w=new n.utils.LastCommandManager(["play","pause"]),b=function(){var n=o.dom.FindByClassName(i,"a11y-focus");i.children[0].className=n!==null?"pause a11y-focus":"pause";c("pause");n&&i.children[0].focus()},k=function(){var n=o.dom.FindByClassName(i,"a11y-focus");i.children[0].className=n!==null?"arrowright a11y-focus":"arrowright";c("play")},d=[{name:"play",ui_callback:b},{name:"pause",ui_callback:k}],h=new n.utils.PlayPauseCommandManager(d,w,r),g,o;h.syncCurrentCommandWithPlayer();var ot=n.events.ui.intern,st=n.states.state,i=n.utils.dom.FindByClassName(s.container,"playbutton"),e=i.children[0];n.utils.a11y.deactivate(e);g=n.utils.dom.FindByClassName(s.container,"radcanplayer");o=n.utils;o.extend(f,new n.events.EventRegistration("btnPlay"));o.extend(f,new o.LogInstance("btnPlay",t.index));ut("Init play button");r.addEventListener(u.START,tt);r.addEventListener(u.POSTER,it);i.addEventListener("click",l);r.addEventListener(u.AD_PLAY,a);r.addEventListener(u.AD_STARTED,nt);r.addEventListener(u.PLAY,a);r.addEventListener(u.PAUSE,p);r.addEventListener(u.AD_PAUSE,p);r.addEventListener(u.METAS_CHANGE,rt);r.addEventListener(u.AD_STARTED_FROM_FLASH,function(t){n.utils.log("on AD_STARTED_FROM_FLASH handler",n.utils.debugger.tabs.INFO);var i=t.data.flash_ad_event.podIndex===-1;i&&e.focus()});f.getElem=function(){return i};f.setBind=function(n){i.removeEventListener(y.CLICK,l);n&&i.addEventListener(y.CLICK,l)};f.focusPlayBtn=function(){if(f.log("GUI - User API focus",v),r.media().isPlaying()){var t=n.utils.dom.FindByClassName(s.container,"pause");t.focus()}else i.focus()}}}(n),function(n){n.ui.component.BtnNextPrevious=function(t,i){function a(){f.log("Click next",y);o.next()}function v(){f.log("Click previous",y);o.previous()}function w(n){h=n;r.style.display=n?"block":"none";n||p.deactivate(r)}function b(n){c=n;u.style.display=n?"block":"none";n||p.deactivate(u)}function k(t){r.removeEventListener("click",a);t?(r.addEventListener("click",a),n.utils.dom.removeClass(r,"disabled")):n.utils.dom.addClass(r,"disabled")}function d(t){u.removeEventListener("click",v);t?(u.addEventListener("click",v),n.utils.dom.removeClass(u,"disabled")):n.utils.dom.addClass(u,"disabled")}function nt(n){switch(n.data.name){case"isNextable":k(n.data.value);break;case"isPreviousable":d(n.data.value);break;case"next":w(n.data.value);break;case"previous":b(n.data.value)}}function g(n){w(n.next);b(n.previous);k(n.isNextable);d(n.isPreviousable)}function tt(n){g(n.data)}function it(){h&&(r.style.display="none");c&&(u.style.display="none")}function rt(){h&&(r.style.display="block");c&&(u.style.display="block")}var f=this,e=t,o=e.internalApi,ut=i,y=n.utils.debugger.tabs.GUI,ft=n.events.media,s=n.events.core,et=n.states.state,ot=n.events.ui,st=n.events.ui.intern,r=n.utils.dom.FindByClassName(e.container,"nextbutton"),u=n.utils.dom.FindByClassName(e.container,"previousbutton"),p=n.utils.a11y,h=!1,c=!1,l=n.utils;l.extend(f,new n.events.EventRegistration("btnNext"));l.extend(f,new l.LogInstance("nextPreviousBtn",t.index));e.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,nt);o.addEventListener(s.MEDIA_CHANGED,tt);o.addEventListener(s.AD_PLAY,f,it);o.addEventListener(s.AD_COMPLETE,f,rt);r.addEventListener("click",a);u.addEventListener("click",v);g(e.playerSettings)}}(n),function(n){n.ui.component.Reduce=function(t,i){function v(n){r=n.canReduce;r?o():e()}function y(n){n.data.name==="canReduce"&&(r=n.data.value,r?o():e())}function p(){r&&o()}function e(){f.style.display="none"}function o(){f.style.display="block"}function w(){r&&s.activate(f)}function b(){r&&s.deactivate(f)}function k(){e();i.fireEvent(a.REDUCE_PLAYER)}function d(){var n=window.orientation;switch(n){case 0:case 180:e();break;case 90:case-90:r?o():e()}}var g=this,u=t,f=n.utils.dom.FindByClassName(u.container,"reducebutton"),h=n.events.nativeevents,a=n.events.ui,r=!1,s=n.utils.a11y,c=u.internalApi,l=n.events.core;s.deactivate(f);u.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,y);u.internalApi.addEventListener(n.events.core.ENTER_FULLSCREEN,e);u.internalApi.addEventListener(n.events.core.EXIT_FULLSCREEN,p);c.addEventListener(l.BEGIN,w);c.addEventListener(l.POSTER,b);f.addEventListener(h.CLICK,k);n.utils.browser.isIPad()&&window.addEventListener(h.ORIENTATION_CHANGE,d);v(u.playerSettings)}}(n),function(n){n.ui.component.Video=function(t){function ot(){var r=i.getVideoTag().textTracks,t=!1;Object.keys(r).forEach(function(i){t=i.label===n.label.SUBTITLE_LABEL});t||setTimeout(function(){v()},1e3)}function st(n){var t=n.data.isVideo?k:b;t.setAttribute("title",n.data.title)}function l(t,r){i.log(t,n.utils.debugger.tabs.GUI,r)}function ht(){i.getVideoTag().addEventListener(n.events.html.LOADED,w)}function y(){i.log("_removeTracks",u);try{i.getVideoTag()&&i.currentTrack&&(i.currentTrack=null,i.getVideoTag().innerHTML="",h=!1)}catch(n){i.log("_removeTracks error: "+n.message,u)}}function p(){i.log("_hideTracks",u);for(var n=0;n<i.getVideoTag().textTracks.length;n++)i.getVideoTag().textTracks[n].mode="hidden",h=!1}function a(){var f,r,t;for(i.log("_showTrack",u),f=!1,r=i.getVideoTag().textTracks,t=0;t<r.length;t++)if(r[t].label===n.label.SUBTITLE_LABEL){r[t].mode="showing";f=!0;h=!0;break}f||g()}function g(){var n=i.getVideoTag().textTracks;s==null||n&&n.length!==0||(i.log("Track not found - add track",u),v(),h&&a())}function v(){var r=i.getVideoTag().textTracks,e;if(et=r.length,i.log("_addTrack ==> "+s,u),f.media().getProvider().providerType!=="flash")if(s!=null){l("video.js :_addTrack","green");var o=n.label.SUBTITLE_CODE,h=n.label.SUBTITLE_LABEL,t=document.createElement("track");t.kind="captions";n.utils.browser.isIPod()&&(t.default="default");t.label=h;t.srclang=o;t.src=s;i.getVideoTag().setAttribute("crossorigin","withcredentials");i.getVideoTag().appendChild(t);i.currentTrack=t;i.log("track is added.",u);e=r.length>1?3e3:0;setTimeout(ct,e)}else i.log("no track added. Track is null",u)}function ct(){r=n.utils.storage.load("soustitre")==="active";r?a():p()}function nt(){i.log("_injectTrack",u);y();v()}function lt(n){i.log("_metasChange track= "+!!n.data.closedCaptionUrl,u);s=n.data.closedCaptionUrl;h=!1}function w(){l("video.js : _addTrackOnMediaStartIos","pink");i.getVideoTag().removeEventListener(n.events.html.LOADED,w);nt()}function at(){l("video.js : _adStarted","pink");y()}function vt(){l("video.js : _adCompleteIos","yellow");i.getVideoTag().addEventListener(n.events.html.LOADED,w)}function yt(){i.log("_beforeMediaChange()",u);y()}function pt(){return i.log("_toggleSubtitleFlash",u),i.getProvider().toggleSubtitle(!r),r=!r}function wt(){return i.log("_toggleSubtitleAzure",u),r?i.getProvider().hideSubtitle():i.getProvider().showSubtitle(),r=!r}function bt(){return i.log("_toggleSubtitleHTML",u),r?p():a(),r=!r}var i=this,c=t,f=c.internalApi,u=n.utils.debugger.tabs.GUI,e=n.events.core,tt=n.utils.dom.FindByClassName(c.container,"videocontainer"),r=n.utils.userProfile.isTextTrackActive(),b=n.utils.dom.FindByClassName(c.container,"tagaudio"),k=n.utils.dom.FindByClassName(c.container,"tagvideo"),o=n.utils,it=o.browser.isIPod()||o.browser.isIPad(),rt=o.browser.isSafari(),ut=o.browser.isAndroid(),ft=n.utils.browser.isGalaxyS8()||n.utils.browser.isGalaxyS8plus(),s=null,d=nt,et=0,h=!1;o.extend(i,new n.events.EventRegistration("video"));o.extend(i,new o.LogInstance("video",t.index));f.addEventListener(e.BEFORE_MEDIA_CHANGE,yt);f.addEventListener(e.METAS_CHANGE,i,lt);it&&(f.addEventListener(e.AD_STARTED,at),f.addEventListener(e.AD_COMPLETE,vt));rt&&f.addEventListener(e.START,function(){f.addEventListener(e.AD_COMPLETE,ot)});ut&&f.addEventListener(e.AD_COMPLETE,g);d=ht;f.addEventListener(e.AFTER_VALIDATIONMEDIA_REQUEST,d);f.addEventListener(e.METAS_CHANGE,i,st);ft&&(k.style.height="100%");i.getVideoTag=function(){return t.internalApi.media().getProvider().element};i.getProvider=function(){return t.internalApi.media().getProvider()};i.getAudioTag=function(){return b};i.getElem=function(){return tt};i.hideTracks=p;i.showTrack=a;i.addTrack=v;Object.defineProperty(i,"isSubtitleActive",{get:function(){return r}});i.toggleSubtitle=function(){switch(i.getProvider().providerType()){case"flash":return pt();case"azure":return wt();case"html":case"hls":return bt()}return!1}}}(n),function(n){n.ui.component.Ad=function(t){function g(){n.utils.log("_showAd",e);c.style.display="block";u.internalApi.isFlashProvider()||(ft("hideAds"),b("showAds"));n.utils.browser.isMobile()&&(o.style.display="block")}function p(){n.utils.log("_hideAd",e);b("hideAds");o.style.display="none";c.style.display="none";v=!1;h.innerHTML="";s.innerHTML=""}function w(t){n.utils.log(t,e)}function tt(){n.utils.log("_onSingleAdLoaded()",e);s.innerHTML="";h.innerHTML=""}function it(n){k=n.data.chaptersRatio}function rt(n){var r,t;if(y.length>0&&n&&n.data>=0)for(r=i.getTimeRatio(n.data),t=0;t<y.length;t++)y[t].style.background=r<k[t]?"#FFF":"#666"}function ut(t){var i=!1,r,u,e;f?(Math.abs(f.nbCounter-t.data.nbCounter)>5&&f.nbPosition===t.data.nbPosition&&(w(f.nbCounter+":"+t.data.nbCounter+"  -  "+f.nbPosition+":"+t.data.nbPosition),t.data.nbPosition===t.data.nbTotal?t.data.nbPosition=1:t.data.nbPosition++,w(" Position corrected: "+t.data.nbPosition)),f=t.data):t.data.nbPosition===t.data.nbTotal&&t.data.nbTotal>1?(w(" Incorrect position, do not show label"),i=!0):f=t.data;r="("+t.data.nbPosition+" "+n.label.OF+" "+t.data.nbTotal+")";u=n.utils.date.secToHoursMinSecOptional(Math.round(t.data.nbCounter));i||(s.innerHTML=u,d!==t.data.nbPosition&&(e="<span>"+nt.AD_REMAINING_TIME+"<\/span>",h.innerHTML=e+r,d=t.data.nbPosition))}function ft(t){n.utils.dom.removeClass(a,t)}function b(t){n.utils.dom.addClass(a,t)}var l=this,e=n.utils.debugger.tabs.GUI,u=t,et=n.events.media,r=n.events.core,ot=n.events.ui,st=n.states.state,a=n.utils.dom.FindByClassName(u.container,"videoadcontainer"),o=n.utils.dom.FindByClassName(u.container,"adclicktracking"),s=n.utils.dom.FindByClassName(u.container,"adcounter"),h=n.utils.dom.FindByClassName(u.container,"adposition"),c=n.utils.dom.FindByClassName(u.container,"adcontainer"),k=null,v=!1,y=n.utils.dom.FindByClassName(u.container,"chapterslist").childNodes,ht=n.utils,i=u.internalApi,f=null,nt=n.language[n.params.lang.toUpperCase()],d=0;l.getAdContainer=function(){return{video:a,text:o}};i.addEventListener(r.SINGLE_AD_STARTED,function(){g()});i.addEventListener(r.AD_STARTED_FROM_FLASH,function(){g()});i.addEventListener(r.AD_COMPLETE,p);i.addEventListener(r.AD_REMAINING_TIME_LABEL_CHANGE,ut);i.addEventListener(r.CURRENT_TIME_CHANGE,l,rt);i.addEventListener(r.METAS_CHANGE,it);i.addEventListener(r.BEFORE_MEDIA_CHANGE,p);i.addEventListener(r.PLAY,p);i.addEventListener(r.SINGLE_AD_LOADED,tt);i.addEventListener(r.COMPLETE,function(){v=!1});l.setBind=function(){c.style.display="none"}}}(n),function(n){n.ui.component.Fullscreen=function(t,i){function pt(){n.utils.a11y.activate(u)}function wt(){n.utils.a11y.deactivate(u)}function bt(){var n=d.getBoundingClientRect();c={width:f.playerSettings.width,height:f.playerSettings.height,computedWidth:n.width,computedHeight:n.height};h.save={margin:h.style.margin,padding:h.style.padding,marginTop:h.style.marginTop,marginLeft:h.style.marginTop,paddingTop:h.style.paddingTop,paddingLeft:h.style.paddingLeft};c.ratio=c.computedWidth/c.computedHeight;r.log("saved player size:"+JSON.stringify(c),e)}function kt(n,t,i,r){var u=[i/n,r/t];return u=Math.min(u[0],u[1]),{width:n*u,height:t*u}}function nt(n){return f.playerSettings.canFullScreen?u.style.display=n?"none":"block":!1}function dt(){nt(o.isAudio())}function gt(n){var t=n.data.params;t.canFullScreen?t.fullscreen&&(l=!0,it(n)):nt(!0)}function ni(n){nt(!n.data.canFullScreen)}function ti(){return(new Date).getTime()-k>200}function ii(){var n,t;for(n in h.save)h.save.hasOwnProperty(n)&&(h.style[n]=h.save[n]);t=document.getElementById("src_separateur");t&&(t.style.position="relative")}function st(){r.log("--restorePlayerSize("+t.playerSettings.userId+")",e);f.playerSettings.setSize(c.width,c.height);o.media().getProvider().providerType()==="flash"&&n.utils.dom.setStyleAttributes(d,{width:"100%",height:"100%",marginTop:0,marginLeft:0});s.dom.addClass(u,"fullscreenenter");s.dom.removeClass(u,"fullscreenexit");r.fireEvent(rt.FULLSCREEN_EXIT_MOBILE,{width:"100%",height:"100%",top:"0",left:"0",className:"videocontainer"});ii()}function ht(){if(l){l=!1;s.a11y.modifyLabel(u,n.language[ot].FULLSCREEN);v(new n.CustomEvent("system"));o.fireEvent(n.events.core.EXIT_FULLSCREEN);n.utils.dom.onFullscreenChange(ht,"removeEventListener");n.utils.dom.onFullscreenChange(tt,"addEventListener")}}function tt(){if(l){s.a11y.modifyLabel(u,n.language[ot].FULLSCREEN_OUT);s.dom.removeClass(u,"fullscreenenter");s.dom.addClass(u,"fullscreenexit");r.fireEvent(rt.FULLSCREEN_ENTER_MOBILE);o.fireEvent(n.events.core.ENTER_FULLSCREEN);n.utils.dom.onFullscreenChange(tt,"removeEventListener");n.utils.dom.onFullscreenChange(ht,"addEventListener")}}function it(){var t,i,h;n.utils.browser.isIPod()||(r.log("--onEnterFullscreen()",e),bt(),t=n.utils.FullscreenApi.requestFullscreen,i=n.utils.FullscreenApi.fullscreenchange,r.log("requestFullscreen:"+!!t,e),t?(h=function(){o.media().getProvider().providerType()==="flash"&&r.resizeFlashContainerToFitViewport();document.removeEventListener(i,h)},document.addEventListener(i,h),y.container.getElem()[t]()):(f.playerSettings.setSize(window.innerWidth,window.innerHeight),n.utils.dom.addClass(y.container.getElem(),"fullscreen"),n.utils.dom.hideHeader(),s.dom.removeClass(u,"fullscreenenter"),s.dom.addClass(u,"fullscreenexit"),vt(!0),p=!0,o.fireEvent(n.events.core.ENTER_FULLSCREEN)),w=ct(),b=lt(),et.addEventListener("keydown",at),g=!1)}function ct(){for(var i,r=["extractbutton","listbutton","partagebutton","infobutton"],t=0;t<r.length;t++)if(i=n.utils.dom.FindByClassName(f.container,r[t]),i.style.display!=="none")return i;return u}function lt(){return n.utils.dom.hasClass(ft,"disabled")?yt:ft}function ri(){w=ct();b=lt()}function at(n){var i=n.keyCode==9,t;i&&(ri(),t=n.target||n.srcElement,n.shiftKey||t!=w?n.shiftKey&&t==b&&(w.focus(),n.preventDefault()):(b.focus(),n.preventDefault()))}function v(){var t,i;if(et.removeEventListener("keydown",at),g&&!n.utils.browser.isIPod()){r.log("--onExitFullscreen is already requested",e);st();return}g=!0;r.log("--onExitFullscreen()",e);p?(y.video.getVideoTag().className="normal",n.utils.dom.removeClass(y.container.getElem(),"fullscreen"),n.utils.dom.showHeader(),vt(!1),p=!1,o.fireEvent(n.events.core.EXIT_FULLSCREEN)):(t=n.utils.FullscreenApi.exitFullscreen,r.log("--onExit native Fullscreen exec: "+t),i=document,n.utils.browser.isIPod()&&typeof t=="undefined"&&(i=ut,t="webkitExitFullscreen"),i[t]&&i[t]());st();u.className="fullscreenenter"}function vt(t){document.location.href.indexOf("enfantsdelatele.radio-canada.ca")!==-1&&n.utils.dom[t?"hideElement":"showElement"]("home_container")}function fi(t){l=!0;ti()&&(r.log("--onClick fullscreen ( "+k+")",e),t.stopPropagation(),t.preventDefault(),r.isItMe()?v(new n.CustomEvent("click")):it(t),k=(new Date).getTime());s.a11y.toggleA11yFocus(u,t)}function ei(){r.log("webkitendfullscreen, is Playing="+t.internalApi.media().getProvider().paused,e);t.internalApi.media().getProvider().paused||t.playerSettings.setProperty("controlBar",!1)}function oi(){f.playerSettings.canFullScreen||(u.style.display="none");n.utils.browser.isIPod("10")&&(n.utils.dom.FindByClassName(f.container,"videoadcontainer").style.display="none",ut.addEventListener("webkitendfullscreen",ei))}var r=this,y=i,f=t,o=t.internalApi,e=n.utils.debugger.tabs.FULLSCREEN,a=n.events.core,rt=n.events.ui.intern,u=n.utils.dom.FindByClassName(f.container,"fullscreenenter"),ut=n.utils.dom.FindByClassName(f.container,"tagvideo"),d=n.utils.dom.FindByClassName(f.container,"flashContainer"),yt=n.utils.dom.FindByClassName(f.container,"small-play-button"),ft=n.utils.dom.FindByClassName(f.container,"progressbar"),s=n.utils,h={style:document.getElementsByTagName("body")[0].style},p=!1,g=!1,c={},k;s.extend(r,new n.events.EventRegistration("fullscreen"));s.extend(r,new s.LogInstance("fullscreen",t.index));var l=!1,si=n.utils.browser.isIE()?"focusout":"blur",w=null,b=null,et=window.document.getElementById(f.container),ot=n.params.lang.toUpperCase();n.utils.a11y.deactivate(u);r.isItMe=function(){return l&&n.utils.dom.isFullscreen()||p};r.getElem=function(){return u};r.resizeFlashContainerToFitViewport=function(){var i={width:window.screen.width,height:window.screen.height},t=kt(c.computedWidth,c.computedHeight,i.width,i.height);t.left=(i.width-t.width)/2;t.top=(i.height-t.height)/2;r.log("resizeFlashContainerToFitViewport : started from "+JSON.stringify(c)+" and resized to "+JSON.stringify(t),e);n.utils.dom.setStyleAttributes(d,{width:t.width+"px",height:t.height+"px",marginTop:t.top+"px",marginLeft:t.left+"px"})};r.enterFullscreen=function(){r.log("-- enterFullscreen()",e);l=!0;it()};r.exitFullscreen=function(){r.log("-- exitFullscreen()",e);l=!0;r.isItMe()&&v()};n.utils.browser.isIPod()&&(u.style.display="none");o.addEventListener(a.BEGIN,pt);o.addEventListener(a.COMPLETE,wt);k=0;f.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,function(n){n.data.name==="canFullScreen"&&(u.style.display=n.data.value?"block":"none")});o.addEventListener(a.METAS_CHANGE,r,dt);o.addEventListener(a.MEDIA_CHANGED,r,ni);o.addEventListener(a.BEFORE_MEDIA_CHANGE,gt);o.addEventListener(a.END,v);u.addEventListener("click",fi);n.utils.dom.onFullscreenChange(tt,"addEventListener");oi();document.addEventListener(n.utils.FullscreenApi.fullscreenchange,function(n){r.isItMe()&&r.log("webkit "+n.type,e)})}}(n),function(n){n.ui.component.Teaser=function(t,i){function it(){r("hiddenteaser");e("visibleteaser");e("resume")}function rt(){t.timerManager.clearTimeout(h);r("ontop");r("hiddenteaser");r("teaseraudio");r("visibleteaser");v=!1;s=!1;c()}function ut(){l.removeEventListener("click",b);e("ontop");r("hiddenteaser");nt()}function r(t){n.utils.dom.removeClass(y,t)}function e(t){n.utils.dom.addClass(y,t)}function nt(){var n=u.media().mediaStates.currentState;(n===g.MEDIA_POSTER||n===g.MEDIA_RESUME||s)&&(d.curtain.hideAfterPoster(),v||w||(clearTimeout(h),o.log("Show teaser",a),r("resume"),r("hiddenteaser"),e("visibleteaser")))}function b(t){o.fireEvent(n.events.ui.intern.TEASER_CLICK,t)}function ft(n){s||c(n)}function et(){}function ot(n){o.log("_onShowPoster",a);s=n.data.isAlwaysVisible;w=n.data.isAlwaysHidden;clearTimeout(h);w?e("hiddenteaser"):r("hiddenteaser");var t=decodeURI(u.metas.posterUrl);l.innerHTML=t!=="null"&&t!==""?t.indexOf("<picture")===0?t:'<img src="'+t+'"/>':'<img src="//s.radio-canada.ca/player/ressources/svg/default_bg.svg"/>';nt()}function st(n){l.removeEventListener("click",b);c(n)}function c(){s||(o.log("Hide teaser",a),r("visibleteaser"));t.timerManager.clearTimeout(h);h=t.timerManager.setTimeout(function(){s?e("teaseraudio"):e("hiddenteaser")},1e3)}var o=this,k=t,u=t.internalApi,d=i,a=n.utils.debugger.tabs.GUI,ht=n.events.media,f=n.events.core,g=n.states.state,ct=n.events.ui,lt=n.events.ui.intern,l=n.utils.dom.FindByClassName(k.container,"teaser"),tt=n.events.nativeevents,y=n.utils.dom.FindByClassName(k.container,"teasercontainer"),p=n.utils,s=!1,w=!1,v=!1,h=0;p.extend(o,new n.events.EventRegistration("teaser"));p.extend(o,new p.LogInstance("teaser",t.index));u.addEventListener(f.END,ut);u.addEventListener(f.POSTER,ot);y.addEventListener(tt.CLICK,b);u.addEventListener(f.BEFORE_MEDIA_CHANGE,rt);u.addEventListener(f.PLAY,ft);u.addEventListener(f.AD_COMPLETE,et);u.addEventListener(f.BEGIN,st);u.addEventListener(f.RESUME,it);u.addEventListener(f.ERROR,function(t){t.data.level>=n.models.errorLevel.ERROR&&(v=!0,c(),d.curtain.hideAfterPoster())});u.addEventListener(f.END,function(){r("hiddenteaser");r("teaseraudio");t.timerManager.clearTimeout(h);h=t.timerManager.setTimeout(function(){e("visibleteaser")},1e3)});u.addEventListener(f.BEFORE_MEDIA_CHANGE,function(n){r("ontop");r("hiddenteaser");r("teaseraudio");r("visibleteaser");v=!1;s=!1;lastChangeMedia_=n.data;c()});u.addEventListener(f.AD_STARTED,c);o.log("Teaser init",a)}}(n),function(n){n.ui.component.TimeControl=function(t,i){function nt(){n.utils.browser.isIos()&&(h("_onAdStarted, stop timer"),a=!0)}function tt(){n.utils.browser.isIos()&&(h("_onAdComplete, reactive timer"),a=!1)}function it(){var t=n.utils.date.secToHoursMinSecOptional(0);c.textContent=t}function h(t){n.utils.log(t,b,k)}function rt(){n.utils.dom.addClass(s,"_hide")}function ut(){n.utils.dom.removeClass(s,"_hide")}function ft(n){a||(c.innerHTML=n.data,d.updateAriaValueText(n.data))}function et(n){h("_drawDuration: "+n.data+", element: "+l);l.textContent=n.data}function w(){r.isLive()===!0?(c.style.display="block",l.style.display="none",y.style.display="none",v.style.display="block"):(l.style.display="block",y.style.display="block",v.style.display="none");u.playerSettings.disableTimeControl&&r.isLive()?rt():ut()}function ot(){h("timeControl._init()");c.textContent=g;w()}function st(){w()}function ht(){u.playerSettings.disableTimeControl||o.a11y.activate(s)}function ct(){u.playerSettings.disableTimeControl||o.a11y.deactivate(s)}var e=this,u=t,r=u.internalApi,b=n.utils.debugger.tabs.GUI,k=n.utils.color.CORAL,lt=n.events.media,f=n.events.core,at=n.states.state,vt=n.events.ui,yt=n.events.ui.intern,s=n.utils.dom.FindByClassName(u.container,"timecontrol"),c=n.utils.dom.FindByClassName(u.container,"currentTime"),l=n.utils.dom.FindByClassName(u.container,"ply-duration"),v=n.utils.dom.FindByClassName(u.container,"livecontrol"),y=n.utils.dom.FindByClassName(u.container,"bar"),d=i.progressbar,o=n.utils,p=n.utils.date.secToHoursMinSecOptional,g=p(0),pt=p(0),a=!1;o.extend(e,new n.events.EventRegistration("timecontrol"));o.extend(e,new o.LogInstance("timecontrol",t.index));h("Time control init");r.addEventListener(f.CURRENT_TIME_LABEL_CHANGE,e,ft);r.addEventListener(f.READY,e,ot);r.addEventListener(f.DURATION_LABEL_CHANGE,e,et);r.addEventListener(f.METAS_CHANGE,e,st);r.addEventListener(f.END,e,it);r.addEventListener(f.BEGIN,ht);r.addEventListener(f.POSTER,ct);r.addEventListener(f.AD_STARTED,nt);r.addEventListener(f.AD_COMPLETE,tt);o.a11y.deactivate(s)}}(n),function(n){n.ui.component.BigPlayButton=function(t,i){function gi(){tt=!0;r.hideLoading();h=u.className.replace("newBtnPlay","")}function nr(){tt=!1}function p(){return!f.media().isPlaying()}function lt(t){var i=f.media().metas,r=i[t+"_big_button_accessibility_description_text"],e=i[t+"_description_text"];n.utils.dom.setAttributes(u,{"aria-label":r,title:e})}function fi(n){r.log("_onBuffering("+n+")",e);n?ht=(new Date).getTime():p()?l():r.addPendingTransitionToHideButton(2e3-(new Date).getTime()+ht,null,"_onBuffering")}function ei(){et++;setTimeout(function(){et===1&&bt();et=0},500)}function oi(){}function at(){}function si(){ci();g.style.display="block";g.addEventListener(d.CLICK,ei);oi=hi;at=si}function hi(){g.removeEventListener(d.CLICK,ei);g.style.display="none"}function ci(){hi();at=function(){}}function li(){s||tt?h+=" bigBtnPlay":it("bigBtnPlay")}function tr(){n.utils.browser.isMobile()&&(s||tt?h+=" bigBtnPause":it("bigBtnPause"))}function vt(){yt("bigBtnPlay");h=h.replace("bigBtnPlay","")}function w(){yt("bigBtnPause");h=h.replace("bigBtnPause","")}function yt(t){n.utils.dom.addClass(ri,"hide");n.utils.dom.removeClass(u,t)}function it(t){n.utils.dom.removeClass(ri,"hide");n.utils.dom.addClass(u,t)}function ir(){return!p()&&!s}function l(){t.timerManager.clearTimeout(st);n.utils.a11y.activate(u)}function pt(n){return n&&(n.data&&n.data.skip===!0||n===!0)}function rt(n){v||typeof n!="undefined"&&n===!1||(r.log("bigBtn _showButton(isPaused="+p()+")",e),ht=(new Date).getTime(),ct===!1&&s===!0?l():ir()?(l(),r.addPendingTransitionToHideButton(2e3,null,"_showButton1")):p()&&(l(),r.addPendingTransitionToHideButton(2e3,null,"_showButton2")))}function wt(n){ct=!1;r.log("bigBtn _onPlay(isSkip="+pt(n)+")",e);y.commandCompleted("play")}function ai(n){r.log("bigBtn _onPause("+pt(n)+")",e);y.commandCompleted("pause",n);clearTimeout(st);n.data&&n.data.params&&n.data.params.paused_from_ui_bar_generic_showInfoBar_action||yi(n)}function ut(){f.removeEventListener(o.PLAY,ut);f.removeEventListener(o.AD_PLAY,ut)}function bt(i){if(_a11yUtils.detectMouseNavigation(i))n.utils.dom.removeClass(u,"a11y-focus");else{var f=t.ui.btnPlay.getElem().children[0];_a11yUtils.activate(f);n.utils.dom.addClass(f,"a11y-focus")}r.log("bigBtn _onBigbuttonClick("+u.className+")",e);y.nextCommand(i)}function rr(){ct=!0;w();vt();f.addEventListener(o.PLAY,ut);f.addEventListener(o.AD_PLAY,ut)}function vi(n){r.log("bigBtn _reset("+n.type+", _isDisabled="+v+")",e);y.syncCurrentCommandWithPlayer();y.isRunning=!1;l();u.style.display=v?"none":"block";w();li()}function ur(n){v=!n.data.isAvailable;v||(u.style.display="block",ui||vi(n));lt("play")}function fr(n){r.log("bigBtn _onMediaBeforeChange()",e);ui=n.data.params.autoPlay;ni()}function yi(n){var t=new Date;t-nt>100&&(l(),p()||setTimeout(function(){r.log("bigBtn _onMouseMove()",e);p()||(tr(),r.addPendingTransitionToHideButton(2e3,n,"_onMouseMove"))},200));nt=t}function kt(){}function dt(){}function gt(){var t,i;n.utils.browser.isIPod()||(t=new Date,t-nt>100&&(r.log("bigBtn _onless300()",e),i=c.offsetWidth<300,i?k||(k=!0,c.addEventListener(n.events.nativeevents.ONMOUSEENTER,kt),c.addEventListener(n.events.nativeevents.ONMOUSELEAVE,dt)):k&&(k=!1,c.removeEventListener(n.events.nativeevents.ONMOUSEENTER,kt),c.removeEventListener(n.events.nativeevents.ONMOUSELEAVE,dt))),nt=t)}function pi(){window.addEventListener("resize",gt);gt()}function ni(){window.removeEventListener("resize",gt);c.removeEventListener(n.events.nativeevents.ONMOUSEENTER,kt);c.removeEventListener(n.events.nativeevents.ONMOUSELEAVE,dt);k=!1}function er(n){r.log("bigBtn:_onAdStarted()",e);ii=!0;pi();n.data={skip:!1};oi()}function or(){r.log("bigBtn:_onAdComplete()",e);ii=!1;ni();at()}function sr(t){n.utils.browser.isMobile()||t.data.providerType()==="flash"?ci():si()}var r=this,b=t,e="bigBtn",a=i,f=b.internalApi,ii=!1,o=n.events.core,d=n.events.nativeevents,k=!1,u=n.utils.dom.FindByClassName(b.container,"newBtnPlay"),g=n.utils.dom.FindByClassName(b.container,"clickzone"),c=n.utils.dom.FindByClassName(b.container,"radcanplayer"),wi=new n.utils.LastCommandManager(["play","pause"]),ri=n.utils.dom.FindByClassName(b.container,"btnPlayContainer"),et=0,ft,ti;_a11yUtils=n.utils.a11y;u.style.display="none";r.api=f;var bi=function(){vt();rt();rt();lt("pause")},ki=function(t){var i=t&&t.data&&t.data.params&&t.data.params.paused_from_ui_bar_generic_showInfoBar_action,r;w();li();r=(n.utils.browser.isIPod()||pt(t))&&!i;rt(r);lt("play");f.media().isPaused()&&n.utils.browser.isMobile()&&!i&&l()},di=[{name:"play",ui_callback:bi},{name:"pause",ui_callback:ki}],y=new n.utils.PlayPauseCommandManager(di,wi,f);y.syncCurrentCommandWithPlayer();var ot=n.utils,st=0,ht=0,v=!1,nt=0,ct=!0,s=!1,tt=!1,ui=!1,h="";ot.extend(r,new n.events.EventRegistration("BigPlayButton"));ot.extend(r,new ot.LogInstance("BigPlayBtn",t.index));r.addPendingTransitionToHideButton=function(i){n.utils.a11y.deactivate(u);i>0||(i=2e3);st=t.timerManager.setTimeout(function(){r.log("delayed transaction",e);w();var n=document.activeElement===u},i)};r.hideTransition=function(){r.log("bigBtn --hideTransition()",e);l()};r.getElem=function(){return u};r.showButton=function(n){r.log("bigBtn --showButton()",e);rt(n)};r.hideButton=function(){r.log("bigBtn --hideButton()",e);u.style.display="none";u.style.display="block"};r.setBind=function(){r.log("bigBtn --setBind()",e,"yellow")};r.disableBtn=function(n){return r.log("bigBtn --disableBtn("+n+")",e),typeof n=="boolean"&&(v=n),v};r.removePlayPauseClasses=function(){r.log("bigBtn --removePlayPauseClasses()",e);w();vt()};r.showLoading=function(){s||(r.log("bigBtn --showLoading()",e),a.loading.showLoading(),s=!0,fi(s),h=u.className.replace("newBtnPlay",""),u.className="newBtnPlay",it("loader-big-btn-play"),u.style.display="none")};r.hideLoading=function(){s&&(r.log("bigBtn --hideLoading()",e),a.loading.hideLoading(),yt("loader-big-btn-play"),s=!1,fi(s),it(h),u.style.display="block")};r.log("BigButton init desktop",e);f.addEventListener(o.PLAY,wt);f.addEventListener(o.PAUSE,ai);f.addEventListener(o.AD_PLAY,wt);f.addEventListener(o.AD_RESUMED,wt);f.addEventListener(o.AD_PAUSE,ai);f.addEventListener(o.RESUME,w);f.addEventListener(o.BEGIN,rr,"BigPlayButton");f.addEventListener(o.END,vi,"BigPlayButton");u.addEventListener(d.CLICK,bt);a.master.addEventListener(d.ONMOUSEMOVE,yi);a.addEventListener(n.events.ui.INFO_BAR_SHOWN,gi);a.addEventListener(n.events.ui.INFO_BAR_HIDDEN,nr);f.addEventListener(o.PROVIDER_CHOSEN,sr);f.addEventListener(o.AD_STARTED,er);f.addEventListener(o.AD_COMPLETE,or);f.addEventListener(o.START,pi);f.addEventListener(o.COMPLETE,ni);f.addEventListener(o.METAS_CHANGE,r,ur,"BigPlayButton");f.addEventListener(o.BEFORE_MEDIA_CHANGE,r,fr,"BigPlayButton");a.teaser.addEventListener(n.events.ui.intern.TEASER_CLICK,function(n){bt(n.data)});a.hub.registerHideTransition(r);ft=!1;c.addEventListener("keydown",function(){ft=!0;ti=!1});ti=!1;u.addEventListener("click",function(){ti=!0;ft=!1});u.addEventListener("focus",function(t){var i=u.className.indexOf("bigBtnPlay")===-1;(ft||t.type==="focus")&&!i&&n.utils.dom.addClass(u,"a11y-focus")});u.addEventListener("blur",function(){n.utils.dom.removeClass(u,"a11y-focus")})}}(n),function(n){n.ui.component.Controller=function(t,i){function y(){for(var t=i.container.getElem().getElementsByClassName("keyboard-navigation"),n=0;n<t.length;n++)e.bindFocusHandler(t[n])}function f(){}function p(n){e.bindFocusHandler(n.data.bitrate_button)}function l(n){i.showhidecontroller.showhide();i.showhidecontroller.disableCloseTransition();s(n)}function a(n){i.showhidecontroller.enableCloseTransition();i.showhidecontroller.showhide();s(n)}function s(n){o.dom.hasClass(n.target,"progressbar")||o.a11y.toggleA11yFocus(n.target,n)}var e=this,h=t,v=i,r=h.internalApi,w=n.utils.debugger.tabs.GUI,b=n.events.media,u=n.events.core,k=n.states.state,d=n.events.ui,g=n.events.ui.intern,nt=n.utils.dom.FindByClassName(h.container,"showhidecontroller"),o=n.utils,c=n.utils.browser.isIE()?"focusout":"blur";o.extend(e,new n.events.EventRegistration("controller"));o.extend(e,new o.LogInstance("controller",t.index));r.addEventListener(u.MEDIA_CHANGED,f);r.addEventListener(u.CURRENT_TIME_CHANGE,f);r.addEventListener(u.SHOW_POSTER,f);r.addEventListener(u.VOLUME_CHANGE,f);r.addEventListener(u.DURATION_CHANGE,f);r.addEventListener(u.DURATION_LABEL_CHANGE,f);r.addEventListener(u.METAS_CHANGE,f);r.addEventListener(u.CURSOR_TIME_LABEL_CHANGE,f);r.addEventListener(u.CURRENT_TIME_LABEL_CHANGE,f);r.addEventListener(u.ENTER_FULLSCREEN,f);r.addEventListener(u.EXIT_FULLSCREEN,f);i.addEventListener(n.events.ui.intern.AFTER_INIT,function(){v.bitrate.addEventListener(n.events.bitrate.OPTION_ADDED,p)});e.bindFocusHandler=function(n){n.removeEventListener("focusin",l);n.removeEventListener(c,a);n.removeEventListener("click",s);n.addEventListener("focusin",l);n.addEventListener(c,a);n.addEventListener("click",s)};y()}}(n),function(n){n.ui=n.ui||{};n.ui.component=n.ui.component||{};n.ui.component.ProgressBar=function(t,i){function v(){if(i.cursor)return i.cursor;throw"progressbar needs 'cursor' component";}function it(){r.getElem().ondragstart=function(){return!1};c=b();c.addEventListener(h.TOUCH_START,st);c.addEventListener(h.ONMOUSEUP,w);u.addEventListener(h.FOCUS,ft);u.addEventListener(tt,et);f.addEventListener(s.POSTER,rt);f.addEventListener(s.START,ut);u.addEventListener("mousedown",ot);r.initSeekable();g();r.log("Events binded in 'progressbar' class",n.utils.debugger.tabs.GUI)}function rt(){n.utils.a11y.deactivate(u)}function ut(){n.utils.a11y.activate(u)}function ft(n){e.dom.addClass(c,"hide");u.addEventListener(h.KEY_DOWN,y);e.a11y.toggleA11yFocus(u,n)}function et(n){e.dom.removeClass(c,"hide");u.removeEventListener(h.KEY_DOWN,y);e.a11y.toggleA11yFocus(u,n)}function ot(n){n.preventDefault()}function y(n){var i=v().getCurrentPercent(),t,r=10/f.currentMedia.duration;(n.keyCode===39||n.keyCode===76)&&(t=i+r);(n.keyCode===37||n.keyCode===74)&&(t=i-r);f.seekTo(t,!0);v().seekTo({data:{percentage:t,dontcontinue:!0}})}function st(n){if(r.isDisabled()===!1){var t=n.touches[0].pageX,i=n.touches[0].pageY;w({pageX:t,pageY:i})}}function w(n){if(r.isDisabled()===!1){var t=ct(n);v().seekTo({data:{percentage:t,dontcontinue:!0}})}}function ht(t){n.utils.log(t,n.utils.debugger.tabs.GUI)}function b(){var t=n.utils.dom.FindByClassName(o.container,"invisibleseekbar");if(t)return t;throw"ui.progressbar: missing .invisibleseekbar in DOM";}function ct(t){t=t||window.event;r.log("X ==> "+t.pageX+", Y ==> "+t.pageY,n.utils.debugger.tabs.GUI);var u=r.getElem().getBoundingClientRect(),f=u.width,e=u.left,i=(t.clientX-e)/f;return r.log("percentage         ==> "+i,n.utils.debugger.tabs.GUI),r.log("MOVE CURSOR EVENT TRIGGERED ==> width: "+f+" percentage: "+i,n.utils.debugger.tabs.GUI),i}function lt(n){l=n.data.chaptersRatio;a=!n.data.isLive;u.style.display=a?k():d();g(n.data.chaptersRatio)}function k(){u.style.display=""}function d(){u.style.display="none"}function g(){var u,n,t,i;if(p.innerHTML="",l)for(u=r.getElem().offsetWidth,t=0;t<l.length;t++)n=document.createElement("div"),i=l[t]*100,n.style.left=i.toFixed(2)+"%",n.className="chapter",p.appendChild(n)}function at(){d()}function vt(){a&&k()}var r=this,o=t,f=o.internalApi,e=n.utils,s=n.events.core,h=n.events.nativeevents,u=n.utils.dom.FindByClassName(o.container,"progressbar"),nt=n.utils.date.secToHoursMinSecOptional,p=n.utils.dom.FindByClassName(o.container,"chapterslist"),l=[],tt=n.utils.browser.isIE()?"focusout":"blur",c,a=!0;return e.extend(r,new n.events.EventRegistration("progressbar")),e.extend(r,new e.LogInstance("progressbar",t.index)),e.extend(r,new n.utils.IsSeekable(o,u)),ht("Init progress bar"),f.addEventListener(s.METAS_CHANGE,r,lt),f.addEventListener(s.AD_STARTED,r,at),f.addEventListener(s.AD_COMPLETE,r,vt),r.getElem=function(){return u},r.updateAriaValueText=function(n){var t=n+"/"+nt(f.currentMedia.duration);u.setAttribute("aria-valuetext",t);u.setAttribute("aria-valuenow",n)},r.getSeekbar=b,r.keyboardSeek=y,it(),r}}(n),function(n){n.ui=n.ui||{};n.ui.component=n.ui.component||{};n.ui.component.Cursor=function(t,i){function g(){c.style.display="block";s.dom.removeClass(w,"disablehover")}function nt(){c.style.display="none";s.dom.addClass(w,"disablehover")}function h(n){var u,i,o;b=r.getElem().parentNode.offsetWidth;u=100;i=e*100;i<0?i=0:i>=u&&(i=u);o=2;s.browser.isIE()&&(o=0);r.getElem().style.width=i.toFixed(o)+"%";n===!1&&(r.log("SEEKTO SEND TO INTERNAL API  => "+e,a),d&&t.timerManager.clearTimeout(d),d=t.timerManager.setTimeout(function(){f.seekTo(e,!0)},750))}function ut(){var n=lt();n.addEventListener(u.TOUCH_START,st);n.addEventListener(u.TOUCH_END,ot);n.addEventListener(u.TOUCH_MOVE,ct);n.addEventListener(u.ONMOUSEDOWN,y);n.style.cursor="pointer"}function yt(){var n=lt();n.removeEventListener(u.TOUCH_START,st);n.removeEventListener(u.TOUCH_END,ot);n.removeEventListener(u.TOUCH_MOVE,ct);n.removeEventListener(u.ONMOUSEDOWN,y);window.removeEventListener(u.ONMOUSEUP,tt);window.removeEventListener(u.ONMOUSEMOVE,p);n.style.cursor="default"}function pt(){r.getElem().ondragstart=function(){return!1};r.getElem().ondrop=function(){return!1};vt=r.getElem().offsetWidth;r.getElem().offsetParent&&(b=r.getElem().offsetParent.offsetWidth);ut();r.initSeekable();typeof o.playerSettings.cursor!="undefined"&&(o.playerSettings.cursor===!1?nt():o.playerSettings.cursor===!0&&g());ft();r.log("Events binded in 'cursor' class",a)}function ft(){f.isLive()?nt():g()}function et(n,i){r.isDisabled()===!1&&(typeof i=="undefined"&&(t.internalApi.isAdsPlaying()||n.preventDefault()),v===!0&&f.seekTo(e,!0),v=!1,k=!1)}function ot(n){et(n,!0)}function tt(n){et(n);window.removeEventListener(u.ONMOUSEUP,tt);window.removeEventListener(u.ONMOUSEMOVE,p)}function y(){r.isDisabled()===!1&&(v=!0,window.addEventListener(u.ONMOUSEUP,tt),window.addEventListener(u.ONMOUSEMOVE,p))}function st(n){if(r.isDisabled()===!1){var t=n.touches[0].pageX,i=n.touches[0].pageY;y({pageX:t,pageY:i})}}function ht(n){n=n||window.event;var t=n.offsetX||n.clientX||n.pageX;return e=(t-5)/w.offsetWidth}function p(n){r.isDisabled()===!1&&(v===!0||n.isTouch)&&(k=!0,ht(n||window.event),f.getTimeLabel(!0),r.log("percentage ==> "+e,a),h(!0))}function ct(n){if(r.isDisabled()===!1){n.preventDefault();var t=n.touches[0].pageX,i=n.touches[0].pageY;p({pageX:t,pageY:i,isTouch:!0})}}function wt(n){if(n&&n.data>=0&&k===!1){var t=f.getTimeRatio(n.data);e=t;h(!0)}}function lt(){var t=n.utils.dom.FindByClassName(o.container,"invisibleseekbar");if(t)return t;throw"ui.Cursor: missing .invisibleseekbar in DOM";}function bt(){ft()}function kt(){e=0;h(!0)}function dt(){yt()}function gt(){f.isLive()||ut()}function ni(){r.isDisabled()||(it.style.visibility="visible")}function at(){it.style.visibility="hidden"}var r=this,o=t,f=o.internalApi,s=n.utils,ti=n.events.media,u=n.events.nativeevents,ii=n.events.ui,ri=n.events.ui.internal,ui=n.utils.dom,c=n.utils.dom.FindByClassName(o.container,"cursor"),it=n.utils.dom.FindByClassName(c,"pointer"),w=n.utils.dom.FindByClassName(o.container,"progressbar"),l=n.events.core,v=!1,e=0,b=0,vt=0,k=!1,d,rt=i.progressbar.getSeekbar(),a=n.utils.debugger.tabs.GUI;return s.extend(r,new s.LogInstance("Cursor")),s.extend(r,new n.utils.IsSeekable(o,c)),r.getElem=function(){return c},r.getCurrentPercent=function(){return e},r.resize=function(n){n&&n.data&&(r.log("WIDTH changed in cursor class.",a),b=n.data.width)},r.percentagePosition=ht,r.seekTo=function(n){if(r.log("move cursor method called in cursor class.",a),n&&n.data){var i=n.data.percentage,t=n.data.dontcontinue;e=i;typeof t=="undefined"?(h(!1),y()):t===!0?h(!0):h(!1)}},o.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,function(n){n.data.name==="cursor"&&n.data.value===!1?nt():n.data.name==="cursor"&&n.data.value===!0&&g()}),f.addEventListener(l.CURRENT_TIME_CHANGE,wt),f.addEventListener(l.METAS_CHANGE,r,bt),f.addEventListener(l.POSTER,r,kt),f.addEventListener(l.AD_STARTED,r,dt),f.addEventListener(l.AD_COMPLETE,r,gt),n.utils.browser.isMobile()||(at(),rt.addEventListener(u.ONMOUSEOVER,ni),rt.addEventListener(u.ONMOUSEOUT,at)),pt(),r}}(n),function(n){n.ui.component.ShowHideController=function(t,i){function vt(){k&&t.timerManager.clearTimeout(k)}function it(n){return n&&n.data&&n.data.skip===!0?!0:!1}function yt(){ft(!0);o(!0)}function rt(n){w=!1;var t=it(n);p===!1?o(t):p=!1}function ot(n){var t,i;(w=!0,t=n&&n.data&&n.data.params&&n.data.params.paused_from_ui_bar_generic_showInfoBar_action,t)||(i=it(n),o(i))}function pt(t){w=!1;var i=it(t);n.utils.dom.removeClass(y,"hidestate");n.utils.dom.addClass(y,"showstate");ft(!0);o(i);u.addEventListener(f.AD_PLAY,wt,"showHideController",1)}function wt(){u.addEventListener(f.AD_PLAY,rt)}function bt(){ft(!0);a.style.display="block";o(!0);u.removeEventListener(f.AD_PLAY,rt)}function kt(){p=!0;t.timerManager.clearTimeout(k);e.master.removeEventListener(n.events.nativeevents.ONMOUSEMOVE,tt)}function dt(){u.isAudio()===!0?(v=!0,l(y,"showhidetoolbarontop")):(v=!1,s(y,"showhidetoolbarontop"));t.timerManager.setTimeout(function(){o()},2e3)}function o(i){i!==!0&&(vt(),b||(r.log("--show controller",d),r.fireEvent(et.SHOW_CONTROLER_BAR,new n.CustomEvent("SHOW_CONTROLER_BAR"),{disableLogging:!0}),s(h,"hidestate"),s(h,"hide"),l(h,"showstate"),s(a,"hidestatetop"),l(a,"showstatetop"),(p||c.playerSettings.autoPlay)&&setTimeout(function(){s(h,"hide")},300),b=!0),v===!1&&w===!1&&(k=t.timerManager.setTimeout(function(){v||w||(r.log("--hide controller",d),s(h,"showstate"),l(h,"hidestate"),s(a,"radcantransition showstatetop"),l(a,"radcantransition hidestatetop"),p&&l(h,"hide"),b=!1,r.fireEvent(et.HIDE_CONTROLER_BAR,new n.CustomEvent("HIDE_CONTROLER_BAR"),{disableLogging:!0}))},2e3)))}function gt(){c.playerSettings.controlBar===!1?st():ht();e.hub.registerHideTransition(r);r.log("ShowHideController",d)}function ni(){t.timerManager.setTimeout(function(){e.bigPlay&&e.bigPlay.showButton(!1);e.showhidecontroller&&e.showhidecontroller.showhide(!1)},1e3)}function ut(n){y.style.display=n?"block":"none"}function st(){nt=!0;ut(!1)}function ht(){nt=!1;ut(!0)}function ft(n){ut(n&&!nt)}function ti(){e.master.removeEventListener(n.events.nativeevents.ONMOUSEMOVE,tt);tt=e.master.addEventListener(n.events.nativeevents.ONMOUSEMOVE,o)}var r=this,c=t,d=n.utils.debugger.tabs.GUI,e=i,u=c.internalApi,f=n.events.core,et=n.events.ui.intern,ct=n.events.nativeevents,g=n.utils,l=n.utils.dom.addClass,s=n.utils.dom.removeClass,b=!1,nt=!1,y=n.utils.dom.FindByClassName(c.container,"showhidecontroller"),h=n.utils.dom.FindByClassName(c.container,"bottomcontainer"),a=n.utils.dom.FindByClassName(c.container,"innercontainer"),lt=n.utils.dom.FindByClassName(c.container,"videocontainer"),p=!0,at=lt.getElementsByTagName("video")[0],v=!1,w=!1,k=null,tt=function(){};g.extend(r,new n.events.EventRegistration("showhidecontroller"));g.extend(r,new g.LogInstance("ShowHideController",t.index));r.disableCloseTransition=function(){v=!0};r.enableCloseTransition=function(){v=!1};r.hideTransition=function(){s(h,"showstate");l(h,"hidestate");s(a,"radcantransition showstatetop");l(a,"radcantransition hidestatetop");b=!1};r.showhide=function(n){o(n)};at.addEventListener("webkitendfullscreen",function(){this.handler()}.bind({handler:ni}),!1);u.addEventListener(f.BEGIN,r,ti);u.addEventListener(f.AD_STARTED,r,pt);u.addEventListener(f.AD_COMPLETE,r,bt);u.addEventListener(f.AD_PAUSE,ot);u.addEventListener(f.PLAY,rt);u.addEventListener(f.START,yt);u.addEventListener(f.PAUSE,ot);u.addEventListener(f.END,kt,"showHideController");u.addEventListener(f.METAS_CHANGE,r,dt);e.master.addEventListener(ct.TOUCH_START,function(){o()});e.master.addEventListener(n.events.nativeevents.TOUCH_MOVE,function(){o()});c.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,function(n){n.data.name==="controlBar"&&(n.data.value===!1?st():ht())});gt()}}(n),function(n){n.ui.component.Master=function(t,i){var r=this,o=t,s=o.internalApi,u=i,h=n.utils.debugger.tabs.GUI,c=n.events.media,l=n.events.core,a=n.states.state,v=n.events.ui,y=n.events.ui.intern,f=n.utils,e=!1;f.extend(r,new f.LogInstance("Master",t.index));f.extend(r,new n.events.EventRegistration("master"));r.addEventListener=function(n,t){var i=function(n){this.masterptr.isMaster()===!1&&this.handler(n)}.bind({handler:t,masterptr:r});return u.container.getElem().addEventListener(n,i,!1),i};r.removeEventListener=function(n,t){u.container.getElem().removeEventListener(n,t)};r.isMaster=function(){return e};r.iAmMaster=function(){u.hub.hideTransition();e=!0};r.iAmNoLongerMaster=function(){e=!1}}}(n),function(n){n.ui.component.CloseButton=function(t,i){function s(t){n.utils.log(t,n.utils.debugger.tabs.GUI)}function h(){r.log("btn close click",o);n.utils.dom.blur(e);r.fireEvent(n.events.ui.intern.CLOSE_INFO)}var r=this,f=t,c=f.internalApi,o=n.utils.debugger.tabs.GUI,l=n.events.media,a=n.events.core,v=n.events.ui,y=i,p=n.events.ui.intern,w=n.states.state,e=n.utils.dom.FindByClassName(f.container,"closebutton"),u=n.utils;u.extend(r,new n.events.EventRegistration("btnClose"));u.extend(r,new u.LogInstance("closebutton",t.index));s("Init close button");e.addEventListener("click",h)}}(n),function(n){n.ui.component.Hub=function(t){var i=this,f=t.playerSettings,e=t.container,o=n.utils.debugger.tabs.GUI,r=n.utils,u=n.events.ui,s=n.events.ui.intern,h=n.events.core,c=n.events.media,l=n.states.state,a=t.core;r.extend(i,new n.events.EventRegistration("hub"));r.extend(i,new r.LogInstance("Hub",t.index));i.registerHideTransition=function(t){i.addEventListener(u.HIDE_TRANSITION,t,t.hideTransition);this.log("EVENT HIDE_TRANSITION REGISTERED",n.utils.debugger.tabs.GUI)};i.hideTransition=function(){i.fireEvent(u.HIDE_TRANSITION)}}}(n),function(n){n.ui.component.Loading=function(t,i){function a(n){var t=Date.now();e.log(n+" timer:"+(t-c),y);c=t}function f(){a("_hideloading()");n.utils.dom.addClass(l,"hide");s.style.display="block";n.utils.dom.removeClass(s,"loader-big-btn-play")}function v(){n.utils.browser.isIPod()||(a("_showLoading()"),s.style.display="none",n.utils.dom.removeClass(l,"hide"))}function p(n){e.log("LOADING BUFFERING: "+JSON.stringify(n.data));n.data?v():f();var t=function(){f();r.removeEventListener(u.PLAY,t)};r.addEventListener(u.PLAY,t)}var e=this,c=Date.now(),o=t,r=o.internalApi,w=i,y=n.utils.debugger.tabs.GUI,u=n.events.core,l=n.utils.dom.FindByClassName(o.container,"loading-spinner"),s=n.utils.dom.FindByClassName(o.container,"newBtnPlay"),h=n.utils;h.extend(e,new n.events.EventRegistration("loading"));h.extend(e,new h.LogInstance("Loading",t.index));e.showLoading=function(){v()};e.hideLoading=function(){f()};r.addEventListener(u.BUFFERING,p);r.addEventListener(u.PAUSE,f);r.addEventListener(u.AD_PAUSE,f);r.addEventListener(u.AD_STARTED,f);r.addEventListener(u.COMPLETE,f);r.addEventListener(u.BEFORE_MEDIA_CHANGE,f);r.addEventListener(u.POSTER,f);r.addEventListener(u.ERROR,f)}}(n),function(n){n.ui.component.Watermark=function(t){function c(){return r.playerSettings.watermark!==l&&!u.isLive()}function a(){return r.playerSettings.watermark!==""}function v(){e.style.display="none"}function o(){c()&&s?(e.style.display="block",e.style.backgroundImage="url("+s+")"):e.style.display="none"}function y(n){c()&&!a()&&(s=p(n.data.watermarkUrl));o()}function p(n){return n?n.replace(".swf",".svg").replace("display:none","").replace("http://","https://"):""}function w(){o()}var l="display:none",i=this,r=t,u=r.internalApi,s=r.playerSettings.watermark,f=n.events.core,e=n.utils.dom.FindByClassName(r.container,"watermark"),h=n.utils;h.extend(i,new n.events.EventRegistration("watermark"));h.extend(i,new h.LogInstance("watermark",t.index));u.addEventListener(f.AD_STARTED,i,v);u.addEventListener(f.AD_COMPLETE,i,o);u.addEventListener(f.START,i,o);u.addEventListener(f.METAS_CHANGE,i,y);w()}}(n),function(n){n.ui.component.OpaqueAndColor=function(t,i){function e(t){n.utils.dom.removeClass(s,t)}function h(t){n.utils.dom.addClass(s,t)}function c(n){r.log("_doTransparent("+n+")",o);n?h("transparent"):e("transparent")}function l(n){r.log("_doUicolor("+n+")",o);e("white");e("black");h(n)}function p(n){switch(n.data.name){case"uiColor":l(n.data.value);break;case"opaque":c(n.data.value)}}function a(n){c(n.opaque);l(n.uiColor)}function w(n){a(n.data)}var r=this,u=t,v=u.internalApi,b=i,o=n.utils.debugger.tabs.GUI,k=n.events.media,y=n.events.core,d=n.states.state,g=n.events.ui,nt=n.events.ui.intern,s=n.utils.dom.FindByClassName(u.container,"radcanplayer"),f=n.utils;f.extend(r,new n.events.EventRegistration("opaque"));f.extend(r,new f.LogInstance("opaqueColor",t.index));u.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,p);v.addEventListener(y.MEDIA_CHANGED,w);a(u.playerSettings)}}(n),function(n){n.ui.component.Extract=function(t,i){function h(n){s.style.display=n?"block":"none"}function c(n){h(n.data.canExtract)}function a(){f.log("eventFromPlayerExtract",l);var n=u.media(),t=r.playerSettings.pagePopupParams,i=r.playerSettings.pagePopup.replace("[appCode]",n.appCode).replace("[idMedia]",n.idMedia).replace("[currentTime]",n.getProvider().currentTime)+"",e=window.open(i,"win",t);e.focus();u.pause();u.extract()}function v(){h(r.playerSettings.canExtract);s.addEventListener("click",a);u.addEventListener(o.MEDIA_CHANGED,c);u.addEventListener(o.READY,c)}var f=this,r=t,u=r.internalApi,l=n.utils.debugger.tabs.GUI,o=n.events.core,s=n.utils.dom.FindByClassName(r.container,"extractbutton"),y=i,e=n.utils;e.extend(f,new n.events.EventRegistration("extract"));e.extend(f,new e.LogInstance("Extract",t.index));v()}}(n),function(n){n.ui.component.Curtain=function(t,i){function nt(n){g=n.data}function f(t){e.log("_curtain(hide) event:"+(t?t.type:"undefined"),c);k.bigPlay.hideLoading();n.utils.dom.removeClass(o,"visible");n.utils.dom.addClass(o,"hidden")}function tt(t){e.log("_curtain(show) event:"+(t?t.type:"undefined"),c);n.utils.dom.removeClass(o,"hidden");n.utils.dom.addClass(o,"visible")}function w(){var n=v.offsetWidth,t=v.offsetHeight;o.style.width=n+"px";o.style.height=t+"px"}function s(n){a||(e.log("_curtain(show)event:"+(n?n.type:"undefined"),c),w(),tt())}function it(n){a=n.data.isAlwaysHidden;p=n.data.isModeResume}function rt(n){f(n);r.addEventListener(u.AD_COMPLETE,f,"curtain.onAdComplete",1)}function b(n){r.removeEventListener(u.PLAY,b);f(n)}function ut(n){nt(n);s(n);y=n.data.params.autoPlay;r.addEventListener(u.PLAY,b)}function ft(t){t.data.level>=n.models.errorLevel.ERROR&&f(t);a=!0}var e=this,h=t,r=h.internalApi,c="curtain",k=i,u=n.events.core,d=n.events.ui.intern,o=n.utils.dom.FindByClassName(h.container,"curtain"),v=n.utils.dom.FindByClassName(h.container,"radcanplayer"),l=n.utils;l.extend(e,new n.events.EventRegistration("curtain"));l.extend(e,new l.LogInstance("Curtain",t.index));var g=null,a=!1,y=!1,p=!1;r.addEventListener(u.PLAY,f);r.addEventListener(u.ERROR,ft);r.addEventListener(u.BEGIN,s);r.addEventListener(u.BEFORE_VALIDATIONMEDIA_REQUEST,s);r.addEventListener(u.BEFORE_METAMEDIA_REQUEST,s);r.addEventListener(u.BEFORE_MEDIA_CHANGE,ut);r.addEventListener(u.AD_STARTED,e,rt);r.addEventListener(u.POSTER,it);r.addEventListener(u.RESUME,f);i.container.addEventListener(d.RESIZE,w);e.setBind=function(n){r.removeEventListener(u.PLAY,f);n&&r.addEventListener(u.PLAY,f)};e.hideAfterPoster=function(){(!y||p)&&f()}}}(n),function(n){n.ui.component.ErrorPanel=function(t,i){function e(){n.utils.dom.removeClass(r,"visible");n.utils.dom.addClass(r,"hidden")}function p(){n.utils.dom.removeClass(r,"hidden");n.utils.dom.addClass(r,"visible")}function a(){var n=c.offsetWidth,t=c.offsetHeight;r.style.width=n+"px";r.style.height=t+"px"}var o=this,s=t,u=s.internalApi,w=n.utils.debugger.tabs.GUI,b=n.events.media,f=n.events.core,k=n.states.state,d=n.events.ui,v=n.events.ui.intern,r=n.utils.dom.FindByClassName(s.container,"errorpanel"),y=n.utils.dom.FindByClassName(r,"subtitle"),c=n.utils.dom.FindByClassName(s.container,"radcanplayer"),h=n.utils,l=0;h.extend(o,new n.events.EventRegistration("errorpanel"));h.extend(o,new h.LogInstance("ErrorPanel",t.index));u.addEventListener(f.AD_PLAY,e);u.addEventListener(f.PLAY,e);u.addEventListener(f.POSTER,e);u.addEventListener(f.ERROR,function(t){a();t.data.level>=n.models.errorLevel.ERROR&&(l=t.data.level,y.innerHTML=t.data.message,p())});u.addEventListener(f.BEFORE_MEDIA_CHANGE,function(){l=0});i.container.addEventListener(v.RESIZE,a);o.hide=function(){e()}}}(n),function(n){n.ui.component.Subtitle=function(t,i){function it(){n.utils.a11y.activate(r)}function rt(){n.utils.a11y.deactivate(r)}function b(){return n.utils.userProfile.isTextTrackActive()}function ut(){var t=o.video.toggleSubtitle();n.utils.storage.save("soustitre",t?"active":"inactive");t?a():k()}function ft(n){h=n.data.closedCaptionUrl;h!=null?(r.style.display="block",b()&&(e.enableBtn(),a())):r.style.display="none"}function g(){s(r,"active");s(p,"active");l(r,"disable")}function k(){s(r,"active");s(p,"active");l(r,"disable")}function a(){s(r,"disable");l(r,"active");l(p,"active")}function et(){e.disableBtn();k()}function ot(){h==null||n.utils.browser.isIPod()||(e.enableBtn(),b()&&a())}function st(){t.internalApi.media().getProvider().setUiControlsOffset(60)}function ht(){t.internalApi.media().getProvider().setUiControlsOffset(0)}function nt(){b()&&(o.video.toggleSubtitle(),k(),y=!0);w=!0;r.style.display="none"}function ct(){w=!1;h!=null&&(r.style.display="block");y&&(o.video.toggleSubtitle(),a(),y=!1)}function tt(n){var t=w&&h!=null;n.type==="core.enterFullscreen"&&t?(r.style.display="block",y&&(o.video.toggleSubtitle(),a())):n.type==="core.exitFullscreen"&&t&&nt()}var e=this,v=t,lt=v.internalApi,at=n.utils.debugger.tabs.GUI,u=n.events.core,d=n.events.ui.intern,r=n.utils.dom.FindByClassName(v.container,"soustitrebutton"),p=n.utils.dom.FindByClassName(v.container,"soustitretexte"),h=null,vt=n.events.ui,o=i,w=!1,y=!1,f=v.internalApi,c=n.utils,l,s;c.extend(e,new n.events.EventRegistration("subtitle"));c.extend(e,new c.LogInstance("Subtitle",t.index));c.extend(e,new c.ButtonEvents(r,i,"subtitle",ut,t));l=n.utils.dom.addClass;s=n.utils.dom.removeClass;n.utils.a11y.deactivate(r);f.addEventListener(u.REDUCE_PLAYER,nt);f.addEventListener(u.EMBED_PLAYER,ct);f.addEventListener(u.ENTER_FULLSCREEN,tt);f.addEventListener(u.EXIT_FULLSCREEN,tt);f.addEventListener(u.BEGIN,it);f.addEventListener(u.POSTER,rt);f.addEventListener(u.METAS_CHANGE,e,ft);f.addEventListener(u.COMPLETE,e,g);f.addEventListener(u.BEFORE_MEDIA_CHANGE,g);f.addEventListener(u.AD_STARTED,e,et);f.addEventListener(u.AD_COMPLETE,e,ot);n.flashMode&&o.video.toggleSubtitle()&&(o.showhidecontroller.addEventListener(d.SHOW_CONTROLER_BAR,st),o.showhidecontroller.addEventListener(d.HIDE_CONTROLER_BAR,ht))}}(n),function(n){n.ui.component.NotAvailable=function(t,i){function l(){o.style.display="none";i.bigPlay.disableBtn(!1)}function a(t){var r=t.data.isAvailable,i;u.log("isAvailable="+r,h);t.data.isAvailable?l():(i=n.models.error.NOT_AVAILABLE_ANYMORE(),s.mediaStates.error(i),s.fireEvent(n.events.media.ERROR,i))}function v(n){c=n.data.params.autoPlay}var u=this,h=n.utils.debugger.tabs.GUI,f=n.utils,e=n.events.core,r=t.internalApi,o=n.utils.dom.FindByClassName(t.container,"errorNotAvailableAnymore"),c=!1,s=t.internalApi.media();f.extend(u,new f.LogInstance("fullscreen",t.index));r.addEventListener(e.METAS_CHANGE,a);r.addEventListener(e.BEFORE_MEDIA_CHANGE,v)}}(n),function(n){n.ui.component.Volume=function(t,i){function nr(){n.utils.a11y.deactivate(u);n.utils.a11y.deactivate(r)}function tr(){n.utils.a11y.activate(u);n.utils.a11y.activate(r)}function s(n){t.log(n,wi)}function a(n){return n<=c}function ri(t){t?(n.utils.dom.removeClass(g,"_hide"),n.utils.dom.addClass(g,"show"),ii&&n.utils.dom.addClass(bt,"volumeOpen")):(n.utils.dom.removeClass(g,"show"),n.utils.dom.addClass(g,"_hide"),ii&&n.utils.dom.removeClass(bt,"volumeOpen"))}function ui(){ri(!0)}function ir(){ri(!1)}function rr(t){ft!==t&&(n.utils.dom.removeClass(u,ft),n.utils.dom.addClass(u,t),ft=t)}function v(){return d}function st(){if(!(v()>=100)){var n=v()+vt;n>e&&(n=e);f.setVolume(n)}}function ht(){if(!(v()<=0)){var n=v()-vt;n<c&&(n=c);f.setVolume(n)}}function fi(n,t){var o;if(gi.check()){var v=n.clientX,p=document.body.getBoundingClientRect(),y=r.getBoundingClientRect();if(y.left===0){kt++;return}o=y.left-p.left;s("volume - changing "+t+", clientX="+v+", offsetX="+o+", _failed="+kt);var h=e/l.offsetWidth,i=c/h,u=Math.min(e,Math.max(i,v-i-o)*h);s("volume - _minVolume="+i+", volume="+u+", touchArea="+h);u=a(u)?i:Math.max(i,u);f.setVolume(u)}}function p(t){n.utils.dom.addClass(r,"transitionSlow");n.utils.dom.removeClass(r,"transitionFast");fi.call(this,t,"slow")}function ei(t){n.utils.dom.removeClass(r,"transitionSlow");n.utils.dom.addClass(r,"transitionFast");fi.call(this,t,"fast")}function oi(){w({type:"mouseout"})}function si(){s("volume - mouse out ");k=oi}function hi(){s("volume - mouse in ");k=lt}function ci(n){s("volume - up ");t.timerManager.clearTimeout(wt);document.removeEventListener("mousemove",ei);document.removeEventListener("mouseup",ci);o.removeEventListener("mouseenter",hi);o.removeEventListener("mouseleave",si);k(n)}function y(){s("volume - press ");o.removeEventListener("mouseleave",w);l.removeEventListener("mousedown",y);r.removeEventListener("mousedown",y);wt=t.timerManager.setTimeout(function(){document.addEventListener("mousemove",ei)},25);document.addEventListener("mouseup",ci);o.addEventListener("mouseenter",hi);o.addEventListener("mouseleave",si);k=lt}function ct(){var n=t.timerManager.setTimeout(lt,200);o.addEventListener("mouseleave",function(){t.timerManager.clearTimeout(n)})}function lt(){s("volume - on ");r.blur();ui();u.removeEventListener("mouseenter",ct);o.addEventListener("mouseleave",w);l.addEventListener("mousedown",p);l.addEventListener("mousedown",y);r.addEventListener("mousedown",p);r.addEventListener("mousedown",y);r.addEventListener("click",p)}function w(n){s("volume -  "+n.type);r.blur();ir();o.removeEventListener("mouseleave",w);l.removeEventListener("mousedown",y);l.removeEventListener("mousedown",p);r.removeEventListener("mousedown",y);r.removeEventListener("click",p);u.addEventListener("mouseenter",ct)}function ur(i){var v;u.addEventListener("mouseenter",ct);u.addEventListener("click",fr);var o=n.utils.storage.load("volume"),s=n.utils.storage.load("was_a_video_media_before")==="true",y=!s,r=typeof o!="undefined"&&o!==null?o:b,h=t.internalApi.media(),c=typeof o!="undefined"&&a(r),l=!i.data.isVideo;t.playerSettings.unmuteWhenChangingContent&&(l&&s&&c||l&&y&&c)&&(r=e);v=a(r);h.isFlashProvider()&&t.internalApi.addEventListener(n.events.core.FLASH_READY,function(){h.getProviderFlash().setOnInit({volume:r/e,muted:v})});f.setVolume(r);li(r);yt.showhidecontroller.addEventListener(di.HIDE_CONTROLER_BAR,w)}function fr(){var t=this.className.indexOf("soundOff")===-1,n=c;t||(n=ot!=null?ot:b,a(n)&&(n=b));f.setVolume(n);li(n);i.showhidecontroller.showhide()}function li(t){var i=a(t);i?u.setAttribute("aria-label",n.label.UNMUTE):u.setAttribute("aria-label",n.label.MUTE)}function ai(n){var t=er(n.relatedTarget);t||i.showhidecontroller.enableCloseTransition()}function er(t){return typeof t!="undefined"&&t!==null&&n.utils.dom.hasClass(t,"soundcursor")}function rt(n){var t=typeof n.which!="undefined"?n.which:n.keyCode,i=t===37,u=t===39;(i||u)&&(yi(),pi(),at(),i?(ht(),vi(or)):u&&(st(),vi(sr)),r.removeEventListener("keydown",rt))}function vi(n){var i=0,r=100;dt=t.timerManager.setInterval(function(){i+=r;i>=500&&(at(),n())},r)}function at(){t.timerManager.clearInterval(dt)}function or(){nt===null&&(nt=t.timerManager.setInterval(ht,75))}function sr(){tt===null&&(tt=t.timerManager.setInterval(st,75))}function hr(){yi();pi();at();r.removeEventListener("keydown",rt);r.addEventListener("keydown",rt)}function yi(){t.timerManager.clearInterval(nt);nt=null}function pi(){t.timerManager.clearInterval(tt);tt=null}var b=80,c=0,e=100,vt=5,f=this,h=t,ut=t.internalApi,yt=i,wi=n.utils.debugger.tabs.GUI,bi=n.events.media,pt=n.events.core,ki=n.events.ui,di=n.events.ui.intern,o=n.utils.dom.FindByClassName(h.container,"containerSoundControl"),k=oi,ft="",d=b,wt=0,g=n.utils.dom.FindByClassName(h.container,"soundprogress"),u=n.utils.dom.FindByClassName(h.container,"soundcontrol"),r=n.utils.dom.FindByClassName(h.container,"soundcursor"),l=n.utils.dom.FindByClassName(h.container,"soundBarTouchArea"),bt=n.utils.dom.FindByClassName(h.container,"containerProgressbar"),gi=new n.utils.Timer(25),kt=0,nt=null,tt=null,dt=null,gt=n.utils.browser.isIE()?"focusout":"blur",ni=n.utils.dom.FindByClassName(h.container,"radcanplayer"),it=!1,et=!1,ot=null,ti=1,ii=n.utils.dom.hasClass(ni,"audiomode25");n.utils.a11y.deactivate(u);n.utils.a11y.deactivate(r);r.setAttribute("aria-valuemin",c);r.setAttribute("aria-valuemax",e);ut.media().addEventListener(bi.META_LOADED,function(t){n.utils.browser.isMobile()?o.style.display="none":ur(t)});r.addEventListener("focus",function(){it&&(ui(),i.showhidecontroller.disableCloseTransition(),i.showhidecontroller.showhide(!1))});ut.addEventListener(pt.BEGIN,tr);ut.addEventListener(pt.COMPLETE,nr);u.addEventListener(gt,ai);r.addEventListener(gt,ai);r.addEventListener("keydown",rt);r.addEventListener("keyup",hr);f.setVolume=function(i){var u,f;n.utils.storage.save("volume",i);n.utils.storage.save("was_a_video_media_before",""+t.internalApi.media().metas.isVideo);u="soundHigh";i<50&&(u="soundLow");a(i)&&(u="soundOff");rr(u);r.style.width=i+"%";r.setAttribute("aria-valuenow",i);f="Volume "+i+"%";r.setAttribute("aria-valuetext",f);n.utils.browser.isChrome()&&r.setAttribute("aria-label",f);ot=d;d=i;yt.fireEvent(ki.VOLUME_CHANGED,i*ti/e)};f.getCurrentVolume=v;f.increaseVolume=st;f.decreaseVolume=ht;f.getCurrentVolumeInterval0to1=function(){return v()/e};f.setVolumeModifier=function(n){s("volume - modifier set to "+n);ti=n;f.setVolume(d)};ni.addEventListener("keydown",function(){it=!0;et=!1});u.addEventListener("click",function(){et=!0;it=!1});r.addEventListener("click",function(){et=!0;it=!1})}}(n),function(n){n.ui.component.Bitrate=function(t,i){function at(){ot.style.display="none"}function vt(){a==="video"&&(ot.style.display="block")}function c(n){w.log(n,ti)}function yt(n){c("bitrate - toggle Menu :"+n);o.className=n?o.className.replace(/ *hide\d?/g,"")+" show show"+l:o.className.replace(/( *show\d?|hide\d?)/g,"")+" hide0 hide"+l}function fi(){r.setAttribute("aria-expanded","true");yt(!0);li();ei();i.showhidecontroller.disableCloseTransition();i.showhidecontroller.showhide(!1)}function rt(){r.removeEventListener("click",kt);r.addEventListener("click",p,!0);r.addEventListener("keypress",p,!0)}function ei(){r.removeEventListener("click",p,!0);r.removeEventListener("keypress",p,!0);r.addEventListener("click",kt)}function y(t){r.setAttribute("aria-expanded","false");setTimeout(function(){yt(!1)},100);bt();rt();k.detectMouseNavigation(t)&&(n.utils.dom.blur(r),i.showhidecontroller.enableCloseTransition())}function oi(n){a=n.data.isVideo?"video":"audio";it=n.data.isFairPlay;n.data.isVideo?vt():at();ct=n.data.appCode}function si(){var i,o,r,t,s;for(c("_restoreUserBitrate"),i=n.utils.storage.load("bitrate|"+a+"|"),isNaN(i)&&(i=0),o=1e4,r=0,t=0;t<e.length;t++)if(e[t].data.bitrate==i){r=t;break}else o>Math.abs(e[t].data.bitrate-i)&&(o=Math.abs(e[t].data.bitrate-i),r=t);n.utils.browser.isMac_Chrome()&&r===e.length-1&&(c("patch bitrate for MAC CHROME"),r=0,u.addEventListener(f.BITRATE_CHANGED,pt));s=e[r];s&&ut.call(s,new n.CustomEvent("restoreUserBitrate"))}function pt(){u.removeEventListener(f.BITRATE_CHANGED,pt);var t=e[e.length-1];t&&ut.call(t,new n.CustomEvent("restoreUserBitrate"))}function hi(n){var t,i;if(it){tt.innerText="Auto";g();return}for(ai(),o.innerHTML="",vt(),h=n.data,l=h.length,o.className=o.className.replace(/qtElement(\d)/,"qtElement"+l),e=[],t=0;t<l;t++)h[t].index=l-t-2,i=wi(h[t]),e.push(i),o.appendChild(i);ni();si()}function ci(){vi();bt()}function li(){n.utils.a11y.activate(o);wt(function(){n.utils.a11y.activate(this)})}function wt(n){for(var r,i=o.childNodes,t=0;t<i.length;t++)r=i[t],n.call(r)}function bt(){n.utils.a11y.deactivate(o);wt(function(){n.utils.a11y.deactivate(this)})}function ai(){n.utils.a11y.activate(r)}function vi(){n.utils.a11y.deactivate(r)}function ut(i){c("bitrate - chosen");pi(this);var u=i.type==="restoreUserBitrate";d=!1;u||(k.detectMouseNavigation(i)||r.focus(),n.utils.storage.save("bitrate|"+a+"|",this.data.bitrate),d=!0);(!s||s.bitrate!==this.data.bitrate||u)&&b.fireEvent(ii.BITRATE_CHANGING,{bitrate:this.data.bitrate,index:this.data.index});this.data.bitrate!==0?s=this.data:ui=t.timerManager.setTimeout(et,1500);y(i)}function yi(){for(var i,t=0;t<e.length;t++)i=e[t],n.utils.dom.removeClass(i,"selected"),i.setAttribute("aria-checked","false")}function pi(t){yi();n.utils.dom.addClass(t,"selected");t.setAttribute("aria-checked","true")}function wi(t){var i=document.createElement("button");return i.addEventListener("click",ut),i.addEventListener(ri.KEY_DOWN,k.upDownArrowNavigation),i.addEventListener(lt,ki),i.innerText=t.lines,i.setAttribute("aria-label",t.ariaLabel),i.data=t,i.setAttribute("role","menuitemcheckbox"),i.setAttribute("aria-checked","false"),n.utils.dom.addClass(i,"keyboard-navigation"),n.utils.dom.addClass(i,"bitrate-option"),t.element=i,w.fireEvent(n.events.bitrate.OPTION_ADDED,{bitrate_button:i},{disableLogging:!0}),i}function kt(n){c("bitrate - close, type:"+n.type);y(n);i.showhidecontroller.showhide();n.stopPropagation&&n.stopPropagation();n.preventDefault()}function p(i){var f=typeof i.key!="undefined",e=typeof i.code!="undefined"&&i.code===13||typeof i.keyCode!="undefined"&&i.keyCode===13,u;(!f||e)&&(c("bitrate - open"),k.detectMouseNavigation(i)||(u=n.utils.dom.FindByClassName(t.container,"selected"),u.focus()),fi(i),n.utils.dom.removeClass(r,"a11y-focus"),i.stopPropagation&&i.stopPropagation(),i.preventDefault())}function bi(n){var t=dt(n.relatedTarget);t||(i.showhidecontroller.enableCloseTransition(),y(n),i.showhidecontroller.showhide())}function dt(t){return typeof t!="undefined"&&t!==null&&n.utils.dom.hasClass(t,"bitrate-option")}function ki(t){var r=dt(t.relatedTarget),u=di(t.relatedTarget),f=n.utils.browser.isSafari()&&typeof t.relatedTarget!="undefined"&&t.relatedTarget!==null&&n.utils.dom.hasClass(t.relatedTarget,"otherBitRates"),e=n.utils.browser.isSafari()&&t.relatedTarget===null;r||u||f||e||(i.showhidecontroller.enableCloseTransition(),y(t),i.showhidecontroller.showhide())}function di(t){return typeof t!="undefined"&&t!==null&&n.utils.dom.hasClass(t,"bitrate-button")}function gi(){st=!0}function nr(){st=!1}function ft(n){y(n)}function gt(n){for(var r,i,t=0;t<h.length;t++)if(r=h[t],r.bitrate===n.bitrate)return r;return i=h.length-n.index-2,i<0&&(i=0),h[i]}function et(){s&&(tt.innerText=s.lines)}function tr(t){c("_onBitrateChanged("+t.data.bitrate+")");s=gt(t.data);n.utils.dom.removeClass(r.childNodes[0],"wait");et();var i=Math.min(s.bitrate===0?3e3:s.bitrate,t.data.bitrate);n.utils.storage.save("bitrate_active_"+a+"|"+ct,i);n.utils.storage.save("last_bitrate_"+a,i)}function ir(t){c("_onBitrateChanging("+t.data.bitrate+")");s=gt(t.data);d&&n.utils.dom.addClass(r.childNodes[0],"wait");et()}function g(){ht=!0;n.utils.dom.addClass(r,"disable");n.utils.dom.removeClass(r,"wait");d=!1;tt.className="";r.removeEventListener("click",p,!0);b.showhidecontroller.removeEventListener(nt.HIDE_CONTROLER_BAR,ft)}function ni(){l<2||it||(ht=!1,n.utils.dom.removeClass(r,"disable"),rt(),b.showhidecontroller.addEventListener(nt.HIDE_CONTROLER_BAR,ft))}function rr(){ci()}function ur(){rt();r.addEventListener(lt,bi);u.addEventListener(f.AFTER_VALIDATIONMEDIA_REQUEST,hi);u.addEventListener(f.BITRATE_CHANGED,tr);u.addEventListener(f.BITRATE_CHANGING,ir);u.addEventListener(f.PAUSE,gi);u.addEventListener(f.PLAY,nr);b.showhidecontroller.addEventListener(nt.HIDE_CONTROLER_BAR,ft);u.addEventListener(f.AD_STARTED,g);u.addEventListener(f.AD_COMPLETE,ni);u.addEventListener(f.BEFORE_MEDIA_CHANGE,g);u.addEventListener(f.METAS_CHANGE,oi);u.addEventListener(f.COMPLETE,g);u.addEventListener(f.COMPLETE,rr)}var w=this,v=t,u=t.internalApi,b=i,ti=n.utils.debugger.tabs.GUI,f=n.events.core,ii=n.events.ui,nt=n.events.ui.intern,ri=n.events.nativeevents,h=[],e=[],l=0,ot=n.utils.dom.FindByClassName(v.container,"containerBitRate"),st=!1,ui=0,r=n.utils.dom.FindByClassName(v.container,"bitRate"),tt=r.firstChild,o=n.utils.dom.FindByClassName(v.container,"otherBitRates"),fr=n.utils.dom.FindByClassName(v.container,"bottomcontainer"),s={lines:"Auto",bitrate:0,width:"Auto",index:0},ht=!1,a="",it=!1,ct="",er=v.playerSettings.id+"_bitrate_options",lt=n.utils.browser.isIE()?"focusout":"blur",k=n.utils.a11y,d=!1;n.utils.extend(w,new n.events.EventRegistration("bitrate"));n.utils.extend(w,new n.utils.LogInstance("bitrate",t.index));n.utils.browser.isMobile()?at():ur()}}(n),function(n){n.ui.component.Thumbnail=function(t,i){function d(t){return n.utils.dom.FindByClassName(t,"preview")}function at(t){return n.utils.dom.FindByClassName(t,"previewTime")}function g(){clearTimeout(et);clearTimeout(ft)}function vt(){return r.style.display==="block"}function l(t){if(vt()||n.utils.browser.isFF())ot.call(this,t);else{var i=this;g();ft=setTimeout(function(){ot.call(i,t)},300)}}function o(){g();r.style.display="none"}function ot(t){var h=t.offsetX/this.offsetWidth,c=v.cursor.percentagePosition(t||window.event),l=n.utils.date.secToHoursMinSecOptional(c*rt),e=Math.min(Math.round(h*64),63),f=u*2,a=f*8-e%8*f+"px ",o=Math.round(f/16*9),y=o*8-Math.floor(e/8)*o+"px ",i;d(r).style.backgroundPosition=a+y;i=this.parentElement.offsetLeft+t.offsetX-u;r.style.display="block";var s=ut.getBoundingClientRect(),p=s.left+s.width,w=i<0,b=t.clientX+u>=p-5;w?i=0:b&&(i=ut.clientWidth-u*2);r.style.bottom=k?"70px":"";r.style.left=i+"px";at(r).innerText=l}function st(){g();et=setTimeout(o,300)}function yt(n){b=n.data.seekThumbnailsHRUrl;w=n.data.seekThumbnailsUrl;w&&b?(d(c).style.backgroundImage='url("'+w+'")',d(p).style.backgroundImage='url("'+b+'")',rt=n.data.duration,nt(),kt()):(tt(),ct())}function nt(){tt();h.addEventListener(s.ONMOUSEOVER,l);h.addEventListener(s.ONMOUSEOUT,st);h.addEventListener(s.ONMOUSEMOVE,l)}function tt(){h.removeEventListener(s.ONMOUSEOVER,l);h.removeEventListener(s.ONMOUSEOUT,st);h.removeEventListener(s.ONMOUSEMOVE,l)}function ht(){o();tt()}function pt(){o();r=p;u=160;typeof screen!="undefined"&&typeof screen.width!="undefined"&&screen.width!==null&&!isNaN(screen.width)&&screen.width<1e3&&(r=c,u=80);k=!0}function wt(){o();r=c;u=80;k=!1}function bt(){o()}function ct(){f.removeEventListener(e.AD_STARTED,ht);f.removeEventListener(e.AD_COMPLETE,nt)}function kt(){ct();f.addEventListener(e.AD_STARTED,ht);f.addEventListener(e.AD_COMPLETE,nt)}function dt(){f.addEventListener(e.METAS_CHANGE,yt);f.addEventListener(e.ENTER_FULLSCREEN,pt);f.addEventListener(e.EXIT_FULLSCREEN,wt);v.showhidecontroller.addEventListener(lt.HIDE_CONTROLER_BAR,bt);u=80;r=c;o(c);o(p)}var it=this,a=t,f=a.internalApi,gt=n.utils.debugger.tabs.GUI,e=n.events.core,v=i,s=n.events.nativeevents,y=n.utils,lt=n.events.ui.intern,rt=0,h=v.progressbar.getSeekbar(),r,c=n.utils.dom.FindByClassName(a.container,"plancheContact"),p=n.utils.dom.FindByClassName(a.container,"plancheContactHR"),ut=n.utils.dom.FindByClassName(t.container,"radcanplayer"),u=80,w,b,ft=0,et=0,k=!1;y.extend(it,new n.events.EventRegistration("thumbnail"));y.extend(it,new y.LogInstance("thumbnail",t.index));dt()}}(n),function(n){n.ui.component.MouseCursor=function(t,i){function a(){u=!0}function v(){u=!1}function y(){u&&(p(),f=!1)}function p(){r.container.getElem().style.cursor="none"}function w(){f||(b(),f=!0)}function b(){r.container.getElem().style.cursor="default"}function k(){n.utils.browser.isMobile()||(s.addEventListener(h.ENTER_FULLSCREEN,a),s.addEventListener(h.EXIT_FULLSCREEN,v),r.showhidecontroller.addEventListener(c.HIDE_CONTROLER_BAR,y),r.showhidecontroller.addEventListener(c.SHOW_CONTROLER_BAR,w))}var o=this,l=t,s=l.internalApi,h=n.events.core,c=n.events.ui.intern,u=!1,f=!0,r=i,e=n.utils;e.extend(o,new n.events.EventRegistration("mouseCursor"));e.extend(o,new e.LogInstance("mouseCursor",t.index));k()}}(n),function(n){n.ui.component.ResumePanel=function(t,i){function v(n){f.a11y.toggleA11yFocus(n.target,n)}function g(n){for(var t=0;t<n.length;t++)n[t].addEventListener("focus",v),n[t].addEventListener(d,v)}function nt(t){o=t.data.time;a=t.data.mouseNavigation;et();it();a||(r.focus(),n.utils.dom.addClass(r,"a11y-focus"),f.a11y.deactivate(r),setTimeout(function(){r.focus()},100))}function y(t,i){n.utils.dom.removeClass(e,t);n.utils.dom.addClass(e,i)}function c(){y("visible","hidden")}function it(){y("hidden","visible")}function rt(){c();h.addEventListener(n.events.nativeevents.CLICK,ut);r.addEventListener(n.events.nativeevents.CLICK,ft)}function ut(){o=0;p(0)}function ft(){p(o)}function p(n){c();b.fireEvent(k.RESUME_CHOOSEN,n)}function et(){var t=u.media().metas;n.utils.dom.setAttributes(h,{"aria-label":t.resume_reprendre_button_accessibility_description_text,title:t.resume_reprendre_button_accessibility_description_text});n.utils.dom.setAttributes(r,{"aria-label":t.resume_poursuivre_button_accessibility_description_text,title:t.resume_poursuivre_button_accessibility_description_text})}var l=this,w=t,u=t.internalApi,b=i,ot=n.utils.debugger.tabs.GUI,k=n.events.ui,s=n.events.core,f=n.utils,e=n.utils.dom.FindByClassName(w.container,"panel-resume-container"),h=n.utils.dom.FindByClassName(e,"btn-reprendre"),r=n.utils.dom.FindByClassName(e,"btn-poursuivre"),d=n.utils.browser.isIE()?"focusout":"blur",o=0,a=!0;f.extend(l,new n.events.EventRegistration("resumePanel"));f.extend(l,new f.LogInstance("resume",t.index));u.addEventListener(s.RESUME,nt);u.addEventListener(s.BEFORE_MEDIA_CHANGE,c);g([h,r]);rt()}}(n),function(n){n.ui.component.TheaterMode=function(t,i){function p(t){n.utils.log(t,"theater")}function w(n){o();e=!!n.btnTheaterMode;p("btnTheater="+e);h();s()}function b(n){n.data.name==="btnTheaterMode"&&(e=n.data.value,e?c():o())}function h(){e&&c()}function o(){r.style.display="none"}function c(){r.style.display="block"}function l(t){n.utils.dom.setAttributes(r,{"aria-label":t,title:t})}function k(){l(n.label.THEATER_MODE_OUT);n.utils.dom.removeClass(r,"btn-theater-mode-big");n.utils.dom.addClass(r,"btn-theater-mode-small")}function d(){l(n.label.THEATER_MODE_IN);n.utils.dom.removeClass(r,"btn-theater-mode-small");n.utils.dom.addClass(r,"btn-theater-mode-big")}function s(){u?k():d()}function g(){u=!u;s()}function nt(){g();i.fireEvent(y.THEATER_MODE,{theaterMode:u})}var a=this,f=t,r=n.utils.dom.FindByClassName(f.container,"btn-theater-mode"),v=n.events.nativeevents,y=n.events.ui,u=!1,e=!1;Object.defineProperty(a,"state",{get:function(){return u},set:function(n){u=n;s()}});f.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,b);f.internalApi.addEventListener(n.events.core.ENTER_FULLSCREEN,o);f.internalApi.addEventListener(n.events.core.EXIT_FULLSCREEN,h);r.addEventListener(v.CLICK,nt);w(f.playerSettings)}}(n),function(n){n.ui.component.Shortcuts=function(t,i){function ct(){var n=document.activeElement.localName;return["input","textarea"].indexOf(n)!==-1}function lt(n){n.ctrlKey||(n.preventDefault(),n.keyCode===38&&i.volume.increaseVolume(),n.keyCode===40&&i.volume.decreaseVolume())}function at(n){n.ctrlKey||v||r.isLive()||(n.preventDefault(),i.progressbar.keyboardSeek(n),i.showhidecontroller.showhide())}function s(t,i){if(!t.ctrlKey){t.preventDefault();var r=n.utils.dom.FindByClassName(u.container,i);r&&r.click();f.removeClass(r,"a11y-focus")}}function b(){h.log("Open help");o=document.activeElement;tt.style.display="flex"}function rt(){if(h.log("Close help"),tt.style.display="none",o&&o.nodeName==="BODY"){var n=et.getElementFirstFocusableElement(o);n.focus()}else o&&o.focus()}function vt(n){s(n,"fullscreenenter")}function yt(){k();a=!0}function pt(){d();a=!1}function wt(){v=!0}function bt(){v=!1}function k(){n.utils.a11y.deactivate(c);c.removeEventListener(l.CLICK,b);w=!1}function d(){n.utils.a11y.activate(c);c.addEventListener(l.CLICK,b);w=!0}function kt(){st||ot||f.hasClass(e,"entre400et280")||f.hasClass(e,"moins280")?k():d()}function dt(){pt();rt()}function ut(){p=!1}function ft(){y=!0;p=!0}var h=this,u=t,l=n.events.nativeevents,r=u.internalApi,g=n.utils,f=n.utils.dom,et=n.utils.a11y,e=f.FindByClassName(u.container,"radcanplayer"),c=f.FindByClassName(u.container,"shortcuts-help-btn"),ot=n.utils.browser.isAndroid(),st=n.utils.browser.isIOS(),nt=i,a=!1,v=!1,y=!1,p=!1,tt=n.utils.dom.FindByClassName(u.container,"shortcutsHelp"),gt=n.utils.dom.FindByClassName(u.container,"infopanel"),w=!0,o,it,ht;return g.extend(h,new g.LogInstance("Shortcuts",t.index)),it={button:"shortcuts-help-btn",panel:"shortcutsHelp",panelAction:b,settingsName:"infoBar"},ht=new n.ui.component.GenericBar(t,i,it),h.manageKeydown=function(n){if(!ct()&&!a)switch(n.keyCode){case 27:f.isFullscreen()||rt();break;case 32:p&&n.target.tagName!=="BUTTON"&&s(n,"playbutton");break;case 75:s(n,"playbutton");break;case 77:s(n,"soundcontrol");break;case 67:s(n,"soustitrebutton");break;case 70:r.isAudio()||s(n,"fullscreenenter");break;case 76:case 74:at(n);break;case 38:case 40:y&&lt(n);break;case 89:n.keyCode===89&&n.ctrlKey===!0&&w&&!r.isAudio()&&c.click()}},e.addEventListener(l.DBCLICK,vt),nt.addEventListener(n.events.ui.INFO_BAR_SHOWN,yt),nt.addEventListener(n.events.ui.INFO_BAR_HIDDEN,dt),r.addEventListener(n.events.core.AD_STARTED,wt),r.addEventListener(n.events.core.AD_COMPLETE,bt),r.addEventListener(n.events.core.REDUCE_PLAYER,k),r.addEventListener(n.events.core.EMBED_PLAYER,d),r.addEventListener(n.events.core.END,ut),r.addEventListener(n.events.core.DISPOSE,ut),e.addEventListener("focusin",ft),e.addEventListener(l.CLICK,ft),e.addEventListener("focusout",function(){y=!1}),kt(),h}}(n),function(n){n.ui.component.GenericBar=function(t,i,r){function yt(){var t;switch(r.panel){case"shortcutsHelp":t=rt.CLOSE_HELP;break;case"sharepanel":t=rt.CLOSE_SHARE;break;case"textinfobar":default:t=rt.CLOSE_INFO}n.utils.a11y.modifyLabel(s,t)}function et(t){for(var r=pt(),i=0;i<r.length;i++)t==="deactivate"?n.utils.a11y.deactivate(r[i]):n.utils.a11y.activate(r[i]);t==="deactivate"?(n.utils.a11y.deactivate(g),w(g,"hide")):(n.utils.a11y.activate(g),b(g,"hide"))}function pt(){return n.utils.dom.FindByClassName(o.container,"videocontainer").querySelectorAll("button,.soundcursor,.progressbar")}function wt(){v("showInfoBar");at=!0;d.style.zIndex="600";h.master.iAmMaster();nt=!0;i.fireEvent(n.events.ui.INFO_BAR_SHOWN,null,{async:!1})}function ot(){v("hideInfoBar");u.hidePanel();u.hideCloseButton();d.style.zIndex=-1;h.master.iAmNoLongerMaster();nt=!1;i.fireEvent(n.events.ui.INFO_BAR_HIDDEN,null,{async:!1})}function k(i){it=n.utils.a11y.detectMouseNavigation(i);tt||(tt=!0,typeof i!="undefined"&&i.preventDefault(),t.timerManager.setTimeout(function(){tt=!1},600),vt===!1&&u.showInfoBar())}function bt(){o.playerSettings[r.settingsName]===!1?(f.style.display="none",c=!0):c=!1}function kt(){f.style.display=c===!1?"block":"none"}function dt(n){v("_onPlaying");n.data&&ot()}function gt(n){c=typeof n.data.params[r.settingsName]!="undefined"?!n.data.params[r.settingsName]:!t.playerSettings[r.settingsName];r.settingsName==="share"&&n.data.appCode!=="medianet"&&(c=!0)}function ni(){e.addEventListener(l.POSTER,st)}function st(){v("show info bar on teaser");e.removeEventListener(l.POSTER,st);n.utils.dom.removeClass(ct,"radcantransition hidestatetop");c||(f.style.display="block")}function v(t){u.log(t,n.utils.debugger.tabs.GUI,n.utils.color.GREEN)}function ht(n){p.a11y.toggleA11yFocus(n.target,n)}function ti(){f.style.display="none";u.hideInfoBar()}var u=this,o=t,e=o.internalApi,l=n.events.core,ft=n.events.ui.intern,f=n.utils.dom.FindByClassName(o.container,r.button),y=n.utils.dom.FindByClassName(o.container,r.panel),ct=n.utils.dom.FindByClassName(o.container,"innercontainer"),d=n.utils.dom.FindByClassName(o.container,"infopanel"),s=n.utils.dom.FindByClassName(d,"closebutton"),ii=n.utils.dom.FindByClassName(o.container,"infobutton"),lt=n.utils.browser.isIE()?"focusout":"blur",g=n.utils.dom.FindByClassName(o.container,"btnPlayContainer"),h=i,c=!1,at=!1,tt=!1,nt=!1,it=!0,rt=n.language[n.params.lang.toUpperCase()],p,a;if(!d)throw"ui:infobar: 'infopanel' not found";p=n.utils;a=n.events.nativeevents;p.extend(u,new n.events.EventRegistration("InfoBar"));p.extend(u,new p.LogInstance("InfoBar"));var w=n.utils.dom.addClass,b=n.utils.dom.removeClass,vt=!1,ut=!1;Object.defineProperty(u,"infoPanel",{get:function(){return y}});Object.defineProperty(u,"infoButton",{get:function(){return f}});u.hideTransition=function(){};f.addEventListener(a.CLICK,k);f.addEventListener(a.TOUCH_START,k);u.showInfoBar=function(){nt||(wt(),u.showPanel(),r.panelAction.apply(u),u.showCloseButton(),ut=!1,e.media().isPlaying()&&(ut=!0,e.pause({paused_from_ui_bar_generic_showInfoBar_action:!0})))};u.hideInfoBar=function(){nt&&(ot(),h.bigPlay&&n.utils.browser.isMobile()&&h.bigPlay.showButton(),h.showhidecontroller&&h.showhidecontroller.showhide(),ut&&!e.media().isPlaying()&&e.play({play_from_ui_bar_generic_showInfoBar_action:!0}))};u.showPanel=function(){et("deactivate");b(y,"hidden");w(y,"radcantransition visible")};u.hidePanel=function(){et("activate");b(y,"radcantransition visible");w(y,"hidden")};u.showCloseButton=function(){b(s,"hidden");w(s,"visible");yt();it||(s.focus(),n.utils.dom.addClass(s,"a11y-focus"))};u.hideCloseButton=function(){b(s,"visible");w(s,"hidden");it||(f.focus(),n.utils.dom.removeClass(s,"a11y-focus"))};o.playerSettings.addEventListener(n.events.states.SETTINGS_CHANGE,function(n){n.data.name===r.settingsName&&(n.data.value===!1?(f.style.display="none",c=!0):(f.style.display="block",c=!1))});e.addEventListener(l.BEFORE_MEDIA_CHANGE,gt,r.settingsName);e.addEventListener(l.PLAY,kt,r.settingsName);e.addEventListener(l.PLAYING,dt,r.settingsName);e.addEventListener(l.AD_STARTED,ti,r.settingsName);e.addEventListener(l.END,ni);s.addEventListener("focus",ht);s.addEventListener(lt,ht);h.hub.registerHideTransition(u);h.closeButton.addEventListener(n.events.ui.intern.CLOSE_INFO,u.hideInfoBar);h.showhidecontroller.addEventListener(ft.HIDE_CONTROLER_BAR,function(){v("InfoBar hideTransition");f.removeEventListener(a.TOUCH_START,k)});h.showhidecontroller.addEventListener(ft.SHOW_CONTROLER_BAR,function(){v("InfoBar SHOW Transition");f.addEventListener(a.TOUCH_START,k);f.removeEventListener(a.TOUCH_START,k)});bt()}}(n),function(n){var i="https://www.facebook.com/dialog/share",r="1730546673895762",u="https://twitter.com/intent/tweet?original_referer=",f="https://plus.google.com/share?url=",e="https://www.linkedin.com/shareArticle?mini=true&url=",o="//{{#def.prefix}}api.radio-canada.ca/partage/v2/Email?url={{#def.refferedUrl}}&title={{#def.title}}&message={{#def.message}}&media=true",t="https://services.radio-canada.ca/media/player/client/pp/?pji=";n.ui.component.Share=function(s,h){var v=s.playerSettings,c=this,p=n.utils,ot=n.utils.browser.isIE()?"focusout":"blur",st=function(){this.log("show share panel")},ht={button:"partagebutton",panel:"sharepanel",panelAction:st,settingsName:"share"},y,et;if(h)var l=new n.ui.component.GenericBar(s,h,ht),ct=n.utils.dom.FindByClassName(l.infoPanel,"facebook"),lt=n.utils.dom.FindByClassName(l.infoPanel,"twitter"),at=n.utils.dom.FindByClassName(l.infoPanel,"googleplus"),vt=n.utils.dom.FindByClassName(l.infoPanel,"linkedin"),yt=n.utils.dom.FindByClassName(l.infoPanel,"email"),pt=n.utils.dom.FindByClassName(l.infoPanel,"embeded");c.getMediaTitle=function(){return s.internalApi.currentMedia.metas.title};var w=function(n){p.a11y.toggleA11yFocus(n.target,n)},wt=function(n){var t=0;for(t;t<n.length;t++)n[t].addEventListener("focus",w),n[t].addEventListener(ot,w)},b=function(){return s.internalApi.currentMedia.idMedia},k=function(){return s.internalApi.currentMedia.appCode},bt=function(){return s.internalApi.currentMedia.metas.posterUrl},kt=function(){return s.playerSettings},d=function(n,t){s.internalApi.share({url:t,site:n})},g=function(){return document.location.href.split("?")[0].split("/").pop()},nt=function(t,i,r){var u=null;return u=typeof v.shareURL=="function"?v.shareURL(t,i,r):n.utils.doT.template(v.pageShare,null,{idMedia:i,appCode:t,urlDesc:g()})(),console.log("_urlDesc="+g()),console.log("_urlDesc url="+u),u};c.getRefererURL=function(n){var i=k(),r=b(),u=s.internalApi.media().getProvider().currentTime,t=nt(i,r,u);return d(n,t),encodeURIComponent(t)};var a=function(n,t,i,r,u,f,e){var o=t.replace("@@url@@",f);return o=e||navigator.appVersion.indexOf("MSIE")!==-1?o.replace("@@titre@@",escape(u)):o.replace("@@titre@@",u),window.open(o,"","toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,history=no,resizable=yes,width="+i+",height="+r)},tt=function(){var n=i+"?app_id="+r+"&display=popup&href=";n+=c.getRefererURL("facebook");a("name",n,640,653,"Title")},it=function(){var t=c.getMediaTitle().replace(" ","+"),n=c.getRefererURL("twitter"),i=u+n+"&text="+t+"&tw_p=tweetbutton&url="+n;a("name",i,640,321,"Title")},rt=function(){var n=f+c.getRefererURL("googleplus");a("name",n,532,682,"Title")},ut=function(){var n=e+c.getRefererURL("linkedin"),t=c.getMediaTitle().replace(" ","+");n+="&title="+t;a("name",n,553,471,"Title")},ft=function(){var r=encodeURIComponent(c.getMediaTitle()),t="",i;switch(n.environnement){case"lcl-":case"dev-":default:t=""}i=n.utils.doT.template(o,null,{refferedUrl:c.getRefererURL("email"),title:r,prefix:t,message:""})();a("name",i,532,682,"Title")};c.script=function(){var i=t,n=kt(),r={appCode:k(),idMedia:b(),params:{autoPlay:n.autoPlay,width:n.width,height:n.height,teaser:bt(),lang:n.lang,canExtract:n.canExtract,canFullScreen:n.canFullScreen,share:n.share,controlBar:n.controlBar,uiColor:n.uiColor}};return i+JSON.stringify(r).replace(/,/g,", ")};y=function(){var t="",i;switch(n.environnement){case"lcl-":t="//lcl-playerjs.radio-canada.ca";break;case"dev-":t="//static.src.dev";break;default:t="//static.src.ca"}t+="/ressources/html/embed.html";i=c.script();d("embed",i);t+="?text="+encodeURIComponent(i);a("embed",t,552,320,"Script to insert")};et=function(n){c.getRefererURL=function(){var i,t;return n.data.isTime&&(i=n.data.time),t=nt(n.data.appCode,n.data.idMedia),encodeURIComponent(t)};c.getMediaTitle=function(){return n.data.title};c.script=function(){var i=t,r={appCode:n.data.appCode,idMedia:n.data.idMedia,params:n.data.params};return i+JSON.stringify(r).replace(/,/g,", ")};switch(n.data.site){case"facebook":tt();break;case"twitter":it();break;case"email":ft();break;case"linkedin":ut();break;case"googleplus":rt();break;case"embed":y()}};h?(ct.addEventListener("click",tt),lt.addEventListener("click",it),at.addEventListener("click",rt),vt.addEventListener("click",ut),yt.addEventListener("click",ft),pt.addEventListener("click",y),wt(p.dom.FindAllByClassName(l.infoPanel,"shareIcon"))):s.addEventListener(n.events.flash.SHARE,et)}}(n),function(n){n.ui.component.Description=function(t,i){var f=this,r=function(){this.log("showText");var i=t.internalApi.getInfo();i.title&&(n.utils.dom.FindByClassName(this.infoPanel,"title").innerHTML=i.title.length>105?i.title.substring(0,105)+" ...":i.title);i.description&&(n.utils.dom.FindByClassName(this.infoPanel,"subtitle").innerHTML=i.description.length>1024?i.description.substring(0,1024)+" ...":i.description)},u={button:"infobutton",panel:"textinfobar",panelAction:r,settingsName:"infoBar"},e=new n.ui.component.GenericBar(t,i,u)}}(n),function(n){n.ui.component.DebugPanel=function(t){function a(){}function o(t){n.utils.dom.removeClass(i,t)}function s(t){n.utils.dom.addClass(i,t)}function h(){o("visibledebug");s("hiddendebug")}function v(){o("hiddendebug");s("visibledebug");var n=r.playerSettings;i.innerHTML="DEV - "+n.version}var f=this,r=t,c=r.internalApi,y=n.utils.debugger.tabs.GUI,l=n.events.core,p=n.events.ui.intern,i=n.utils.dom.FindByClassName(r.container,"debugpanel"),w=n.utils.dom.FindByClassName(r.container,"radcanplayer"),e=n.events.nativeevents,u=n.utils;u.extend(f,new n.events.EventRegistration);u.extend(f,new u.LogInstance("debugPanel",t.index));i.addEventListener(e.CLICK,h);i.addEventListener(e.TOUCH_START,h);c.addEventListener(l.MEDIA_CHANGED,a);v()}}(n),function(n){n.ima={};n.ima.ImaInit=function(t,i,r,u,f,e){function o(){this.log("ima:_desactiveAds","ima");this.application&&this.application.destroyAdsManager();this._adContainer.video.innerHTML=""}function s(t){this.log("ima:_initApplication","ima");google.ima.settings.setLocale(this._lang);var i=!this.lastMediaWasAVideo&&this._media.isVideo();if(typeof this.application=="undefined"||i&&n.utils.browser.isIOS()){this.application=new n.ima.Application(this,this.adsUrl,this._adContainer,this._provider,this._playerContainer,u,this.log,this.instance);this.application.onClick_(new n.CustomEvent("custom play"),t.element)}else this.application.videoPlayer_.changeVideoContent(t),this.application.ads_.adsManager_!==null&&this.application.ads_.adsManager_.destroy(),this.application.ads_.adsLoader_.contentComplete(),this.application.adTagUrl_=this.adsUrl,this.application.ads_.initialUserAction(),this.application.loadAds_(),this.application.ads_.initAdsManager()}function h(){this._firstTime&&n.utils.browser.isAndroid()&&(this._firstTime=!1,this.application.ads_.adDisplayContainer_.initialize())}function c(n,t){return function(){t.apply(n,arguments)}}this.instance=e;this._coreEvents=n.events.core;this._core=t();this.ui=u;this._btnPlay=u.btnPlay.getElem();this._bigBtnPlay=u.bigPlay.getElem();this._btnFullscreen=u.fullscreen.getElem();this._adContainer=r;this._lang=f;this._media=i;this._adStates=i.adStates;this._provider=null;this._playerContainer=u.container;this.allAdsComplete=!1;this.log=new n.utils.LogInstance("ima",e.index).log.bind(this);this._touchHandler=c(this,h);this.adsActive=!1;this.isResumedAfterAd=!1;this.lastMediaWasAVideo=!1;this.adPodInfo=null;this.onReady=function(t,i){if(this._provider=t,this._handler=i,this._adDurationInBlock=[],this.allAdsComplete=!1,this.adsUrl=this._core.getAdsUrl(),this.isImaActive=!1,this.adsUrl!=null)if(typeof google=="undefined"||typeof google.ima=="undefined")this._modeAntiAdBlock?this._core.adBlockError():n.adsStatus=6;else try{s.apply(this,[t]);n.utils.browser.isMobile()&&document.addEventListener("touchstart",this._touchHandler);this.isImaActive=!0}catch(r){this.log("ima:an error during initialisation occured: "+r.message,"ima","red");n.adsStatus=7}return this.isImaActive};this.isModeResume=function(){return this._core.isModeResume};this.reset=function(){this.log("ima:reset","ima");o.call(this);document.removeEventListener("touchstart",this._touchHandler);n.adsStatus=9};this.resumeAfterAd=function(){this.log("ima:resumeAfterAd state:"+this._media.mediaStates.currentState,"ima");this.isResumedAfterAd=!1;this._core.lastAdCompleteData=this._adDurationInBlock;this._adStates.complete();this._provider.clearAfterAds();this._provider.bindHtmlEvents(this._provider.element,!0);this.log("ima:resumeAfterAd complete","ima")};this.pauseForAd=function(){this.log("ima:pauseForAd","ima");this.isResumedAfterAd=!0;this._provider.bindHtmlEvents(this._provider.element,!1);this._adStates.start()};this.loadAds=function(){this.log("ima:loadAds","ima");this._adStates.create("init ads");this.isResumedAfterAd=!0};this.loadedAds=function(){this.log("ima:loadedAds","ima");this._adStates.ready("ready to play ads")};this.paused=function(){this.log("ima:paused","ima");this._adStates.pause();this._core.fireEvent(n.events.core.AD_PAUSE)};this.pause=function(){this.application.ads_.pause()};this.play=function(){this.application.ads_.resume()};this.resumed=function(){this.log("ima:resumed","ima");this._adStates.play();this._core.fireEvent(n.events.core.AD_PLAY)};this.started=function(t,i){this.log("ima:playingAds","ima");this._adStates.play("playing ads");i&&this._adDurationInBlock.push(i.getRemainingTime());var r=t.getAd();this._core.fireEvent(n.events.core.SINGLE_AD_STARTED,{ima_ad_pod_index:r.getAdPodInfo().getPodIndex(),ima_ad_position:r.getAdPodInfo().getAdPosition(),ima_ad_title:r.getTitle(),ima_ad_creativeAdId:r.getCreativeId(),ima_ad_duration:r.getDuration()},{disableLogging:!0});this._core.fireEvent(n.events.core.AD_PLAY)};this.currentTimeChange=function(t,i){if(i&&i.getRemainingTime()>=0){this._core.fireEvent(n.events.core.AD_PLAYING,i.getRemainingTime());var f=i.getRemainingTime(),r=t.getAd().getAdPodInfo().getAdPosition(),u=t.getAd().getAdPodInfo().getTotalAds(),o=isNaN(r)||r<1||isNaN(u)||u<1,e={nbPosition:r,nbTotal:u,nbCounter:f};this._core.fireEvent(n.events.core.AD_REMAINING_TIME_LABEL_CHANGE,e,{disableLogging:!0})}};u.addEventListener(n.events.ui.VOLUME_CHANGED,this,function(n){this.application&&this.application.ads_.adsManager_&&this.application.ads_.adsManager_.setVolume(n.data)});this._core.addEventListener(n.events.core.BEFORE_MEDIA_CHANGE,this,function(){this.lastMediaWasAVideo=this._media.isVideo()})}}(n),function(n){n.ima.Ads=function(n,t,i,r){this.application_=n;this.videoPlayer_=t;this.customClickDiv_=i;this.contentCompleteCalled_=!1;this.errorCode=0;this.ui=r;google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);this.adDisplayContainer_=new google.ima.AdDisplayContainer(this.videoPlayer_.adContainer.video,this.videoPlayer_.contentPlayer,this.customClickDiv_.text);this.adsLoader_=new google.ima.AdsLoader(this.adDisplayContainer_);this.adsLoader_.getSettings().setDisableFlashAds(!0);this.adsManager_=null;this.adsLoader_.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded_,!1,this);this.adsLoader_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError_,!1,this);this.currentTime=0;this.timeoutAdFailed=0};var t=n.ima.Ads;t.prototype.updateCurrentTime=function(){this.videoPlayer_.contentPlayer.seeking||(this.currentTime=this.videoPlayer_.contentPlayer.currentTime)};t.prototype.initialUserAction=function(){this.application_.log("initialUserAction","ima");this.initializeAdDisplayContainer();this.videoPlayer_.contentPlayer.load()};t.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer_.initialize();this.application_.log("initialize ad display container","ima")};t.prototype.requestAds=function(n){var t=new google.ima.AdsRequest;t.adTagUrl=n;t.linearAdSlotWidth=this.videoPlayer_.width;t.linearAdSlotHeight=this.videoPlayer_.height;t.nonLinearAdSlotWidth=this.videoPlayer_.width;t.nonLinearAdSlotHeight=this.videoPlayer_.height;this.adsLoader_.requestAds(t)};t.prototype.pause=function(){this.adsManager_&&(this.application_.log("Ads ad.pause()","ima"),this.adsManager_.pause())};t.prototype.resume=function(){this.adsManager_&&(this.application_.log("Ads ad.resume()","ima"),this.adsManager_.resume())};t.prototype.resize=function(n,t){this.adsManager_&&this.adsManager_.resize(n,t,google.ima.ViewMode.FULLSCREEN)};t.prototype.contentEnded=function(){this.application_.log("Ads contentEnded.","ima");this.contentCompleteCalled_=!0;this.adsLoader_.contentComplete()};t.prototype.onAdsManagerLoaded_=function(n){this.application_.log("Ads loaded.","ima");var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0;t.bitrate=this.getAdsBitrate();this.adsManager_=n.getAdsManager(this.videoPlayer_.contentPlayer,t);this.adsManager_.setVolume(this.ui.volume.getCurrentVolumeInterval0to1());this.application_.provider.volume=this.ui.volume.getCurrentVolumeInterval0to1();this.processAdsManager_();this.application_.loadedAds()};t.prototype.getAdsBitrate=function(){var t=n.utils.storage.load("last_bitrate_video"),i=-1;return t===null||isNaN(t)||t===0||(i=t),i!==-1&&(i+=200),i};t.prototype.processAdsManager_=function(){var n,t;this.adsManager_.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested_,!1,this);this.adsManager_.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested_,!1,this);this.adsManager_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError_,!1,this);n=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.LOG];for(t in n)this.adsManager_.addEventListener(n[t],this.onAdEvent_,!1,this);this.initAdsManager()};t.prototype.initAdsManager=function(){if(this.adsManager_!==null){var n,t;this.application_.fullscreen?(n=this.application_.fullscreenWidth,t=this.application_.fullscreenHeight):(n=this.videoPlayer_.width,t=this.videoPlayer_.height);this.adsManager_.init(n,t,google.ima.ViewMode.NORMAL);this.adsManager_.start();this.application_.log("Init ads manager","ima")}};t.prototype.onContentPauseRequested_=function(t){this.application_.log("core state : "+this.application_.parent._core.state.currentState,"ima");this.application_.log("media state : "+this.application_.parent._media.mediaStates.currentState,"ima");var i=this.application_.parent._media.mediaStates.currentState===n.states.state.MEDIA_BEGIN;this.application_.parent.adPodInfo=t.getAd().getAdPodInfo();!i&&n.utils.browser.isMobile()?this.adsManager_.discardAdBreak():(this.application_.pauseForAd(),this.application_.setVideoEndedCallbackEnabled(!1))};t.prototype.onContentResumeRequested_=function(){this.application_.log("Ad event : "+google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,"ima");this.application_.setVideoEndedCallbackEnabled(!0);this.contentCompleteCalled_||this.application_.resumeAfterAd()};t.prototype.onAdEvent_=function(t){function y(n){var t=n.getMediaUrl(),r=t!==null&&t.indexOf("medias-p.")===-1;r&&(i.application_.log("This ad is known to be too loud, we need to apply a volume modifier to compensate.","ima"),i.ui.volume.setVolumeModifier(.45))}function v(){s();this.timerInterval_=i.application_.instance.timerManager.setInterval(function(){i.application_.parent.currentTimeChange(t,i.adsManager_)},1e3)}function s(){typeof this.timerInterval_!="undefined"&&i.application_.instance.timerManager.clearInterval(this.timerInterval_)}function p(n){s();var t=n.getAd().getAdPodInfo().getAdPosition(),r=n.getAd().getAdPodInfo().getTotalAds();this.application_.log("adsPosition: "+t+" ,totalAds:"+r,"ima");t===r&&i.application_.parent.isResumedAfterAd&&(i.application_.log("block ad completed : resumeAfterAd","ima"),i.application_.parent.resumeAfterAd())}var i,h,f,e,o,r,a;this.application_.log("Ad event: "+t.type,"ima");i=this;switch(t.type){case google.ima.AdEvent.Type.CLICK:this.application_.adClicked();break;case google.ima.AdEvent.Type.LOADED:h=t.getAd();h.isLinear()?(clearTimeout(this.timeoutAdFailed),this.timeoutAdFailed=setTimeout(function(){i.adsManager_&&(i.application_.log("timeoutAdFailed: discardAdBreak","ima"),i.adsManager_.discardAdBreak());i.application_.log("timeoutAdFailed: resumeAfterAd","ima");i.application_.parent.resumeAfterAd()},5e3),this.application_.parent._core.fireEvent(n.events.core.SINGLE_AD_LOADED,{disableLogging:!0})):this.onContentResumeRequested_();break;case google.ima.AdEvent.Type.STARTED:clearTimeout(this.timeoutAdFailed);var u="",c=this.adsManager_.getCurrentAd().g.apiFramework,l=!!c&&c.indexOf("VPAID")!==-1&&n.utils.browser.isSafariVersion(11);l&&(u+="Skip VPAD ads for Safari 11. ");f=i.application_.parent.isModeResume()&&this.adsManager_.getCurrentAd().g.adPodInfo.podIndex===0;f&&(u+="Skip  ads in resume mode. ");e=i.application_.parent.allAdsComplete;e&&(u+="Stop showing ads after allAdsComplete is fired. ");l||f||e?(this.application_.log(u,"ima"),this.adsManager_.discardAdBreak()):(this.application_.parent.started(t,this.adsManager_),v(),y(t.getAd()));break;case google.ima.AdEvent.Type.RESUMED:v();i.application_.parent.resumed();break;case google.ima.AdEvent.Type.PAUSED:i.application_.parent.paused();s();break;case google.ima.AdEvent.Type.COMPLETE:this.resetVolumeModifier();p.call(i,t);this.application_.parent._core.fireEvent(n.events.core.SINGLE_AD_COMPLETE);break;case google.ima.AdEvent.Type.LOG:o=t.getAdData();o.adError&&(r=o.adError,a={message:r.getMessage(),errorCode:r.getErrorCode(),innerError:r.getInnerError(),type:r.getType(),vastErrorCode:r.getVastErrorCode()},this.application_.log("Non-fatal error occurred : "+n.utils.obj2str(a),"ima"));break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:i.application_.parent.allAdsComplete=!0;(i.application_.parent.isResumedAfterAd||i.application_.parent._media.mediaStates.currentState===n.states.state.MEDIA_COMPLETE)&&i.application_.parent.resumeAfterAd();this.contentCompleteCalled_=!1}};t.prototype.resetVolumeModifier=function(){this.application_.log("Reset volume modifier.","ima");this.ui.volume.setVolumeModifier(1)};t.prototype.adTimeout=function(){};t.prototype.onAdError_=function(n){this.resetVolumeModifier();this.errorCode=n.getError();this.application_.log("Ad error: "+this.errorCode.toString(),"ima","red");this.application_.destroyAdsManager();this.application_.parent.allAdsComplete=!0;this.application_.resumeAfterAd()};t.prototype.destroyAdsManager=function(){this.application_.log("Ad destroy manager","ima");this.adsManager_&&(this.adsManager_.destroy(),this.adsManager_=null,n.adsStatus=8)}}(n),function(n){n.ima.VideoPlayer=function(t,i){this.provider=t.providerType()==="azure"?t:t.element;this.eventEnd=t.providerType()==="azure"?n.events.provider.COMPLETE:n.events.html.ENDED;this.contentPlayer=this.provider;this.adContainer=i;this.videoPlayerContainer_=t.element;this.width="100%";this.height="100%"};var t=n.ima.VideoPlayer;t.prototype.changeVideoContent=function(n){this.provider=n;this.videoPlayerContainer_=n.element};t.prototype.preloadContent=function(n){n()};t.prototype.play=function(){this.provider&&this.provider.play()};t.prototype.pause=function(){this.provider&&this.provider.pause()};t.prototype.isMobilePlatform=function(){return this.provider.paused&&(navigator.userAgent.match(/(iPod|iPhone|iPad)/)||navigator.userAgent.toLowerCase().indexOf("android")>-1)};t.prototype.resize=function(n,t,i,r,u){this.videoPlayerContainer_.style.position=n;this.videoPlayerContainer_.style.top=t+"px";this.videoPlayerContainer_.style.left=i+"px";this.videoPlayerContainer_.style.width=r+"px";this.videoPlayerContainer_.style.height=u+"px"};t.prototype.registerVideoEndedCallback=function(n){this.provider&&this.provider.addEventListener(this.eventEnd,n,!1)};t.prototype.removeVideoEndedCallback=function(n){this.provider&&this.provider.removeEventListener(this.eventEnd,n,!1)}}(n),function(n){n.ima.Application=function(t,i,r,u,f,e,o,s){this.parent=t;this.provider=u;this.log=o;this.instance=s;this.ui=e;this.bigPlayButton_=this.ui.bigPlay.getElem();this.playButton_=this.ui.btnPlay.getElem();this.fullscreenButton_=this.ui.fullscreen.getElem();this.onBigPlayClick=this.bind_(this,this.onClick_);this.onPlayClick=this.bind_(this,this.onClick_);this.onFullscreenClick=this.bind_(this,this.onFullscreenClick_);this.fullscreenWidth=null;this.fullscreenHeight=null;this.playing_=!1;this.parent.adsActive=!1;this.adsDone_=!1;this.fullscreen=!1;this.videoPlayer_=new n.ima.VideoPlayer(u,r,f);this.ads_=new n.ima.Ads(this,this.videoPlayer_,r,e);this.adTagUrl_=i;this.videoEndedCallback_=this.bind_(this,this.onContentEnded_);this.setVideoEndedCallbackEnabled(!0)};var t=n.ima.Application;t.prototype.SAMPLE_AD_TAG_="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=";t.prototype.setVideoEndedCallbackEnabled=function(n){this.log("Application.setVideoEndedCallbackEnabled","ima");n?this.videoPlayer_.registerVideoEndedCallback(this.videoEndedCallback_):this.videoPlayer_.removeVideoEndedCallback(this.videoEndedCallback_)};t.prototype.resumeAfterAd=function(){this.log("Application.resumeAfterAd","ima");this.videoPlayer_.play();this.parent.adsActive=!1;this.updateChrome_();this.unbindEvents();this.parent.isResumedAfterAd&&this.parent.resumeAfterAd()};t.prototype.pauseForAd=function(){this.log("Application.pauseForAd","ima");this.parent.adsActive=!0;this.playing_=!0;this.videoPlayer_.pause();this.updateChrome_();this.bindEvents();this.parent.pauseForAd.call(this.parent)};t.prototype.adClicked=function(){this.log("Application.adClicked","ima");n.utils.browser.isMobile()||(this.ads_.pause(),this.playing_=!1,this.updateChrome_())};t.prototype.bind_=function(n,t){return function(){t.apply(n,arguments)}};t.prototype.onClick_=function(){if(this.log("Application.onClick_","ima"),!this.adsDone_){this.videoPlayer_.changeVideoContent(this.provider);this.ads_.initialUserAction();this.videoPlayer_.preloadContent(this.bind_(this,this.loadAds_));this.adsDone_=!0;return}this.updateChrome_();return};t.prototype.onFullscreenClick_=function(){var t,n;this.log("Application.onFullscreenClick_","ima");this.fullscreen?(t=document.exitFullscreen||document.exitFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen,t?t.call(document):this.onFullscreenChange_()):(n=document.documentElement.requestFullscreen||document.documentElement.webkitRequestFullscreen||document.documentElement.mozRequestFullscreen||document.documentElement.requestFullScreen||document.documentElement.webkitRequestFullScreen||document.documentElement.mozRequestFullScreen,n?(this.fullscreenWidth=window.screen.width,this.fullscreenHeight=window.screen.height,n.call(document.documentElement)):(this.fullscreenWidth=window.innerWidth,this.fullscreenHeight=window.innerHeight,this.onFullscreenChange_()));n.call(document.documentElement)};t.prototype.updateChrome_=function(){};t.prototype.loadAds_=function(){this.log("Application.loadAds_","ima");this.ads_.requestAds(this.adTagUrl_);this.parent.loadAds.call(this.parent)};t.prototype.onFullscreenChange_=function(){if(this.log("Application.onFullscreenChange_","ima"),this.fullscreen)this.ads_.resize(this.videoPlayer_.width,this.videoPlayer_.height),this.videoPlayer_.resize("relative","","",this.videoPlayer_.width,this.videoPlayer_.height),this.fullscreen=!1;else{var n=this.fullscreenWidth,t=this.fullscreenHeight;this.makeAdsFullscreen_();this.videoPlayer_.resize("absolute",0,0,n,t);this.fullscreen=!0}};t.prototype.makeAdsFullscreen_=function(){this.log("Application.makeAdsFullscreen_","ima");this.ads_.resize(this.fullscreenWidth,this.fullscreenHeight)};t.prototype.onContentEnded_=function(){n.utils.browser.isIOS()||this.log("Application.onContentEnded_","ima");this.ads_.contentEnded()};t.prototype.destroyAdsManager=function(){this.log("Application.destroyAdsManager","ima");this.unbindEvents();this.ads_.destroyAdsManager()};t.prototype.bindEvents=function(){this.log("Application: register buttons click","ima","brown");this.bigPlayButton_.addEventListener("click",this.onBigPlayClick,!1);this.playButton_.addEventListener("click",this.onPlayClick,!1);this.fullScreenEvents=[{fullscreenchange:this.bind_(this,this.onFullscreenChange_)},{mozfullscreenchange:this.bind_(this,this.onFullscreenChange_)},{webkitfullscreenchange:this.bind_(this,this.onFullscreenChange_)}];for(key in this.fullScreenEvents)document.addEventListener(key,this.fullScreenEvents[key],!1)};t.prototype.unbindEvents=function(){var n,t;this.log("Application: unbind  button's click","ima","brown");this.playButton_.removeEventListener("click",this.onPlayClick,!1);this.bigPlayButton_.removeEventListener("click",this.onBigPlayClick,!1);this.fullscreenButton_.removeEventListener("click",this.onFullscreenClick,!1);n=this.fullScreenEvents;for(t in n)n.hasOwnProperty(t)&&document.removeEventListener(t,n[t],!1)};t.prototype.loadedAds=function(){this.log("Application.loadedAds","ima");this.parent.loadedAds()}}(n),function(n){n.ima.AdsController=function(t,i,r){function h(t){r(":AdsController - "+t,n.utils.debugger.tabs.IMA)}function s(n){if(n.data&&!(n.data<0)){e=Math.ceil(Math.max(o-n.data,0));var t=e/o*100;a++%4==0&&h(e);c.style.width=t+"%"}}function v(){e=o=l=0;c.style.width="0px";u.removeEventListener(f.AD_PLAYING,s)}function y(n){!isNaN(n.data)&&n.data>0&&(o=Math.round(n.data))}function p(n){h("_onAdStarted: "+n.data);!isNaN(n.data)&&n.data>0||u.addEventListener(f.AD_PLAYING,y);s(n);u.addEventListener(f.AD_COMPLETE,w,null,1);u.addEventListener(f.AD_PLAYING,s)}function w(){h("_onAdComplete");u.removeEventListener(f.AD_PLAYING,s)}var u=i,f=n.events.core,e,o,l,b=t.video,c=t.text,a=0;u.addEventListener(f.BEFORE_MEDIA_CHANGE,v);u.addEventListener(f.AD_STARTED,p)}}(n),function(n){var t=function(n){this._options={checkOnLoad:!1,resetOnEnd:!1,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:!1};this._var={version:"3.2.1",bait:null,checking:!1,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}};n!==undefined&&this.setOption(n);var t=this,i=function(){setTimeout(function(){t._options.checkOnLoad===!0&&(t._options.debug===!0&&t._log("onload->eventCallback","A check loading is launched"),t._var.bait===null&&t._creatBait(),setTimeout(function(){t.check()},1))},1)};window.addEventListener!==undefined?window.addEventListener("load",i,!1):window.attachEvent("onload",i)};t.prototype._options=null;t.prototype._var=null;t.prototype._bait=null;t.prototype._log=function(n,t){console.log("[DetectAdBlock]["+n+"] "+t)};t.prototype.setOption=function(n,t){var r,i;t!==undefined&&(r=n,n={},n[r]=t);for(i in n)this._options[i]=n[i],this._options.debug===!0&&this._log("setOption",'The option "'+i+'" he was assigned to "'+n[i]+'"');return this};t.prototype._creatBait=function(){var n=document.createElement("div");n.setAttribute("class",this._options.baitClass);n.setAttribute("style",this._options.baitStyle);this._var.bait=window.document.body.appendChild(n);this._var.bait.offsetParent;this._var.bait.offsetHeight;this._var.bait.offsetLeft;this._var.bait.offsetTop;this._var.bait.offsetWidth;this._var.bait.clientHeight;this._var.bait.clientWidth;this._options.debug===!0&&this._log("_creatBait","Bait has been created")};t.prototype._destroyBait=function(){window.document.body.removeChild(this._var.bait);this._var.bait=null;this._options.debug===!0&&this._log("_destroyBait","Bait has been removed")};t.prototype.check=function(n){if(n===undefined&&(n=!0),this._options.debug===!0&&this._log("check","An audit was requested "+(n===!0?"with a":"without")+" loop"),this._var.checking===!0)return this._options.debug===!0&&this._log("check","A check was canceled because there is already an ongoing"),!1;this._var.checking=!0;this._var.bait===null&&this._creatBait();var t=this;return this._var.loopNumber=0,n===!0&&(this._var.loop=setInterval(function(){t._checkBait(n)},this._options.loopCheckTime)),setTimeout(function(){t._checkBait(n)},1),this._options.debug===!0&&this._log("check","A check is in progress ..."),!0};t.prototype._checkBait=function(n){var t=!1,i;this._var.bait===null&&this._creatBait();(window.document.body.getAttribute("abp")!==null||this._var.bait.offsetParent===null||this._var.bait.offsetHeight==0||this._var.bait.offsetLeft==0||this._var.bait.offsetTop==0||this._var.bait.offsetWidth==0||this._var.bait.clientHeight==0||this._var.bait.clientWidth==0)&&(t=!0);window.getComputedStyle!==undefined&&(i=window.getComputedStyle(this._var.bait,null),i&&(i.getPropertyValue("display")=="none"||i.getPropertyValue("visibility")=="hidden")&&(t=!0));this._options.debug===!0&&this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(t===!0?"positive":"negative"));n===!0&&(this._var.loopNumber++,this._var.loopNumber>=this._options.loopMaxNumber&&this._stopLoop());t===!0?(this._stopLoop(),this._destroyBait(),this.emitEvent(!0),n===!0&&(this._var.checking=!1)):(this._var.loop===null||n===!1)&&(this._destroyBait(),this.emitEvent(!1),n===!0&&(this._var.checking=!1))};t.prototype._stopLoop=function(){clearInterval(this._var.loop);this._var.loop=null;this._var.loopNumber=0;this._options.debug===!0&&this._log("_stopLoop","A loop has been stopped")};t.prototype.emitEvent=function(n){var t,i;this._options.debug===!0&&this._log("emitEvent","An event with a "+(n===!0?"positive":"negative")+" detection was called");t=this._var.event[n===!0?"detected":"notDetected"];for(i in t)this._options.debug===!0&&this._log("emitEvent","Call function "+(parseInt(i)+1)+"/"+t.length),t.hasOwnProperty(i)&&t[i]();return this._options.resetOnEnd===!0&&this.clearEvent(),this};t.prototype.clearEvent=function(){this._var.event.detected=[];this._var.event.notDetected=[];this._options.debug===!0&&this._log("clearEvent","The event list has been cleared")};t.prototype.on=function(n,t){return this._var.event[n===!0?"detected":"notDetected"].push(t),this._options.debug===!0&&this._log("on",'A type of event "'+(n===!0?"detected":"notDetected")+'" was added'),this};t.prototype.onDetected=function(n){return this.on(!0,n)};t.prototype.onNotDetected=function(n){return this.on(!1,n)};n.detectAdBlock===undefined&&(n.detectAdBlock=new t({checkOnLoad:!1,resetOnEnd:!1}))}(n),function(n){var t={tab:n.utils.debugger.tabs.ERROR,color:n.utils.color.RED},i={tab:n.utils.debugger.tabs.WARNING,color:n.utils.color.BLUE},r=n.utils.color.BLUE;n.Error=function(u){var f=this;f.error=function(f,e){var h=e.level>=n.models.errorLevel.ERROR,o=h?t:i,s;n.utils.log(e.id+":"+e.level+":"+e.message+", userMessage: "+e.userMessage+", inner: "+e.innerId+":"+e.innerMessage,o.tab,o.color);e.innerMessage?n.utils.log(e.innerMessage,o.tab,o.color):e.innerMessage="";h&&(f===null&&(f={appCode:"",idMedia:""}),s=n.params.loggingURL.replace("[level]",n.models.errorLevelLabels[e.level]).replace("[message]",e.id+":"+e.message).replace("[logger]",e.origin).replace("[exception]",e.innerMessage).replace("[appCode]",f.appCode).replace("[idMedia]",f.idMedia),n.utils.log("log url: "+encodeURI(s)),(new Image).src=encodeURI(s));e.isUser&&(u&&u.internalApi?u.internalApi.fireEvent(n.events.core.ERROR,{errCode:e.id,message:e.userMessage,level:e.level}):n.utils.log("cant fire user event onError - internalAPI is not defined",r))}}}(n),function(n){n.external=new function(){function s(){var i,u,f;if(typeof t=="object")for(i in t)t.hasOwnProperty(i)&&c(t[i].url)&&(u=new n.ScriptLoader,u.ScriptLoader(t[i].url),r.push(t[i].id),f=new h(t[i].id),u.addEventListener(n.ScriptLoader.events.COMPLETE,f.succeed),u.addEventListener(n.ScriptLoader.events.ERROR,f.failed),u.load());else o()}function h(n){var t=n;this.succeed=function(){f.push(t);o()};this.failed=function(){u.push(t);o()}}function c(n){var t=document.location.protocol;return t==="http:"||t==="https:"&&(n.indexOf("https")===0||n.indexOf("//")===0)}function o(){f.length+u.length===r.length&&(i.loaded=!0,i.idFiles=r,i.idFail=u,i.idSuccess=f,i.fireEvent(n.events.EXTERNAL_LOADED,{idFiles:r,idSuccess:f,idFail:u}))}var i=this,t;i.loaded=!1;var r=[],u=[],f=[];n.utils.extend(this,new n.events.EventRegistration);t=e;s()}}(n),n.plugin.interface={log:function(t){n.utils.log(t,n.utils.debugger.tabs.PLUGIN)},getInstance:function(){return this.instance},playerSettings:function(){return this.instance.playerSettings},metas:function(){return this.instance.internalApi.metas},clickAuthorization:function(){this.instance.internalApi.requestAutoplayAuthorization()},cancelValidationMediaRequest:function(n){this.instance.internalApi.cancelValidationMediaRequest(n)},cancelChangeMedia:function(n){this.instance.internalApi.cancelChangeMedia(n)},externalLoadCompleted:function(n){this.instance.internalApi.externalLoadCompleted(n)},getUI:function(){return this.instance.ui}},n.plugin.externalLoadDelay=function(t){function i(){r.log("external files loaded");n.external.idSuccess.indexOf("ima")===-1;u=!0;t.cancelChangeMedia(!1);t.getInstance().internalApi.changeMediaWaiting()}var r=this,u=!1;n.external.loaded?i():(t.cancelChangeMedia(!0),n.external.addEventListener(n.events.EXTERNAL_LOADED,i,null,1))},n.plugin.playAuthorization=function(t){function o(t){var i=t.data;!f&&i.params.autoPlay&&n.utils.browser.isAutoPlayForbiden()&&(i.params.autoPlay=!1,n.sendPlayerRejectEvent=!0);n.sendPlayerRejectEvent&&h()}function h(){t.getInstance().timerManager.clearInterval(e);n.sendPlayerRejectEvent=!1;e=t.getInstance().timerManager.setTimeout(function(){r.fireEvent(u.PLAY_REJECTED,null,{async:!0})},10)}function i(e){s("Authorization received from event:"+e.type);f=!0;r.requestAutoplayAuthorization()&&(r.removeEventListener(u.BEFORE_MEDIA_CHANGE,o),document.removeEventListener(e.type,i),document.removeEventListener(n.events.nativeevents.TOUCH_START,i),t.getUI().bigPlay.getElem().removeEventListener(n.events.nativeevents.CLICK,i))}function s(n){t.log(n)}var c=this,f=!1,u=n.events.core,r=t.getInstance().internalApi,e=0;s("playAuthorization");document.addEventListener(n.events.nativeevents.CLICK,i);document.addEventListener(n.events.nativeevents.TOUCH_START,i);t.getUI().bigPlay.getElem().addEventListener(n.events.nativeevents.CLICK,i);r.addEventListener(u.BEFORE_MEDIA_CHANGE,o)},function(n){n.mediaMarque={premiere:["CBAF","CBAFC","CBAFH","CBEF","CBF","CBF_Rouyn","CBF_SHR","CBF_TR","CBGA","CBJ","CBKF","CBOF","CBON","CBSI","CBUF","CBV","CHFA","CHLM","CJBC","CJBR","CKSB"],icimusique:["CBFX","Espace_mu"],rdi:["RDI"],cbc:["CBCMUSIC"],rci:["RCI_AR","RCI_CH","RCI_EN","RCI_ES","RCI_FR"],artv:["ARTV"],tqc:["Tl-Qubec"],icitele:["CBAFT","CBFT","CBKFT","CBOFT","CBUFT","CBVT","CBWFT","CBXFT","CJBCT","CJBRT","CKRS","CKSH","CKTM"],explora:["Explora"],balado:["CBF_Balado"],web:["ExclusifWebAudio","ExclusifWebVideo"],toutv:["Tou.tv","Tou.tv extra"]}}(n),n.plugin.webtrends=function(t){function a(n){s.log("webtrends:"+n)}function v(t){n.utils.log(t,n.utils.debugger.tabs.ERROR)}function tt(t){var d=this,it=!1,rt=h.WebTrendsProfils,e=t.metas();a("--stats() ");var ut=-5,at=function(){typeof dcsOther=="function"?window.dcsOther():typeof dcsPlugin=="function"?window.dcsPlugin():typeof w=="function"&&w(ut)},y=function(n,t){typeof window[t]=="function"&&document.body&&(document.body.addEventListener?document.body.addEventListener(n,window[t],!0):document.body.attachEvent&&document.body.attachEvent("on"+n,window[t]))},vt=function(){var n=navigator.appVersion.indexOf("MSIE")!==-1?"click":"mousedown";y(n,"dcsDownload");y(n,"dcsDynamic");y(n,"dcsFormButton");y(n,"dcsOffsite");y(n,"dcsAnchor");y("mousedown","dcsRightClick")},k=function(n){typeof window[n]=="function"&&window[n]()},yt=function(){k("dcsET");k("dcsCookie");k("dcsAdSearch");k("dcsTP")};window.RegExp;var ft=function(){var n=navigator.userAgent.toLowerCase(),i=parseInt(navigator.appVersion),v=n.indexOf("mac")!=-1,r=n.indexOf("firefox")!=-1,u=n.indexOf("firefox/0.")!=-1,f=n.indexOf("firefox/1.0")!=-1,e=n.indexOf("firefox/1.5")!=-1,y=r&&!u&&!f&!e,o=!r&&n.indexOf("mozilla")!=-1&&n.indexOf("compatible")==-1,p=o&&i==4,w=o&&i>=5,s=n.indexOf("msie")!=-1&&n.indexOf("opera")==-1,h=s&&i==4&&n.indexOf("msie 4")!=-1,c=s&&!h,b=n.indexOf("opera")!=-1,l=n.indexOf("opera 5")!=-1||n.indexOf("opera/5")!=-1,a=n.indexOf("opera 6")!=-1||n.indexOf("opera/6")!=-1,k=b&&!l&&!a,t="1.1";return y?t="1.7":e?t="1.6":u||f||w||k?t="1.5":v&&c||a?t="1.4":c||p||l?t="1.3":h&&(t="1.2"),t},pt=function(){var r=new Date,h,n,t,e,s;if(i.tz=r.getTimezoneOffset()/-60,i.tz==0&&(i.tz="0"),i.bh=r.getHours(),i.ul=navigator.appName=="Netscape"?navigator.language:navigator.userLanguage,typeof screen=="object"&&(i.cd=navigator.appName=="Netscape"?screen.pixelDepth:screen.colorDepth,i.sr=screen.width+"x"+screen.height),typeof navigator.javaEnabled()=="boolean"&&(i.jo=navigator.javaEnabled()?"Yes":"No"),document.title&&(i.ti=f?p(nt(document.title),I18NRE):document.title),i.js="Yes",i.jv=ft(),document.body&&document.body.addBehavior)try{document.body.addBehavior("#default#clientCaps");i.ct=document.body.connectionType||"unknown";document.body.addBehavior("#default#homePage");i.hp=document.body.isHomePage(location.href)?"1":"0"}catch(c){i.ct="unknown";v("STATS_WT_CT")}else i.ct="unknown";if(parseInt(navigator.appVersion)>3&&(navigator.appName=="Microsoft Internet Explorer"&&document.body?i.bs=document.body.offsetWidth+"x"+document.body.offsetHeight:navigator.appName=="Netscape"&&(i.bs=window.innerWidth+"x"+window.innerHeight)),i.fi="No",window.ActiveXObject)for(n=10;n>0;n--)try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n);i.fi="Yes";i.fv=n+".0";break}catch(c){v("STATS_window.ActiveXObject")}else if(navigator.plugins&&navigator.plugins.length)for(n=0;n<navigator.plugins.length;n++)if(navigator.plugins[n].name.indexOf("Shockwave Flash")!=-1){i.fi="Yes";i.fv=navigator.plugins[n].description.split(" ")[2];break}if(f&&(i.em=typeof encodeURIComponent=="function"?"uri":"esc",typeof document.defaultCharset=="string"?i.le=document.defaultCharset:typeof document.characterSet=="string"&&(i.le=document.characterSet)),i.tv="8.0.2",i.sp=";",u.dcsdat=r.getTime(),u.dcssip=window.location.hostname,u.dcsuri=window.location.pathname,window.location.search&&(u.dcsqry=window.location.search,o.length>0))for(n=0;n<o.length;n++)t=u.dcsqry.indexOf(o[n]),t!=-1&&(e=u.dcsqry.substring(0,t),s=u.dcsqry.substring(t+o[n].length,u.dcsqry.length),u.dcsqry=e+s);window.document.referrer!=""&&window.document.referrer!="-"&&(navigator.appName=="Microsoft Internet Explorer"&&parseInt(navigator.appVersion)<4||(u.dcsref=f?p(window.document.referrer,I18NRE):window.document.referrer))},et={"%26":/\&/g},p=function(n,t){var i,r;if(typeof t!="undefined"){i=new String(n);for(r in t)i=i.replace(t[r],r);return i}return escape(n)},s=function(n,t){return"&"+n+"="+p(t,et)},nt=function(n){return typeof encodeURIComponent=="function"?encodeURIComponent(n):escape(n)},wt=function(){var t,l,e,s,h,o,c;if(document.all?t=document.all.tags("meta"):document.documentElement&&(t=document.getElementsByTagName("meta")),typeof t!="undefined")for(l=t.length,e=0;e<l;e++){var n=t.item(e).name,r=t.item(e).content,a=t.item(e).httpEquiv;if(n.length>0)if(n.indexOf("WT.")==0){if(s=!1,f)for(h=["mc_id","oss","ti"],o=0;o<h.length;o++)if(n.indexOf("WT."+h[o])==0){s=!0;break}i[n.substring(3)]=s?p(nt(r),I18NRE):r}else n.indexOf("DCSext.")==0?g[n.substring(7)]=r:n.indexOf("DCS.")==0&&(u[n.substring(4)]=f&&n.indexOf("DCS.dcsref")==0?p(r,I18NRE):r);else f&&a=="Content-Type"&&(c=r.toLowerCase().indexOf("charset="),c!=-1&&(i.mle=r.substring(c+8)))}},tt=function(n,t){var r="",f=arguments.length>=3?arguments[2]:"=",u=!0,i;if(typeof n!="undefined")for(i in n)n.hasOwnProperty(i)&&(u?u=!1:r+=t,r+=i+f+nt(n[i]));return r},ot=function(){var n={c1:1,c2:d.ComScoreC2,c3:d.ComScoreC3,c4:d.ComScoreC4,c5:e.SrcAvDuree*1>10?"03":"02",c6:"",c7:r(e.titleTD),c8:r(e.title),c9:document.referrer,c15:""},t=(window.location.protocol.indexOf("https:")===0?"https://sb":"http://b")+".scorecardresearch.com/p?"+tt(n,"&","=");b(t)},st=function(t){for(var r,i=0;i<c.length;i++)r="http"+(window.location.protocol.indexOf("https:")===0?"s":"")+"://"+c[i]+(l===""?"":"/"+l)+"/dcs.gif?"+t,i===0&&b(r,n.utils.debugger.tabs.STATS)},bt=function(n,t){return n.replace(new RegExp("("+t.replace(/(.)/g,"\\$1|")+"\\')","g")," ").replace(/ {2,}/g," ")},ht=function(){return{a01genre:r(e.theme),a02emission:r(e.SrcEmission),a03saisonNbr:r(e.SrcSaison),a04episodeNbr:r(e.SrcEpisode),a05dateEmission:r(e.OriginalDate),a06titre:r(e.TitleID),a07network:r(e.network),a08partenaire:r(e.SrcSource),a09length:r(e.duration),a10type:r(e.SrcAvIntegrale),a11media:r(e.SrcTypeDocument),a12diffusion:r(e.SrcAvDiffusion),a13plateforme:"SiteWeb",a14typeExclusivite:""}},ct=function(){var t=e.appCode,n=r(e.theme);if(t==="toutv")switch(n.toLowerCase()){case"animation":n="toutv_animation";break;case"entrevues-et-varietes":n="toutv_entrevuesVarietes";break;case"films-et-documentaires":n="toutv_filmsDocumentaires";break;case"jeux-televises":n="toutv_jeuxtelevises";break;case"magazines-et-affaires-publiques":n="toutv_magazinesAP";break;case"series-et-teleromans":n="toutv_seriesTeleromans";break;case"spectacles-et-evenements":n="toutv_spectaclesEvenements";break;case"webseries":case"webteles":n="toutv_webteles";break;default:n="toutv_autres"}return n},lt=function(){var t=typeof srcSetStatsKeysValues=="function"?srcSetStatsKeysValues(this.userId):ht();if(t!=null){typeof t!="object"&&(t={});var i=r(e.TitleID),u=r(e.show),n="";n+=s("WT.sp",rt);n+=s("dcssip","v|");n+=s("dcsuri",i);n+=s("dcsqry",tt(t,"%26","%3D"));n+=s("dcsdat",(new Date).getTime());n+=s("WT.ti",u+"_"+i);n+=s("WT.cg_n",ct());n+=s("WT.cg_s",u);st(n);it&&ot()}};lt()}function it(){a("_registrerWebtrends()");var n=function(){s.log("stats");tt(t)};t.getInstance().internalApi.addEventListener(k.START,n)}var s=this,h=t.playerSettings(),k=n.events.core,rt=n.utils.debugger.tabs.STATS,c=["sdc2.radio-canada.ca","sdc3.radio-canada.ca"],l="dcs5w0txb10000wocrvqy1nqm_6n1p",e=h.WebTrendsSiteName,d="WEBTRENDS_"+e,u={},i={},g={},o=[],f=!1,r=function(t){return n.utils.parseString(t)},y=function(n){var r=document.cookie.indexOf(n+"="),i,t;return r!==-1?(i=r+n.length+1,t=document.cookie.indexOf(";",i),t===-1&&(t=document.cookie.length),unescape(document.cookie.substring(i,t))):null},p=function(n,t){for(var r,u=y(n).split(":"),i=0;i<u.length;i++)if(r=u[i].split("="),t===r[0])return r[1];return null},nt=function(n,t){for(var r=y(n),f=r.substring(0,r.indexOf(":lv=")),i=f.split("="),u=0;u<i.length;u++)if(t===i[0])return i[1];return null},w=function(n){var l,r,s,h,f,y;if(typeof n!="undefined"&&document.cookie.indexOf("WTLOPTOUT=")===-1){var u=d,t=new Date,o=t.getTimezoneOffset()*6e4+n*36e5;if(t.setTime(t.getTime()+o),l=new Date(t.getTime()+31536e7),r=new Date(t.getTime()),i.co_f=i.vt_sid=i.vt_f=i.vt_f_a=i.vt_f_s=i.vt_f_d=i.vt_f_tlh=i.vt_f_tlv="",document.cookie.indexOf(u+"=")==-1){if(typeof gWtId!="undefined"&&gWtId!="")i.co_f=gWtId;else if(typeof gTempWtId!="undefined"&&gTempWtId!=="")i.co_f=gTempWtId,i.vt_f="1";else{for(i.co_f="2",s=t.getTime().toString(),h=2;h<=32-s.length;h++)i.co_f+=Math.floor(Math.random()*16).toString(16);i.co_f+=s;i.vt_f="1"}typeof gWtAccountRollup=="undefined"&&(i.vt_f_a="1");i.vt_f_s=i.vt_f_d="1";i.vt_f_tlh=i.vt_f_tlv="0"}else{var c=nt(u,"id"),a=parseInt(p(u,"lv")),v=parseInt(p(u,"ss"));if(c===null||c==="null"||isNaN(a)||isNaN(v))return;i.co_f=c;f=new Date(a);i.vt_f_tlh=Math.floor((f.getTime()-o)/1e3);r.setTime(v);(t.getTime()>f.getTime()+18e5||t.getTime()>r.getTime()+288e5)&&(i.vt_f_tlv=Math.floor((r.getTime()-o)/1e3),r.setTime(t.getTime()),i.vt_f_s="1");(t.getDay()!==f.getDay()||t.getMonth()!==f.getMonth()||t.getYear()!==f.getYear())&&(i.vt_f_d="1")}i.co_f=escape(i.co_f);i.vt_sid=i.co_f+"."+(r.getTime()-o);y="; expires="+l.toGMTString();document.cookie=u+"=id="+i.co_f+":lv="+t.getTime().toString()+":ss="+r.getTime().toString()+y+"; path=/"+(typeof e!="undefined"&&e!=""?"; domain="+e:"");document.cookie.indexOf(u+"=")===-1&&(i.co_f=i.vt_sid=i.vt_f_s=i.vt_f_d=i.vt_f_tlh=i.vt_f_tlv="",i.vt_f=i.vt_f_a="2")}},b=function(t,i){return n.utils.sendPixel(t,i)};it()},function(){n.plugin.comscore=function(t){function nt(){y||u("stop")}function et(){l&&!v&&u("playVideoContentPart",a,o)}function tt(n){var t="undefined",i=0,f=1,e=2;typeof r=="object"&&(f=r.StreamingTag.AdType.LinearOnDemandMidRoll,i=r.StreamingTag.AdType.LinearOnDemandPreRoll,e=r.StreamingTag.AdType.LinearOnDemandPostRoll);n===0?t=i:n>1?t=f:n===-1&&(t=e);u("playVideoAdvertisement",t)}function it(){u("stop")}function kt(n){for(var t in c)if(c.hasOwnProperty(t)&&c[t].indexOf(n)!==-1)return t;return"undefined"}function dt(n){return Math.floor(n/60)+"m"+(n%60<10?"0":"")+n%60}function gt(n){return[rt(n),n.OriginalDate,n.isLive?"live":"differe",kt(n.network),n.isVideo?"video":"audio",dt(n.duration),n.TitleID.substr(0,50)].join("|")}function rt(n){return n.isLive?n.SrcEmission?n.SrcEmission.substr(0,30):"":n.appCode==="toutv"?n.avEmission?n.avEmission.substr(0,30):"":n.avNomEmission?n.avNomEmission.substr(0,30):""}function ni(t){typeof requirejs!="undefined"?requirejs([n.externalload.comscoreUrl],function(){ut(t)}):ut(t)}function ut(t){function s(n){for(var t in n)n.hasOwnProperty(t)&&(n[t]||(n[t]=i))}var i="*null",u;try{u=digitalData.component[w].componentInfo;n.comscore||(n.comscore=ns_);r=n.comscore;p=new r.StreamingTag({customerC2:u.comscore_config.c2.toString()});o={ns_st_ci:t.appCode+t.idMedia,ns_st_cl:t.duration*1e3,ns_st_pu:ti(),ns_st_pr:rt(t),ns_st_ep:t.title,ns_st_sn:t.SrcSaison,ns_st_en:t.SrcEpisode,ns_st_st:i,ns_st_ge:t.theme,ns_st_ti:i,ns_st_ia:"0",ns_st_ce:t.SrcAvIntegrale==="integral"?1:0,ns_st_ddt:t.OriginalDate,ns_st_tdt:t.OriginalDate,c3:u.comscore_config.c3.toString(),c4:i,c6:gt(t)};s(o);a=t.isLive?r.StreamingTag.ContentType.Live:t.duration*60>10?r.StreamingTag.ContentType.LongFormOnDemand:r.StreamingTag.ContentType.ShortFormOnDemand}catch(f){e.error("comscore debug - initialization error : "+f.message);b=!1}}function ti(){return document.location.href.indexOf("tou.tv")!==-1?"tou.tv":"Radio-Canada"}var c=n.mediaMarque,ft=this,ii=n.utils.isDebugMode(),f=t.getInstance().internalApi,i=n.events.core,p=null,o=null,w="comscore",l=!1,a=null,b=!0,v=!1,s=!1,y=!1,r=null,e,k,d,g,u;ft.name="comscore";typeof digitalData=="undefined"&&(window.digitalData={});typeof digitalData.component=="undefined"&&(digitalData.component=[]);e=function(t){return{info:function(n){this.write("info",n)},warn:function(n){this.write("warn",n)},error:function(n){this.write("error","custom error: "+n)},log:function(n){this.write("log",n)},debug:function(n){this.write("debug",n)},write:function(i,r){typeof t.comscoreDebugLevel!="undefined"&&t.comscoreDebugLevel==="low"&&window.console[i](r);n.utils.log(r,"stats_"+i)}}}(t.getInstance().playerSettings);k=function(n){digitalData.component[w]={componentInfo:{componentId:"Comscore",comscore_config:{c2:n.data.ComScoreC2,c3:n.data.ComScoreC3}},category:{primaryCategory:"Analytics tool"}}};f.addEventListener(i.PLAYER_READY,k);d=function(n){if(!n.data.isVideo){bt();e.info("comscore debug - audio content, comscore as been deactivated.");return}wt();v=!1;ni(n.data);l=!1};f.addEventListener(i.BEGIN,d);g=function(){u("stop")};u=function(n,t,i){if(b)try{p[n](i,t);e.info("comscore debug - tracking call - "+n+",type: "+t+",  params:"+JSON.stringify(i))}catch(r){e.error("comscore debug - error tracking call - "+n+", message : "+r.message)}};var ot=function(){v=!0;s=!1;u("stop")},st=function(){s=!0;u("playVideoContentPart",a,o);l=!0},ht=function(){s=!1},ct=function(){y=!0;s&&nt()},lt=function(){y=!1},at=function(n){tt(n.data.flash_ad_event.podIndex)},vt=function(){it()},yt=function(n){tt(n.data.ima_ad_pod_index)},pt=function(){it()},h=[{eventName:i.DISPOSE,handler:g},{eventName:i.PLAY,handler:et},{eventName:i.PAUSE,handler:nt},{eventName:i.COMPLETE,handler:ot},{eventName:i.START,handler:st},{eventName:i.MEDIA_CHANGED,handler:ht},{eventName:i.AD_STARTED,handler:ct},{eventName:i.AD_COMPLETE,handler:lt},{eventName:i.AD_STARTED_FROM_FLASH,handler:at},{eventName:i.AD_ENDED_FROM_FLASH,handler:vt},{eventName:i.SINGLE_AD_STARTED,handler:yt},{eventName:i.SINGLE_AD_COMPLETE,handler:pt}],wt=function(){for(var n,t=0;t<h.length;t++)n=h[t],f.removeEventListener(n.eventName,n.handler),f.addEventListener(n.eventName,n.handler)},bt=function(){for(var t,n=0;n<h.length;n++)t=h[n],f.removeEventListener(t.eventName,t.handler)}}}(),function(n){n.plugin.omnitureCoreV1=function(n){var t={cbc_dev:{suite:"cbccadevelopment",server:"metrics.cbc.ca",ns:"cbcca"},cbc_prod:{suite:"cbc-production",server:"metrics.cbc.ca",ns:"cbcca"},cbc_sotchi_dev_audio:{suite:"rc-devsotchivideo",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_dev:{suite:"rc-dev05",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_dev_toutv:{suite:"rc-devtoutv-audiovideo",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_dev_toutv_mix:{suite:"rc-devtoutv-all",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_prod_toutv_mix:{suite:"rc-toutv-all",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_prod:{suite:"rc-prod01",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_dev_sotchi:{suite:"rc-devsotchi",server:"radiocanada.122.2o7.net",ns:"radiocanada"},radiocanada_prod_sotchi_audio:{suite:"rc-sotchiaudio",server:"radiocanada.122.2o7.net",ns:"radiocanada"}},i=function(){function u(n,t,i){var e="s.version='H.26';s.an=s_an;s.logDebug=function(m){var s=this,tcf=new Function('var e;try{console.log(\"'+s.rep(s.rep(s.rep(m,\"\\\\\",\"\\\\\\\\\"),\"\\n\",\"\\\\n\"),\"\\\"\",\"\\\\\\\"\")+'\");}catch(e){}');tcf()};s.cls=function(x,c){var i,y='';if(!c)c=this.an;for(i=0;i<x.length;i++){n=x.substring(i,i+1);if(c.indexOf(n)>=0)y+=n}return y};s.fl=function(x,l){return x?(''+x).substring(0,l):x};s.co=function(o){return o};s.num=function(x){x=''+x;for(var p=0;p<x.length;p++)if(('0123456789').indexOf(x.substring(p,p+1))<0)return 0;return 1};s.rep=s_rep;s.sp=s_sp;s.jn=s_jn;s.ape=function(x){var s=this,h='0123456789ABCDEF',f=\"+~!*()'\",i,c=s.charSet,n,l,e,y='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComponent(x);for(i=0;i<f.length;i++) {n=f.substring(i,i+1);if(x.indexOf(n)>=0)x=s.rep(x,n,\"%\"+n.charCodeAt(0).toString(16).toUpperCase())}}else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.substring(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e=h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0){i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.substring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.substring(i);i=x.indexOf('%',i)}}}return x};s.epa=function(x){var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Function('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape(x)}return y');return tcf(x)}else return unescape(x)}return y};s.pt=function(x,d,f,a){var s=this,t=x,z=0,y,r;while(t){y=t.indexOf(d);y=y<0?t.length:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d.length;t=x.substring(z,x.length);t=z<x.length?t:''}return ''};s.isf=function(t,a){var c=a.indexOf(':');if(c>=0)a=a.substring(0,c);c=a.indexOf('=');if(c>=0)a=a.substring(0,c);if(t.substring(0,2)=='s_')t=t.substring(2);return (t!=''&&t==a)};s.fsf=function(t,a){var s=this;if(s.pt(a,',','isf',t))s.fsg+=(s.fsg!=''?',':'')+t;return 0};s.fs=function(x,f){var s=this;s.fsg='';s.pt(x,',','fsf',f);return s.fsg};s.mpc=function(m,a){var s=this,c,l,n,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(v&&v=='prerender'){if(!s.mpq){s.mpq=new Array;l=s.sp('webkitvisibilitychange,visibilitychange',',');for(n=0;n<l.length;n++){s.d.addEventListener(l[n],new Function('var s=s_c_il['+s._in+'],c,v;v=s.d.visibilityState;if(!v)v=s.d.webkitVisibilityState;if(s.mpq&&v==\"visible\"){while(s.mpq.length>0){c=s.mpq.shift();s[c.m].apply(s,c.a)}s.mpq=0}'),false)}}c=new Object;c.m=m;c.a=a;s.mpq.push(c);return 1}return 0};s.si=function(){var s=this,i,k,v,c=s_gi+'var s=s_gi(\"'+s.oun+'\");s.sa(\"'+s.un+'\");';for(i=0;i<s.va_g.length;i++){k=s.va_g[i];v=s[k];if(v!=undefined){if(typeof(v)!='number')c+='s.'+k+'=\"'+s_fe(v)+'\";';else c+='s.'+k+'='+v+';'}}c+=\"s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';\";return c};s.c_d='';s.c_gdf=function(t,a){var s=this;if(!s.num(t))return 1;return 0};s.c_gd=function(){var s=this,d=s.wd.location.hostname,n=s.fpCookieDomainPeriods,p;if(!n)n=s.cookieDomainPeriods;if(d&&!s.c_d){n=n?parseInt(n):2;n=n>2?n:2;p=d.lastIndexOf('.');if(p>=0){while(p>=0&&n>1){p=d.lastIndexOf('.',p-1);n--}s.c_d=p>0&&s.pt(d,'.','c_gdf',0)?d.substring(p):d}}return s.c_d};s.c_r=function(k){var s=this;k=s.ape(k);var c=' '+s.d.cookie,i=c.indexOf(' '+k+'='),e=i<0?i:c.indexOf(';',i),v=i<0?'':s.epa(c.substring(i+2+k.length,e<0?c.length:e));return v!='[[B]]'?v:''};s.c_w=function(k,v,e){var s=this,d=s.c_gd(),l=s.cookieLifetime,t;v=''+v;l=l?(''+l).toUpperCase():'';if(e&&l!='SESSION'&&l!='NONE'){t=(v!=''?parseInt(l?l:0):-60);if(t){e=new Date;e.setTime(e.getTime()+(t*1000))}}if(k&&l!='NONE'){s.d.cookie=k+'='+s.ape(v!=''?v:'[[B]]')+'; path=/;'+(e&&l!='SESSION'?' expires='+e.toGMTString()+';':'')+(d?' domain='+d+';':'');return s.c_r(k)==v}return 0};s.eh=function(o,e,r,f){var s=this,b='s_'+e+'_'+s._in,n=-1,l,i,x;if(!s.ehl)s.ehl=new Array;l=s.ehl;for(i=0;i<l.length&&n<0;i++){if(l[i].o==o&&l[i].e==e)n=i}if(n<0){n=i;l[n]=new Object}x=l[n];x.o=o;x.e=e;f=r?x.b:f;if(r||f){x.b=r?0:o[e];x.o[e]=f}if(x.b){x.o[b]=x.b;return b}return 0};s.cet=function(f,a,t,o,b){var s=this,r,tcf;if(s.apv>=5&&(!s.isopera||s.apv>=7)){tcf=new Function('s','f','a','t','var e,r;try{r=s[f](a)}catch(e){r=s[t](e)}return r');r=tcf(s,f,a,t)}else{if(s.ismac&&s.u.indexOf('MSIE 4')>=0)r=s[b](a);else{s.eh(s.wd,'onerror',0,o);r=s[f](a);s.eh(s.wd,'onerror',1)}}return r};s.gtfset=function(e){var s=this;return s.tfs};s.gtfsoe=new Function('e','var s=s_c_il['+s._in+'],c;s.eh(window,\"onerror\",1);s.etfs=1;c=s.t();if(c)s.d.write(c);s.etfs=0;return true');s.gtfsfb=function(a){return window};s.gtfsf=function(w){var s=this,p=w.parent,l=w.location;s.tfs=w;if(p&&p.location!=l&&p.location.host==l.host){s.tfs=p;return s.gtfsf(s.tfs)}return s.tfs};s.gtfs=function(){var s=this;if(!s.tfs){s.tfs=s.wd;if(!s.etfs)s.tfs=s.cet('gtfsf',s.tfs,'gtfset',s.gtfsoe,'gtfsfb')}return s.tfs};s.mrq=function(u){var s=this,l=s.rl[u],n,r;s.rl[u]=0;if(l)for(n=0;n<l.length;n++){r=l[n];s.mr(0,0,r.r,r.t,r.u)}};s.flushBufferedRequests=function(){};s.mr=function(sess,q,rs,ta,u){var s=this,dc=s.dc,t1=s.trackingServer,t2=s.trackingServerSecure,tb=s.trackingServerBase,p='.sc',ns=s.visitorNamespace,un=s.cls(u?u:(ns?ns:s.fun)),r=new Object,l,imn='s_i_'+s._in+'_'+un,im,b,e;if(!rs){if(t1){if(t2&&s.ssl)t1=t2}else{if(!tb)tb='2o7.net';if(dc)dc=(''+dc).toLowerCase();else dc='d1';if(tb=='2o7.net'){if(dc=='d1')dc='112';else if(dc=='d2')dc='122';p=''}t1=un+'.'+dc+'.'+p+tb}rs='http'+(s.ssl?'s':'')+'://'+t1+'/b/ss/'+s.un+'/'+(s.mobile?'5.1':'1')+'/'+s.version+(s.tcn?'T':'')+'/'+sess+'?AQB=1&ndh=1'+(q?q:'')+'&AQE=1';if(s.isie&&!s.ismac)rs=s.fl(rs,2047)}if(s.d.images&&s.apv>=3&&(!s.isopera||s.apv>=7)&&(s.ns6<0||s.apv>=6.1)){if(!s.rc)s.rc=new Object;if(!s.rc[un]){s.rc[un]=1;if(!s.rl)s.rl=new Object;s.rl[un]=new Array;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].mrq(\"'+un+'\")',750)}else{l=s.rl[un];if(l){r.t=ta;r.u=un;r.r=rs;l[l.length]=r;return ''}imn+='_'+s.rc[un];s.rc[un]++}if(s.debugTracking){var d='AppMeasurement Debug: '+rs,dl=s.sp(rs,'&'),dln;for(dln=0;dln<dl.length;dln++)d+=\"\\n\\t\"+s.epa(dl[dln]);s.logDebug(d)}im=s.wd[imn];if(!im)im=s.wd[imn]=new Image;im.s_l=0;im.onload=new Function('e','this.s_l=1;var wd=window,s;if(wd.s_c_il){s=wd.s_c_il['+s._in+'];s.bcr();s.mrq(\"'+un+'\");s.nrs--;if(!s.nrs)s.m_m(\"rr\")}');if(!s.nrs){s.nrs=1;s.m_m('rs')}else s.nrs++;im.src=rs;if(s.useForcedLinkTracking||s.bcf){if(!s.forcedLinkTrackingTimeout)s.forcedLinkTrackingTimeout=250;setTimeout('if(window.s_c_il)window.s_c_il['+s._in+'].bcr()',s.forcedLinkTrackingTimeout);}else if((s.lnk||s.eo)&&(!ta||ta=='_self'||ta=='_top'||ta=='_parent'||(s.wd.name&&ta==s.wd.name))){b=e=new Date;while(!im.s_l&&e.getTime()-b.getTime()<500)e=new Date}return ''}return '<im'+'g sr'+'c=\"'+rs+'\" width=1 height=1 border=0 alt=\"\">'};s.gg=function(v){var s=this;if(!s.wd['s_'+v])s.wd['s_'+v]='';return s.wd['s_'+v]};s.glf=function(t,a){if(t.substring(0,2)=='s_')t=t.substring(2);var s=this,v=s.gg(t);if(v)s[t]=v};s.gl=function(v){var s=this;if(s.pg)s.pt(v,',','glf',0)};s.rf=function(x){var s=this,y,i,j,h,p,l=0,q,a,b='',c='',t;if(x&&x.length>255){y=''+x;i=y.indexOf('?');if(i>0){q=y.substring(i+1);y=y.substring(0,i);h=y.toLowerCase();j=0;if(h.substring(0,7)=='http://')j+=7;else if(h.substring(0,8)=='https://')j+=8;i=h.indexOf(\"/\",j);if(i>0){h=h.substring(j,i);p=y.substring(i);y=y.substring(0,i);if(h.indexOf('google')>=0)l=',q,ie,start,search_key,word,kw,cd,';else if(h.indexOf('yahoo.co')>=0)l=',p,ei,';if(l&&q){a=s.sp(q,'&');if(a&&a.length>1){for(j=0;j<a.length;j++){t=a[j];i=t.indexOf('=');if(i>0&&l.indexOf(','+t.substring(0,i)+',')>=0)b+=(b?'&':'')+t;else c+=(c?'&':'')+t}if(b&&c)q=b+'&'+c;else c=''}i=253-(q.length-c.length)-y.length;x=y+(i>0?p.substring(0,i):'')+'?'+q}}}}return x};s.s2q=function(k,v,vf,vfp,f){var s=this,qs='',sk,sv,sp,ss,nke,nk,nf,nfl=0,nfn,nfm;if(k==\"contextData\")k=\"c\";if(v){for(sk in v)if((!f||sk.substring(0,f.length)==f)&&v[sk]&&(!vf||vf.indexOf(','+(vfp?vfp+'.':'')+sk+',')>=0)&&(!Object||!Object.prototype||!Object.prototype[sk])){nfm=0;if(nfl)for(nfn=0;nfn<nfl.length;nfn++)if(sk.substring(0,nfl[nfn].length)==nfl[nfn])nfm=1;if(!nfm){if(qs=='')qs+='&'+k+'.';sv=v[sk];if(f)sk=sk.substring(f.length);if(sk.length>0){nke=sk.indexOf('.');if(nke>0){nk=sk.substring(0,nke);nf=(f?f:'')+nk+'.';if(!nfl)nfl=new Array;nfl[nfl.length]=nf;qs+=s.s2q(nk,v,vf,vfp,nf)}else{if(typeof(sv)=='boolean'){if(sv)sv='true';else sv='false'}if(sv){if(vfp=='retrieveLightData'&&f.indexOf('.contextData.')<0){sp=sk.substring(0,4);ss=sk.substring(4);if(sk=='transactionID')sk='xact';else if(sk=='channel')sk='ch';else if(sk=='campaign')sk='v0';else if(s.num(ss)){if(sp=='prop')sk='c'+ss;else if(sp=='eVar')sk='v'+ss;else if(sp=='list')sk='l'+ss;else if(sp=='hier'){sk='h'+ss;sv=sv.substring(0,255)}}}qs+='&'+s.ape(sk)+'='+s.ape(sv)}}}}}if(qs!='')qs+='&.'+k}return qs};s.hav=function(){var s=this,qs='',l,fv='',fe='',mn,i,e;if(s.lightProfileID){l=s.va_m;fv=s.lightTrackVars;if(fv)fv=','+fv+','+s.vl_mr+','}else{l=s.va_t;if(s.pe||s.linkType){fv=s.linkTrackVars;fe=s.linkTrackEvents;if(s.pe){mn=s.pe.substring(0,1).toUpperCase()+s.pe.substring(1);if(s[mn]){fv=s[mn].trackVars;fe=s[mn].trackEvents}}}if(fv)fv=','+fv+','+s.vl_l+','+s.vl_l2;if(fe){fe=','+fe+',';if(fv)fv+=',events,'}if (s.events2)e=(e?',':'')+s.events2}for(i=0;i<l.length;i++){var k=l[i],v=s[k],b=k.substring(0,4),x=k.substring(4),n=parseInt(x),q=k;if(!v)if(k=='events'&&e){v=e;e=''}if(v&&(!fv||fv.indexOf(','+k+',')>=0)&&k!='linkName'&&k!='linkType'){if(k=='timestamp')q='ts';else if(k=='dynamicVariablePrefix')q='D';else if(k=='visitorID')q='vid';else if(k=='pageURL'){q='g';if(v.length>255){s.pageURLRest=v.substring(255);v=v.substring(0,255);}}else if(k=='pageURLRest')q='-g';else if(k=='referrer'){q='r';v=s.fl(s.rf(v),255)}else if(k=='vmk'||k=='visitorMigrationKey')q='vmt';else if(k=='visitorMigrationServer'){q='vmf';if(s.ssl&&s.visitorMigrationServerSecure)v=''}else if(k=='visitorMigrationServerSecure'){q='vmf';if(!s.ssl&&s.visitorMigrationServer)v=''}else if(k=='charSet'){q='ce';if(v.toUpperCase()=='AUTO')v='ISO8859-1';else if(s.em==2||s.em==3)v='UTF-8'}else if(k=='visitorNamespace')q='ns';else if(k=='cookieDomainPeriods')q='cdp';else if(k=='cookieLifetime')q='cl';else if(k=='variableProvider')q='vvp';else if(k=='currencyCode')q='cc';else if(k=='channel')q='ch';else if(k=='transactionID')q='xact';else if(k=='campaign')q='v0';else if(k=='resolution')q='s';else if(k=='colorDepth')q='c';else if(k=='javascriptVersion')q='j';else if(k=='javaEnabled')q='v';else if(k=='cookiesEnabled')q='k';else if(k=='browserWidth')q='bw';else if(k=='browserHeight')q='bh';else if(k=='connectionType')q='ct';else if(k=='homepage')q='hp';else if(k=='plugins')q='p';else if(k=='events'){if(e)v+=(v?',':'')+e;if(fe)v=s.fs(v,fe)}else if(k=='events2')v='';else if(k=='contextData'){qs+=s.s2q('c',s[k],fv,k,0);v=''}else if(k=='lightProfileID')q='mtp';else if(k=='lightStoreForSeconds'){q='mtss';if(!s.lightProfileID)v=''}else if(k=='lightIncrementBy'){q='mti';if(!s.lightProfileID)v=''}else if(k=='retrieveLightProfiles')q='mtsr';else if(k=='deleteLightProfiles')q='mtsd';else if(k=='retrieveLightData'){if(s.retrieveLightProfiles)qs+=s.s2q('mts',s[k],fv,k,0);v=''}else if(s.num(x)){if(b=='prop')q='c'+n;else if(b=='eVar')q='v'+n;else if(b=='list')q='l'+n;else if(b=='hier'){q='h'+n;v=s.fl(v,255)}}if(v)qs+='&'+s.ape(q)+'='+(k.substring(0,3)!='pev'?s.ape(v):v)}}return qs};s.ltdf=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';var qi=h.indexOf('?');h=qi>=0?h.substring(0,qi):h;if(t&&h.substring(h.length-(t.length+1))=='.'+t)return 1;return 0};s.ltef=function(t,h){t=t?t.toLowerCase():'';h=h?h.toLowerCase():'';if(t&&h.indexOf(t)>=0)return 1;return 0};s.lt=function(h){var s=this,lft=s.linkDownloadFileTypes,lef=s.linkExternalFilters,lif=s.linkInternalFilters;lif=lif?lif:s.wd.location.hostname;h=h.toLowerCase();if(s.trackDownloadLinks&&lft&&s.pt(lft,',','ltdf',h))return 'd';if(s.trackExternalLinks&&h.indexOf('#')!=0&&h.indexOf('about:')!=0&&h.indexOf('javascript:')!=0&&(lef||lif)&&(!lef||s.pt(lef,',','ltef',h))&&(!lif||!s.pt(lif,',','ltef',h)))return 'e';return ''};s.lc=new Function('e','var s=s_c_il['+s._in+'],b=s.eh(this,\"onclick\");s.lnk=this;s.t();s.lnk=0;if(b)return this[b](e);return true');s.bcr=function(){var s=this;if(s.bct&&s.bce)s.bct.dispatchEvent(s.bce);if(s.bcf){if(typeof(s.bcf)=='function')s.bcf();else if(s.bct&&s.bct.href)s.d.location=s.bct.href}s.bct=s.bce=s.bcf=0};s.bc=new Function('e','if(e&&e.s_fe)return;var s=s_c_il['+s._in+'],f,tcf,t,n,nrs,a,h;if(s.d&&s.d.all&&s.d.all.cppXYctnr)return;if(!s.bbc)s.useForcedLinkTracking=0;else if(!s.useForcedLinkTracking){s.b.removeEventListener(\"click\",s.bc,true);s.bbc=s.useForcedLinkTracking=0;return}else s.b.removeEventListener(\"click\",s.bc,false);s.eo=e.srcElement?e.srcElement:e.target;nrs=s.nrs;s.t();s.eo=0;if(s.nrs>nrs&&s.useForcedLinkTracking&&e.target){a=e.target;while(a&&a!=s.b&&a.tagName.toUpperCase()!=\"A\"&&a.tagName.toUpperCase()!=\"AREA\")a=a.parentNode;if(a){h=a.href;if(h.indexOf(\"#\")==0||h.indexOf(\"about:\")==0||h.indexOf(\"javascript:\")==0)h=0;t=a.target;if(e.target.dispatchEvent&&h&&(!t||t==\"_self\"||t==\"_top\"||t==\"_parent\"||(s.wd.name&&t==s.wd.name))){tcf=new Function(\"s\",\"var x;try{n=s.d.createEvent(\\\\\"MouseEvents\\\\\")}catch(x){n=new MouseEvent}return n\");n=tcf(s);if(n){tcf=new Function(\"n\",\"e\",\"var x;try{n.initMouseEvent(\\\\\"click\\\\\",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}catch(x){n=0}return n\");n=tcf(n,e);if(n){n.s_fe=1;e.stopPropagation();if (e.stopImmediatePropagation) {e.stopImmediatePropagation();}e.preventDefault();s.bct=e.target;s.bce=n}}}}}');s.oh=function(o){var s=this,l=s.wd.location,h=o.href?o.href:'',i,j,k,p;i=h.indexOf(':');j=h.indexOf('?');k=h.indexOf('/');if(h&&(i<0||(j>=0&&i>j)||(k>=0&&i>k))){p=o.protocol&&o.protocol.length>1?o.protocol:(l.protocol?l.protocol:'');i=l.pathname.lastIndexOf('/');h=(p?p+'//':'')+(o.host?o.host:(l.host?l.host:''))+(h.substring(0,1)!='/'?l.pathname.substring(0,i<0?0:i)+'/':'')+h}return h};s.ot=function(o){var t=o.tagName;if(o.tagUrn||(o.scopeName&&o.scopeName.toUpperCase()!='HTML'))return '';t=t&&t.toUpperCase?t.toUpperCase():'';if(t=='SHAPE')t='';if(t){if((t=='INPUT'||t=='BUTTON')&&o.type&&o.type.toUpperCase)t=o.type.toUpperCase();else if(!t&&o.href)t='A';}return t};s.oid=function(o){var s=this,t=s.ot(o),p,c,n='',x=0;if(t&&!o.s_oid){p=o.protocol;c=o.onclick;if(o.href&&(t=='A'||t=='AREA')&&(!c||!p||p.toLowerCase().indexOf('javascript')<0))n=s.oh(o);else if(c){n=s.rep(s.rep(s.rep(s.rep(''+c,\"\\r\",''),\"\\n\",''),\"\\t\",''),' ','');x=2}else if(t=='INPUT'||t=='SUBMIT'){if(o.value)n=o.value;else if(o.innerText)n=o.innerText;else if(o.textContent)n=o.textContent;x=3}else if(o.src&&t=='IMAGE')n=o.src;if(n){o.s_oid=s.fl(n,100);o.s_oidt=x}}return o.s_oid};s.rqf=function(t,un){var s=this,e=t.indexOf('='),u=e>=0?t.substring(0,e):'',q=e>=0?s.epa(t.substring(e+1)):'';if(u&&q&&(','+u+',').indexOf(','+un+',')>=0){if(u!=s.un&&s.un.indexOf(',')>=0)q='&u='+u+q+'&u=0';return q}return ''};s.rq=function(un){if(!un)un=this.un;var s=this,c=un.indexOf(','),v=s.c_r('s_sq'),q='';if(c<0)return s.pt(v,'&','rqf',un);return s.pt(un,',','rq',0)};s.sqp=function(t,a){var s=this,e=t.indexOf('='),q=e<0?'':s.epa(t.substring(e+1));s.sqq[q]='';if(e>=0)s.pt(t.substring(0,e),',','sqs',q);return 0};s.sqs=function(un,q){var s=this;s.squ[un]=q;return 0};s.sq=function(q){var s=this,k='s_sq',v=s.c_r(k),x,c=0;s.sqq=new Object;s.squ=new Object;s.sqq[q]='';s.pt(v,'&','sqp',0);s.pt(s.un,',','sqs',q);v='';for(x in s.squ)if(x&&(!Object||!Object.prototype||!Object.prototype[x]))s.sqq[s.squ[x]]+=(s.sqq[s.squ[x]]?',':'')+x;for(x in s.sqq)if(x&&(!Object||!Object.prototype||!Object.prototype[x])&&s.sqq[x]&&(x==q||c<2)){v+=(v?'&':'')+s.sqq[x]+'='+s.ape(x);c++}return s.c_w(k,v,0)};s.wdl=new Function('e','var s=s_c_il['+s._in+'],r=true,b=s.eh(s.wd,\"onload\"),i,o,oc;if(b)r=this[b](e);for(i=0;i<s.d.links.length;i++){o=s.d.links[i];oc=o.onclick?\"\"+o.onclick:\"\";if((oc.indexOf(\"s_gs(\")<0||oc.indexOf(\".s_oc(\")>=0)&&oc.indexOf(\".tl(\")<0)s.eh(o,\"onclick\",0,s.lc);}return r');s.wds=function(){var s=this;if(s.apv>3&&(!s.isie||!s.ismac||s.apv>=5)){if(s.b&&s.b.attachEvent)s.b.attachEvent('onclick',s.bc);else if(s.b&&s.b.addEventListener){if(s.n&&((s.n.userAgent.indexOf('WebKit')>=0&&s.d.createEvent)||(s.n.userAgent.indexOf('Firefox/2')>=0&&s.wd.MouseEvent))){s.bbc=1;s.useForcedLinkTracking=1;s.b.addEventListener('click',s.bc,true)}s.b.addEventListener('click',s.bc,false)}else s.eh(s.wd,'onload',0,s.wdl)}};s.vs=function(x){var s=this,v=s.visitorSampling,g=s.visitorSamplingGroup,k='s_vsn_'+s.un+(g?'_'+g:''),n=s.c_r(k),e=new Date,y=e.getYear();e.setYear(y+10+(y<1900?1900:0));if(v){v*=100;if(!n){if(!s.c_w(k,x,e))return 0;n=x}if(n%10000>v)return 0}return 1};s.dyasmf=function(t,m){if(t&&m&&m.indexOf(t)>=0)return 1;return 0};s.dyasf=function(t,m){var s=this,i=t?t.indexOf('='):-1,n,x;if(i>=0&&m){var n=t.substring(0,i),x=t.substring(i+1);if(s.pt(x,',','dyasmf',m))return n}return 0};s.uns=function(){var s=this,x=s.dynamicAccountSelection,l=s.dynamicAccountList,m=s.dynamicAccountMatch,n,i;s.un=s.un.toLowerCase();if(x&&l){if(!m)m=s.wd.location.host;if(!m.toLowerCase)m=''+m;l=l.toLowerCase();m=m.toLowerCase();n=s.pt(l,';','dyasf',m);if(n)s.un=n}i=s.un.indexOf(',');s.fun=i<0?s.un:s.un.substring(0,i)};s.sa=function(un){var s=this;if(s.un&&s.mpc('sa',arguments))return;s.un=un;if(!s.oun)s.oun=un;else if((','+s.oun+',').indexOf(','+un+',')<0)s.oun+=','+un;s.uns()};s.m_i=function(n,a){var s=this,m,f=n.substring(0,1),r,l,i;if(!s.m_l)s.m_l=new Object;if(!s.m_nl)s.m_nl=new Array;m=s.m_l[n];if(!a&&m&&m._e&&!m._i)s.m_a(n);if(!m){m=new Object,m._c='s_m';m._in=s.wd.s_c_in;m._il=s._il;m._il[m._in]=m;s.wd.s_c_in++;m.s=s;m._n=n;m._l=new Array('_c','_in','_il','_i','_e','_d','_dl','s','n','_r','_g','_g1','_t','_t1','_x','_x1','_rs','_rr','_l');s.m_l[n]=m;s.m_nl[s.m_nl.length]=n}else if(m._r&&!m._m){r=m._r;r._m=m;l=m._l;for(i=0;i<l.length;i++)if(m[l[i]])r[l[i]]=m[l[i]];r._il[r._in]=r;m=s.m_l[n]=r}if(f==f.toUpperCase())s[n]=m;return m};s.m_a=new Function('n','g','e','if(!g)g=\"m_\"+n;var s=s_c_il['+s._in+'],c=s[g+\"_c\"],m,x,f=0;if(s.mpc(\"m_a\",arguments))return;if(!c)c=s.wd[\"s_\"+g+\"_c\"];if(c&&s_d)s[g]=new Function(\"s\",s_ft(s_d(c)));x=s[g];if(!x)x=s.wd[\\'s_\\'+g];if(!x)x=s.wd[g];m=s.m_i(n,1);if(x&&(!m._i||g!=\"m_\"+n)){m._i=f=1;if((\"\"+x).indexOf(\"function\")>=0)x(s);else s.m_m(\"x\",n,x,e)}m=s.m_i(n,1);if(m._dl)m._dl=m._d=0;s.dlt();return f');s.m_m=function(t,n,d,e){t='_'+t;var s=this,i,x,m,f='_'+t,r=0,u;if(s.m_l&&s.m_nl)for(i=0;i<s.m_nl.length;i++){x=s.m_nl[i];if(!n||x==n){m=s.m_i(x);u=m[t];if(u){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t](d,e);else if(d)u=m[t](d);else u=m[t]()}}if(u)r=1;u=m[t+1];if(u&&!m[f]){if((''+u).indexOf('function')>=0){if(d&&e)u=m[t+1](d,e);else if(d)u=m[t+1](d);else u=m[t+1]()}}m[f]=1;if(u)r=1}}return r};s.m_ll=function(){var s=this,g=s.m_dl,i,o;if(g)for(i=0;i<g.length;i++){o=g[i];if(o)s.loadModule(o.n,o.u,o.d,o.l,o.e,1);g[i]=0}};s.loadModule=function(n,u,d,l,e,ln){var s=this,m=0,i,g,o=0,f1,f2,c=s.h?s.h:s.b,b,tcf;if(n){i=n.indexOf(':');if(i>=0){g=n.substring(i+1);n=n.substring(0,i)}else g=\"m_\"+n;m=s.m_i(n)}if((l||(n&&!s.m_a(n,g)))&&u&&s.d&&c&&s.d.createElement){if(d){m._d=1;m._dl=1}if(ln){if(s.ssl)u=s.rep(u,'http:','https:');i='s_s:'+s._in+':'+n+':'+g;b='var s=s_c_il['+s._in+'],o=s.d.getElementById(\"'+i+'\");if(s&&o){if(!o.l&&s.wd.'+g+'){o.l=1;if(o.i)clearTimeout(o.i);o.i=0;s.m_a(\"'+n+'\",\"'+g+'\"'+(e?',\"'+e+'\"':'')+')}';f2=b+'o.c++;if(!s.maxDelay)s.maxDelay=250;if(!o.l&&o.c<(s.maxDelay*2)/100)o.i=setTimeout(o.f2,100)}';f1=new Function('e',b+'}');tcf=new Function('s','c','i','u','f1','f2','var e,o=0;try{o=s.d.createElement(\"script\");if(o){o.type=\"text/javascript\";'+(n?'o.id=i;o.defer=true;o.onload=o.onreadystatechange=f1;o.f2=f2;o.l=0;':'')+'o.src=u;c.appendChild(o);'+(n?'o.c=0;o.i=setTimeout(f2,100)':'')+'}}catch(e){o=0}return o');o=tcf(s,c,i,u,f1,f2)}else{o=new Object;o.n=n+':'+g;o.u=u;o.d=d;o.l=l;o.e=e;g=s.m_dl;if(!g)g=s.m_dl=new Array;i=0;while(i<g.length&&g[i])i++;g[i]=o}}else if(n){m=s.m_i(n);m._e=1}return m};s.voa=function(vo,r){var s=this,l=s.va_g,i,k,v,x;for(i=0;i<l.length;i++){k=l[i];v=vo[k];if(v||vo['!'+k]){if(!r&&(k==\"contextData\"||k==\"retrieveLightData\")&&s[k])for(x in s[k])if(!v[x])v[x]=s[k][x];s[k]=v}}};s.vob=function(vo){var s=this,l=s.va_g,i,k;for(i=0;i<l.length;i++){k=l[i];vo[k]=s[k];if(!vo[k])vo['!'+k]=1}};s.dlt=new Function('var s=s_c_il['+s._in+'],d=new Date,i,vo,f=0;if(s.dll)for(i=0;i<s.dll.length;i++){vo=s.dll[i];if(vo){if(!s.m_m(\"d\")||d.getTime()-vo._t>=s.maxDelay){s.dll[i]=0;s.t(vo)}else f=1}}if(s.dli)clearTimeout(s.dli);s.dli=0;if(f){if(!s.dli)s.dli=setTimeout(s.dlt,s.maxDelay)}else s.dll=0');s.dl=function(vo){var s=this,d=new Date;if(!vo)vo=new Object;s.vob(vo);vo._t=d.getTime();if(!s.dll)s.dll=new Array;s.dll[s.dll.length]=vo;if(!s.maxDelay)s.maxDelay=250;s.dlt()};s.gfid=function(){var s=this,d='0123456789ABCDEF',k='s_fid',fid=s.c_r(k),h='',l='',i,j,m=8,n=4,e=new Date,y;if(!fid||fid.indexOf('-')<0){for(i=0;i<16;i++){j=Math.floor(Math.random()*m);h+=d.substring(j,j+1);j=Math.floor(Math.random()*n);l+=d.substring(j,j+1);m=n=16}fid=h+'-'+l;}y=e.getYear();e.setYear(y+2+(y<1900?1900:0));if(!s.c_w(k,fid,e))fid=0;return fid};s.applyADMS=function(){var s=this,vb=new Object;if(s.wd.ADMS&&!s.visitorID&&!s.admsc){if(!s.adms)s.adms=ADMS.getDefault();if(!s.admsq){s.visitorID=s.adms.getVisitorID(new Function('v','var s=s_c_il['+s._in+'],l=s.admsq,i;if(v==-1)v=0;if(v)s.visitorID=v;s.admsq=0;if(l){s.admsc=1;for(i=0;i<l.length;i++)s.t(l[i]);s.admsc=0;}'));if(!s.visitorID)s.admsq=new Array}if(s.admsq){s.vob(vb);vb['!visitorID']=0;s.admsq.push(vb);return 1}else{if(s.visitorID==-1)s.visitorID=0}}return 0};s.track=s.t=function(vo){var s=this,trk=1,tm=new Date,sed=Math&&Math.random?Math.floor(Math.random()*10000000000000):tm.getTime(),sess='s'+Math.floor(tm.getTime()/10800000)%10+sed,y=tm.getYear(),vt=tm.getDate()+'/'+tm.getMonth()+'/'+(y<1900?y+1900:y)+' '+tm.getHours()+':'+tm.getMinutes()+':'+tm.getSeconds()+' '+tm.getDay()+' '+tm.getTimezoneOffset(),tcf,tfs=s.gtfs(),ta=-1,q='',qs='',code='',vb=new Object;if(s.mpc('t',arguments))return;s.gl(s.vl_g);s.uns();s.m_ll();if(!s.td){var tl=tfs.location,a,o,i,x='',c='',v='',p='',bw='',bh='',j='1.0',k=s.c_w('s_cc','true',0)?'Y':'N',hp='',ct='',pn=0,ps;if(String&&String.prototype){j='1.1';if(j.match){j='1.2';if(tm.setUTCDate){j='1.3';if(s.isie&&s.ismac&&s.apv>=5)j='1.4';if(pn.toPrecision){j='1.5';a=new Array;if(a.forEach){j='1.6';i=0;o=new Object;tcf=new Function('o','var e,i=0;try{i=new Iterator(o)}catch(e){}return i');i=tcf(o);if(i&&i.next){j='1.7';if(a.reduce){j='1.8';if(j.trim){j='1.8.1';if(Date.parse){j='1.8.2';if(Object.create)j='1.8.5'}}}}}}}}}if(s.apv>=4)x=screen.width+'x'+screen.height;if(s.isns||s.isopera){if(s.apv>=3){v=s.n.javaEnabled()?'Y':'N';if(s.apv>=4){c=screen.pixelDepth;bw=s.wd.innerWidth;bh=s.wd.innerHeight}}s.pl=s.n.plugins}else if(s.isie){if(s.apv>=4){v=s.n.javaEnabled()?'Y':'N';c=screen.colorDepth;if(s.apv>=5){bw=s.d.documentElement.offsetWidth;bh=s.d.documentElement.offsetHeight;if(!s.ismac&&s.b){tcf=new Function('s','tl','var e,hp=0;try{s.b.addBehavior(\"#default#homePage\");hp=s.b.isHomePage(tl)?\"Y\":\"N\"}catch(e){}return hp');hp=tcf(s,tl);tcf=new Function('s','var e,ct=0;try{s.b.addBehavior(\"#default#clientCaps\");ct=s.b.connectionType}catch(e){}return ct');ct=tcf(s)}}}else r=''}if(s.pl)while(pn<s.pl.length&&pn<30){ps=s.fl(s.pl[pn].name,100)+';';if(p.indexOf(ps)<0)p+=ps;pn++}s.resolution=x;s.colorDepth=c;s.javascriptVersion=j;s.javaEnabled=v;s.cookiesEnabled=k;s.browserWidth=bw;s.browserHeight=bh;s.connectionType=ct;s.homepage=hp;s.plugins=p;s.td=1}if(vo){s.vob(vb);s.voa(vo)}s.fid=s.gfid();if(s.applyADMS())return '';if((vo&&vo._t)||!s.m_m('d')){if(s.usePlugins)s.doPlugins(s);if(!s.abort){var l=s.wd.location,r=tfs.document.referrer;if(!s.pageURL)s.pageURL=l.href?l.href:l;if(!s.referrer&&!s._1_referrer){s.referrer=r;s._1_referrer=1}s.m_m('g');if(s.lnk||s.eo){var o=s.eo?s.eo:s.lnk,p=s.pageName,w=1,t=s.ot(o),n=s.oid(o),x=o.s_oidt,h,l,i,oc;if(s.eo&&o==s.eo){while(o&&!n&&t!='BODY'){o=o.parentElement?o.parentElement:o.parentNode;if(o){t=s.ot(o);n=s.oid(o);x=o.s_oidt}}if(!n||t=='BODY')o='';if(o){oc=o.onclick?''+o.onclick:'';if((oc.indexOf('s_gs(')>=0&&oc.indexOf('.s_oc(')<0)||oc.indexOf('.tl(')>=0)o=0}}if(o){if(n)ta=o.target;h=s.oh(o);i=h.indexOf('?');h=s.linkLeaveQueryString||i<0?h:h.substring(0,i);l=s.linkName;t=s.linkType?s.linkType.toLowerCase():s.lt(h);if(t&&(h||l)){s.pe='lnk_'+(t=='d'||t=='e'?t:'o');s.pev1=(h?s.ape(h):'');s.pev2=(l?s.ape(l):'')}else trk=0;if(s.trackInlineStats){if(!p){p=s.pageURL;w=0}t=s.ot(o);i=o.sourceIndex;if(o.dataset&&o.dataset.sObjectId){s.wd.s_objectID=o.dataset.sObjectId;}else if(o.getAttribute&&o.getAttribute('data-s-object-id')){s.wd.s_objectID=o.getAttribute('data-s-object-id');}else if(s.useForcedLinkTracking){s.wd.s_objectID='';oc=o.onclick?''+o.onclick:'';if(oc){var ocb=oc.indexOf('s_objectID'),oce,ocq,ocx;if(ocb>=0){ocb+=10;while(ocb<oc.length&&(\"= \\t\\r\\n\").indexOf(oc.charAt(ocb))>=0)ocb++;if(ocb<oc.length){oce=ocb;ocq=ocx=0;while(oce<oc.length&&(oc.charAt(oce)!=';'||ocq)){if(ocq){if(oc.charAt(oce)==ocq&&!ocx)ocq=0;else if(oc.charAt(oce)==\"\\\\\")ocx=!ocx;else ocx=0;}else{ocq=oc.charAt(oce);if(ocq!='\"'&&ocq!=\"'\")ocq=0}oce++;}oc=oc.substring(ocb,oce);if(oc){o.s_soid=new Function('s','var e;try{s.wd.s_objectID='+oc+'}catch(e){}');o.s_soid(s)}}}}}if(s.gg('objectID')){n=s.gg('objectID');x=1;i=1}if(p&&n&&t)qs='&pid='+s.ape(s.fl(p,255))+(w?'&pidt='+w:'')+'&oid='+s.ape(s.fl(n,100))+(x?'&oidt='+x:'')+'&ot='+s.ape(t)+(i?'&oi='+i:'')}}else trk=0}if(trk||qs){s.sampled=s.vs(sed);if(trk){if(s.sampled)code=s.mr(sess,(vt?'&t='+s.ape(vt):'')+s.hav()+q+(qs?qs:s.rq()),0,ta);qs='';s.m_m('t');if(s.p_r)s.p_r();s.referrer=s.lightProfileID=s.retrieveLightProfiles=s.deleteLightProfiles=''}s.sq(qs)}}}else s.dl(vo);if(vo)s.voa(vb,1);s.abort=0;s.pageURLRest=s.lnk=s.eo=s.linkName=s.linkType=s.wd.s_objectID=s.ppu=s.pe=s.pev1=s.pev2=s.pev3='';if(s.pg)s.wd.s_lnk=s.wd.s_eo=s.wd.s_linkName=s.wd.s_linkType='';return code};s.trackLink=s.tl=function(o,t,n,vo,f){var s=this;s.lnk=o;s.linkType=t;s.linkName=n;if(f){s.bct=o;s.bcf=f}s.t(vo)};s.trackLight=function(p,ss,i,vo){var s=this;s.lightProfileID=p;s.lightStoreForSeconds=ss;s.lightIncrementBy=i;s.t(vo)};s.setTagContainer=function(n){var s=this,l=s.wd.s_c_il,i,t,x,y;s.tcn=n;if(l)for(i=0;i<l.length;i++){t=l[i];if(t&&t._c=='s_l'&&t.tagContainerName==n){s.voa(t);if(t.lmq)for(i=0;i<t.lmq.length;i++){x=t.lmq[i];y='m_'+x.n;if(!s[y]&&!s[y+'_c']){s[y]=t[y];s[y+'_c']=t[y+'_c']}s.loadModule(x.n,x.u,x.d)}if(t.ml)for(x in t.ml)if(s[x]){y=s[x];x=t.ml[x];for(i in x)if(!Object.prototype[i]){if(typeof(x[i])!='function'||(''+x[i]).indexOf('s_c_il')<0)y[i]=x[i]}}if(t.mmq)for(i=0;i<t.mmq.length;i++){x=t.mmq[i];if(s[x.m]){y=s[x.m];if(y[x.f]&&typeof(y[x.f])=='function'){if(x.a)y[x.f].apply(y,x.a);else y[x.f].apply(y)}}}if(t.tq)for(i=0;i<t.tq.length;i++)s.t(t.tq[i]);t.s=s;return}}};s.wd=window;s.ssl=(s.wd.location.protocol.toLowerCase().indexOf('https')>=0);s.d=document;s.b=s.d.body;if(s.d.getElementsByTagName){s.h=s.d.getElementsByTagName('HEAD');if(s.h)s.h=s.h[0]}s.n=navigator;s.u=s.n.userAgent;s.ns6=s.u.indexOf('Netscape6/');var apn=s.n.appName,v=s.n.appVersion,ie=v.indexOf('MSIE '),o=s.u.indexOf('Opera '),i;if(v.indexOf('Opera')>=0||o>0)apn='Opera';s.isie=(apn=='Microsoft Internet Explorer');s.isns=(apn=='Netscape');s.isopera=(apn=='Opera');s.ismac=(s.u.indexOf('Mac')>=0);if(o>0)s.apv=parseFloat(s.u.substring(o+6));else if(ie>0){s.apv=parseInt(i=v.substring(ie+5));if(s.apv>3)s.apv=parseFloat(i)}else if(s.ns6>0)s.apv=parseFloat(s.u.substring(s.ns6+10));else s.apv=parseFloat(v);s.em=0;if(s.em.toPrecision)s.em=3;else if(String.fromCharCode){i=escape(String.fromCharCode(256)).toUpperCase();s.em=(i=='%C4%80'?2:(i=='%U0100'?1:0))}if(s.oun)s.sa(s.oun);s.sa(un);s.vl_l='timestamp,dynamicVariablePrefix,visitorID,fid,vmk,visitorMigrationKey,visitorMigrationServer,visitorMigrationServerSecure,ppu,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,pageName,pageURL,referrer,contextData,currencyCode,lightProfileID,lightStoreForSeconds,lightIncrementBy,retrieveLightProfiles,deleteLightProfiles,retrieveLightData';s.va_l=s.sp(s.vl_l,',');s.vl_mr=s.vl_m='timestamp,charSet,visitorNamespace,cookieDomainPeriods,cookieLifetime,contextData,lightProfileID,lightStoreForSeconds,lightIncrementBy';s.vl_t=s.vl_l+',variableProvider,channel,server,pageType,transactionID,purchaseID,campaign,state,zip,events,events2,products,linkName,linkType';var n;for(n=1;n<=75;n++){s.vl_t+=',prop'+n+',eVar'+n;s.vl_m+=',prop'+n+',eVar'+n}for(n=1;n<=5;n++)s.vl_t+=',hier'+n;for(n=1;n<=3;n++)s.vl_t+=',list'+n;s.va_m=s.sp(s.vl_m,',');s.vl_l2=',tnt,pe,pev1,pev2,pev3,resolution,colorDepth,javascriptVersion,javaEnabled,cookiesEnabled,browserWidth,browserHeight,connectionType,homepage,pageURLRest,plugins';s.vl_t+=s.vl_l2;s.va_t=s.sp(s.vl_t,',');s.vl_g=s.vl_t+',trackingServer,trackingServerSecure,trackingServerBase,fpCookieDomainPeriods,disableBufferedRequests,mobile,visitorSampling,visitorSamplingGroup,dynamicAccountSelection,dynamicAccountList,dynamicAccountMatch,trackDownloadLinks,trackExternalLinks,trackInlineStats,linkLeaveQueryString,linkDownloadFileTypes,linkExternalFilters,linkInternalFilters,linkTrackVars,linkTrackEvents,linkNames,lnk,eo,lightTrackVars,_1_referrer,un';s.va_g=s.sp(s.vl_g,',');s.pg=pg;s.gl(s.vl_g);s.contextData=new Object;s.retrieveLightData=new Object;if(!ss)s.wds();if(pg){s.wd.s_co=function(o){return o};s.wd.s_gs=function(un){s_gi(un,1,1).t()};s.wd.s_dc=function(un){s_gi(un,1).t()}}",u=window,l=u.s_c_il,v=navigator,a=v.userAgent,h=v.appVersion,y=h.indexOf("MSIE "),p=a.indexOf("Netscape6/"),o,f,c,s,r;if(n&&(n=n.toLowerCase(),l))for(c=0;c<2;c++)for(f=0;f<l.length;f++)if(r=l[f],s=r._c,(!s||s=="s_c"||c>0&&s=="s_l")&&(r.oun==n||r.fs&&r.sa&&r.fs(r.oun,n))){if(r.sa&&r.sa(n),s=="s_c")return r}else r=0;return u.s_an="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",u.s_sp=new Function("x","d","var a=new Array,i=0,j;if(x){if(x.split)a=x.split(d);else if(!d)for(i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){j=x.indexOf(d,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i>=0)i+=d.length}}return a"),u.s_jn=new Function("a","d","var x='',i,j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.join)x=a.join(d);else for(i=1;i<j;i++)x+=d+a[i]}}return x"),u.s_rep=new Function("x","o","n","return s_jn(s_sp(x,o),n)"),u.s_d=new Function("x","var t='`^@$#',l=s_an,l2=new Object,x2,d,b=0,k,i=x.lastIndexOf('~~'),j,v,w;if(i>0){d=x.substring(0,i);x=x.substring(i+2);l=s_sp(l,'');for(i=0;i<62;i++)l2[l[i]]=i;t=s_sp(t,'');d=s_sp(d,'~');i=0;while(i<5){v=0;if(x.indexOf(t[i])>=0) {x2=s_sp(x,t[i]);for(j=1;j<x2.length;j++){k=x2[j].substring(0,1);w=t[i]+k;if(k!=' '){v=1;w=d[b+l2[k]]}x2[j]=w+x2[j].substring(1)}}if(v)x=s_jn(x2,'');else{w=t[i]+' ';if(x.indexOf(w)>=0)x=s_rep(x,w,t[i]);i++;b+=62}}}return x"),u.s_fe=new Function("c","return s_rep(s_rep(s_rep(c,'\\\\','\\\\\\\\'),'\"','\\\\\"'),\"\\n\",\"\\\\n\")"),u.s_fa=new Function("f","var s=f.indexOf('(')+1,e=f.indexOf(')'),a='',c;while(s>=0&&s<e){c=f.substring(s,s+1);if(c==',')a+='\",\"';else if((\"\\n\\r\\t \").indexOf(c)<0)a+=c;s++}return a?'\"'+a+'\"':a"),u.s_ft=new Function("c","c+='';var s,e,o,a,d,q,f,h,x;s=c.indexOf('=function(');while(s>=0){s++;d=1;q='';x=0;f=c.substring(s);a=s_fa(f);e=o=c.indexOf('{',s);e++;while(d>0){h=c.substring(e,e+1);if(q){if(h==q&&!x)q='';if(h=='\\\\')x=x?0:1;else x=0}else{if(h=='\"'||h==\"'\")q=h;if(h=='{')d++;if(h=='}')d--}if(d>0)e++}c=c.substring(0,s)+'new Function('+(a?a+',':'')+'\"'+s_fe(c.substring(o+1,e))+'\")'+c.substring(e+1);s=c.indexOf('=function(')}return c;"),e=s_d(e),y>0?(o=parseInt(f=h.substring(y+5)),o>3&&(o=parseFloat(f))):o=p>0?parseFloat(a.substring(p+10)):parseFloat(h),(o<5||h.indexOf("Opera")>=0||a.indexOf("Opera")>=0)&&(e=s_ft(e)),r||(r={},u.s_c_in||(u.s_c_il=[],u.s_c_in=0),r._il=u.s_c_il,r._in=u.s_c_in,r._il[r._in]=r,u.s_c_in++),r._c="s_c",new Function("s","un","pg","ss",e)(r,n,t,i),r}var r=t[n],i=u(r.suite),e,f;return i.charSet="UTF-8",i.currencyCode="CAD",i.trackDownloadLinks=!0,i.trackExternalLinks=!0,i.trackInlineStats=!0,i.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",i.linkInternalFilters="javascript:,www.radio-canada.ca",i.linkLeaveQueryString=!1,i.linkTrackVars="None",i.linkTrackEvents="None",i.visitorNamespace=r.ns,i.trackingServer=r.server,i.getQueryParam=new Function("p","d","u","var s=this,v='',i,t;d=d?d:'';u=u?u:(s.pageURL?s.pageURL:s.wd.location);if(u=='f')u=s.gtfs().location;while(p){i=p.indexOf(',');i=i<0?p.length:i;t=s.p_gpv(p.substring(0,i),u+'');if(t){t=t.indexOf('#')>-1?t.substring(0,t.indexOf('#')):t;}if(t)v+=v?d+t:t;p=p.substring(i==p.length?i:i+1)}return v"),i.p_gpv=new Function("k","u","var s=this,v='',i=u.indexOf('?'),q;if(k&&i>-1){q=u.substring(i+1);v=s.pt(q,'&','p_gvf',k)}return v"),i.p_gvf=new Function("t","k","if(t){var s=this,i=t.indexOf('='),p=i<0?t:t.substring(0,i),v=i<0?'True':t.substring(i+1);if(p.toLowerCase()==k.toLowerCase())return s.epa(v)}return ''"),e="",f=function(){var f=window,i=f.s_giq,n,t,r;if(i)for(n=0;n<i.length;n++)t=i[n],r=u(t.oun),r.sa(t.un),r.setTagContainer(t.tagContainerName);f.s_giq=0},f(),i};return{s:i(),profils:t}}}(n),function(n){n.plugin.omnitureToutvV1=function(t){function v(t){n.utils.log(t,"warn")}function u(t){n.utils.log(t,"omniture")}function o(t,i){function r(t){return n.utils.dom.meta(t)}function f(n,t){for(var r="",i=0;i<t.length;i++)r+=(i==0?"":",")+n+t[i];return r}i.s.linkTrackVars=i.s.Media.trackVars="events,"+f("prop",y)+","+f("eVar",p);u(i.s.Media.trackVars);i.s.Media.trackEvents=i.events=i.s.linkTrackEvents=t;try{i.s.prop41=i.s.eVar41=c(e.avNom);i.s.prop46=i.s.eVar46=c(e.avEmission);i.s.prop54=i.s.eVar54=c(e.isFree)?"gratuit":"payant";i.s.prop55=i.s.eVar55=r("rc.acces");i.s.prop56=i.s.eVar56=r("rc.telco");i.s.prop57=i.s.eVar57=r("rc.forfait");i.s.prop59=i.s.eVar59=r("rc.plan");i.s.prop60=i.s.eVar60="id"+e.idMedia;i.s.prop61=i.s.eVar61=e.duration;i.s.prop71=i.s.eVar71="ici.tou.tv";i.s.prop72=i.s.eVar72="icitoutv_siteweb";i.s.prop73=i.s.eVar73="siteweb";i.s.prop75=i.s.eVar75="video"}catch(o){u("Error durring initOmniture :"+o.message,"error")}}function c(n){return typeof n=="undefined"||n===null||n===""?"valeur-non-disponible":n}function b(){if(n.params.omnitureV1!=="true")return null;var t=n.environnement===""?"radiocanada_prod_toutv_mix":"radiocanada_dev_toutv_mix";return n.plugin.omnitureCoreV1(t)}function k(){function c(n){f=0;e=n.data}function l(i){var r=f%120;u("Stats "+(i==""?"change":"end")+" media  Toutv :"+r,"omniture");n.s.events=i+"event1="+r;o(i+"event1",n);t();f=0}function a(n){if(w.check()&&n!==0){f+=Date.now()-h;h=Date.now();var t=Math.round(f/1e3);t%120==0&&p(n);t===60&&d(n)}}function v(){}function y(){l("event5,")}function p(i){u("Stats each 120 secs "+i,"omniture");n.s.events="event1=120";o("event1",n);t()}function k(){u("Stats start","omniture");f=1e3;n.s.events="event2,event1=0";o("event2,event1,event20,event21,event22",n);t()}function d(i){u("Stats first minute - "+i,"omniture");n.s.events="event3";o("event3",n);t()}function t(){var i=n.profils.radiocanada_prod_toutv_mix,t;n.s.Media.s.tl(!0,"o","TOU.TV Siteweb AudioVideo",null,null);t=n.profils.radiocanada_dev_toutv}function g(){h=Date.now()}function nt(){}var n=b(),s;n&&(u("initOmniture ","omniture"),n.s.loadModule("Media"),n.s.Media.playerName="Player Radio-Canada",n.s.Media.trackSeconds=120,n.s.Media.autoTrack=!0,n.s.Media.trackUsingContextData=!1,s=function(){},i.addEventListener(r.BEGIN,c),i.addEventListener(r.MEDIA_CHANGED,v),i.addEventListener(r.CURRENT_TIME_CHANGE,a),i.addEventListener(r.PLAY,g),i.addEventListener(r.PAUSE,nt),i.addEventListener(r.START,k),i.addEventListener(r.COMPLETE,y),i.addEventListener(r.CHAPTER_END,s),i.addEventListener(r.CHAPTER_START,s))}var a=this,d=t.playerSettings(),g=n.events.core,i=t.getInstance().internalApi,r=n.events.core,l="RadioCanada.Stats.Omniture.Code",s;u("Init Omniture Toutv");s=null;try{s=eval(l)}catch(nt){v('prefix "'+l+'" is not defined');return}a.init=k(s);var y=[41,46,54,55,56,57,59,60,61,71,72,73,75],p=[41,46,54,55,56,57,59,60,61,71,72,73,75],f=0,h=0,e=null,w=new n.utils.Timer(1e3)}}(n),n.plugin.heartbeat={},n.plugin.heartbeat.Manager=function(t){var i=new n.plugin.heartbeat.dataLayerHelper,f=null,r,e,u,o,s,h,c;(n.environnement==="lcl-"||n.environnement==="dev-")&&(f="rc-dev05");this.heartbeatInstance=new n.plugin.heartbeat.Instance(t,i,f);this.console=new n.plugin.heartbeat.Console("heartbeat manager debug - ",this.heartbeatInstance.isDebug);n.params.heartbeat==="true"?(this.console.info("Heartbeat plugin enabled because the 'heartbeat' bamboo param is true."),r=this.createStateManager(),e=new n.services.neuro.Api(n.utils.doT,n.utils.ajax,t.playerSettings),new n.plugin.heartbeat.LiveVideo(t,this.heartbeatInstance,r,e,i).track(),u=new n.plugin.heartbeat.Ad(t,this.heartbeatInstance,r),u.track(),new n.plugin.heartbeat.Vod(t,this.heartbeatInstance,r,u,i).track(),new n.plugin.heartbeat.LiveVideoEvent(t,this.heartbeatInstance,r,i).track(),o=new n.plugin.heartbeat.Instance(t,i,n.environnement==="lcl-"||n.environnement==="dev-"?"rc-dev05":"rc-musique-v2"),new n.plugin.heartbeat.IciMusiqueMuse(t,o,r,i).track(),s=new n.services.metrik.Api("fc24a3f9-477a-4a33-bbdb-fde5e1f61531","toutv_siteweb",n.utils.doT,n.utils.ajax),new n.plugin.heartbeat.Toutv(t,this.heartbeatInstance,r,u,s,i).track(),h=new n.plugin.heartbeat.Instance(t,i,"rc-dev05"),c=new n.services.metrik.Api("503c1918-c1a8-4d9f-a989-09473b7c7667","rcca_siteweb_unit",n.utils.doT,n.utils.ajax),new n.plugin.heartbeat.LiveAudio(t,h,r,c).track()):this.console.info("Heartbeat plugin disabled because the 'heartbeat' bamboo param is false.")},n.plugin.heartbeat.Manager.prototype.createStateManager=function(){return new n.plugin.heartbeat.StateManager({track_session_start_called:1,chapter_started:2,chapter_completed:3,chapter_skipped:4,ad_started:5,ad_completed:6,adBreak_started:7,adBreak_completed:8,video_completed:9,seek_started:10,seek_completed:11,track_play_called_once:12,ignore_next_track_play_call:13},this.heartbeatInstance.isDebug)},n.plugin.heartbeat.CommandExecutor=function(){this.reset()},n.plugin.heartbeat.CommandExecutor.prototype={constructor:n.plugin.heartbeat.CommandExecutor,add:function(n,t,i){i=i||[];this.commands.push({self:n,name:t,args:i})},executeAll:function(){for(var t,n=0;n<this.commands.length;n++)t=this.commands[n],this.execute(t);this.reset()},execute:function(n){n.self[n.name].apply(n.self,n.args)},reset:function(){this.commands=[]}},n.plugin.heartbeat.dataLayerHelper=function(){this.metaTagToDataLayer_LinkTable={"rc.idMedia":"page.IdMedia","rc.section":"page.Section","rc.groupeSection":"page.GroupeSection","rc.domaine":"page.Domaine","rc.formatApplication":"page.FormatApplication","rc.application":"page.Application"};this.dataLayerAvailable=typeof dataLayerHelper!="undefined"},t=n.plugin.heartbeat.dataLayerHelper.prototype,t.metaPage=function(n){var r,t,i;if(this.dataLayerAvailable)return r=this.metaTagToDataLayer_LinkTable[n],this.getDataLayerVariable(r);if(t=document.getElementsByTagName("meta"),!t)return"";for(i=0;i<t.length;i++)if(t[i].getAttribute("name")===n)return t[i].getAttribute("content");return""},t.getDataLayerVariable=function(n){return this.dataLayerAvailable?window.dataLayerHelper.get(n):""},t.getPageName=function(){var n="undefined pageName";try{n=this.dataLayerAvailable?this.getDataLayerVariable("page.NomPage"):RadioCanada.Stats.Omniture.Code.s.pageName}catch(t){}return encodeURI(n)},n.plugin.heartbeat.Instance=function(t,i,r){this.rsid=n.utils.isNotNullOrUndefined(r)?r:typeof t.playerSettings().heartbeatRSID!="undefined"?t.playerSettings().heartbeatRSID:"rc-dev05";this.DEBUG_LEVELS={LOW:"low",HIGH:"high",NONE:"none"};this.playerSettings=t.playerSettings();this.dataLayerHelper=i;this.debugLevel=this.DEBUG_LEVELS.NONE;typeof this.playerSettings.heartbeatDebugLevel!="undefined"&&(this.playerSettings.heartbeatDebugLevel===this.DEBUG_LEVELS.LOW||this.playerSettings.heartbeatDebugLevel===this.DEBUG_LEVELS.HIGH)&&(this.debugLevel=this.playerSettings.heartbeatDebugLevel);this.isDebugLow=this.playerSettings.heartbeatDebugLevel===this.DEBUG_LEVELS.LOW;this.isDebugHigh=this.playerSettings.heartbeatDebugLevel===this.DEBUG_LEVELS.HIGH;this.isDebug=this.isDebugLow||this.isDebugHigh;this.console=new n.plugin.heartbeat.Console("heartbeat instance debug - ",this.isDebug);this.api=t.getInstance().internalApi;this.adobeAnalyticsLibrariesLoaded=!1},n.plugin.heartbeat.Instance.prototype={constructor:n.plugin.heartbeat.Instance,loadAdobeAnalyticsLibraries:function(t,i){var f=typeof t=="function"?t:function(){},u,r;this.console.info("Loading adobe analytics libraries...");u=this;r=["//s.radio-canada.ca/player/ressources/js/VideoHeartbeat.min.js"];this.console.info("VideoHeartbeat.min.js needed");typeof AppMeasurement=="undefined"&&(r.push("//s.radio-canada.ca/player/ressources/js/AppMeasurement.js"),this.console.info("AppMeasurement.js needed"));typeof Visitor=="undefined"&&(r.push("//s.radio-canada.ca/player/ressources/js/VisitorAPI.js"),this.console.info("VisitorAPI.js needed"));n.utils.loadjs(r,{success:function(){u.console.info("Adobe analytics libraries loaded.");u.init();f.call(i)}})},init:function(){this.adobeAnalyticsLibrariesLoaded||(this.MediaHeartbeat=ADB.va.MediaHeartbeat,this.MediaHeartbeatConfig=ADB.va.MediaHeartbeatConfig,this.MediaHeartbeatDelegate=ADB.va.MediaHeartbeatDelegate,this.createConfiguration(),this.createVisitorInstance(),this.createAppMeasurementInstance(),this.createMediaHeartbeatConfigInstance(),this.implementMediaHeartbeatDelegate(),this.createMediaHeartbeatInstance(),this.adobeAnalyticsLibrariesLoaded=!0,this.console.info("heartbeat plugin initialized"))},createConfiguration:function(){var n="radiocanada.122.2o7.net",t="55E654E45894AF350A495CFE@AdobeOrg";this.configuration={PLAYER:{NAME:"radio-canada-player",PAGE_VARS:{pageName:this.dataLayerHelper.getPageName(),prop60:"",prop63:"web",prop64:"",s_account:this.rsid}},VISITOR:{MARKETING_CLOUD_ORG_ID:t,TRACKING_SERVER:n},APP_MEASUREMENT:{RSID:this.rsid,TRACKING_SERVER:n},HEARTBEAT:{TRACKING_SERVER:"radiocanada.hb.omtrdc.net",PUBLISHER:t}};this.console.info("Create configuration. - "+JSON.stringify(this.configuration))},createVisitorInstance:function(){this.visitor=new Visitor(this.configuration.VISITOR.MARKETING_CLOUD_ORG_ID);this.visitor.trackingServer=this.configuration.VISITOR.TRACKING_SERVER;this.console.info("Create visitor instance.")},createAppMeasurementInstance:function(){this.appMeasurement=new AppMeasurement;this.appMeasurement.visitor=this.visitor;this.appMeasurement.trackingServer=this.configuration.APP_MEASUREMENT.TRACKING_SERVER;this.appMeasurement.account=this.configuration.APP_MEASUREMENT.RSID;this.appMeasurement.pageName=this.configuration.APP_MEASUREMENT.PAGE_NAME;this.appMeasurement.charSet="UTF-8";this.console.info("Create AppMeasurement instance.")},createMediaHeartbeatConfigInstance:function(){this.mediaConfig=new this.MediaHeartbeatConfig;this.mediaConfig.trackingServer=this.configuration.HEARTBEAT.TRACKING_SERVER;this.mediaConfig.playerName=this.configuration.PLAYER.NAME;this.mediaConfig.ssl=!0;this.mediaConfig.debugLogging=this.isDebugHigh;this.console.info("Create media heartbeat config instance.")},implementMediaHeartbeatDelegate:function(){this.mediaDelegate=new this.MediaHeartbeatDelegate;this.mediaDelegate.getCurrentPlaybackTime=function(){var n=this.api.media().getProvider().currentTime;return Math.round(n)}.bind(this);this.mediaDelegate.getQoSObject=function(){var n={bitrate:this.api.media().getProvider().bitrate,startuptime:this.mediaDelegate.getCurrentPlaybackTime(),fps:null,droppedFrames:null};return this.MediaHeartbeat.createQoSObject(n.bitrate,n.startuptime,n.fps,n.droppedFrames)}.bind(this);this.console.info("Implement media heartbeat delegate.")},createMediaHeartbeatInstance:function(){this.mediaHeartbeat=new this.MediaHeartbeat(this.mediaDelegate,this.mediaConfig,this.appMeasurement);this.console.info("Create media heartbeat instance.")}},n.plugin.heartbeat.StateManager=function(t,i){this._possibleStates=t;this.current_states=[];this.console=new n.plugin.heartbeat.Console("heartbeat debug - State Manager - ",i);this.nextStateTriggers=[]},n.plugin.heartbeat.StateManager.prototype={constructor:n.plugin.heartbeat.StateManager,is:function(n){return this.current_states.indexOf(n)!==-1},add:function(n){this.is(n)||(this.current_states.push(n),this.fireOnNextState(n),this.console.info('add state "'+this.findStateName(n)+'"'))},remove:function(n){var t=this.current_states.indexOf(n);t!==-1&&(this.current_states.splice(t,1),this.console.info('remove state "'+this.findStateName(n)+'"'))},states:function(){return this.current_states},possibleStates:function(){return this._possibleStates},findStateName:function(n){for(var t in this._possibleStates)if(this._possibleStates[t]===n)return t;return"state name not found"},reset:function(){this.current_states=[];this.console.info("reset states")},onNextState:function(n,t,i){this.nextStateTriggers.push({state:n,callback:t,context:i})},fireOnNextState:function(n){for(var i,f,r,e,u=[],t=this.nextStateTriggers.length-1;t>=0;t--)i=this.nextStateTriggers[t],i.state===n&&(f=i.context||this,i.callback.call(f),u.push(t));for(r=0;r<u.length;r++)e=u[r],this.nextStateTriggers.splice(e,1)}},n.plugin.heartbeat.Console=function(n,t){this.messagePrefix=n;this.isDebug=t},n.plugin.heartbeat.Console.prototype={constructor:n.plugin.heartbeat.Console,info:function(n){this.write("info",n)},warn:function(n){this.write("warn",n)},error:function(n){this.write("error","custom error: "+n)},log:function(n){this.write("log",n)},debug:function(n){this.write("debug",n)},write:function(t,i){i=this.messagePrefix+i;this.isDebug&&window.console[t](i);n.utils.log(i,"heartbeat_"+t)}},n.plugin.heartbeat.Base=function(t,i,r){this.console=new n.plugin.heartbeat.Console("heartbeat base class debug - ",i.isDebug);this.heartbeatInstance=i;this.api=t.getInstance().internalApi;this.instance=t.getInstance();this.stateManager=r;this.states=this.stateManager.possibleStates();this.commandExecutor=new n.plugin.heartbeat.CommandExecutor;this.playerSettings=t.playerSettings();this.events=[];this.eventsBound=!1;this.librariesLoaded=!1},t=n.plugin.heartbeat.Base.prototype,t.onLibrariesLoaded=function(){this.MediaHeartbeat=this.heartbeatInstance.MediaHeartbeat;this.configuration=this.heartbeatInstance.configuration;this.mediaHeartbeat=this.heartbeatInstance.mediaHeartbeat;this.mediaDelegate=this.heartbeatInstance.mediaDelegate;this.librariesLoaded=!0;this.commandExecutor.executeAll()},t.bindEventHandlers=function(){var n,t;if(!this.eventsBound){for(n=0;n<this.events.length;n++)t=this.events[n],this.api.addEventListener(t.name,this,t.handler);this.eventsBound=!0;this.console.info("bind event handlers")}},t.unbindEventHandlers=function(){for(var t,n=0;n<this.events.length;n++)t=this.events[n],this.api.removeEventListener(t.name,t.handler);this.eventsBound=!1;this.console.info("unbind event handlers")},t.onEventProxy=function(n){return function(t){this.executeIfLibrariesLoaded(this,n,[t])}},t.executeIfLibrariesLoaded=function(n,t,i){if(!this.librariesLoaded){this.commandExecutor.add(n,t,i);return}this.commandExecutor.execute({self:n,name:t,args:i})},t.isToutv=function(t){return t==="toutv"&&(window.document.location.host.indexOf("tou.tv")!==-1||n.environnement==="lcl-")},t.isIciMusiqueOrMuse=function(t,i){var r=window.document.location.host.indexOf("ici.radio-canada.ca")!==-1||n.environnement==="lcl-";return r&&t==="medianetlive"&&["cbfx_rouyn","cbfx_maritimes","chfax","cbufx","cbfx_estduquebec","cbfx_shr","cksbx","cbfx_tr","cbfx","cbonx","cbofx","cbvx","cbjx","cbkfx","cbafx_terreneuve","cjbcx","cbefx",19].indexOf(i)!==-1},n.plugin.heartbeat.Vod=function(t,i,r,u,f){n.plugin.heartbeat.Base.apply(this,[t,i,r]);this.console=new n.plugin.heartbeat.Console("heartbeat vod debug - ",this.heartbeatInstance.isDebug);this.lastChapterObject=null;this.lastBitrate=null;this.ad=u;this.dataLayerHelper=f;var e=n.events.core;this.events=[{name:e.START,handler:this.onEventProxy("onContentStart")},{name:e.PLAY,handler:this.onEventProxy("onContentPlay")},{name:e.PAUSE,handler:this.onEventProxy("onContentPause")},{name:e.MEDIA_CHANGED,handler:this.onEventProxy("onMediaChanged")},{name:e.END,handler:this.onEventProxy("onContentEnd")},{name:e.AD_STARTED,handler:this.onEventProxy("onAdBreakStart")},{name:e.SINGLE_AD_COMPLETE,handler:this.onEventProxy("onAdComplete")},{name:e.AD_ENDED_FROM_FLASH,handler:this.onEventProxy("onAdComplete")},{name:e.DISPOSE,handler:this.onEventProxy("onDispose")},{name:e.SEEKING,handler:this.onEventProxy("onSeeking")},{name:e.SEEK_COMPLETE,handler:this.onEventProxy("onSeekComplete")},{name:e.NEXT_CHAPTER,handler:this.onEventProxy("onNextChapter")},{name:e.END_CHAPTER,handler:this.onEventProxy("onEndChapter")},{name:e.SKIP_CHAPTER,handler:this.onEventProxy("onSkipChapter")},{name:e.BITRATE_CHANGED,handler:this.onEventProxy("onBitrateChanged")}]},n.plugin.heartbeat.Vod.prototype=Object.create(n.plugin.heartbeat.Base.prototype),n.plugin.heartbeat.Vod.prototype.constructor=n.plugin.heartbeat.Vod,t=n.plugin.heartbeat.Vod.prototype,t.track=function(){this.api.addEventListener(n.events.core.METAS_CHANGE,this,this.onContentMetasChange);this.heartbeatInstance.loadAdobeAnalyticsLibraries(this.onLibrariesLoaded,this)},t.createMediaObject_ChaptersArray=function(){this.createMediaObject(this.metas);this.createChaptersArray(this.metas.chaptersTime,this.mediaObject.createVideoInfo().name)},t.createMediaObject=function(n){var t={name:this.constructVideoName(n),id:this.constructVideoID(n),length:n.duration,streamType:this.MediaHeartbeat.StreamType.VOD};this.mediaObject=this.MediaHeartbeat.createMediaObject(t.name,t.id,t.length,t.streamType);this.console.info("Create media object. - "+JSON.stringify(t))},t.constructVideoName=function(n){return[n.avNomEmission?n.avNomEmission.substr(0,30):"",n.OriginalDate,"differe",this.mediaMarque(n.network),n.isVideo?"video":"audio",this.duration(n.duration),n.TitleID.substr(0,50)].join("|")},t.mediaMarque=function(t){for(var i in n.mediaMarque)if(n.mediaMarque.hasOwnProperty(i)&&n.mediaMarque[i].indexOf(t)!==-1)return i;return"undefined"},t.duration=function(n){return Math.floor(n/60)+"m"+(n%60<10?"0":"")+n%60},t.constructVideoID=function(n){return n.appCode+"-"+n.idMedia},t.createChaptersArray=function(n,t){var r,u,i;for(this.chapters=[],r=n.length>0,r&&(n=[0].concat(n)),u=this.metas.duration,i=0;i<n.length;i++)r&&(u=i===0?n[i+1]:i<n.length-1?n[i+1]-n[i]:this.metas.duration-n[i]),this.chapters.push({name:t+"|"+(i+1)+"de"+n.length,length:u,position:i+1,startTime:i===0?0:n[i]});this.console.info("Create chapters array. - "+JSON.stringify(this.chapters))},t.createChapterObject=function(){var t=this.api.getCurrentChapter(),n,i;n=t!==0&&t===this.chapters.length?this.chapters[t-1]:this.chapters[t];typeof n=="undefined"&&(i=this.mediaObject.createVideoInfo(),n={name:i.name,length:i.length,position:1,startTime:0});this.chapterObject=this.MediaHeartbeat.createChapterObject(n.name,n.position,n.length,n.startTime);this.console.info("Create chapter object. - "+JSON.stringify(n))},t.getContextData=function(){var i=this.configuration.PLAYER.PAGE_VARS,n=document.location.href.split("?")[0],t={videopage:i.pageName,videolang:"fr",videourl:n,player_contexte:"tele",player_clientId:this.playerSettings.site,media_videoNameParDate:this.videoNameParDate(this.metas),media_title:this.metas.title,media_date:this.metas.OriginalDate,media_emission:this.metas.avNomEmission,media_saison:this.metas.SrcSaison,media_episode:this.metas.SrcEpisode,media_genre:this.metas.theme,media_reseau:this.metas.chain,media_chaine:this.metas.network,media_marque:this.mediaMarque(this.metas.network),media_pageIdMedia:this.dataLayerHelper.metaPage("rc.idMedia"),media_fileId:this.metas.fileID,media_pageSection:this.dataLayerHelper.metaPage("rc.section"),media_pageGroupeSection:this.dataLayerHelper.metaPage("rc.groupeSection"),media_pageDomaine:this.dataLayerHelper.metaPage("rc.domaine"),media_pageUrl:n,media_pageFormatApplication:this.dataLayerHelper.metaPage("rc.formatApplication"),media_pageApplication:this.dataLayerHelper.metaPage("rc.application")};return this.console.info("Creating custom context data. - "+JSON.stringify(t)),t},t.videoNameParDate=function(n){return[n.avNomEmission?n.avNomEmission.substr(0,30):"",n.OriginalDate].join("|")},t.timenow=function(){var n=new Date,u="am",t=n.getHours(),i=n.getMinutes(),r=n.getSeconds();return t>=12&&(t>12&&(t-=12),u="pm"),i<10&&(i="0"+i),r<10&&(r="0"+r),n.toLocaleDateString()+" "+t+":"+i+":"+r+" "+u},t.sessionStartCalled=function(){return this.stateManager.is(this.states.track_session_start_called)},t.resetStates=function(){this.stateManager.reset();this.lastChapterObject=null;this.lastBitrate=null},t.onContentMetasChange=function(n){this.console.info("onContentMetasChange");var t=n.data.isLive||!n.data.isVideo||this.isToutv(n.data.appCode);if(t){this.console.info("Tracking is disabled because it's not a video on demand stream.");this.unbindEventHandlers();this.commandExecutor.reset();this.resetStates();return}this.metas=n.data;this.executeIfLibrariesLoaded(this,"createMediaObject_ChaptersArray");this.bindEventHandlers()},t.onContentStart=function(){this.console.info("onContentStart");this.stateManager.is(this.states.track_play_called_once)||this.trackChapterStart()},t.onContentPlay=function(){this.console.info("onContentPlay");this.stateManager.is(this.states.track_play_called_once)&&this.trackPlay()},t.onContentPause=function(){this.console.info("onContentPause");this.trackPause()},t.onMediaChanged=function(){this.console.info("onMediaChanged");this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.resetStates())},t.onContentEnd=function(){this.console.info("onContentEnd");this.trackSessionEnd()},t.onAdBreakStart=function(){this.console.info("onAdBreakStart");this.stateManager.is(this.states.track_session_start_called)||this.trackSessionStart()},t.onAdComplete=function(){this.console.info("onAdComplete");this.stateManager.is(this.states.seek_started)&&this.trackSeekComplete()},t.onDispose=function(){this.console.info("onDispose");this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called),this.unbindEventHandlers())},t.onSeeking=function(){this.console.info("onSeeking");this.trackSeekStart()},t.onSeekComplete=function(){(this.console.info("onSeekComplete"),this.stateManager.is(this.states.seek_completed))||(this.stateManager.is(this.states.chapter_skipped)&&this.trackChapterStart(),this.trackSeekComplete())},t.onNextChapter=function(){(this.console.info("onNextChapter"),this.sessionStartCalled()&&!this.stateManager.is(this.states.chapter_started))&&(this.trackChapterStart(),this.stateManager.remove(this.states.chapter_completed),this.stateManager.add(this.states.chapter_started))},t.onEndChapter=function(){(this.console.info("onEndChapter"),this.sessionStartCalled()&&!this.stateManager.is(this.states.chapter_completed))&&(this.trackChapterComplete(),this.stateManager.remove(this.states.chapter_started),this.stateManager.add(this.states.chapter_completed))},t.onSkipChapter=function(){this.console.info("onSkipChapter");this.trackChapterSkip();this.trackChapterStart()},t.onBitrateChanged=function(n){this.console.info("onBitrateChanged");var t=n.data.bitrate;t!==0&&(this.trackBitrateChange(t),this.lastBitrate=t)},t.trackSessionStart=function(){var n=this.getContextData();this.mediaHeartbeat.trackSessionStart(this.mediaObject,n);this.console.info("track session start");this.stateManager.add(this.states.track_session_start_called)},t.trackPlay=function(){if(this.sessionStartCalled()||this.trackSessionStart(),this.stateManager.is(this.states.ignore_next_track_play_call)){this.stateManager.remove(this.states.ignore_next_track_play_call);return}this.mediaHeartbeat.trackPlay();this.console.info("track play");this.stateManager.add(this.states.track_play_called_once)},t.trackComplete=function(){this.mediaHeartbeat.trackComplete();this.console.info("track complete");this.stateManager.add(this.states.video_completed)},t.trackPause=function(){(this.sessionStartCalled()||this.trackSessionStart(),this.stateManager.is(this.states.video_completed))||(this.mediaHeartbeat.trackPause(),this.console.info("track pause"))},t.trackSessionEnd=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.stateManager.is(this.states.ad_started)&&(this.ad.trackAdComplete(),this.ad.trackAdBreakComplete()),this.stateManager.is(this.states.chapter_completed)||this.trackChapterComplete(),this.trackComplete(),this.resetStates(),this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called))},t.trackSeekStart=function(){this.sessionStartCalled()&&(this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.SeekStart),this.console.info("track seek start"),this.stateManager.remove(this.states.seek_completed),this.stateManager.add(this.states.seek_started))},t.trackSeekComplete=function(){this.sessionStartCalled()&&(this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.SeekComplete),this.console.info("track seek complete"),this.stateManager.remove(this.states.seek_started),this.stateManager.add(this.states.seek_completed))},t.trackChapterStart=function(){(this.stateManager.is(this.states.track_session_start_called)||this.trackSessionStart(),this.createChapterObject(),this.lastChapterObject===null||this.lastChapterObject.data["a.position"]!==this.chapterObject.data["a.position"])&&(this.lastChapterObject=this.chapterObject,this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterStart,this.chapterObject,null),this.console.info("track chapter start"),this.stateManager.add(this.states.track_play_called_once))},t.trackChapterComplete=function(){this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterComplete);this.console.info("track chapter complete")},t.trackChapterSkip=function(){this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterSkip);this.console.info("track chapter skip")},t.trackBitrateChange=function(n){this.sessionStartCalled()&&n!==this.lastBitrate&&(this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.BitrateChange,this.mediaDelegate.getQoSObject()),this.console.info("track bitrate change - new bitrate = "+n))},n.plugin.heartbeat.LiveVideo=function(t,i,r,u,f){n.plugin.heartbeat.Base.apply(this,[t,i,r]);this.console=new n.plugin.heartbeat.Console("heartbeat live debug - ",this.heartbeatInstance.isDebug);this.neuroApi=u;this.programme=null;this.dataLayerHelper=f;var e=n.events.core;this.events=[{name:e.LIVE_PROGRAM_START,handler:this.onEventProxy("onLiveProgramStart")},{name:e.LIVE_PROGRAM_END,handler:this.onEventProxy("onLiveProgramEnd")},{name:e.PAUSE,handler:this.onEventProxy("onContentPause")},{name:e.DISPOSE,handler:this.onEventProxy("onDispose")}]},n.plugin.heartbeat.LiveVideo.prototype=Object.create(n.plugin.heartbeat.Base.prototype),n.plugin.heartbeat.LiveVideo.prototype.constructor=n.plugin.heartbeat.LiveVideo,t=n.plugin.heartbeat.LiveVideo.prototype,t.track=function(){this.api.addEventListener(n.events.core.METAS_CHANGE,this,this.onContentMetasChange);this.heartbeatInstance.loadAdobeAnalyticsLibraries(this.onLibrariesLoaded,this)},t.createMediaObject=function(){var t=this.constructVideoName(),n={name:t,id:t,length:-1,streamType:this.MediaHeartbeat.StreamType.LIVE};this.mediaObject=this.MediaHeartbeat.createMediaObject(n.name,n.id,n.length,n.streamType);this.console.info("Create media object. - "+JSON.stringify(n))},t.constructVideoName=function(){var n=this.api.media().metas;return[this.programme.codeName?this.programme.codeName:"",n.OriginalDate,"live",this.mediaMarque(n.network),n.isVideo?"video":"audio",this.programme.title].join("|")},t.mediaMarque=function(t){for(var i in n.mediaMarque)if(n.mediaMarque.hasOwnProperty(i)&&n.mediaMarque[i].indexOf(t)!==-1)return i;return"undefined"},t.getContextData=function(){var r=this.configuration.PLAYER.PAGE_VARS,t=document.location.href.split("?")[0],n=this.api.media().metas,i={videopage:r.pageName,videolang:"fr",videourl:t,player_contexte:"tele",player_clientId:this.playerSettings.site,media_videoNameParDate:this.videoNameParDate(n),media_title:this.programme.title,media_date:n.OriginalDate,media_emission:this.programme.codeName,media_genre:n.theme,media_reseau:n.chain,media_chaine:n.network,media_marque:this.mediaMarque(n.network),media_pageIdMedia:n.idMedia,media_fileId:n.idMedia,media_pageSection:this.dataLayerHelper.metaPage("rc.section"),media_pageGroupeSection:this.dataLayerHelper.metaPage("rc.groupeSection"),media_pageDomaine:this.dataLayerHelper.metaPage("rc.domaine"),media_pageUrl:t,media_pageFormatApplication:this.dataLayerHelper.metaPage("rc.formatApplication"),media_pageApplication:this.dataLayerHelper.metaPage("rc.application")};return this.console.info("Creating custom context data. - "+JSON.stringify(i)),i},t.videoNameParDate=function(){var n=this.api.media().metas;return[this.programme.codeName?this.programme.codeName:"",n.OriginalDate].join("|")},t.resetStates=function(){this.stateManager.reset()},t.createChapterObject=function(){var t=this.mediaObject.createVideoInfo(),n={name:t.name,length:t.length,position:1,startTime:0};this.chapterObject=this.MediaHeartbeat.createChapterObject(n.name,n.position,n.length,n.startTime);this.console.info("Create chapter object. - "+JSON.stringify(n))},t.onContentMetasChange=function(t){this.console.info("onContentMetasChange");var i=t.data,r=!i.isLive||!i.isVideo||n.utils.isWebcast(i);if(r){this.console.info("Tracking is disabled because it's not a live video stream.");this.unbindEventHandlers();this.commandExecutor.reset();this.resetStates();return}this.bindEventHandlers()},t.onContentPause=function(){this.console.info("onContentPause");this.trackComplete();this.trackSessionEnd()},t.onLiveProgramStart=function(n){var f;this.console.log("onLiveProgramStart");var t=n.data.broadcast,i=t.broadcastableItem,r=typeof i=="undefined",u=r?t.id:i.id;u>0?(this.console.log("Get the current program info from neuro."),this.neuroApi.getProgramme(u,this.onGetProgrammeSuccess.bind(this))):(this.console.log("The current program as no programID in Neuro."),f={codeName:"emission-inconnue",title:r?t.title:i.title},this.onGetProgrammeSuccess.apply(this,[f]))},t.onLiveProgramEnd=function(){this.console.log("onLiveProgramEnd");this.trackChapterComplete();this.trackComplete();this.trackSessionEnd()},t.onGetProgrammeSuccess=function(n){this.console.log("Get the current program info from neuro was a success.");this.programme=n;this.createMediaObject();this.trackSessionStart();this.trackPlay();this.trackChapterStart()},t.onDispose=function(){this.console.info("onDispose");this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called),this.unbindEventHandlers())},t.trackSessionStart=function(){var n=this.getContextData();this.mediaHeartbeat.trackSessionStart(this.mediaObject,n);this.console.info("track session start");this.stateManager.add(this.states.track_session_start_called)},t.trackSessionEnd=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.resetStates(),this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called))},t.trackPlay=function(){this.mediaHeartbeat.trackPlay();this.console.info("track play")},t.trackChapterStart=function(){this.createChapterObject();this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterStart,this.chapterObject,null);this.console.info("track chapter start")},t.trackChapterComplete=function(){this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterComplete);this.console.info("track chapter complete")},t.trackComplete=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackComplete(),this.console.info("track complete"),this.stateManager.add(this.states.video_completed))},n.plugin.heartbeat.Ad=function(t,i,r){n.plugin.heartbeat.Base.apply(this,[t,i,r]);this.console=new n.plugin.heartbeat.Console("heartbeat ad debug - ",this.heartbeatInstance.isDebug);var u=n.events.core;this.events=[{name:u.AD_STARTED,handler:this.onEventProxy("onAdBreakStart")},{name:u.AD_COMPLETE,handler:this.onEventProxy("onAdBreakComplete")},{name:u.SINGLE_AD_STARTED,handler:this.onEventProxy("onAdStarted")},{name:u.SINGLE_AD_COMPLETE,handler:this.onEventProxy("onAdComplete")},{name:u.AD_STARTED_FROM_FLASH,handler:this.onEventProxy("onAdStarted")},{name:u.AD_ENDED_FROM_FLASH,handler:this.onEventProxy("onAdComplete")}]},n.plugin.heartbeat.Ad.prototype=Object.create(n.plugin.heartbeat.Base.prototype),n.plugin.heartbeat.Ad.prototype.constructor=n.plugin.heartbeat.Ad,t=n.plugin.heartbeat.Ad.prototype,t.track=function(){this.api.addEventListener(n.events.core.METAS_CHANGE,this,this.onContentMetasChange);this.heartbeatInstance.loadAdobeAnalyticsLibraries(this.onLibrariesLoaded,this)},t.onAdBreakStart=function(){if(this.console.info("onAdBreakStart"),!this.stateManager.is(this.states.track_session_start_called)){this.stateManager.onNextState(this.states.track_session_start_called,function(){this.onAdBreakStart()},this);return}var t={name:"none",position:-1,startTime:this.mediaDelegate.getCurrentPlaybackTime()},i=this.api.media().getIMA().adPodInfo;n.utils.isNotNullOrUndefined(i)&&(t.position=i.getPodIndex(),t.name="midroll",t.position===0&&(t.name="preroll"),t.position===-1&&(t.name="postroll"));this.trackAdBreakStart(t);this.stateManager.remove(this.states.adBreak_completed);this.stateManager.add(this.states.adBreak_started)},t.onAdBreakComplete=function(){(this.console.info("onAdBreakComplete"),this.stateManager.is(this.states.adBreak_started))&&(this.trackAdBreakComplete(),this.stateManager.remove(this.states.adBreak_started),this.stateManager.add(this.states.adBreak_completed))},t.onAdStarted=function(n){var t,i;if(this.console.info("onAdStarted"),!this.stateManager.is(this.states.ad_started)){if(!this.stateManager.is(this.states.adBreak_started)){this.stateManager.onNextState(this.states.adBreak_started,function(){this.onAdStarted(n)},this);return}this.stateManager.remove(this.states.ad_completed);this.stateManager.add(this.states.ad_started);this.stateManager.add(this.states.track_play_called_once);t={name:"",id:"-1",position:-1,length:-1};typeof n.data.flash_ad_event!="undefined"?(i=n.data.flash_ad_event,i.position===null||typeof i.position=="undefined"||isNaN(i.position)||(t.position=i.position),i.duration===null||typeof i.duration=="undefined"||isNaN(i.duration)||(t.length=Math.round(i.duration))):t={name:n.data.ima_ad_title,id:n.data.ima_ad_creativeAdId,position:parseInt(n.data.ima_ad_position),length:parseInt(n.data.ima_ad_duration)};t.id===""&&(t.id="-1");t.position===NaN&&(t.position=-1);t.length===NaN&&(t.length=-1);t.position===1&&this.stateManager.add(this.states.ignore_next_track_play_call);this.trackAdStart(t)}},t.onAdComplete=function(){(this.console.info("onAdComplete"),!this.stateManager.is(this.states.ad_completed)&&this.stateManager.is(this.states.track_session_start_called))&&(this.trackAdComplete(),this.stateManager.remove(this.states.ad_started),this.stateManager.add(this.states.ad_completed))},t.onContentMetasChange=function(n){this.console.info("onContentMetasChange");var t=n.data.isLive;if(t){this.console.info("Tracking is disabled because it's not video on demand stream.");this.unbindEventHandlers();return}this.bindEventHandlers()},t.trackAdBreakStart=function(n){this.adBreakObject=this.MediaHeartbeat.createAdBreakObject(n.name,n.position,n.startTime);this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.AdBreakStart,this.adBreakObject);this.console.info("track ad break start - "+JSON.stringify(n))},t.trackAdBreakComplete=function(){this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.AdBreakComplete);this.console.info("track ad break complete");this.stateManager.add(this.states.ignore_next_track_play_call)},t.trackAdStart=function(n){this.adObject=this.MediaHeartbeat.createAdObject(n.name,n.id,n.position,n.length);this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.AdStart,this.adObject,null);this.console.info("track ad start - "+JSON.stringify(n))},t.trackAdComplete=function(){this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.AdComplete);this.console.info("track ad complete")},n.plugin.heartbeat.LiveVideoEvent=function(t,i,r,u){n.plugin.heartbeat.Base.apply(this,[t,i,r]);this.console=new n.plugin.heartbeat.Console("heartbeat live event debug - ",this.heartbeatInstance.isDebug);this.dataLayerHelper=u;var f=n.events.core;this.events=[{name:f.PLAY,handler:this.onEventProxy("onContentPlay")},{name:f.PAUSE,handler:this.onEventProxy("onContentPause")},{name:f.DISPOSE,handler:this.onEventProxy("onDispose")}]},n.plugin.heartbeat.LiveVideoEvent.prototype=Object.create(n.plugin.heartbeat.Base.prototype),n.plugin.heartbeat.LiveVideoEvent.prototype.constructor=n.plugin.heartbeat.LiveVideoEvent,t=n.plugin.heartbeat.LiveVideoEvent.prototype,t.track=function(){this.api.addEventListener(n.events.core.METAS_CHANGE,this,this.onContentMetasChange);this.heartbeatInstance.loadAdobeAnalyticsLibraries(this.onLibrariesLoaded,this)},t.createMediaObject=function(){var n={name:this.constructVideoName(),id:this.constructVideoID(this.api.media()),length:-1,streamType:this.MediaHeartbeat.StreamType.LIVE};this.mediaObject=this.MediaHeartbeat.createMediaObject(n.name,n.id,n.length,n.streamType);this.console.info("Create media object. - "+JSON.stringify(n))},t.constructVideoID=function(n){return n.appCode+"-"+n.idMedia},t.constructVideoName=function(){var n=this.api.media().metas;return["webdiffusion",n.OriginalDate,"live",n.TitleID.substr(0,50)].join("|")},t.getContextData=function(){var r=this.configuration.PLAYER.PAGE_VARS,t=document.location.href.split("?")[0],n=this.api.media().metas,i={videopage:r.pageName,videolang:"fr",videourl:t,player_contexte:"tele",player_clientId:this.playerSettings.site,media_title:n.title,media_date:n.OriginalDate,media_emission:"webdiffusion",media_pageIdMedia:n.idMedia,media_fileId:n.idMedia,media_pageSection:this.dataLayerHelper.metaPage("rc.section"),media_pageGroupeSection:this.dataLayerHelper.metaPage("rc.groupeSection"),media_pageDomaine:this.dataLayerHelper.metaPage("rc.domaine"),media_pageUrl:t,media_pageFormatApplication:this.dataLayerHelper.metaPage("rc.formatApplication"),media_pageApplication:this.dataLayerHelper.metaPage("rc.application")};return this.console.info("Creating custom context data. - "+JSON.stringify(i)),i},t.videoNameParDate=function(){var n=this.api.media().metas;return[n.avNomEmission?n.avNomEmission.substr(0,30):"",n.OriginalDate].join("|")},t.resetStates=function(){this.stateManager.reset()},t.onContentMetasChange=function(t){this.console.info("onContentMetasChange");var i=t.data,r=!i.isVideo||!n.utils.isWebcast(i);if(r){this.console.info("Tracking is disabled because it's not a live event video stream.");this.unbindEventHandlers();this.commandExecutor.reset();this.resetStates();return}this.bindEventHandlers()},t.onContentPlay=function(){this.console.info("onContentPlay");this.createMediaObject();this.trackSessionStart();this.trackPlay()},t.onContentPause=function(){this.console.info("onContentPause");this.trackComplete();this.trackSessionEnd()},t.onDispose=function(){this.console.info("onDispose");this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called),this.unbindEventHandlers())},t.trackSessionStart=function(){var n=this.getContextData();this.mediaHeartbeat.trackSessionStart(this.mediaObject,n);this.console.info("track session start");this.stateManager.add(this.states.track_session_start_called)},t.trackSessionEnd=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.resetStates(),this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called))},t.trackPlay=function(){this.mediaHeartbeat.trackPlay();this.console.info("track play")},t.trackComplete=function(){this.mediaHeartbeat.trackComplete();this.console.info("track complete");this.stateManager.add(this.states.video_completed)},n.plugin.heartbeat.LiveAudio=function(t,i,r,u){n.plugin.heartbeat.Base.apply(this,[t,i,r]);this.console=new n.plugin.heartbeat.Console("heartbeat live audio debug - ",this.heartbeatInstance.isDebug);this.metrikApi=u;this.programme=null;this.DECLENCHEMENTS={ACTIF:"actif",PASSIF:"passif",UNIT_LEGACY:"unit/legacy"};this.typeDeclenchementPossibles=[this.DECLENCHEMENTS.ACTIF,this.DECLENCHEMENTS.PASSIF,this.DECLENCHEMENTS.UNIT_LEGACY];this.firstSessionForMedia=!0;var f=n.events.core;this.events=[{name:f.LIVE_PROGRAM_START,handler:this.onEventProxy("onLiveProgramStart")},{name:f.LIVE_PROGRAM_END,handler:this.onEventProxy("onLiveProgramEnd")},{name:f.PAUSE,handler:this.onEventProxy("onContentPause")},{name:f.DISPOSE,handler:this.onEventProxy("onDispose")}]},n.plugin.heartbeat.LiveAudio.prototype=Object.create(n.plugin.heartbeat.Base.prototype),n.plugin.heartbeat.LiveAudio.prototype.constructor=n.plugin.heartbeat.LiveAudio,t=n.plugin.heartbeat.LiveAudio.prototype,t.track=function(){this.api.addEventListener(n.events.core.METAS_CHANGE,this,this.onContentMetasChange);this.heartbeatInstance.loadAdobeAnalyticsLibraries(this.onLibrariesLoaded,this)},t.createMediaObject=function(n){var t={name:n.NomAudio,id:n.NomAudio,length:-1,streamType:this.MediaHeartbeat.StreamType.LIVE};this.mediaObject=this.MediaHeartbeat.createMediaObject(t.name,t.id,t.length,t.streamType);this.console.info("Create media object. - "+JSON.stringify(t))},t.getContextData=function(n){var t=n.Chapitres[0],u=document.location.href.split("?")[0],f=this.configuration.PLAYER.PAGE_VARS,i=this.getTypeDeclenchement(),r={"rcaudio.nomaudio":n.NomAudio,"rcaudio.codeemission":n.CodeEmission,"rcaudio.reseau":n.Reseau,"rcaudio.chaine":n.Chaine,"rcaudio.titre":n.Titre,"rcaudio.playercontexte":window.location.hostname,"rcaudio.playerid":this.playerSettings.site,"rcaudio.fichierid":n.FichierId,"rcaudio.datediffusion":n.DateDiffusion,"rcaudio.directdiffere":n.DirectDiffere,"rcaudio.soussecteur":n.SousSecteur,"rcaudio.heurediffusion":n.HeureDiffusion,"rcaudio.heureenregistrement":n.HeureEnregistrement,"rcaudio.duree":n.Duree,"rcaudio.liste":n.Liste,"rcaudio.domaine":n.Domaine,"rcaudio.application":n.Application,"rcaudio.formatapplication":n.FormatApplication,"rcaudio.version":n.Version,"rcaudio.typedeclenchement":i,"rcaudio.chapitrenom":t.NomChapitre,"rcaudio.chapitreposition":t.PositionChapitre,"rcaudio.chapitreduree":t.DureeChapitre,"rcaudio.chapitredebutrelatif":t.DebutRelatifChapitre,"rcaudio.chapitretitre":t.TitreChapitre,"rcaudio.chapitretypedeclenchement":i,"rcaudio.nompage":f.pageName,"rcaudio.urlpage":u};return this.console.info("Creating custom context data. - "+JSON.stringify(r)),r},t.getTypeDeclenchement=function(){if(!this.firstSessionForMedia)return this.DECLENCHEMENTS.PASSIF;var t=n.utils.storage.load("typeDeclenchement");return typeof t=="string"&&this.typeDeclenchementPossibles.indexOf(t)!==-1?(localStorage.removeItem("RC_PLAYER_typeDeclenchement"),t):this.DECLENCHEMENTS.ACTIF},t.resetStates=function(){this.stateManager.reset()},t.createChapterObject=function(){var t=this.mediaObject.createVideoInfo(),n={name:this.contextData["rcaudio.chapitrenom"],length:t.length,position:1,startTime:0};this.chapterObject=this.MediaHeartbeat.createChapterObject(n.name,n.position,n.length,n.startTime);this.console.info("Create chapter object. - "+JSON.stringify(n))},t.onContentMetasChange=function(t){this.console.info("onContentMetasChange");this.firstSessionForMedia=!0;var i=t.data,r=!i.isLive||i.isVideo||n.utils.isWebcast(i)||this.isIciMusiqueOrMuse(i.appCode,i.idMedia);if(r){this.console.info("Tracking is disabled because it's not a live audio stream.");this.unbindEventHandlers();this.resetStates();return}this.bindEventHandlers()},t.onContentPause=function(){this.console.info("onContentPause");this.trackComplete();this.trackSessionEnd();this.firstSessionForMedia=!0},t.onLiveProgramStart=function(){this.console.log("onLiveProgramStart");var n=this.api.media().metas;this.metrikApi.getLiveAudio(n.broadcastingStation,this.onGetLiveAudioMetrikSuccess.bind(this),this.onGetLiveAudioMetrikError.bind(this))},t.onLiveProgramEnd=function(){this.console.log("onLiveProgramEnd");this.trackChapterComplete();this.trackComplete();this.trackSessionEnd()},t.onGetLiveAudioMetrikSuccess=function(t){n.utils.isNullOrUndefined(t)||(this.console.log("Get the current program info from metrik was a success."),this.contextData=this.getContextData(t),this.createMediaObject(t),this.trackSessionStart(),this.trackPlay(),this.trackChapterStart())},t.onGetLiveAudioMetrikError=function(){this.console.log("Get the current program info from metrik was a failure.")},t.onDispose=function(){this.console.info("onDispose");this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called),this.unbindEventHandlers())},t.trackSessionStart=function(){this.mediaHeartbeat.trackSessionStart(this.mediaObject,this.contextData);this.firstSessionForMedia&&(this.firstSessionForMedia=!1);this.console.info("track session start");this.stateManager.add(this.states.track_session_start_called)},t.trackSessionEnd=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.resetStates(),this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called))},t.trackPlay=function(){this.mediaHeartbeat.trackPlay();this.console.info("track play")},t.trackChapterStart=function(){this.createChapterObject();this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterStart,this.chapterObject,null);this.console.info("track chapter start")},t.trackChapterComplete=function(){this.mediaHeartbeat.trackEvent(this.MediaHeartbeat.Event.ChapterComplete);this.console.info("track chapter complete")},t.trackComplete=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackComplete(),this.console.info("track complete"),this.stateManager.add(this.states.video_completed))},n.plugin.heartbeat.IciMusiqueMuse=function(t,i,r,u){n.plugin.heartbeat.Base.apply(this,[t,i,r]);this.console=new n.plugin.heartbeat.Console("heartbeat ici musique/muse debug - ",this.heartbeatInstance.isDebug);this.dataLayerHelper=u;var f=n.events.core;this.events=[{name:f.PLAY,handler:this.onEventProxy("onContentPlay")},{name:f.PAUSE,handler:this.onEventProxy("onContentPause")},{name:f.DISPOSE,handler:this.onEventProxy("onDispose")}]},n.plugin.heartbeat.IciMusiqueMuse.prototype=Object.create(n.plugin.heartbeat.Base.prototype),n.plugin.heartbeat.IciMusiqueMuse.prototype.constructor=n.plugin.heartbeat.IciMusiqueMuse,t=n.plugin.heartbeat.IciMusiqueMuse.prototype,t.track=function(){this.api.addEventListener(n.events.core.METAS_CHANGE,this,this.onContentMetasChange);this.heartbeatInstance.loadAdobeAnalyticsLibraries(this.onLibrariesLoaded,this)},t.createMediaObject=function(){var n={name:this.constructVideoName(),id:this.constructVideoID(this.api.media()),length:-1,streamType:this.MediaHeartbeat.StreamType.LIVE};this.mediaObject=this.MediaHeartbeat.createMediaObject(n.name,n.id,n.length,n.streamType);this.console.info("Create media object. - "+JSON.stringify(n))},t.constructVideoID=function(n){return n.appCode+"-"+n.idMedia},t.constructVideoName=function(){var i=this.api.media().metas,n={cbfx_rouyn:"radio|abitibi-89,9",cbfx_maritimes:"radio|acadie-98,3",chfax:"radio|alberta-101,1",cbufx:"radio|colombie-britannique-90,9",cbfx_estduquebec:"radio|est-du-quebec-101,5",cbfx_shr:"radio|estrie-90,7",cksbx:"radio|manitoba-89,9",cbfx_tr:"radio|mauricie-centre-du-qc-104,3",cbfx:"radio|montreal-100,7",cbonx:"radio|sudbury-90,9",cbofx:"radio|ottawa-gatineau-102,5",cbvx:"radio|quebec-95,3",cbjx:"radio|saguenay-lac-st-jean-100,9",cbkfx:"radio|saskatchewan-88,9",cbafx_terreneuve:"radio|terre-neuve-101,9",cjbcx:"radio|toronto-90,3",cbefx:"radio|windsor-103,9",19:"muse|"};for(var t in n)if(n.hasOwnProperty(t)&&t==i.idMedia)return n[t];return"unknown"},t.getContextData=function(){var r=this.configuration.PLAYER.PAGE_VARS,n=document.location.href.split("?")[0],t=this.api.media().metas,i={videopage:r.pageName,videolang:"fr",videourl:n,player_contexte:"tele",player_clientId:this.playerSettings.site,media_pageIdMedia:t.idMedia,media_fileId:t.idMedia,media_pageSection:this.dataLayerHelper.metaPage("rc.section"),media_pageGroupeSection:this.dataLayerHelper.metaPage("rc.groupeSection"),media_pageDomaine:this.dataLayerHelper.metaPage("rc.domaine"),media_pageUrl:n,media_pageFormatApplication:this.dataLayerHelper.metaPage("rc.formatApplication"),media_pageApplication:this.dataLayerHelper.metaPage("rc.application")};return this.console.info("Creating custom context data. - "+JSON.stringify(i)),i},t.resetStates=function(){this.stateManager.reset()},t.onContentMetasChange=function(n){this.console.info("onContentMetasChange");var t=n.data,i=!this.isIciMusiqueOrMuse(t.appCode,t.idMedia);if(i){this.console.info("Tracking is disabled because it's not ici musique or muse on ici.radio-canada.ca website.");this.unbindEventHandlers();this.commandExecutor.reset();this.resetStates();return}this.bindEventHandlers()},t.onContentPlay=function(){this.console.info("onContentPlay");this.createMediaObject();this.trackSessionStart();this.trackPlay()},t.onContentPause=function(){this.console.info("onContentPause");this.trackComplete();this.trackSessionEnd()},t.onDispose=function(){this.console.info("onDispose");this.stateManager.is(this.states.track_session_start_called)&&(this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called),this.unbindEventHandlers())},t.trackSessionStart=function(){var n=this.getContextData();this.mediaHeartbeat.trackSessionStart(this.mediaObject,n);this.console.info("track session start");this.stateManager.add(this.states.track_session_start_called)},t.trackSessionEnd=function(){this.stateManager.is(this.states.track_session_start_called)&&(this.resetStates(),this.mediaHeartbeat.trackSessionEnd(),this.console.info("track session end"),this.stateManager.remove(this.states.track_session_start_called))},t.trackPlay=function(){this.mediaHeartbeat.trackPlay();this.console.info("track play")},t.trackComplete=function(){this.mediaHeartbeat.trackComplete();this.console.info("track complete");this.stateManager.add(this.states.video_completed)},n.plugin.heartbeat.Toutv=function(t,i,r,u,f,e){n.plugin.heartbeat.Vod.apply(this,[t,i,r,u,e]);this.metrikApi=f;this.console=new n.plugin.heartbeat.Console("heartbeat toutv debug - ",this.heartbeatInstance.isDebug);this.afterMetrikCommandExecutor=new n.plugin.heartbeat.CommandExecutor;this.metrikInfoLoaded=!1},n.plugin.heartbeat.Toutv.prototype=Object.create(n.plugin.heartbeat.Vod.prototype),n.plugin.heartbeat.Toutv.prototype.constructor=n.plugin.heartbeat.Toutv,t=n.plugin.heartbeat.Toutv.prototype,t.onEventProxy=function(n){return function(t){if(!this.librariesLoaded||!this.metrikInfoLoaded){this.afterMetrikCommandExecutor.add(this,n,[t]);return}this.afterMetrikCommandExecutor.execute({self:this,name:n,args:[t]})}},t.createMediaObject_ChaptersArray=function(n){this.createMediaObject(n);this.createChaptersArray(this.metas.chaptersTime,n)},t.createMediaObject=function(n){var i={name:n.NomVideoMedianet,id:n.IdFichierMedianet,length:parseInt(n.Duree),streamType:this.MediaHeartbeat.StreamType.VOD},t;this.mediaObject=this.MediaHeartbeat.createMediaObject(i.name,i.id,i.length,i.streamType);t={};t[this.MediaHeartbeat.VideoMetadataKeys.SHOW]=n.CodeEmission;t[this.MediaHeartbeat.VideoMetadataKeys.SEASON]=n.Saison;t[this.MediaHeartbeat.VideoMetadataKeys.EPISODE]=n.Episode;t[this.MediaHeartbeat.VideoMetadataKeys.ORIGINATOR]=n.Producteur;t[this.MediaHeartbeat.VideoMetadataKeys.NETWORK]=n.Marque;t[this.MediaHeartbeat.VideoMetadataKeys.ASSET_ID]=n.IdFichierMedianet;t[this.MediaHeartbeat.VideoMetadataKeys.FIRST_AIR_DATE]=n.DateDiffusionTele;this.mediaObject.setValue(this.MediaHeartbeat.MediaObjectKey.StandardVideoMetadata,t);this.console.info("Create media object. - "+JSON.stringify(i))},t.createChaptersArray=function(n,t){var r,u,i;for(this.chapters=[],r=n.length>0,r&&(n=[0].concat(n)),u=this.metas.duration,i=0;i<n.length;i++)r&&(u=i===0?n[i+1]:i<n.length-1?n[i+1]-n[i]:this.metas.duration-n[i]),this.chapters.push({name:t.NomVideoMedianet+"|"+(i+1)+"de"+n.length,length:u,position:i+1,startTime:i===0?0:n[i]});this.console.info("Create chapters array. - "+JSON.stringify(this.chapters))},t.getContextData=function(){return this._contextData},t.populateContextData=function(t){var i={},r,u;for(r in t)t.hasOwnProperty(r)&&this.addContextData(i,r,t[r]);this.addContextData(i,"PageNomPage",this.dataLayerHelper.getDataLayerVariable("page.NomPage"));this.addContextData(i,"PageModuleOrigine",this.dataLayerHelper.getDataLayerVariable("page.ModuleOrigine"));this.addContextData(i,"PageSection",this.dataLayerHelper.getDataLayerVariable("page.Section"));this.addContextData(i,"PageGroupeSection",this.dataLayerHelper.getDataLayerVariable("page.GroupeSection"));this.addContextData(i,"Partenaire",this.dataLayerHelper.getDataLayerVariable("page.Partenaire"));this.addContextData(i,"RCID",this.dataLayerHelper.getDataLayerVariable("page.RCID"));this.addContextData(i,"Forfait",this.dataLayerHelper.getDataLayerVariable("page.Forfait"));this.addContextData(i,"Feature",this.dataLayerHelper.getDataLayerVariable("page.Feature"));this.addContextData(i,"IdProfil",this.dataLayerHelper.getDataLayerVariable("page.IdProfil"));this.addContextData(i,"Partenaire",this.dataLayerHelper.getDataLayerVariable("page.Partenaire"));this.addContextData(i,"ConsultationClient",this.getClientTime());u=this.dataLayerHelper.getDataLayerVariable("video.IdFichierMedianet");n.utils.isNotNullOrUndefined(u)&&u==this.api.media().idMedia&&(this.addContextData(i,"EstEnchainement",this.dataLayerHelper.getDataLayerVariable("video.EstEnchainement")),this.addContextData(i,"EstRepriseMedia",this.dataLayerHelper.getDataLayerVariable("video.EstRepriseMedia")),this.addContextData(i,"TypeDeDeclenchement",this.dataLayerHelper.getDataLayerVariable("video.TypeDeDeclenchement")));this.console.info("Creating custom context data. - "+JSON.stringify(i));this._contextData=i},t.addContextData=function(n,t,i){n["ttvideo."+t]=i},t.getClientTime=function(){var i=new Date,n=i.getHours(),t=i.getMinutes();return n<10&&(n="0"+n),t<10&&(t="0"+t),n+""+t},t.onContentMetasChange=function(n){this.console.info("onContentMetasChange");var t=!this.isToutv(n.data.appCode);if(t){this.console.info("Tracking is disabled because it's not a toutv video.");this.unbindEventHandlers();this.commandExecutor.reset();this.resetStates();return}this.metas=n.data;this.metrikInfoLoaded=!1;this.executeIfLibrariesLoaded(this,"getMetrikInfo",[this.metas.idMedia]);this.bindEventHandlers()},t.getMetrikInfo=function(){var n=this.dataLayerHelper.getDataLayerVariable("video.IdCmsTouTv");typeof n!="undefined"&&this.metrikApi.getVideoToutv(n,this.onGetMetrikInfoSuccess.bind(this),this.onGetMetrikInfoError.bind(this))},t.onGetMetrikInfoSuccess=function(t){n.utils.isNullOrUndefined(t)||(this.console.log("Get video info from metrik was a success."),this.createMediaObject_ChaptersArray(t),this.populateContextData(t),this.metrikInfoLoaded=!0,this.afterMetrikCommandExecutor.executeAll())},t.onGetMetrikInfoError=function(){this.console.log("Get video info from metrik was a failure.")},n.plugin.toolbarFilter=function(t){function r(n){f.className.indexOf("showstate")===-1?(t.getInstance().timerManager.clearTimeout(o),u=!0,i.log("eventsFilter: click not allowed"),o=t.getInstance().timerManager.setTimeout(function(){i.log("eventsFilter: click allowed after 1 sec");u=!1},1e3)):i.log("eventsFilter: click allowed");u&&n.preventDefault()}var i=this;i.log("eventsFilter");var e=t.getUI(),o=0,u=!1,f=n.utils.dom.FindByClassName(e.container.getElem(),"bottomcontainer"),s=n.utils.dom.FindByClassName(e.container.getElem(),"innercontainer");f.addEventListener(n.events.nativeevents.TOUCH_START,r);f.addEventListener(n.events.nativeevents.CLICK,r);s.addEventListener(n.events.nativeevents.TOUCH_START,r);s.addEventListener(n.events.nativeevents.CLICK,r)},function(player){with(player.plugin)with(interface)extensionIntern(externalLoadDelay,{}),extensionIntern(playAuthorization,{log:!0}),extensionIntern(toolbarFilter,{log:!0}),extensionIntern(webtrends,{log:!0}),player.params.heartbeat!=="false"&&extensionIntern(heartbeat.Manager,{log:!1}),extensionIntern(comscore,{log:!0}),extensionIntern(omnitureToutvV1,{log:!0})}(n),function(n){if(typeof n.params!="undefined"&&n.params.hasOwnProperty("playerReadyCallback"))try{window[n.params.playerReadyCallback]()}catch(t){}}(n))}()