!function e(n,k,j){function a(f,d){if(!k[f]){if(!n[f]){var b="function"==typeof require&&require;if(!d&&b){return b(f,!0)}if(l){return l(f,!0)}var c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c}var g=k[f]={exports:{}};n[f][0].call(g.exports,function(h){return a(n[f][1][h]||h)},g,g.exports,e,n,k,j)}return k[f].exports}for(var l="function"==typeof require&&require,m=0;m<j.length;m++){a(j[m])}return a}({1:[function(c,d){(function(m){c("./utils/polyfills");var l=c("./strategies/LocalVisitor"),a=c("./strategies/ProxyVisitor"),o=c("./strategies/PlaceholderVisitor"),p=c("./utils/callbackRegistryFactory"),n=c("./Message"),b=c("./enums").MESSAGES;d.exports=function(J,v,j,H){function g(q){Object.assign(I,q)}function C(q){Object.assign(I.state,q),I.callbackRegistry.executeAll(I.state)}function t(q){if(!h.isInvalid(q)){f=!1;var r=h.parse(q);I.setStateAndPublish(r.state)}}function N(q){!f&&u&&(f=!0,h.send(H,q))}function L(){g(new l(j._generateID)),I.getMarketingCloudVisitorID(),I.callbackRegistry.executeAll(I.state,!0),m.removeEventListener("message",O)}function O(q){if(!h.isInvalid(q)){var r=h.parse(q);f=!1,m.clearTimeout(this.timeout),m.removeEventListener("message",O),g(new a(I)),m.addEventListener("message",t),I.setStateAndPublish(r.state),I.callbackRegistry.hasCallbacks()&&N(b.GETSTATE)}}function k(){u&&postMessage?(m.addEventListener("message",O),N(b.HANDSHAKE),this.timeout=setTimeout(L,250)):L()}function M(){m.s_c_in||(m.s_c_il=[],m.s_c_in=0),I._c="Visitor",I._il=m.s_c_il,I._in=m.s_c_in,I._il[I._in]=I,m.s_c_in++}function K(){function q(r){0!==r.indexOf("_")&&"function"==typeof j[r]&&(I[r]=function(){})}Object.keys(j).forEach(q),I.getSupplementalDataID=j.getSupplementalDataID}var I=this,u=v.whitelistParentDomain;I.state={},I.version=j.version,I.marketingCloudOrgID=J;var f=!1,h=new n(J,u);I.callbackRegistry=p(),I.findField=function(q,r){if(I.state[q]){return r(I.state[q]),I.state[q]}},I.messageParent=N,I.setStateAndPublish=C,M(),K(),g(new o(I)),k()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Message":2,"./enums":4,"./strategies/LocalVisitor":5,"./strategies/PlaceholderVisitor":6,"./strategies/ProxyVisitor":7,"./utils/callbackRegistryFactory":9,"./utils/polyfills":11}],2:[function(f,j){var h=f("./enums").MESSAGES,g={0:"prefix",1:"orgID",2:"state"};j.exports=function(a,b){this.parse=function(c){try{var d={};return c.data.split("|").forEach(function(m,n){void 0!==m&&(d[g[n]]=2!==n?m:JSON.parse(m))}),d}catch(c){}},this.isInvalid=function(d){var c=this.parse(d);if(!c||Object.keys(c).length<2){return !0}var o=a!==c.orgID,p=!b||d.origin!==b,n=-1===Object.keys(h).indexOf(c.prefix);return o||p||n},this.send=function(o,n,c){var p=n+"|"+d;c&&c===Object(c)&&(p+="|"+JSON.stringify(c));try{o.postMessage(p,b)}catch(d){}}}},{"./enums":4}],3:[function(e,t,i){(function(i){function n(){function e(){l.windowLoaded=!0}i.addEventListener?i.addEventListener("load",e):i.attachEvent&&i.attachEvent("onload",e),l.codeLoadEnd=(new Date).getTime()}var r=e("./ChildVisitor"),a=e("./Message"),s=e("./utils/makeChildMessageListener"),o=e("./utils/asyncParallelApply"),l=function(e,t){function n(e){var t=e;return function(e){var n=e||p.location.href;try{var i=_._extractParamFromUri(n,t);if(i){return F.parsePipeDelimetedKeyValues(i)}}catch(e){}}}function r(e){function t(e,t){e&&e.match(C.VALID_VISITOR_ID_REGEX)&&t(e)}t(e[I],_.setMarketingCloudVisitorID),_._setFieldExpire(P,-1),t(e[T],_.setAnalyticsVisitorID)}function l(e){e=e||{},_._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",_._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},_._supplementalDataIDLast=e.supplementalDataIDLast||"",_._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function u(e){for(var t="",n=0,i=e.length;n<i;n++){var a=e[n],r=a[0],s=a[1];null!=s&&s!==R&&(t=(o=(o=t)?o+="|":o)+(r+"=")+encodeURIComponent(s))}var o,c;return(c=(c=t)?c+="|":c)+"TS="+F.getTimestampInSeconds()}function c(e){var t=e.minutesToLive,n="";return _.idSyncDisableSyncs&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function d(e){for(var t=0,n=e.length;t<n;t++){if(!C.POSITIVE_INT_REGEX.test(e[t])){return !1}}return !0}function f(e,t){for(;e.length<t.length;){e.push("0")}for(;t.length<e.length;){t.push("0")}}function g(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),a=parseInt(t[n],10);if(i>a){return 1}if(a>i){return -1}}return 0}if(!e){throw new Error("Visitor requires Adobe Marketing Cloud Org ID")}var _=this;_.version="2.5.0";var p=i,m=p.Visitor;m.version=_.version,p.s_c_in||(p.s_c_il=[],p.s_c_in=0),_._c="Visitor",_._il=p.s_c_il,_._in=p.s_c_in,_._il[_._in]=_,p.s_c_in++,_._log={requests:[]};var h=p.document,C={POST_MESSAGE_ENABLED:!!p.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:86400000,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,POSITIVE_INT_REGEX:/^\d+$/,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,HAS_JSON_STRINGIFY:window.JSON===Object(window.JSON)&&"function"==typeof window.JSON.stringify},S=function(e){return !Object.prototype[e]};_._hash=function(e){var t,n=0;if(e){for(t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}}return n},_._generateID=function(e,t){var n,i,a="0123456789",r="",s="",o=8,c=10,l=10;if(t===I&&(V.isClientSideMarketingCloudVisitorID=!0),1===e){for(a+="ABCDEF",n=0;n<16;n++){i=Math.floor(Math.random()*o),r+=a.substring(i,i+1),i=Math.floor(Math.random()*o),s+=a.substring(i,i+1),o=16}return r+"-"+s}for(n=0;n<19;n++){i=Math.floor(Math.random()*c),r+=a.substring(i,i+1),0===n&&9===i?c=3:(1===n||2===n)&&10!==c&&i<2?c=10:n>2&&(c=10),i=Math.floor(Math.random()*l),s+=a.substring(i,i+1),0===n&&9===i?l=3:(1===n||2===n)&&10!==l&&i<2?l=10:n>2&&(l=10)}return r+s},_._getDomain=function(e){var t;if(!e&&p.location&&(e=p.location.hostname),t=e){if(/^[0-9.]+$/.test(t)){t=""}else{var n=",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,",i=t.split("."),a=i.length-1,r=a-1;if(a>1&&i[a].length<=2&&(2===i[a-1].length||n.indexOf(","+i[a]+",")<0)&&r--,r>0){for(t="";a>=r;){t=i[a]+(t?".":"")+t,a--}}}}return t},_.cookieRead=function(e){e=encodeURIComponent(e);var t=(";"+h.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},_.cookieWrite=function(e,t,n){var i,a=_.cookieLifetime;if(t=""+t,a=a?(""+a).toUpperCase():"",n&&"SESSION"!==a&&"NONE"!==a){if(i=""!==t?parseInt(a||0,10):-60){(n=new Date).setTime(n.getTime()+1000*i)}else{if(1===n){var r=(n=new Date).getYear();n.setYear(r+2+(r<1900?1900:0))}}}else{n=0}return e&&"NONE"!==a?(h.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(_.cookieDomain?" domain="+_.cookieDomain+";":""),_.cookieRead(e)===t):0},_._callbackList=null,_._callCallback=function(e,t){try{"function"==typeof e?e.apply(p,t):e[1].apply(e[0],t)}catch(e){}},_._registerCallback=function(e,t){t&&(null==_._callbackList&&(_._callbackList={}),null==_._callbackList[e]&&(_._callbackList[e]=[]),_._callbackList[e].push(t))},_._callAllCallbacks=function(e,t){if(null!=_._callbackList){var n=_._callbackList[e];if(n){for(;n.length>0;){_._callCallback(n.shift(),t)}}}},_._addQuerystringParam=function(e,t,n,i){var a=encodeURIComponent(t)+"="+encodeURIComponent(n),r=F.parseHash(e),s=F.hashlessUrl(e);if(-1===s.indexOf("?")){return s+"?"+a+r}var o=s.split("?"),c=o[0]+"?",l=o[1];return c+F.addQueryParamAtLocation(l,a,i)+r},_._extractParamFromUri=function(e,t){var n=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(n&&n.length){return decodeURIComponent(n[1])}},_._parseAdobeMcFromUrl=n(C.ADOBE_MC),_._parseAdobeMcSdidFromUrl=n(C.ADOBE_MC_SDID),_._attemptToPopulateSdidFromUrl=function(t){var n=_._parseAdobeMcSdidFromUrl(t),i=1000000000;n&&n.TS&&(i=F.getTimestampInSeconds()-n.TS),n&&n.SDID&&n[v]===e&&i<_.sdidParamExpiry&&(_._supplementalDataIDCurrent=n.SDID,_._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},_._attemptToPopulateIdsFromUrl=function(){var t=_._parseAdobeMcFromUrl();if(t&&t.TS){var n=F.getTimestampInSeconds()-t.TS;if(Math.floor(n/60)>C.ADOBE_MC_TTL_IN_MIN||t[v]!==e){return}r(t)}},_.resetState=function(e){e?_._mergeServerState(e):l()},_._mergeServerState=function(e){if(e){try{if(i=e,(e=F.isObject(i)?i:F.parseJSON(i))[_.marketingCloudOrgID]){var t=e[_.marketingCloudOrgID];n=t.customerIDs,F.isObject(n)&&_.setCustomerIDs(n),l(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}}var n,i},_._timeout=null,_._loadData=function(e,t,n,i){t=_._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=_._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=_._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),V.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===_._requestProcs.corsMetadata.corsType?_._requestProcs.fireCORS(i,n,e):_.useCORSOnly||_._loadJSONP(e,t,n)},_._loadJSONP=function(e,t,n){var i,a=0,r=0;if(t&&h){for(i=0;!a&&i<2;){try{a=(a=h.getElementsByTagName(i>0?"HEAD":"head"))&&a.length>0?a[0]:0}catch(e){a=0}i++}if(!a){try{h.body&&(a=h.body)}catch(e){a=0}}if(a){for(i=0;!r&&i<2;){try{r=h.createElement(i>0?"SCRIPT":"script")}catch(e){r=0}i++}}}if(t&&a&&r){r.type="text/javascript",r.src=t,a.firstChild?a.insertBefore(r,a.firstChild):a.appendChild(r);var s=_.loadTimeout;n&&(null==_._timeout&&(_._timeout={}),_._timeout[e]=setTimeout(function(){n(!0)},s)),_._log.requests.push(t)}else{n&&n()}},_._clearTimeout=function(e){null!=_._timeout&&_._timeout[e]&&(clearTimeout(_._timeout[e]),_._timeout[e]=0)},_._isAllowedDone=!1,_._isAllowedFlag=!1,_.isAllowed=function(){return _._isAllowedDone||(_._isAllowedDone=!0,(_.cookieRead(_.cookieName)||_.cookieWrite(_.cookieName,"T",1))&&(_._isAllowedFlag=!0)),_._isAllowedFlag},_._fields=null,_._fieldsExpired=null;var D="MC",I="MCMID",v="MCORGID",A="MCCIDH",y="MCSYNCS",M="MCSYNCSOP",b="MCIDTS",E="MCOPTOUT",O="A",T="MCAID",k="AAM",L="MCAAMLH",P="MCAAMB",R="NONE";_.FIELDS={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},_._settingsDigest=0,_._getSettingsDigest=function(){if(!_._settingsDigest){var e=_.version;_.audienceManagerServer&&(e+="|"+_.audienceManagerServer),_.audienceManagerServerSecure&&(e+="|"+_.audienceManagerServerSecure),_._settingsDigest=_._hash(e)}return _._settingsDigest},_._readVisitorDone=!1,_._readVisitor=function(){if(!_._readVisitorDone){_._readVisitorDone=!0;var e,t,n,i,a,r,s=_._getSettingsDigest(),o=!1,c=_.cookieRead(_.cookieName),l=new Date;if(null==_._fields&&(_._fields={}),c&&"T"!==c){for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==s&&(o=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2){n=(t=c[e].split("-"))[0],i=c[e+1],t.length>1?(a=parseInt(t[1],10),r=t[1].indexOf("s")>0):(a=0,r=!1),o&&(n===A&&(i=""),a>0&&(a=l.getTime()/1000-60)),n&&i&&(_._setField(n,i,1),a>0&&(_._fields["expire"+n]=a+(r?"s":""),(l.getTime()>=1000*a||r&&!_.cookieRead(_.sessionCookieName))&&(_._fieldsExpired||(_._fieldsExpired={}),_._fieldsExpired[n]=!0)))}}!_._getField(T)&&F.isTrackingServerPopulated()&&(c=_.cookieRead("s_vi"))&&((c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(i=c[1]).indexOf("["))>=0&&(i=i.substring(0,e)),i&&i.match(C.VALID_VISITOR_ID_REGEX)&&_._setField(T,i)))}},_._appendVersionTo=function(e){var t="vVersion|"+_.version,n=e?_._getCookieVersion(e):null;return n?F.areVersionsDifferent(n,_.version)&&(e=e.replace(C.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},_._writeVisitor=function(){var e,t,n=_._getSettingsDigest();for(e in _._fields){S(e)&&_._fields[e]&&"expire"!==e.substring(0,6)&&(t=_._fields[e],n+=(n?"|":"")+e+(_._fields["expire"+e]?"-"+_._fields["expire"+e]:"")+"|"+t)}n=_._appendVersionTo(n),_.cookieWrite(_.cookieName,n,1)},_._getField=function(e,t){return null==_._fields||!t&&_._fieldsExpired&&_._fieldsExpired[e]?null:_._fields[e]},_._setField=function(e,t,n){null==_._fields&&(_._fields={}),_._fields[e]=t,n||_._writeVisitor()},_._getFieldList=function(e,t){var n=_._getField(e,t);return n?n.split("*"):null},_._setFieldList=function(e,t,n){_._setField(e,t?t.join("*"):"",n)},_._getFieldMap=function(e,t){var n=_._getFieldList(e,t);if(n){var i,a={};for(i=0;i<n.length;i+=2){a[n[i]]=n[i+1]}return a}return null},_._setFieldMap=function(e,t,n){var i,a=null;if(t){for(i in a=[],t){S(i)&&(a.push(i),a.push(t[i]))}}_._setFieldList(e,a,n)},_._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1000*t),null==_._fields&&(_._fields={}),_._fields["expire"+e]=Math.floor(i.getTime()/1000)+(n?"s":""),t<0?(_._fieldsExpired||(_._fieldsExpired={}),_._fieldsExpired[e]=!0):_._fieldsExpired&&(_._fieldsExpired[e]=!1),n&&(_.cookieRead(_.sessionCookieName)||_.cookieWrite(_.sessionCookieName,"1"))},_._findVisitorID=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&"NOTARGET"===(e=e.toUpperCase())&&(e=R),e&&(e===R||e.match(C.VALID_VISITOR_ID_REGEX))||(e="")),e},_._setFields=function(e,t){if(_._clearTimeout(e),null!=_._loading&&(_._loading[e]=!1),V.fieldGroupObj[e]&&V.setState(e,!1),e===D){!0!==V.isClientSideMarketingCloudVisitorID&&(V.isClientSideMarketingCloudVisitorID=!1);var n=_._getField(I);if(!n||_.overwriteCrossDomainMCIDAndAID){if(!(n="object"==typeof t&&t.mid?t.mid:_._findVisitorID(t))){if(_._use1stPartyMarketingCloudServer&&!_.tried1stPartyMarketingCloudServer){return _.tried1stPartyMarketingCloudServer=!0,void _.getAnalyticsVisitorID(null,!1,!0)}n=_._generateID(0,I)}_._setField(I,n)}n&&n!==R||(n=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&_._setFields(k,t),_._use1stPartyMarketingCloudServer&&t.mid&&_._setFields(O,{id:t.id})),_._callAllCallbacks(I,[n])}if(e===k&&"object"==typeof t){var i=604800;null!=t.id_sync_ttl&&t.id_sync_ttl&&(i=parseInt(t.id_sync_ttl,10));var a=N.getRegionAndCheckIfChanged(t,i);_._callAllCallbacks(L,[a]);var r=_._getField(P);(t.d_blob||t.blob)&&((r=t.d_blob)||(r=t.blob),_._setFieldExpire(P,i),_._setField(P,r)),r||(r=""),_._callAllCallbacks(P,[r]),!t.error_msg&&_._newCustomerIDsHash&&_._setField(A,_._newCustomerIDsHash)}if(e===O){var s=_._getField(T);s&&!_.overwriteCrossDomainMCIDAndAID||((s=_._findVisitorID(t))?s!==R&&_._setFieldExpire(P,-1):s=R,_._setField(T,s)),s&&s!==R||(s=""),_._callAllCallbacks(T,[s])}if(_.idSyncDisableSyncs){N.idCallNotProcesssed=!0}else{N.idCallNotProcesssed=!1;var o={};o.ibs=t.ibs,o.subdomain=t.subdomain,N.processIDCallData(o)}var c,l;t===Object(t)&&(_.isAllowed()&&(c=_._getField(E)),c||(c=R,t.d_optout&&t.d_optout instanceof Array&&(c=t.d_optout.join(",")),l=parseInt(t.d_ottl,10),isNaN(l)&&(l=7200),_._setFieldExpire(E,l,!0),_._setField(E,c)),_._callAllCallbacks(E,[c]))},_._loading=null,_._getRemoteField=function(e,t,n,i,a){var r,s="",o=F.isFirstPartyAnalyticsVisitorIDCall(e);if(_.isAllowed()){if(_._readVisitor(),!(!(s=_._getField(e,!0===j[e]))||_._fieldsExpired&&_._fieldsExpired[e])||_.disableThirdPartyCalls&&!o){s||(e===I?(_._registerCallback(e,n),s=_._generateID(0,I),_.setMarketingCloudVisitorID(s)):e===T?(_._registerCallback(e,n),s="",_.setAnalyticsVisitorID(s)):(s="",i=!0))}else{if(e===I||e===E?r=D:e===L||e===P?r=k:e===T&&(r=O),r){return !t||null!=_._loading&&_._loading[r]||(null==_._loading&&(_._loading={}),_._loading[r]=!0,_._loadData(r,t,function(t){if(!_._getField(e)){t&&V.setState(r,!0);var n="";e===I?n=_._generateID(0,I):r===k&&(n={error_msg:"timeout"}),_._setFields(r,n)}},a)),_._registerCallback(e,n),s||(t||_._setFields(r,{id:R}),"")}}}return e!==I&&e!==T||s!==R||(s="",i=!0),n&&i&&_._callCallback(n,[s]),s},_._setMarketingCloudFields=function(e){_._readVisitor(),_._setFields(D,e)},_.setMarketingCloudVisitorID=function(e){_._setMarketingCloudFields(e)},_._use1stPartyMarketingCloudServer=!1,_.getMarketingCloudVisitorID=function(e,t){if(_.isAllowed()){_.marketingCloudServer&&_.marketingCloudServer.indexOf(".demdex.net")<0&&(_._use1stPartyMarketingCloudServer=!0);var n=_._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return _._getRemoteField(I,i,e,t,n)}return""},_.getVisitorValues=function(e,t){var n={MCMID:{fn:_.getMarketingCloudVisitorID,args:[!0],context:_},MCOPTOUT:{fn:_.isOptedOut,args:[void 0,!0],context:_},MCAID:{fn:_.getAnalyticsVisitorID,args:[!0],context:_},MCAAMLH:{fn:_.getAudienceManagerLocationHint,args:[!0],context:_},MCAAMB:{fn:_.getAudienceManagerBlob,args:[!0],context:_}};o(function(){if(!t||!t.length){return n}var e={};return t.forEach(function(t){n[t]&&(e[t]=n[t])}),e}(),e)},_._mapCustomerIDs=function(e){_.getAudienceManagerBlob(e,!0)},m.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},_._currentCustomerIDs={},_._customerIDsHashChanged=!1,_._newCustomerIDsHash="",_.setCustomerIDs=function(e){function t(){_._customerIDsHashChanged=!1}if(_.isAllowed()&&e){var n,i;for(n in _._readVisitor(),e){if(S(n)&&(i=e[n])){if("object"==typeof i){var a={};i.id&&(a.id=i.id),null!=i.authState&&(a.authState=i.authState),_._currentCustomerIDs[n]=a}else{_._currentCustomerIDs[n]={id:i}}}}var r=_.getCustomerIDs(),s=_._getField(A),o="";for(n in s||(s=0),r){S(n)&&(o+=(o?"|":"")+n+"|"+((i=r[n]).id?i.id:"")+(i.authState?i.authState:""))}_._newCustomerIDsHash=_._hash(o),_._newCustomerIDsHash!==s&&(_._customerIDsHashChanged=!0,_._mapCustomerIDs(t))}},_.getCustomerIDs=function(){_._readVisitor();var e,t,n={};for(e in _._currentCustomerIDs){S(e)&&(t=_._currentCustomerIDs[e],n[e]||(n[e]={}),t.id&&(n[e].id=t.id),null!=t.authState?n[e].authState=t.authState:n[e].authState=m.AuthState.UNKNOWN)}return n},_._setAnalyticsFields=function(e){_._readVisitor(),_._setFields(O,e)},_.setAnalyticsVisitorID=function(e){_._setAnalyticsFields(e)},_.getAnalyticsVisitorID=function(e,t,n){if(!F.isTrackingServerPopulated()&&!n){return _._callCallback(e,[""]),""}if(_.isAllowed()){var i="";if(n||(i=_.getMarketingCloudVisitorID(function(){_.getAnalyticsVisitorID(e,!0)})),i||n){var a=n?_.marketingCloudServer:_.trackingServer,r="";_.loadSSL&&(n?_.marketingCloudServerSecure&&(a=_.marketingCloudServerSecure):_.trackingServerSecure&&(a=_.trackingServerSecure));var s={};if(a){var o="http"+(_.loadSSL?"s":"")+"://"+a+"/id",c="d_visid_ver="+_.version+"&mcorgid="+encodeURIComponent(_.marketingCloudOrgID)+(i?"&mid="+encodeURIComponent(i):"")+(_.idSyncDisable3rdPartySyncing?"&d_coppa=true":""),l=["s_c_il",_._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];r=o+"?"+c+"&callback=s_c_il%5B"+_._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",s.corsUrl=o+"?"+c,s.callback=l}return s.url=r,_._getRemoteField(n?I:T,r,e,t,s)}}return""},_._setAudienceManagerFields=function(e){_._readVisitor(),_._setFields(k,e)},_._getAudienceManagerURLData=function(e){var t=_.audienceManagerServer,n="",i=_._getField(I),a=_._getField(P,!0),r=_._getField(T),s=r&&r!==R?"&d_cid_ic=AVID%01"+encodeURIComponent(r):"";if(_.loadSSL&&_.audienceManagerServerSecure&&(t=_.audienceManagerServerSecure),t){var o,c,l=_.getCustomerIDs();if(l){for(o in l){S(o)&&(c=l[o],s+="&d_cid_ic="+encodeURIComponent(o)+"%01"+encodeURIComponent(c.id?c.id:"")+(c.authState?"%01"+c.authState:""))}}e||(e="_setAudienceManagerFields");var u="http"+(_.loadSSL?"s":"")+"://"+t+"/id",d="d_visid_ver="+_.version+"&d_rtbd=json&d_ver=2"+(!i&&_._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(_.marketingCloudOrgID)+"&d_nsid="+(_.idSyncContainerID||0)+(i?"&d_mid="+encodeURIComponent(i):"")+(_.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(!0===U?"&d_coop_safe=1":!1===U?"&d_coop_unsafe=1":"")+(a?"&d_blob="+encodeURIComponent(a):"")+s,f=["s_c_il",_._in,e];return{url:n=u+"?"+d+"&d_cb=s_c_il%5B"+_._in+"%5D."+e,corsUrl:u+"?"+d,callback:f}}return{url:n}},_.getAudienceManagerLocationHint=function(e,t){if(_.isAllowed()&&_.getMarketingCloudVisitorID(function(){_.getAudienceManagerLocationHint(e,!0)})){var n=_._getField(T);if(!n&&F.isTrackingServerPopulated()&&(n=_.getAnalyticsVisitorID(function(){_.getAudienceManagerLocationHint(e,!0)})),n||!F.isTrackingServerPopulated()){var i=_._getAudienceManagerURLData(),a=i.url;return _._getRemoteField(L,a,e,t,i)}}return""},_.getLocationHint=_.getAudienceManagerLocationHint,_.getAudienceManagerBlob=function(e,t){if(_.isAllowed()&&_.getMarketingCloudVisitorID(function(){_.getAudienceManagerBlob(e,!0)})){var n=_._getField(T);if(!n&&F.isTrackingServerPopulated()&&(n=_.getAnalyticsVisitorID(function(){_.getAudienceManagerBlob(e,!0)})),n||!F.isTrackingServerPopulated()){var i=_._getAudienceManagerURLData(),a=i.url;return _._customerIDsHashChanged&&_._setFieldExpire(P,-1),_._getRemoteField(P,a,e,t,i)}}return""},_._supplementalDataIDCurrent="",_._supplementalDataIDCurrentConsumed={},_._supplementalDataIDLast="",_._supplementalDataIDLastConsumed={},_.getSupplementalDataID=function(e,t){_._supplementalDataIDCurrent||t||(_._supplementalDataIDCurrent=_._generateID(1));var n=_._supplementalDataIDCurrent;return _._supplementalDataIDLast&&!_._supplementalDataIDLastConsumed[e]?(n=_._supplementalDataIDLast,_._supplementalDataIDLastConsumed[e]=!0):n&&(_._supplementalDataIDCurrentConsumed[e]&&(_._supplementalDataIDLast=_._supplementalDataIDCurrent,_._supplementalDataIDLastConsumed=_._supplementalDataIDCurrentConsumed,_._supplementalDataIDCurrent=n=t?"":_._generateID(1),_._supplementalDataIDCurrentConsumed={}),n&&(_._supplementalDataIDCurrentConsumed[e]=!0)),n},m.OptOut={GLOBAL:"global"},_.getOptOut=function(e,t){if(_.isAllowed()){var n=_._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return _._getRemoteField(E,i,e,t,n)}return""},_.isOptedOut=function(e,t,n){if(_.isAllowed()){t||(t=m.OptOut.GLOBAL);var i=_.getOptOut(function(n){var i=n===m.OptOut.GLOBAL||n.indexOf(t)>=0;_._callCallback(e,[i])},n);return i?i===m.OptOut.GLOBAL||i.indexOf(t)>=0:null}return !1},_.appendVisitorIDsTo=function(e){var t=C.ADOBE_MC,n=u([[I,_._getField(I)],[T,_._getField(T)],[v,_.marketingCloudOrgID]]);try{return _._addQuerystringParam(e,t,n)}catch(t){return e}},_.appendSupplementalDataIDTo=function(e,t){if(!(t=t||_.getSupplementalDataID(F.generateRandomString(),!0))){return e}var n=C.ADOBE_MC_SDID,i="SDID="+encodeURIComponent(t)+"|";i+=v+"="+encodeURIComponent(_.marketingCloudOrgID)+"|",i+="TS="+F.getTimestampInSeconds();try{return _._addQuerystringParam(e,n,i)}catch(t){return e}},_._xd={postMessage:function(e,t,n){var i=1;t&&(C.POST_MESSAGE_ENABLED?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i+++"&"+e))},receiveMessage:function(e,t){var n;try{C.POST_MESSAGE_ENABLED&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin)){return !1}e(n)}),p.addEventListener?p[e?"addEventListener":"removeEventListener"]("message",n,!1):p[e?"attachEvent":"detachEvent"]("\xe5",n))}catch(e){}}};var F={addListener:h.addEventListener?function(e,t,n){e.addEventListener(t,function(e){"function"==typeof n&&n(e)},!1)}:h.attachEvent?function(e,t,n){e.attachEvent("on"+t,function(e){"function"==typeof n&&n(e)})}:void 0,map:function(e,t){if(Array.prototype.map){return e.map(t)}if(void 0===e||null==e){throw new TypeError}var n=Object(e),i=n.length>>>0;if("function"!=typeof t){throw new TypeError}for(var a=new Array(i),r=arguments[1],s=0;s<i;s++){s in n&&(a[s]=t.call(r,n[s],s,n))}return a},encodeAndBuildRequest:function(e,t){return this.map(e,function(e){return encodeURIComponent(e)}).join(t)},parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,n){var i=e.split("&");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){return e===T&&(t||(t=_.trackingServer),n||(n=_.trackingServerSecure),!("string"!=typeof(i=_.loadSSL?n:t)||!i.length)&&i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0);var i},isObject:function(e){return Boolean(e&&e===Object(e))},isLessThan:function(e,t){return _._compareVersions(e,t)<0},areVersionsDifferent:function(e,t){return 0!==_._compareVersions(e,t)},removeCookie:function(e){document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},isTrackingServerPopulated:function(){return !!_.trackingServer||!!_.trackingServerSecure},parseJSON:function(e,t){function i(e,n){var a,r,s=e[n];if(s&&"object"==typeof s){for(a in s){Object.prototype.hasOwnProperty.call(s,a)&&(void 0!==(r=i(s,a))?s[a]=r:delete s[a])}}return t.call(e,n,s)}if("object"==typeof JSON&&"function"==typeof JSON.parse){return JSON.parse(e,t)}var n,r=/^[\],:{}\s]*$/,a=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,l=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(e=String(e),l.lastIndex=0,l.test(e)&&(e=e.replace(l,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),r.test(e.replace(a,"@").replace(s,"]").replace(o,""))){return n=eval("("+e+")"),"function"==typeof t?i({"":n},""):n}throw new SyntaxError("JSON.parse")},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1000)},parsePipeDelimetedKeyValues:function(e){for(var t={},n=e.split("|"),i=0,a=n.length;i<a;i++){var r=n[i].split("=");t[r[0]]=decodeURIComponent(r[1])}return t},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;){t+=n[Math.floor(Math.random()*n.length)]}return t},parseBoolean:function(e){return"true"===e||"false"!==e&&null}};_._helpers=F;var w={corsMetadata:(fh="none",gh=!0,"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials" in new XMLHttpRequest?fh="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(gh=!1),Object.prototype.toString.call(p.HTMLElement).indexOf("Constructor")>0&&(gh=!1)),{corsType:fh,corsCookiesEnabled:gh}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new p[this.corsMetadata.corsType]},fireCORS:function(e,t){function n(t){var n;try{if((n=JSON.parse(t))!==Object(n)){return void i.handleCORSError(e,null,"Response is not JSON")}}catch(t){return void i.handleCORSError(e,t,"Error parsing response as JSON")}try{for(var a=e.callback,r=p,s=0;s<a.length;s++){r=r[a[s]]}r(n)}catch(t){i.handleCORSError(e,t,"Error forming callback function")}}var i=this;t&&(e.loadErrorHandler=t);try{var a=this.getCORSInstance();a.open("get",e.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(a.withCredentials=!0,a.timeout=_.loadTimeout,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&n(this.responseText)}),a.onerror=function(t){i.handleCORSError(e,t,"onerror")},a.ontimeout=function(t){i.handleCORSError(e,t,"ontimeout")},a.send(),_._log.requests.push(e.corsUrl)}catch(t){this.handleCORSError(e,t,"try-catch")}},handleCORSError:function(e,t,n){_.CORSErrors.push({corsData:e,error:t,description:n}),e.loadErrorHandler&&("ontimeout"===n?e.loadErrorHandler(!0):e.loadErrorHandler(!1))}},fh,gh;_._requestProcs=w;var N={THROTTLE_START:30000,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var e,t="http://fast.",n="?d_nsid="+_.idSyncContainerID+"#"+encodeURIComponent(h.location.href);return this.subdomain||(this.subdomain="nosubdomainreturned"),_.loadSSL&&(t=_.idSyncSSLUseAkamai?"https://fast.":"https://"),e=t+this.subdomain+".demdex.net/dest5.html"+n,this.iframeHost=this.getIframeHost(e),this.id="destination_publishing_iframe_"+this.subdomain+"_"+_.idSyncContainerID,e},checkDPIframeSrc:function(){var e="?d_nsid="+_.idSyncContainerID+"#"+encodeURIComponent(h.location.href);"string"==typeof _.dpIframeSrc&&_.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(_._subdomain||this.subdomain||(new Date).getTime())+"_"+_.idSyncContainerID,this.iframeHost=this.getIframeHost(_.dpIframeSrc),this.url=_.dpIframeSrc+e)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:C.POST_MESSAGE_ENABLED?null:100,jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframe:function(){return !_.idSyncDisable3rdPartySyncing&&(this.doAttachIframe||_._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||_._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(i=document.createElement("iframe")).sandbox="allow-scripts allow-same-origin",i.title="Adobe ID Syncing iFrame",i.id=n.id,i.name=n.id+"_name",i.style.cssText="display: none; width: 0; height: 0;",i.src=n.url,n.newIframeCreated=!0,t(),document.body.appendChild(i)}function t(){F.addListener(i,"load",function(){i.className="aamIframeLoaded",n.iframeHasLoaded=!0,n.requestToProcess()})}this.startedAttachingIframe=!0;var n=this,i=document.getElementById(this.id);i?"IFRAME"!==i.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==i.className?(this.originalIframeHasLoadedAlready=!1,t()):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=i,this.requestToProcess())):e(),this.iframe=i},requestToProcess:function(e){function t(){i.jsonForComparison.push(e),i.jsonWaiting.push(e),i.processSyncOnPage(e)}var n,i=this;if(e===Object(e)&&e.ibs){if(C.HAS_JSON_STRINGIFY){if(n=JSON.stringify(e.ibs||[]),this.jsonForComparison.length){var a,r,s,o=!1;for(a=0,r=this.jsonForComparison.length;a<r;a++){if(s=this.jsonForComparison[a],n===JSON.stringify(s.ibs||[])){o=!0;break}}o?this.jsonDuplicates.push(e):t()}else{t()}}else{t()}}if((this.receivedThirdPartyCookiesNotification||!C.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var c=this.jsonWaiting.shift();this.process(c),this.requestToProcess()}!_.idSyncDisableSyncs&&this.iframeHasLoaded&&this.messages.length&&!this.sendingMessages&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){i.messageSendingInterval=C.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(e,t){var n=_._getField(L),i=e.d_region||e.dcs_region;return n?i&&(_._setFieldExpire(L,t),_._setField(L,i),parseInt(n,10)!==i&&(this.regionChanged=!0,this.timesRegionChanged++,_._setField(M,""),_._setField(y,""),n=i)):(n=i)&&(_._setFieldExpire(L,t),_._setField(L,n)),n||(n=""),n},processSyncOnPage:function(e){var t,n,i,a;if((t=e.ibs)&&t instanceof Array&&(n=t.length)){for(i=0;i<n;i++){(a=t[i]).syncOnPage&&this.checkFirstPartyCookie(a,"","syncOnPage")}}},process:function(e){var t,n,i,a,r,s=encodeURIComponent,o=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length)){for(o=!0,i=0;i<n;i++){a=t[i],r=[s("ibs"),s(a.id||""),s(a.tag||""),F.encodeAndBuildRequest(a.url||[],","),s(a.ttl||""),"","",a.fireURLSync?"true":"false"],a.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(r.join("|")):a.fireURLSync&&this.checkFirstPartyCookie(a,r.join("|")))}}o&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(e,t,n){var i="syncOnPage"===n,a=i?M:y;_._readVisitor();var r,s,o=_._getField(a),c=!1,l=!1,u=Math.ceil((new Date).getTime()/C.MILLIS_PER_DAY);o?(r=o.split("*"),c=(s=this.pruneSyncData(r,e.id,u)).dataPresent,l=s.dataValid,c&&l||this.fireSync(i,e,t,r,a,u)):(r=[],this.fireSync(i,e,t,r,a,u))},pruneSyncData:function(e,t,n){var i,a,r,s=!1,o=!1;for(a=0;a<e.length;a++){i=e[a],r=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(s=!0,n<r?o=!0:(e.splice(a,1),a--)):n>=r&&(e.splice(a,1),a--)}return{dataPresent:s,dataValid:o}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH){for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;){e.shift()}}},fireSync:function(e,t,n,i,a,r){var s=this;if(e){if("img"===t.tag){var o,c,l,u,d=t.url,f=_.loadSSL?"https:":"http:";for(o=0,c=d.length;o<c;o++){l=d[o],u=/^\/\//.test(l);var g=new Image;F.addListener(g,"load",function(e,t,n,i){return function(){s.onPagePixels[e]=null,_._readVisitor();var r,o,c,l,u=_._getField(a),d=[];if(u){for(o=0,c=(r=u.split("*")).length;o<c;o++){(l=r[o]).match("^"+t.id+"-")||d.push(l)}}s.setSyncTrackingData(d,t,n,i)}}(this.onPagePixels.length,t,a,r)),g.src=(u?f:"")+l,this.onPagePixels.push(g)}}}else{this.addMessage(n),this.setSyncTrackingData(i,t,a,r)}},addMessage:function(e){var t=encodeURIComponent(_._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((C.POST_MESSAGE_ENABLED?"":t)+e)},setSyncTrackingData:function(e,t,n,i){e.push(t.id+"-"+(i+Math.ceil(t.ttl/60/24))),this.manageSyncsSize(e),_._setField(n,e.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?C.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){_._xd.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(n,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(e){(null==this.url||e.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof _._subdomain&&_._subdomain.length?this.subdomain=_._subdomain:this.subdomain=e.subdomain||"",this.url=this.getUrl()),e.ibs instanceof Array&&e.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(_.idSyncAttachIframeOnWindowLoad?(m.windowLoaded||"complete"===h.readyState||"loaded"===h.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof _.idSyncIDCallResult?_.idSyncIDCallResult(e):this.requestToProcess(e),"function"==typeof _.idSyncAfterIDCallResult&&_.idSyncAfterIDCallResult(e)},canMakeSyncIDCall:function(e,t){return _._forceSyncIDCall||!e||t-e>C.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(document.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}};_._destinationPublishing=N,_.timeoutMetricsLog=[];var x,V={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case D:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case O:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case k:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};_.isClientSideMarketingCloudVisitorID=function(){return V.isClientSideMarketingCloudVisitorID},_.MCIDCallTimedOut=function(){return V.MCIDCallTimedOut},_.AnalyticsIDCallTimedOut=function(){return V.AnalyticsIDCallTimedOut},_.AAMIDCallTimedOut=function(){return V.AAMIDCallTimedOut},_.idSyncGetOnPageSyncInfo=function(){return _._readVisitor(),_._getField(M)},_.idSyncByURL=function(e){var t=c(e||{});if(t.error){return t.error}var n,i,a=e.url,r=encodeURIComponent,s=N;return a=a.replace(/^https:/,"").replace(/^http:/,""),n=F.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",r(e.dpid),"img",r(a),t.ttl,"",n],s.addMessage(i.join("|")),s.requestToProcess(),"Successfully queued"},_.idSyncByDataSource=function(e){return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,_.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},_._compareVersions=function(e,t){if(e===t){return 0}var n=e.toString().split("."),i=t.toString().split(".");return d(n.concat(i))?(f(n,i),g(n,i)):NaN},_._getCookieVersion=function(e){e=e||_.cookieRead(_.cookieName);var t=C.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},_._resetAmcvCookie=function(e){var t=_._getCookieVersion();t&&!F.isLessThan(t,e)||F.removeCookie(_.cookieName)},_.setAsCoopSafe=function(){U=!0},_.setAsCoopUnsafe=function(){U=!1},e.indexOf("@")<0&&(e+="@AdobeOrg"),_.marketingCloudOrgID=e,_.cookieName="AMCV_"+e,_.sessionCookieName="AMCVS_"+e,_.cookieDomain=_._getDomain(),_.cookieDomain===p.location.hostname&&(_.cookieDomain=""),_.loadSSL=p.location.protocol.toLowerCase().indexOf("https")>=0,_.loadTimeout=30000,_.CORSErrors=[],_.marketingCloudServer=_.audienceManagerServer="dpm.demdex.net",_.sdidParamExpiry=30;var j={};j[L]=!0,j[P]=!0;var U=null;if(t&&"object"==typeof t){var H;for(H in t){S(H)&&(_[H]=t[H])}_.idSyncContainerID=_.idSyncContainerID||0,U="boolean"==typeof _.isCoopSafe?_.isCoopSafe:F.parseBoolean(_.isCoopSafe),_.resetBeforeVersion&&_._resetAmcvCookie(_.resetBeforeVersion),_._attemptToPopulateIdsFromUrl(),_._attemptToPopulateSdidFromUrl(),_._readVisitor();var B=_._getField(b),G=Math.ceil((new Date).getTime()/C.MILLIS_PER_DAY);!_.idSyncDisableSyncs&&N.canMakeSyncIDCall(B,G)&&(_._setFieldExpire(P,-1),_._setField(b,G)),_.getMarketingCloudVisitorID(),_.getAudienceManagerLocationHint(),_.getAudienceManagerBlob(),_._mergeServerState(_.serverState)}else{_._attemptToPopulateIdsFromUrl(),_._attemptToPopulateSdidFromUrl()}if(!_.idSyncDisableSyncs){N.checkDPIframeSrc();var q=function(){var e=N;e.readyToAttachIframe()&&e.attachIframe()};F.addListener(p,"load",function(){m.windowLoaded=!0,q()});try{_._xd.receiveMessage(function(e){N.receiveMessage(e.data)},N.iframeHost)}catch(e){}}_.whitelistIframeDomains&&C.POST_MESSAGE_ENABLED&&(_.whitelistIframeDomains=_.whitelistIframeDomains instanceof Array?_.whitelistIframeDomains:[_.whitelistIframeDomains],_.whitelistIframeDomains.forEach(function(t){var n=new a(e,t),i=s(_,n);_._xd.receiveMessage(i,t)}))};l.getInstance=function(e,t){if(!e){throw new Error("Visitor requires Adobe Marketing Cloud Org ID")}e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=i.s_c_il;if(t){for(var n=0;n<t.length;n++){var a=t[n];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===e){return a}}}}();if(n){return n}var a=new l(e),s=a.isAllowed();return i.s_c_il.splice(--i.s_c_in,1),function(){try{return i.self!==i.parent}catch(e){return !0}}()&&!s&&i.parent?new r(e,t,a,i.parent):new l(e,t)},n(),i.Visitor=l,t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ChildVisitor":1,"./Message":2,"./utils/asyncParallelApply":8,"./utils/makeChildMessageListener":10}],4:[function(d,g,f){f.MESSAGES={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},f.STATE_KEYS_MAP={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},f.ASYNC_API_MAP={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut"},f.SYNC_API_MAP={CUSTOMERIDS:"getCustomerIDs"},f.ALL_APIS={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"getOptOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs"},f.FIELDGROUP_TO_FIELD={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"}},{}],5:[function(d,g){var f=d("../enums").STATE_KEYS_MAP;g.exports=function(a){function c(){}function b(n,m){var l=this;return function(){var j=a(0,f.MCMID),h={};return h[f.MCMID]=j,l.setStateAndPublish(h),m(j),j}}this.getMarketingCloudVisitorID=function(m){m=m||c;var l=this.findField(f.MCMID,m),n=b.call(this,f.MCMID,m);return void 0!==l?l:n()}}},{"../enums":4}],6:[function(d,g){var f=d("../enums").ASYNC_API_MAP;g.exports=function(){Object.keys(f).forEach(function(a){this[f[a]]=function(b){this.callbackRegistry.add(a,b)}},this)}},{"../enums":4}],7:[function(j,n){var l=j("../enums"),k=l.MESSAGES,a=l.ASYNC_API_MAP,m=l.SYNC_API_MAP;n.exports=function(){function b(){}function f(g,p){var h=this;return function(){return h.callbackRegistry.add(g,p),h.messageParent(k.GETSTATE),""}}function c(g){this[a[g]]=function(q){q=q||b;var h=this.findField(g,q),r=f.call(this,g,q);return void 0!==h?h:r()}}function d(g){this[m[g]]=function(){return this.findField(g,b)||{}}}Object.keys(a).forEach(c,this),Object.keys(m).forEach(d,this)}},{"../enums":4}],8:[function(c,d){d.exports=function(b,n){function l(f){return function(g){k[f]=g,++a===m&&n(k)}}var k={},a=0,m=Object.keys(b).length;Object.keys(b).forEach(function(h){var g=b[h];if(g.fn){var f=g.args||[];f.unshift(l(h)),g.fn.apply(g.context||null,f)}})}},{}],9:[function(f,j){function h(){return{callbacks:{},add:function(a,c){this.callbacks[a]=this.callbacks[a]||[];var b=this.callbacks[a].push(c)-1;return function(){this.callbacks[a].splice(b,1)}},execute:function(a,c){if(this.callbacks[a]){c=(c=void 0===c?[]:c) instanceof Array?c:[c];try{for(;this.callbacks[a].length;){var b=this.callbacks[a].shift();"function"==typeof b?b.apply(null,c):b instanceof Array&&b[1].apply(b[0],c)}delete this.callbacks[a]}catch(a){}}},executeAll:function(a,b){(b||a&&!g.isObjectEmpty(a))&&Object.keys(this.callbacks).forEach(function(d){var c=void 0!==a[d]?a[d]:"";this.execute(d,c)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}var g=f("./utils");j.exports=h},{"./utils":12}],10:[function(l,r){var n=l("../enums"),m=l("./utils"),a=n.MESSAGES,p=n.ALL_APIS,q=n.ASYNC_API_MAP,o=n.FIELDGROUP_TO_FIELD;r.exports=function(d,k){function j(){var s={};return Object.keys(p).forEach(function(v){var z=p[v],w=d[z]();m.isValueEmpty(w)||(s[v]=w)}),s}function b(){var s=[];return d._loading&&Object.keys(d._loading).forEach(function(w){if(d._loading[w]){var v=o[w];s.push(v)}}),s.length?s:null}function h(v){return function s(){var w=b();if(w){var u=q[w[0]];d[u](s,!0)}else{v()}}}function t(u,v){var s=j();k.send(u,v,s)}function c(s){g(s),t(s,a.HANDSHAKE)}function f(s){h(function(){t(s,a.PARENTSTATE)})()}function g(v){function s(u){w.call(d,u),k.send(v,a.PARENTSTATE,{CUSTOMERIDS:d.getCustomerIDs()})}var w=d.setCustomerIDs;d.setCustomerIDs=s}return function(s){k.isInvalid(s)||(k.parse(s).prefix===a.HANDSHAKE?c:f)(s.source)}}},{"../enums":4,"./utils":12}],11:[function(){Object.keys=Object.keys||function(d){var g=[];for(var f in d){g.hasOwnProperty.call(d,f)&&g.push(f)}return g},Array.prototype.forEach=Array.prototype.forEach||function(h,l){for(var k=this,j=0,a=k.length;j<a;j++){h.call(l,k[j],j,k)}},Object.assign=Object.assign||function(f){for(var j,h,g=1;g<arguments.length;++g){for(j in h=arguments[g]){Object.prototype.hasOwnProperty.call(h,j)&&(f[j]=h[j])}}return f}},{}],12:[function(d,g,f){f.isObjectEmpty=function(a){return a===Object(a)&&0===Object.keys(a).length},f.isValueEmpty=function(a){return""===a||f.isObjectEmpty(a)}},{}]},{},[1,2,3,4]),function(D,a,n){function T(){var j=P.filter(P.rules,function(q){return 0===q.event.indexOf("dataelementchange")});this.dataElementsNames=P.map(j,function(q){return q.event.match(/dataelementchange\((.*)\)/i)[1]},this),this.initPolling()}function h(){P.addEventHandler(D,"orientationchange",h.orientationChange)}function s(){this.defineEvents(),this.visibilityApiHasPriority=!0,a.addEventListener?this.setVisibilityApiPriority(!1):this.attachDetachOlderEventListeners(!0,a,"focusout");P.bindEvent("aftertoolinit",function(){P.fireEvent(P.visibility.isHidden()?"tabblur":"tabfocus")})}function d(){this.rules=P.filter(P.rules,function(j){return"elementexists"===j.event})}function b(){this.rules=P.filter(P.rules,function(j){return"videoplayed"===j.event.substring(0,11)}),this.eventHandler=P.bind(this.onUpdateTime,this)}function l(j){j=j||P.rules,this.rules=P.filter(j,function(q){return"inview"===q.event}),this.elements=[],this.eventHandler=P.bind(this.track,this),P.addEventHandler(D,"scroll",this.eventHandler),P.addEventHandler(D,"load",this.eventHandler)}function u(){P.getToolsByType("nielsen").length>0&&P.domReady(P.bind(this.initialize,this))}function C(){var j=this.eventRegex=/^hover\(([0-9]+)\)$/,q=this.rules=[];P.each(P.rules,function(w){w.event.match(j)&&q.push([Number(w.event.match(j)[1]),w.selector])})}function v(j){this.delay=250,this.FB=j,P.domReady(P.bind(function(){P.poll(P.bind(this.initialize,this),this.delay,8)},this))}function g(j){P.domReady(P.bind(function(){this.twttr=j||D.twttr,this.initialize()},this))}function k(){this.lastURL=P.URL(),this._fireIfURIChanged=P.bind(this.fireIfURIChanged,this),this._onPopState=P.bind(this.onPopState,this),this._onHashChange=P.bind(this.onHashChange,this),this._pushState=P.bind(this.pushState,this),this._replaceState=P.bind(this.replaceState,this),this.initialize()}function r(j){P.BaseTool.call(this,j),this.defineListeners(),this.beaconMethod="plainBeacon",this.adapt=new r.DataAdapters,this.dataProvider=new r.DataProvider.Aggregate}function S(j){P.BaseTool.call(this,j),this.name=j.name||"VisitorID",this.initialize()}function f(j){P.BaseTool.call(this,j),this.varBindings={},this.events=[],this.products=[],this.customSetupFuns=[]}function t(){P.BaseTool.call(this),this.asyncScriptCallbackQueue=[],this.argsForBlockingScripts=[]}function m(j){P.BaseTool.call(this,j),this.styleElements={},this.targetPageParamsStore={}}function ab(j){P.BaseTool.call(this,j),this.name=j.name||"Basic"}function E(j){P.BaseTool.call(this,j)}function p(j){P.BaseTool.call(this,j)}var o,c,I,A=Object.prototype.toString,aa=D._satellite&&D._satellite.override,P={initialized:!1,$data:function(F,z,j){if(F){var B="__satellite__",w=P.dataCache,x=F[B];x||(x=F[B]=P.uuid++);var q=w[x];if(q||(q=w[x]={}),j===n){return q[z]}q[z]=j}},uuid:1,dataCache:{},keys:function(j){var w=[];for(var q in j){j.hasOwnProperty(q)&&w.push(q)}return w},values:function(j){var w=[];for(var q in j){j.hasOwnProperty(q)&&w.push(j[q])}return w},isArray:Array.isArray||function(j){return"[object Array]"===A.apply(j)},isObject:function(j){return null!=j&&!P.isArray(j)&&"object"==typeof j},isString:function(j){return"string"==typeof j},isNumber:function(j){return"[object Number]"===A.apply(j)&&!P.isNaN(j)},isNaN:function(j){return j!=j},isRegex:function(j){return j instanceof RegExp},isLinkTag:function(j){return !(!j||!j.nodeName||"a"!==j.nodeName.toLowerCase())},each:function(q,z,x){for(var w=0,j=q.length;w<j;w++){z.call(x,q[w],w,q)}},map:function(j,z,w){for(var q=[],B=0,x=j.length;B<x;B++){q.push(z.call(w,j[B],B,j))}return q},filter:function(F,z,q){for(var j=[],B=0,w=F.length;B<w;B++){var x=F[B];z.call(q,x,B,F)&&j.push(x)}return j},any:function(j,z,w){for(var q=0,B=j.length;q<B;q++){var x=j[q];if(z.call(w,x,q,j)){return !0}}return !1},every:function(F,z,q){for(var j=!0,B=0,w=F.length;B<w;B++){var x=F[B];j=j&&z.call(q,x,B,F)}return j},contains:function(j,q){return -1!==P.indexOf(j,q)},indexOf:function(j,w){if(j.indexOf){return j.indexOf(w)}for(var q=j.length;q--;){if(w===j[q]){return q}}return -1},find:function(j,z,w){if(!j){return null}for(var q=0,B=j.length;q<B;q++){var x=j[q];if(z.call(w,x,q,j)){return x}}return null},textMatch:function(j,q){if(null==q){throw new Error("Illegal Argument: Pattern is not present")}return null!=j&&("string"==typeof q?j===q:q instanceof RegExp&&q.test(j))},stringify:function(j,x){if(x=x||[],P.isObject(j)){if(P.contains(x,j)){return"<Cycle>"}x.push(j)}if(P.isArray(j)){return"["+P.map(j,function(z){return P.stringify(z,x)}).join(",")+"]"}if(P.isString(j)){return'"'+String(j)+'"'}if(P.isObject(j)){var w=[];for(var q in j){j.hasOwnProperty(q)&&w.push(q+": "+P.stringify(j[q],x))}return"{"+w.join(", ")+"}"}return String(j)},trim:function(j){return null==j?null:j.trim?j.trim():j.replace(/^ */,"").replace(/ *$/,"")},bind:function(j,q){return function(){return j.apply(q,arguments)}},throttle:function(j,w){var q=null;return function(){var z=this,x=arguments;clearTimeout(q),q=setTimeout(function(){j.apply(z,x)},w)}},domReady:function(M){function z(N){for(F=1;N=K.shift();){N()}}var w,K=[],G=!1,q=a,B=q.documentElement,J=B.doScroll,H="DOMContentLoaded",j="addEventListener",x="onreadystatechange",F=/^loade|^c/.test(q.readyState);return q[j]&&q[j](H,w=function(){q.removeEventListener(H,w,G),z()},G),J&&q.attachEvent(x,w=function(){/^c/.test(q.readyState)&&(q.detachEvent(x,w),z())}),M=J?function(N){self!=top?F?N():K.push(N):function(){try{B.doScroll("left")}catch(O){return setTimeout(function(){M(N)},50)}N()}()}:function(N){F?N():K.push(N)}}(),loadScript:function(j,w){var q=a.createElement("script");P.scriptOnLoad(j,q,w),q.src=j,a.getElementsByTagName("head")[0].appendChild(q)},scriptOnLoad:function(j,x,w){function q(z){z&&P.logError(z),w&&w(z)}"onload" in x?(x.onload=function(){q()},x.onerror=function(){q(new Error("Failed to load script "+j))}):"readyState" in x&&(x.onreadystatechange=function(){var z=x.readyState;"loaded"!==z&&"complete"!==z||(x.onreadystatechange=null,q())})},loadScriptOnce:function(j,q){P.loadedScriptRegistry[j]||P.loadScript(j,function(w){w||(P.loadedScriptRegistry[j]=!0),q&&q(w)})},loadedScriptRegistry:{},loadScriptSync:function(j){a.write?P.domReadyFired?P.notify('Cannot load sync the "'+j+'" script after DOM Ready.',1):(j.indexOf('"')>-1&&(j=encodeURI(j)),a.write('<script src="'+j+'"></script>')):P.notify('Cannot load sync the "'+j+'" script because "document.write" is not available',1)},pushAsyncScript:function(j){P.tools["default"].pushAsyncScript(j)},pushBlockingScript:function(j){P.tools["default"].pushBlockingScript(j)},addEventHandler:D.addEventListener?function(j,w,q){j.addEventListener(w,q,!1)}:function(j,w,q){j.attachEvent("on"+w,q)},removeEventHandler:D.removeEventListener?function(j,w,q){j.removeEventListener(w,q,!1)}:function(j,w,q){j.detachEvent("on"+w,q)},preventDefault:D.addEventListener?function(j){j.preventDefault()}:function(j){j.returnValue=!1},stopPropagation:function(j){j.cancelBubble=!0,j.stopPropagation&&j.stopPropagation()},containsElement:function(j,q){return j.contains?j.contains(q):!!(16&j.compareDocumentPosition(q))},matchesCss:function(w){function q(B,z){var x=z.tagName;return !!x&&B.toLowerCase()===x.toLowerCase()}var j=w.matchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.oMatchesSelector||w.msMatchesSelector;return j?function(x,B){if(B===a||B===D){return !1}try{return j.call(B,x)}catch(z){return !1}}:w.querySelectorAll?function(x,F){if(!F.parentNode){return !1}if(x.match(/^[a-z]+$/i)){return q(x,F)}try{for(var z=F.parentNode.querySelectorAll(x),G=z.length;G--;){if(z[G]===F){return !0}}}catch(B){}return !1}:function(B,z){if(B.match(/^[a-z]+$/i)){return q(B,z)}try{return P.Sizzle.matches(B,[z]).length>0}catch(x){return !1}}}(a.documentElement),cssQuery:(o=a,o.querySelectorAll?function(j,x){var w;try{w=o.querySelectorAll(j)}catch(q){w=[]}x(w)}:function(j,x){if(P.Sizzle){var w;try{w=P.Sizzle(j)}catch(q){w=[]}x(w)}else{P.sizzleQueue.push([j,x])}}),hasAttr:function(j,q){return j.hasAttribute?j.hasAttribute(q):j[q]!==n},inherit:function(j,w){var q=function(){};q.prototype=w.prototype,j.prototype=new q,j.prototype.constructor=j},extend:function(j,w){for(var q in w){w.hasOwnProperty(q)&&(j[q]=w[q])}},toArray:function(){try{var j=Array.prototype.slice;return j.call(a.documentElement.childNodes,0)[0].nodeType,function(w){return j.call(w,0)}}catch(q){return function(B){for(var z=[],x=0,w=B.length;x<w;x++){z.push(B[x])}return z}}}(),equalsIgnoreCase:function(j,q){return null==j?null==q:null!=q&&String(j).toLowerCase()===String(q).toLowerCase()},poll:function(q,z,x){function w(){P.isNumber(x)&&j++>=x||q()||setTimeout(w,z)}var j=0;z=z||1000,w()},escapeForHtml:function(j){return j?String(j).replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#x27;").replace(/\//g,"&#x2F;"):j}};P.availableTools={},P.availableEventEmitters=[],P.fireOnceEvents=["condition","elementexists"],P.initEventEmitters=function(){P.eventEmitters=P.map(P.availableEventEmitters,function(j){return new j})},P.eventEmitterBackgroundTasks=function(){P.each(P.eventEmitters,function(j){"backgroundTasks" in j&&j.backgroundTasks()})},P.initTools=function(G){var z={"default":new t},j=P.settings.euCookieName||"sat_track";for(var H in G){if(G.hasOwnProperty(H)){var B,w,x;if((B=G[H]).euCookie){if("true"!==P.readCookie(j)){continue}}if(!(w=P.availableTools[B.engine])){var q=[];for(var F in P.availableTools){P.availableTools.hasOwnProperty(F)&&q.push(F)}throw new Error("No tool engine named "+B.engine+", available: "+q.join(",")+".")}(x=new w(B)).id=H,z[H]=x}}return z},P.preprocessArguments=function(F,z,j,G,B){function w(H){return G&&P.isString(H)?H.toLowerCase():H}function x(J){var H={};for(var K in J){if(J.hasOwnProperty(K)){var M=J[K];P.isObject(M)?H[K]=x(M):P.isArray(M)?H[K]=q(M,G):H[K]=w(P.replace(M,z,j,B))}}return H}function q(K){for(var M=[],H=0,N=K.length;H<N;H++){var J=K[H];P.isString(J)?J=w(P.replace(J,z,j)):J&&J.constructor===Object&&(J=x(J)),M.push(J)}return M}return F?q(F,G):F},P.execute=function(F,z,j,G){function B(H){var J=G[H||"default"];if(J){try{J.triggerCommand(F,z,j)}catch(K){P.logError(K)}}}if(!_satellite.settings.hideActivity){if(G=G||P.tools,F.engine){var w=F.engine;for(var x in G){if(G.hasOwnProperty(x)){var q=G[x];q.settings&&q.settings.engine===w&&B(x)}}}else{F.tool instanceof Array?P.each(F.tool,function(H){B(H)}):B(F.tool)}}},P.Logger={outputEnabled:!1,messages:[],keepLimit:100,flushed:!1,LEVELS:[null,null,"log","info","warn","error"],message:function(j,w){var q=this.LEVELS[w]||"log";this.messages.push([q,j]),this.messages.length>this.keepLimit&&this.messages.shift(),this.outputEnabled&&this.echo(q,j)},getHistory:function(){return this.messages},clearHistory:function(){this.messages=[]},setOutputState:function(j){this.outputEnabled!=j&&(this.outputEnabled=j,j?this.flush():this.flushed=!1)},echo:function(q,j){D.console&&D.console[q]("SATELLITE: "+j)},flush:function(){this.flushed||(P.each(this.messages,function(j){!0!==j[2]&&(this.echo(j[0],j[1]),j[2]=!0)},this),this.flushed=!0)}},P.notify=P.bind(P.Logger.message,P.Logger),P.cleanText=function(j){return null==j?null:P.trim(j).replace(/\s+/g," ")},P.cleanText.legacy=function(j){return null==j?null:P.trim(j).replace(/\s{2,}/g," ").replace(/[^\000-\177]*/g,"")},P.text=function(j){return j.textContent||j.innerText},P.specialProperties={text:P.text,cleanText:function(j){return P.cleanText(P.text(j))}},P.getObjectProperty=function(H,x,j){for(var z,w=x.split("."),B=H,q=P.specialProperties,G=0,K=w.length;G<K;G++){if(null==B){return n}var F=w[G];if(j&&"@"===F.charAt(0)){B=q[F.slice(1)](B)}else{if(B.getAttribute&&(z=F.match(/^getAttribute\((.+)\)$/))){var J=z[1];B=B.getAttribute(J)}else{B=B[F]}}}return B},P.getToolsByType=function(j){if(!j){throw new Error("Tool type is missing")}var x=[];for(var w in P.tools){if(P.tools.hasOwnProperty(w)){var q=P.tools[w];q.settings&&q.settings.engine===j&&x.push(q)}}return x},P.setVar=function(){var j=P.data.customVars;if(null==j&&(P.data.customVars={},j=P.data.customVars),"string"==typeof arguments[0]){j[arguments[0]]=arguments[1]}else{if(arguments[0]){var w=arguments[0];for(var q in w){w.hasOwnProperty(q)&&(j[q]=w[q])}}}},P.dataElementSafe=function(j,w){if(arguments.length>2){var q=arguments[2];"pageview"===w?P.dataElementSafe.pageviewCache[j]=q:"session"===w?P.setCookie("_sdsat_"+j,q):"visitor"===w&&P.setCookie("_sdsat_"+j,q,730)}else{if("pageview"===w){return P.dataElementSafe.pageviewCache[j]}if("session"===w||"visitor"===w){return P.readCookie("_sdsat_"+j)}}},P.dataElementSafe.pageviewCache={},P.realGetDataElement=function(q){var j;return q.selector?P.hasSelector&&P.cssQuery(q.selector,function(w){if(w.length>0){var x=w[0];"text"===q.property?j=x.innerText||x.textContent:q.property in x?j=x[q.property]:P.hasAttr(x,q.property)&&(j=x.getAttribute(q.property))}}):q.queryParam?j=q.ignoreCase?P.getQueryParamCaseInsensitive(q.queryParam):P.getQueryParam(q.queryParam):q.cookie?j=P.readCookie(q.cookie):q.jsVariable?j=P.getObjectProperty(D,q.jsVariable):q.customJS?j=q.customJS():q.contextHub&&(j=q.contextHub()),P.isString(j)&&q.cleanText&&(j=P.cleanText(j)),j},P.getDataElement=function(q,x,w){if(null==(w=w||P.dataElements[q])){return P.settings.undefinedVarsReturnEmpty?"":null}var j=P.realGetDataElement(w);return j===n&&w.storeLength?j=P.dataElementSafe(q,w.storeLength):j!==n&&w.storeLength&&P.dataElementSafe(q,w.storeLength,j),j||x||(j=w["default"]||""),P.isString(j)&&w.forceLowerCase&&(j=j.toLowerCase()),j},P.getVar=function(J,F,x){var z,w,G=P.data.customVars,q=x?x.target||x.srcElement:null,B={uri:P.URI(),protocol:a.location.protocol,hostname:a.location.hostname};if(P.dataElements&&J in P.dataElements){return P.getDataElement(J)}if((w=B[J.toLowerCase()])===n){if("this."===J.substring(0,5)){J=J.slice(5),w=P.getObjectProperty(F,J,!0)}else{if("event."===J.substring(0,6)){J=J.slice(6),w=P.getObjectProperty(x,J)}else{if("target."===J.substring(0,7)){J=J.slice(7),w=P.getObjectProperty(q,J)}else{if("window."===J.substring(0,7)){J=J.slice(7),w=P.getObjectProperty(D,J)}else{if("param."===J.substring(0,6)){J=J.slice(6),w=P.getQueryParam(J)}else{if(z=J.match(/^rand([0-9]+)$/)){var H=Number(z[1]),j=(Math.random()*(Math.pow(10,H)-1)).toFixed(0);w=Array(H-j.length+1).join("0")+j}else{w=P.getObjectProperty(G,J)}}}}}}}return w},P.getVars=function(j,x,w){var q={};return P.each(j,function(z){q[z]=P.getVar(z,x,w)}),q},P.replace=function(j,x,w,q){return"string"!=typeof j?j:j.replace(/%(.*?)%/g,function(F,B){var z=P.getVar(B,x,w);return null==z?P.settings.undefinedVarsReturnEmpty?"":F:q?P.escapeForHtml(z):z})},P.escapeHtmlParams=function(j){return j.escapeHtml=!0,j},P.searchVariables=function(F,z,j){if(!F||0===F.length){return""}for(var G=[],B=0,w=F.length;B<w;B++){var x=F[B],q=P.getVar(x,z,j);G.push(x+"="+escape(q))}return"?"+G.join("&")},P.fireRule=function(F,z,q){var j=F.trigger;if(j){for(var B=0,w=j.length;B<w;B++){var x=j[B];P.execute(x,z,q)}P.contains(P.fireOnceEvents,F.event)&&(F.expired=!0)}},P.isLinked=function(j){for(var q=j;q;q=q.parentNode){if(P.isLinkTag(q)){return !0}}return !1},P.firePageLoadEvent=function(G){for(var q=a.location,H={type:G,target:q},B=P.pageLoadRules,x=P.evtHandlers[H.type],z=B.length;z--;){var w=B[z];P.ruleMatches(w,H,q)&&(P.notify('Rule "'+w.name+'" fired.',1),P.fireRule(w,q,H))}for(var F in P.tools){if(P.tools.hasOwnProperty(F)){var j=P.tools[F];j.endPLPhase&&j.endPLPhase(G)}}x&&P.each(x,function(J){J(H)})},P.track=function(j){j=j.replace(/^\s*/,"").replace(/\s*$/,"");for(var w=0;w<P.directCallRules.length;w++){var q=P.directCallRules[w];if(q.name===j){return P.notify('Direct call Rule "'+j+'" fired.',1),void P.fireRule(q,location,{type:j})}}P.notify('Direct call Rule "'+j+'" not found.',1)},P.basePath=function(){return P.data.host?("https:"===a.location.protocol?"https://"+P.data.host.https:"http://"+P.data.host.http)+"/":this.settings.basePath},P.setLocation=function(j){D.location=j},P.parseQueryParams=function(j){var x=function(B){var z=B;try{z=decodeURIComponent(B)}catch(F){}return z};if(""===j||!1===P.isString(j)){return{}}0===j.indexOf("?")&&(j=j.substring(1));var w={},q=j.split("&");return P.each(q,function(z){(z=z.split("="))[1]&&(w[x(z[0])]=x(z[1]))}),w},P.getCaseSensitivityQueryParamsMap=function(j){var x=P.parseQueryParams(j),w={};for(var q in x){x.hasOwnProperty(q)&&(w[q.toLowerCase()]=x[q])}return{normal:x,caseInsensitive:w}},P.updateQueryParams=function(){P.QueryParams=P.getCaseSensitivityQueryParamsMap(D.location.search)},P.updateQueryParams(),P.getQueryParam=function(j){return P.QueryParams.normal[j]},P.getQueryParamCaseInsensitive=function(j){return P.QueryParams.caseInsensitive[j.toLowerCase()]},P.encodeObjectToURI=function(j){if(!1===P.isObject(j)){return""}var w=[];for(var q in j){j.hasOwnProperty(q)&&w.push(encodeURIComponent(q)+"="+encodeURIComponent(j[q]))}return w.join("&")},P.readCookie=function(q){for(var w=q+"=",j=a.cookie.split(";"),x=0;x<j.length;x++){for(var z=j[x];" "==z.charAt(0);){z=z.substring(1,z.length)}if(0===z.indexOf(w)){return z.substring(w.length,z.length)}}return n},P.setCookie=function(q,x,w){var j;if(w){var z=new Date;z.setTime(z.getTime()+24*w*60*60*1000),j="; expires="+z.toGMTString()}else{j=""}a.cookie=q+"="+x+j+"; path=/"},P.removeCookie=function(j){P.setCookie(j,"",-1)},P.getElementProperty=function(j,w){if("@"===w.charAt(0)){var q=P.specialProperties[w.substring(1)];if(q){return q(j)}}return"innerText"===w?P.text(j):w in j?j[w]:j.getAttribute?j.getAttribute(w):n},P.propertiesMatch=function(q,z){if(q){for(var x in q){if(q.hasOwnProperty(x)){var w=q[x],j=P.getElementProperty(z,x);if("string"==typeof w&&w!==j){return !1}if(w instanceof RegExp&&!w.test(j)){return !1}}}}return !0},P.isRightClick=function(j){var q;return j.which?q=3==j.which:j.button&&(q=2==j.button),q},P.ruleMatches=function(B,N,F,z){var G=B.condition,j=B.conditions,q=B.property,H=N.type,K=B.value,J=N.target||N.srcElement,w=F===J;if(B.event!==H&&("custom"!==B.event||B.customEvent!==H)){return !1}if(!P.ruleInScope(B)){return !1}if("click"===B.event&&P.isRightClick(N)){return !1}if(B.isDefault&&z>0){return !1}if(B.expired){return !1}if("inview"===H&&N.inviewDelay!==B.inviewDelay){return !1}if(!w&&(!1===B.bubbleFireIfParent||0!==z&&!1===B.bubbleFireIfChildFired)){return !1}if(B.selector&&!P.matchesCss(B.selector,F)){return !1}if(!P.propertiesMatch(q,F)){return !1}if(null!=K){if("string"==typeof K){if(K!==F.value){return !1}}else{if(!K.test(F.value)){return !1}}}if(G){try{if(!G.call(F,N,J)){return P.notify('Condition for rule "'+B.name+'" not met.',1),!1}}catch(x){return P.notify('Condition for rule "'+B.name+'" not met. Error: '+x.message,1),!1}}if(j){var M=P.find(j,function(Q){try{return !Q.call(F,N,J)}catch(O){return P.notify('Condition for rule "'+B.name+'" not met. Error: '+O.message,1),!0}});if(M){return P.notify("Condition "+M.toString()+' for rule "'+B.name+'" not met.',1),!1}}return !0},P.evtHandlers={},P.bindEvent=function(j,w){var q=P.evtHandlers;q[j]||(q[j]=[]),q[j].push(w)},P.whenEvent=P.bindEvent,P.unbindEvent=function(j,x){var w=P.evtHandlers;if(w[j]){var q=P.indexOf(w[j],x);w[j].splice(q,1)}},P.bindEventOnce=function(j,w){var q=function(){P.unbindEvent(j,q),w.apply(null,arguments)};P.bindEvent(j,q)},P.isVMLPoisoned=function(j){if(!j){return !1}try{j.nodeName}catch(q){if("Attribute only valid on v:image"===q.message){return !0}}return !1},P.handleEvent=function(F){if(!P.$data(F,"eventProcessed")){var z=F.type.toLowerCase(),j=F.target||F.srcElement,G=0,B=P.rules,w=(P.tools,P.evtHandlers[F.type]);if(P.isVMLPoisoned(j)){P.notify("detected "+z+" on poisoned VML element, skipping.",1)}else{w&&P.each(w,function(H){H(F)}),j&&j.nodeName?P.notify("detected "+z+" on "+j.nodeName,1):P.notify("detected "+z,1);for(var x=j;x;x=x.parentNode){var q=!1;if(P.each(B,function(H){P.ruleMatches(H,F,x,G)&&(P.notify('Rule "'+H.name+'" fired.',1),P.fireRule(H,x,F),G++,H.bubbleStop&&(q=!0))}),q){break}}P.$data(F,"eventProcessed",!0)}}},P.onEvent=a.querySelectorAll?function(j){P.handleEvent(j)}:(c=[],(I=function(j){j.selector?c.push(j):P.handleEvent(j)}).pendingEvents=c,I),P.fireEvent=function(j,q){P.onEvent({type:j,target:q})},P.registerEvents=function(j,x){for(var w=x.length-1;w>=0;w--){var q=x[w];P.$data(j,q+".tracked")||(P.addEventHandler(j,q,P.onEvent),P.$data(j,q+".tracked",!0))}},P.registerEventsForTags=function(j,w){for(var q=j.length-1;q>=0;q--){for(var B=j[q],x=a.getElementsByTagName(B),z=x.length-1;z>=0;z--){P.registerEvents(x[z],w)}}},P.setListeners=function(){var j=["click","submit"];P.each(P.rules,function(q){"custom"===q.event&&q.hasOwnProperty("customEvent")&&!P.contains(j,q.customEvent)&&j.push(q.customEvent)}),P.registerEvents(a,j)},P.getUniqueRuleEvents=function(){return P._uniqueRuleEvents||(P._uniqueRuleEvents=[],P.each(P.rules,function(j){-1===P.indexOf(P._uniqueRuleEvents,j.event)&&P._uniqueRuleEvents.push(j.event)})),P._uniqueRuleEvents},P.setFormListeners=function(){if(!P._relevantFormEvents){var j=["change","focus","blur","keypress"];P._relevantFormEvents=P.filter(P.getUniqueRuleEvents(),function(q){return -1!==P.indexOf(j,q)})}P._relevantFormEvents.length&&P.registerEventsForTags(["input","select","textarea","button"],P._relevantFormEvents)},P.setVideoListeners=function(){if(!P._relevantVideoEvents){var j=["play","pause","ended","volumechange","stalled","loadeddata"];P._relevantVideoEvents=P.filter(P.getUniqueRuleEvents(),function(q){return -1!==P.indexOf(j,q)})}P._relevantVideoEvents.length&&P.registerEventsForTags(["video"],P._relevantVideoEvents)},P.readStoredSetting=function(q){try{return q="sdsat_"+q,D.localStorage.getItem(q)}catch(j){return P.notify("Cannot read stored setting from localStorage: "+j.message,2),null}},P.loadStoredSettings=function(){var j=P.readStoredSetting("debug"),q=P.readStoredSetting("hide_activity");j&&(P.settings.notifications="true"===j),q&&(P.settings.hideActivity="true"===q)},P.isRuleActive=function(q,J){function z(X,Y){return Y=U(Y,{hour:X[R](),minute:X[G]()}),Math.floor(Math.abs((X.getTime()-Y.getTime())/86400000))}function w(X,Z){function Y(ac){return 12*ac[O]()+ac[Q]()}return Math.abs(Y(X)-Y(Z))}function U(Z,X){var ad=new Date(Z.getTime());for(var ac in X){if(X.hasOwnProperty(ac)){var Y=X[ac];switch(ac){case"hour":ad[V](Y);break;case"minute":ad[x](Y);break;case"date":ad[M](Y)}}}return ad}function H(X,Y){return 60*X[R]()+X[G]()>60*Y[R]()+Y[G]()}function j(X,Y){return 60*X[R]()+X[G]()<60*Y[R]()+Y[G]()}var F=q.schedule;if(!F){return !0}var B=F.utc,W=B?"getUTCDate":"getDate",K=B?"getUTCDay":"getDay",O=B?"getUTCFullYear":"getFullYear",Q=B?"getUTCMonth":"getMonth",R=B?"getUTCHours":"getHours",G=B?"getUTCMinutes":"getMinutes",V=B?"setUTCHours":"setHours",x=B?"setUTCMinutes":"setMinutes",M=B?"setUTCDate":"setDate";if(J=J||new Date,F.repeat){if(H(F.start,J)){return !1}if(j(F.end,J)){return !1}if(J<F.start){return !1}if(F.endRepeat&&J>=F.endRepeat){return !1}if("daily"===F.repeat){if(F.repeatEvery){if(z(F.start,J)%F.repeatEvery!=0){return !1}}}else{if("weekly"===F.repeat){if(F.days){if(!P.contains(F.days,J[K]())){return !1}}else{if(F.start[K]()!==J[K]()){return !1}}if(F.repeatEvery){if(z(F.start,J)%(7*F.repeatEvery)!=0){return !1}}}else{if("monthly"===F.repeat){if(F.repeatEvery){if(w(F.start,J)%F.repeatEvery!=0){return !1}}if(F.nthWeek&&F.mthDay){if(F.mthDay!==J[K]()){return !1}var N=Math.floor((J[W]()-J[K]()+1)/7);if(F.nthWeek!==N){return !1}}else{if(F.start[W]()!==J[W]()){return !1}}}else{if("yearly"===F.repeat){if(F.start[Q]()!==J[Q]()){return !1}if(F.start[W]()!==J[W]()){return !1}if(F.repeatEvery){if(Math.abs(F.start[O]()-J[O]())%F.repeatEvery!=0){return !1}}}}}}}else{if(F.start>J){return !1}if(F.end<J){return !1}}return !0},P.isOutboundLink=function(j){if(!j.getAttribute("href")){return !1}var w=j.hostname,q=(j.href,j.protocol);return("http:"===q||"https:"===q)&&(!P.any(P.settings.domainList,function(x){return P.isSubdomainOf(w,x)})&&w!==location.hostname)},P.isLinkerLink=function(j){return !(!j.getAttribute||!j.getAttribute("href"))&&(P.hasMultipleDomains()&&j.hostname!=location.hostname&&!j.href.match(/^javascript/i)&&!P.isOutboundLink(j))},P.isSubdomainOf=function(j,w){if(j===w){return !0}var q=j.length-w.length;return q>0&&P.equalsIgnoreCase(j.substring(q),w)},P.getVisitorId=function(){var j=P.getToolsByType("visitor_id");return 0===j.length?null:j[0].getInstance()},P.URI=function(){var j=a.location.pathname+a.location.search;return P.settings.forceLowerCase&&(j=j.toLowerCase()),j},P.URL=function(){var j=a.location.href;return P.settings.forceLowerCase&&(j=j.toLowerCase()),j},P.filterRules=function(){function j(q){return !!P.isRuleActive(q)}P.rules=P.filter(P.rules,j),P.pageLoadRules=P.filter(P.pageLoadRules,j)},P.ruleInScope=function(G,J){function H(K,Q){function N(R){return Q.match(R)}var M=K.include,O=K.exclude;if(M&&B(M,Q)){return !0}if(O){if(P.isString(O)&&O===Q){return !0}if(P.isArray(O)&&P.any(O,N)){return !0}if(P.isRegex(O)&&N(O)){return !0}}return !1}function B(K,N){function M(O){return N.match(O)}return !(!P.isString(K)||K===N)||(!(!P.isArray(K)||P.any(K,M))||!(!P.isRegex(K)||M(K)))}J=J||a.location;var w=G.scope;if(!w){return !0}var x=w.URI,q=w.subdomains,F=w.domains,j=w.protocols,z=w.hashes;return(!x||!H(x,J.pathname+J.search))&&((!q||!H(q,J.hostname))&&((!F||!B(F,J.hostname))&&((!j||!B(j,J.protocol))&&(!z||!H(z,J.hash)))))},P.backgroundTasks=function(){new Date;P.setFormListeners(),P.setVideoListeners(),P.loadStoredSettings(),P.registerNewElementsForDynamicRules(),P.eventEmitterBackgroundTasks();new Date},P.registerNewElementsForDynamicRules=function(){function j(x,w){var q=j.cache[x];if(q){return w(q)}P.cssQuery(x,function(z){j.cache[x]=z,w(z)})}j.cache={},P.each(P.dynamicRules,function(q){j(q.selector,function(w){P.each(w,function(x){var z="custom"===q.event?q.customEvent:q.event;P.$data(x,"dynamicRules.seen."+z)||(P.$data(x,"dynamicRules.seen."+z,!0),P.propertiesMatch(q.property,x)&&P.registerEvents(x,[z]))})})})},P.ensureCSSSelector=function(){a.querySelectorAll?P.hasSelector=!0:(P.loadingSizzle=!0,P.sizzleQueue=[],P.loadScript(P.basePath()+"selector.js",function(){if(P.Sizzle){var j=P.onEvent.pendingEvents;P.each(j,function(q){P.handleEvent(q)},this),P.onEvent=P.handleEvent,P.hasSelector=!0,delete P.loadingSizzle,P.each(P.sizzleQueue,function(q){P.cssQuery(q[0],q[1])}),delete P.sizzleQueue}else{P.logError(new Error("Failed to load selector.js"))}}))},P.errors=[],P.logError=function(j){P.errors.push(j),P.notify(j.name+" - "+j.message,5)},P.pageBottom=function(){P.initialized&&(P.pageBottomFired=!0,P.firePageLoadEvent("pagebottom"))},P.stagingLibraryOverride=function(){if("true"===P.readStoredSetting("stagingLibrary")){for(var G,J,H,B=a.getElementsByTagName("script"),w=/^(.*)satelliteLib-([a-f0-9]{40})\.js$/,x=/^(.*)satelliteLib-([a-f0-9]{40})-staging\.js$/,q=0,F=B.length;q<F&&(!(H=B[q].getAttribute("src"))||(G||(G=H.match(w)),J||(J=H.match(x)),!J));q++){}if(G&&!J){var j=G[1]+"satelliteLib-"+G[2]+"-staging.js";if(a.write){a.write('<script src="'+j+'"></script>')}else{var z=a.createElement("script");z.src=j,a.head.appendChild(z)}return !0}}return !1},P.checkAsyncInclude=function(){D.satellite_asyncLoad&&P.notify('You may be using the async installation of Satellite. In-page HTML and the "pagebottom" event will not work. Please update your Satellite installation for these features.',5)},P.hasMultipleDomains=function(){return !!P.settings.domainList&&P.settings.domainList.length>1},P.handleOverrides=function(){if(aa){for(var j in aa){aa.hasOwnProperty(j)&&(P.data[j]=aa[j])}}},P.privacyManagerParams=function(){var G={};P.extend(G,P.settings.privacyManagement);var z=[];for(var J in P.tools){if(P.tools.hasOwnProperty(J)){var H=P.tools[J],B=H.settings;if(!B){continue}"sc"===B.engine&&z.push(H)}}var w=P.filter(P.map(z,function(K){return K.getTrackingServer()}),function(K){return null!=K});G.adobeAnalyticsTrackingServers=w;for(var x=["bannerText","headline","introductoryText","customCSS"],q=0;q<x.length;q++){var F=x[q],j=G[F];if(j){if("text"===j.type){G[F]=j.value}else{if("data"!==j.type){throw new Error("Invalid type: "+j.type)}G[F]=P.getVar(j.value)}}}return G},P.prepareLoadPrivacyManager=function(){function j(F){function z(){++w===B.length&&(q(),clearTimeout(x),F())}function q(){P.each(B,function(H){P.unbindEvent(H.id+".load",z)})}function G(){q(),F()}var B=P.filter(P.values(P.tools),function(H){return H.settings&&"sc"===H.settings.engine});if(0===B.length){return F()}var w=0;P.each(B,function(H){P.bindEvent(H.id+".load",z)});var x=setTimeout(G,5000)}P.addEventHandler(D,"load",function(){j(P.loadPrivacyManager)})},P.loadPrivacyManager=function(){var j=P.basePath()+"privacy_manager.js";P.loadScript(j,function(){var q=P.privacyManager;q.configure(P.privacyManagerParams()),q.openIfRequired()})},P.init=function(w){if(!P.stagingLibraryOverride()){P.configurationSettings=w;var q=w.tools;for(var j in delete w.tools,w){w.hasOwnProperty(j)&&(P[j]=w[j])}P.data.customVars===n&&(P.data.customVars={}),P.data.queryParams=P.QueryParams.normal,P.handleOverrides(),P.detectBrowserInfo(),P.trackVisitorInfo&&P.trackVisitorInfo(),P.loadStoredSettings(),P.Logger.setOutputState(P.settings.notifications),P.checkAsyncInclude(),P.ensureCSSSelector(),P.filterRules(),P.dynamicRules=P.filter(P.rules,function(x){return x.eventHandlerOnElement}),P.tools=P.initTools(q),P.initEventEmitters(),P.firePageLoadEvent("aftertoolinit"),P.settings.privacyManagement&&P.prepareLoadPrivacyManager(),P.hasSelector&&P.domReady(P.eventEmitterBackgroundTasks),P.setListeners(),P.domReady(function(){P.poll(function(){P.backgroundTasks()},P.settings.recheckEvery||3000)}),P.domReady(function(){P.domReadyFired=!0,P.pageBottomFired||P.pageBottom(),P.firePageLoadEvent("domready")}),P.addEventHandler(D,"load",function(){P.firePageLoadEvent("windowload")}),P.firePageLoadEvent("pagetop"),P.initialized=!0}},P.pageLoadPhases=["aftertoolinit","pagetop","pagebottom","domready","windowload"],P.loadEventBefore=function(j,q){return P.indexOf(P.pageLoadPhases,j)<=P.indexOf(P.pageLoadPhases,q)},P.flushPendingCalls=function(j){j.pending&&(P.each(j.pending,function(x){var q=x[0],B=x[1],z=x[2],w=x[3];q in j?j[q].apply(j,[B,z].concat(w)):j.emit?j.emit(q,B,z,w):P.notify("Failed to trigger "+q+" for tool "+j.id,1)}),delete j.pending)},P.setDebug=function(q){try{D.localStorage.setItem("sdsat_debug",q)}catch(j){P.notify("Cannot set debug mode: "+j.message,2)}},P.getUserAgent=function(){return navigator.userAgent},P.detectBrowserInfo=function(){function q(B){return function(G){for(var F in B){if(B.hasOwnProperty(F)){if(B[F].test(G)){return F}}}return"Unknown"}}var z=q({"IE Edge Mobile":/Windows Phone.*Edge/,"IE Edge":/Edge/,OmniWeb:/OmniWeb/,"Opera Mini":/Opera Mini/,"Opera Mobile":/Opera Mobi/,Opera:/Opera/,Chrome:/Chrome|CriOS|CrMo/,Firefox:/Firefox|FxiOS/,"IE Mobile":/IEMobile/,IE:/MSIE|Trident/,"Mobile Safari":/Mobile(\/[0-9A-z]+)? Safari/,Safari:/Safari/}),x=q({Blackberry:/BlackBerry|BB10/,"Symbian OS":/Symbian|SymbOS/,Maemo:/Maemo/,Android:/Android/,Linux:/ Linux /,Unix:/FreeBSD|OpenBSD|CrOS/,Windows:/[\( ]Windows /,iOS:/iPhone|iPad|iPod/,MacOS:/Macintosh;/}),w=q({Nokia:/Symbian|SymbOS|Maemo/,"Windows Phone":/Windows Phone/,Blackberry:/BlackBerry|BB10/,Android:/Android/,iPad:/iPad/,iPod:/iPod/,iPhone:/iPhone/,Desktop:/.*/}),j=P.getUserAgent();P.browserInfo={browser:z(j),os:x(j),deviceType:w(j)}},P.isHttps=function(){return"https:"==a.location.protocol},P.BaseTool=function(j){this.settings=j||{},this.forceLowerCase=P.settings.forceLowerCase,"forceLowerCase" in this.settings&&(this.forceLowerCase=this.settings.forceLowerCase)},P.BaseTool.prototype={triggerCommand:function(F,z,j){var G=this.settings||{};if(this.initialize&&this.isQueueAvailable()&&this.isQueueable(F)&&j&&P.loadEventBefore(j.type,G.loadOn)){this.queueCommand(F,z,j)}else{var B=F.command,w=this["$"+B],x=!!w&&w.escapeHtml,q=P.preprocessArguments(F.arguments,z,j,this.forceLowerCase,x);w?w.apply(this,[z,j].concat(q)):this.$missing$?this.$missing$(B,z,j,q):P.notify("Failed to trigger "+B+" for tool "+this.id,1)}},endPLPhase:function(){},isQueueable:function(j){return"cancelToolInit"!==j.command},isQueueAvailable:function(){return !this.initialized&&!this.initializing},flushQueue:function(){this.pending&&(P.each(this.pending,function(j){this.triggerCommand.apply(this,j)},this),this.pending=[])},queueCommand:function(j,w,q){this.pending||(this.pending=[]),this.pending.push([j,w,q])},$cancelToolInit:function(){this._cancelToolInit=!0}},D._satellite=P,T.prototype.getStringifiedValue=D.JSON&&D.JSON.stringify||P.stringify,T.prototype.initPolling=function(){0!==this.dataElementsNames.length&&(this.dataElementsStore=this.getDataElementsValues(),P.poll(P.bind(this.checkDataElementValues,this),1000))},T.prototype.getDataElementsValues=function(){var j={};return P.each(this.dataElementsNames,function(w){var q=P.getVar(w);j[w]=this.getStringifiedValue(q)},this),j},T.prototype.checkDataElementValues=function(){P.each(this.dataElementsNames,P.bind(function(j){var q=this.getStringifiedValue(P.getVar(j));q!==this.dataElementsStore[j]&&(this.dataElementsStore[j]=q,P.onEvent({type:"dataelementchange("+j+")",target:a}))},this))},P.availableEventEmitters.push(T),h.orientationChange=function(q){var j=0===D.orientation?"portrait":"landscape";q.orientation=j,P.onEvent(q)},P.availableEventEmitters.push(h),s.prototype={defineEvents:function(){this.oldBlurClosure=function(){P.fireEvent("tabblur",a)},this.oldFocusClosure=P.bind(function(){this.visibilityApiHasPriority?P.fireEvent("tabfocus",a):null!=P.visibility.getHiddenProperty()&&P.visibility.isHidden()||P.fireEvent("tabfocus",a)},this)},attachDetachModernEventListeners:function(j){P[0==j?"removeEventHandler":"addEventHandler"](a,P.visibility.getVisibilityEvent(),this.handleVisibilityChange)},attachDetachOlderEventListeners:function(x,w,q){var j=0==x?"removeEventHandler":"addEventHandler";P[j](w,q,this.oldBlurClosure),P[j](D,"focus",this.oldFocusClosure)},handleVisibilityChange:function(){P.visibility.isHidden()?P.fireEvent("tabblur",a):P.fireEvent("tabfocus",a)},setVisibilityApiPriority:function(j){this.visibilityApiHasPriority=j,this.attachDetachOlderEventListeners(!1,D,"blur"),this.attachDetachModernEventListeners(!1),j?null!=P.visibility.getHiddenProperty()?this.attachDetachModernEventListeners(!0):this.attachDetachOlderEventListeners(!0,D,"blur"):(this.attachDetachOlderEventListeners(!0,D,"blur"),null!=P.visibility.getHiddenProperty()&&this.attachDetachModernEventListeners(!0))},oldBlurClosure:null,oldFocusClosure:null,visibilityApiHasPriority:!0},P.availableEventEmitters.push(s),d.prototype.backgroundTasks=function(){P.each(this.rules,function(j){P.cssQuery(j.selector,function(q){if(q.length>0){var w=q[0];if(P.$data(w,"elementexists.seen")){return}P.$data(w,"elementexists.seen",!0),P.onEvent({type:"elementexists",target:w})}})})},P.availableEventEmitters.push(d),b.prototype={backgroundTasks:function(){var j=this.eventHandler;P.each(this.rules,function(q){P.cssQuery(q.selector||"video",function(w){P.each(w,function(x){P.$data(x,"videoplayed.tracked")||(P.addEventHandler(x,"timeupdate",P.throttle(j,100)),P.$data(x,"videoplayed.tracked",!0))})})})},evalRule:function(J,x){var K=x.event,H=J.seekable,z=H.start(0),w=H.end(0),B=J.currentTime,q=x.event.match(/^videoplayed\(([0-9]+)([s%])\)$/);if(q){var G=q[2],j=Number(q[1]),F="%"===G?function(){return j<=100*(B-z)/(w-z)}:function(){return j<=B-z};!P.$data(J,K)&&F()&&(P.$data(J,K,!0),P.onEvent({type:K,target:J}))}},onUpdateTime:function(q){var z=this.rules,x=q.target;if(x.seekable&&0!==x.seekable.length){for(var w=0,j=z.length;w<j;w++){this.evalRule(x,z[w])}}}},P.availableEventEmitters.push(b),l.offset=function(H){var J=null,G=null;try{var M=H.getBoundingClientRect(),B=a,j=B.documentElement,K=B.body,F=D,x=j.clientTop||K.clientTop||0,N=j.clientLeft||K.clientLeft||0,w=F.pageYOffset||j.scrollTop||K.scrollTop,z=F.pageXOffset||j.scrollLeft||K.scrollLeft;J=M.top+w-x,G=M.left+z-N}catch(q){}return{top:J,left:G}},l.getViewportHeight=function(){var q=D.innerHeight,j=a.compatMode;return j&&(q="CSS1Compat"==j?a.documentElement.clientHeight:a.body.clientHeight),q},l.getScrollTop=function(){return a.documentElement.scrollTop?a.documentElement.scrollTop:a.body.scrollTop},l.isElementInDocument=function(j){return a.body.contains(j)},l.isElementInView=function(q){if(!l.isElementInDocument(q)){return !1}var z=l.getViewportHeight(),x=l.getScrollTop(),w=l.offset(q).top,j=q.offsetHeight;return null!==w&&!(x>w+j||x+z<w)},l.prototype={backgroundTasks:function(){var j=this.elements;P.each(this.rules,function(q){P.cssQuery(q.selector,function(x){var w=0;P.each(x,function(z){P.contains(j,z)||(j.push(z),w++)}),w&&P.notify(q.selector+" added "+w+" elements.",1)})}),this.track()},checkInView:function(j,z,w){var q=P.$data(j,"inview");if(l.isElementInView(j)){q||P.$data(j,"inview",!0);var B=this;this.processRules(j,function(G,F,H){if(z||!G.inviewDelay){P.$data(j,F,!0),P.onEvent({type:"inview",target:j,inviewDelay:G.inviewDelay})}else{if(G.inviewDelay){var J=P.$data(j,H);J||(J=setTimeout(function(){B.checkInView(j,!0,G.inviewDelay)},G.inviewDelay),P.$data(j,H,J))}}},w)}else{if(!l.isElementInDocument(j)){var x=P.indexOf(this.elements,j);this.elements.splice(x,1)}q&&P.$data(j,"inview",!1),this.processRules(j,function(J,H,G){var F=P.$data(j,G);F&&clearTimeout(F)},w)}},track:function(){for(var j=this.elements.length-1;j>=0;j--){this.checkInView(this.elements[j])}},processRules:function(j,x,w){var q=this.rules;w&&(q=P.filter(this.rules,function(z){return z.inviewDelay==w})),P.each(q,function(G,F){var B=G.inviewDelay?"viewed_"+G.inviewDelay:"viewed",z="inview_timeout_id_"+F;P.$data(j,B)||P.matchesCss(G.selector,j)&&x(G,B,z)})}},P.availableEventEmitters.push(l),u.prototype={obue:!1,initialize:function(){this.attachCloseListeners()},obuePrevUnload:function(){},obuePrevBeforeUnload:function(){},newObueListener:function(){this.obue||(this.obue=!0,this.triggerBeacons())},attachCloseListeners:function(){this.prevUnload=D.onunload,this.prevBeforeUnload=D.onbeforeunload,D.onunload=P.bind(function(j){this.prevUnload&&setTimeout(P.bind(function(){this.prevUnload.call(D,j)},this),1),this.newObueListener()},this),D.onbeforeunload=P.bind(function(j){this.prevBeforeUnload&&setTimeout(P.bind(function(){this.prevBeforeUnload.call(D,j)},this),1),this.newObueListener()},this)},triggerBeacons:function(){P.fireEvent("leave",a)}},P.availableEventEmitters.push(u),C.prototype={backgroundTasks:function(){var j=this;P.each(this.rules,function(x){var w=x[1],q=x[0];P.cssQuery(w,function(z){P.each(z,function(B){j.trackElement(B,q)})})},this)},trackElement:function(j,x){var w=this,q=P.$data(j,"hover.delays");q?P.contains(q,x)||q.push(x):(P.addEventHandler(j,"mouseover",function(z){w.onMouseOver(z,j)}),P.addEventHandler(j,"mouseout",function(z){w.onMouseOut(z,j)}),P.$data(j,"hover.delays",[x]))},onMouseOver:function(j,x){var w=j.target||j.srcElement,q=j.relatedTarget||j.fromElement;(x===w||P.containsElement(x,w))&&!P.containsElement(x,q)&&this.onMouseEnter(x)},onMouseEnter:function(j){var w=P.$data(j,"hover.delays"),q=P.map(w,function(x){return setTimeout(function(){P.onEvent({type:"hover("+x+")",target:j})},x)});P.$data(j,"hover.delayTimers",q)},onMouseOut:function(j,x){var w=j.target||j.srcElement,q=j.relatedTarget||j.toElement;(x===w||P.containsElement(x,w))&&!P.containsElement(x,q)&&this.onMouseLeave(x)},onMouseLeave:function(j){var q=P.$data(j,"hover.delayTimers");q&&P.each(q,function(w){clearTimeout(w)})}},P.availableEventEmitters.push(C),v.prototype={initialize:function(){if(this.FB=this.FB||D.FB,this.FB&&this.FB.Event&&this.FB.Event.subscribe){return this.bind(),!0}},bind:function(){this.FB.Event.subscribe("edge.create",function(){P.notify("tracking a facebook like",1),P.onEvent({type:"facebook.like",target:a})}),this.FB.Event.subscribe("edge.remove",function(){P.notify("tracking a facebook unlike",1),P.onEvent({type:"facebook.unlike",target:a})}),this.FB.Event.subscribe("message.send",function(){P.notify("tracking a facebook share",1),P.onEvent({type:"facebook.send",target:a})})}},P.availableEventEmitters.push(v),g.prototype={initialize:function(){var j=this.twttr;j&&"function"==typeof j.ready&&j.ready(P.bind(this.bind,this))},bind:function(){this.twttr.events.bind("tweet",function(j){j&&(P.notify("tracking a tweet button",1),P.onEvent({type:"twitter.tweet",target:a}))})}},P.availableEventEmitters.push(g),k.prototype={initialize:function(){this.setupHistoryAPI(),this.setupHashChange()},fireIfURIChanged:function(){var j=P.URL();this.lastURL!==j&&(this.fireEvent(),this.lastURL=j)},fireEvent:function(){P.updateQueryParams(),P.onEvent({type:"locationchange",target:a})},setupSPASupport:function(){this.setupHistoryAPI(),this.setupHashChange()},setupHistoryAPI:function(){var j=D.history;j&&(j.pushState&&(this.originalPushState=j.pushState,j.pushState=this._pushState),j.replaceState&&(this.originalReplaceState=j.replaceState,j.replaceState=this._replaceState)),P.addEventHandler(D,"popstate",this._onPopState)},pushState:function(){var j=this.originalPushState.apply(history,arguments);return this.onPushState(),j},replaceState:function(){var j=this.originalReplaceState.apply(history,arguments);return this.onReplaceState(),j},setupHashChange:function(){P.addEventHandler(D,"hashchange",this._onHashChange)},onReplaceState:function(){setTimeout(this._fireIfURIChanged,0)},onPushState:function(){setTimeout(this._fireIfURIChanged,0)},onPopState:function(){setTimeout(this._fireIfURIChanged,0)},onHashChange:function(){setTimeout(this._fireIfURIChanged,0)},uninitialize:function(){this.cleanUpHistoryAPI(),this.cleanUpHashChange()},cleanUpHistoryAPI:function(){history.pushState===this._pushState&&(history.pushState=this.originalPushState),history.replaceState===this._replaceState&&(history.replaceState=this.originalReplaceState),P.removeEventHandler(D,"popstate",this._onPopState)},cleanUpHashChange:function(){P.removeEventHandler(D,"hashchange",this._onHashChange)}},P.availableEventEmitters.push(k),P.ecommerce={addItem:function(){var j=[].slice.call(arguments);P.onEvent({type:"ecommerce.additem",target:j})},addTrans:function(){var j=[].slice.call(arguments);P.data.saleData.sale={orderId:j[0],revenue:j[2]},P.onEvent({type:"ecommerce.addtrans",target:j})},trackTrans:function(){P.onEvent({type:"ecommerce.tracktrans",target:[]})}},P.visibility={isHidden:function(){var j=this.getHiddenProperty();return !!j&&a[j]},isVisible:function(){return !this.isHidden()},getHiddenProperty:function(){var j=["webkit","moz","ms","o"];if("hidden" in a){return"hidden"}for(var q=0;q<j.length;q++){if(j[q]+"Hidden" in a){return j[q]+"Hidden"}}return null},getVisibilityEvent:function(){var j=this.getHiddenProperty();return j?j.replace(/[H|h]idden/,"")+"visibilitychange":null}},P.inherit(r,P.BaseTool),P.extend(r.prototype,{name:"Nielsen",endPLPhase:function(j){switch(j){case"pagetop":this.initialize();break;case"pagebottom":this.enableTracking&&(this.queueCommand({command:"sendFirstBeacon",arguments:[]}),this.flushQueueWhenReady())}},defineListeners:function(){this.onTabFocus=P.bind(function(){this.notify("Tab visible, sending view beacon when ready",1),this.tabEverVisible=!0,this.flushQueueWhenReady()},this),this.onPageLeave=P.bind(function(){this.notify("isHuman? : "+this.isHuman(),1),this.isHuman()&&this.sendDurationBeacon()},this),this.onHumanDetectionChange=P.bind(function(j){this==j.target.target&&(this.human=j.target.isHuman)},this)},initialize:function(){this.initializeTracking(),this.initializeDataProviders(),this.initializeNonHumanDetection(),this.tabEverVisible=P.visibility.isVisible(),this.tabEverVisible?this.notify("Tab visible, sending view beacon when ready",1):P.bindEventOnce("tabfocus",this.onTabFocus),this.initialized=!0},initializeTracking:function(){this.initialized||(this.notify("Initializing tracking",1),this.addRemovePageLeaveEvent(this.enableTracking),this.addRemoveHumanDetectionChangeEvent(this.enableTracking),this.initialized=!0)},initializeDataProviders:function(){var j,q=this.getAnalyticsTool();this.dataProvider.register(new r.DataProvider.VisitorID(P.getVisitorId())),q?(j=new r.DataProvider.Generic("rsid",function(){return q.settings.account}),this.dataProvider.register(j)):this.notify("Missing integration with Analytics: rsid will not be sent.")},initializeNonHumanDetection:function(){P.nonhumandetection?(P.nonhumandetection.init(),this.setEnableNonHumanDetection(0!=this.settings.enableNonHumanDetection),this.settings.nonHumanDetectionDelay>0&&this.setNonHumanDetectionDelay(1000*parseInt(this.settings.nonHumanDetectionDelay))):this.notify("NHDM is not available.")},getAnalyticsTool:function(){if(this.settings.integratesWith){return P.tools[this.settings.integratesWith]}},flushQueueWhenReady:function(){this.enableTracking&&this.tabEverVisible&&P.poll(P.bind(function(){if(this.isReadyToTrack()){return this.flushQueue(),!0}},this),100,20)},isReadyToTrack:function(){return this.tabEverVisible&&this.dataProvider.isReady()},$setVars:function(q,z,x){for(var w in x){var j=x[w];"function"==typeof j&&(j=j()),this.settings[w]=j}this.notify("Set variables done",2),this.prepareContextData()},$setEnableTracking:function(j,w,q){this.notify("Will"+(q?"":" not")+" track time on page",1),this.enableTracking!=q&&(this.addRemovePageLeaveEvent(q),this.addRemoveHumanDetectionChangeEvent(q),this.enableTracking=q)},$sendFirstBeacon:function(){this.sendViewBeacon()},setEnableNonHumanDetection:function(j){j?P.nonhumandetection.register(this):P.nonhumandetection.unregister(this)},setNonHumanDetectionDelay:function(j){P.nonhumandetection.register(this,j)},addRemovePageLeaveEvent:function(j){this.notify((j?"Attach onto":"Detach from")+" page leave event",1),P[0==j?"unbindEvent":"bindEvent"]("leave",this.onPageLeave)},addRemoveHumanDetectionChangeEvent:function(j){this.notify((j?"Attach onto":"Detach from")+" human detection change event",1),P[0==j?"unbindEvent":"bindEvent"]("humandetection.change",this.onHumanDetectionChange)},sendViewBeacon:function(){this.notify("Tracked page view.",1),this.sendBeaconWith()},sendDurationBeacon:function(){if(P.timetracking&&"function"==typeof P.timetracking.timeOnPage&&null!=P.timetracking.timeOnPage()){this.notify("Tracked close",1),this.sendBeaconWith({timeOnPage:Math.round(P.timetracking.timeOnPage()/1000),duration:"D",timer:"timer"});var j;for(j=0;j<this.magicConst;j++){"0"}}else{this.notify("Could not track close due missing time on page",5)}},sendBeaconWith:function(j){this.enableTracking&&this[this.beaconMethod].call(this,this.prepareUrl(j))},plainBeacon:function(j){var q=new Image;q.src=j,q.width=1,q.height=1,q.alt=""},navigatorSendBeacon:function(j){navigator.sendBeacon(j)},prepareUrl:function(j){var q=this.settings;return P.extend(q,this.dataProvider.provide()),P.extend(q,j),this.preparePrefix(this.settings.collectionServer)+this.adapt.convertToURI(this.adapt.toNielsen(this.substituteVariables(q)))},preparePrefix:function(j){return"//"+encodeURIComponent(j)+".imrworldwide.com/cgi-bin/gn?"},substituteVariables:function(j){var w={};for(var q in j){j.hasOwnProperty(q)&&(w[q]=P.replace(j[q]))}return w},prepareContextData:function(){if(this.getAnalyticsTool()){var j=this.settings;j.sdkVersion=_satellite.publishDate,this.getAnalyticsTool().$setVars(null,null,{contextData:this.adapt.toAnalytics(this.substituteVariables(j))})}else{this.notify("Adobe Analytics missing.")}},isHuman:function(){return this.human},onTabFocus:function(){},onPageLeave:function(){},onHumanDetectionChange:function(){},notify:function(j,q){P.notify(this.logPrefix+j,q)},beaconMethod:"plainBeacon",adapt:null,enableTracking:!1,logPrefix:"Nielsen: ",tabEverVisible:!1,human:!0,magicConst:2000000}),r.DataProvider={},r.DataProvider.Generic=function(j,q){this.key=j,this.valueFn=q},P.extend(r.DataProvider.Generic.prototype,{isReady:function(){return !0},getValue:function(){return this.valueFn()},provide:function(){this.isReady()||r.prototype.notify("Not yet ready to provide value for: "+this.key,5);var j={};return j[this.key]=this.getValue(),j}}),r.DataProvider.VisitorID=function(j,w,q){this.key=w||"uuid",this.visitorInstance=j,this.visitorInstance&&(this.visitorId=j.getMarketingCloudVisitorID([this,this._visitorIdCallback])),this.fallbackProvider=q||new r.UUID},P.inherit(r.DataProvider.VisitorID,r.DataProvider.Generic),P.extend(r.DataProvider.VisitorID.prototype,{isReady:function(){return null===this.visitorInstance||!!this.visitorId},getValue:function(){return this.visitorId||this.fallbackProvider.get()},_visitorIdCallback:function(j){this.visitorId=j}}),r.DataProvider.Aggregate=function(){this.providers=[];for(var j=0;j<arguments.length;j++){this.register(arguments[j])}},P.extend(r.DataProvider.Aggregate.prototype,{register:function(j){this.providers.push(j)},isReady:function(){return P.every(this.providers,function(j){return j.isReady()})},provide:function(){var j={};return P.each(this.providers,function(q){P.extend(j,q.provide())}),j}}),r.UUID=function(){},P.extend(r.UUID.prototype,{generate:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(j){var q=16*Math.random()|0;return("x"==j?q:3&q|8).toString(16)})},get:function(){var j=P.readCookie(this.key("uuid"));return j||(j=this.generate(),P.setCookie(this.key("uuid"),j),j)},key:function(j){return"_dtm_nielsen_"+j}}),r.DataAdapters=function(){},P.extend(r.DataAdapters.prototype,{toNielsen:function(q){var z=(new Date).getTime(),w={c6:"vc,",c13:"asid,",c15:"apn,",c27:"cln,",c32:"segA,",c33:"segB,",c34:"segC,",c35:"adrsid,",c29:"plid,",c30:"bldv,",c40:"adbid,"},j={ci:q.clientId,c6:q.vcid,c13:q.appId,c15:q.appName,prv:1,forward:0,ad:0,cr:q.duration||"V",rt:"text",st:"dcr",prd:"dcr",r:z,at:q.timer||"view",c16:q.sdkVersion,c27:q.timeOnPage||0,c40:q.uuid,c35:q.rsid,ti:z,sup:0,c32:q.segmentA,c33:q.segmentB,c34:q.segmentC,asn:q.assetName,c29:q.playerID,c30:q.buildVersion};for(key in j){if(j[key]!==n&&null!=j[key]&&j[key]!==n&&null!=j&&""!=j){var x=encodeURIComponent(j[key]);w.hasOwnProperty(key)&&x&&(x=w[key]+x),j[key]=x}}return this.filterObject(j)},toAnalytics:function(j){return this.filterObject({"a.nielsen.clientid":j.clientId,"a.nielsen.vcid":j.vcid,"a.nielsen.appid":j.appId,"a.nielsen.appname":j.appName,"a.nielsen.accmethod":"0","a.nielsen.ctype":"text","a.nielsen.sega":j.segmentA,"a.nielsen.segb":j.segmentB,"a.nielsen.segc":j.segmentC,"a.nielsen.asset":j.assetName})},convertToURI:function(j){if(!1===P.isObject(j)){return""}var w=[];for(var q in j){j.hasOwnProperty(q)&&w.push(q+"="+j[q])}return w.join("&")},filterObject:function(j){for(var q in j){!j.hasOwnProperty(q)||null!=j[q]&&j[q]!==n||delete j[q]}return j}}),P.availableTools.nielsen=r,P.extend(S.prototype,{getInstance:function(){return this.instance},initialize:function(){var j,q=this.settings;P.notify("Visitor ID: Initializing tool",1),null!==(j=this.createInstance(q.mcOrgId,q.initVars))&&(q.customerIDs&&this.applyCustomerIDs(j,q.customerIDs),q.autoRequest&&j.getMarketingCloudVisitorID(),this.instance=j)},createInstance:function(j,w){if(!P.isString(j)){return P.notify('Visitor ID: Cannot create instance using mcOrgId: "'+j+'"',4),null}j=P.replace(j),P.notify('Visitor ID: Create instance using mcOrgId: "'+j+'"',1),w=this.parseValues(w);var q=Visitor.getInstance(j,w);return P.notify("Visitor ID: Set variables: "+P.stringify(w),1),q},applyCustomerIDs:function(j,w){var q=this.parseIds(w);j.setCustomerIDs(q),P.notify("Visitor ID: Set Customer IDs: "+P.stringify(q),1)},parseValues:function(j){if(!1===P.isObject(j)){return{}}var w={};for(var q in j){j.hasOwnProperty(q)&&(w[q]=P.replace(j[q]))}return w},parseIds:function(j){var x={};if(!1===P.isObject(j)){return{}}for(var w in j){if(j.hasOwnProperty(w)){var q=P.replace(j[w].id);q!==j[w].id&&q&&(x[w]={},x[w].id=q,x[w].authState=Visitor.AuthState[j[w].authState])}}return x}}),P.availableTools.visitor_id=S,P.inherit(f,P.BaseTool),P.extend(f.prototype,{name:"SC",endPLPhase:function(j){j===this.settings.loadOn&&this.initialize(j)},initialize:function(q){if(!this._cancelToolInit){if(this.settings.initVars=this.substituteVariables(this.settings.initVars,{type:q}),!1!==this.settings.initTool){var j=this.settings.sCodeURL||P.basePath()+"s_code.js";"object"==typeof j&&(j="https:"===D.location.protocol?j.https:j.http),j.match(/^https?:/)||(j=P.basePath()+j),this.settings.initVars&&this.$setVars(null,null,this.settings.initVars),P.loadScript(j,P.bind(this.onSCodeLoaded,this)),this.initializing=!0}else{this.initializing=!0,this.pollForSC()}}},getS:function(z,j){var G=j&&j.hostname||D.location.hostname,B=this.concatWithToolVarBindings(j&&j.setVars||this.varBindings),w=j&&j.addEvent||this.events,x=this.getAccount(G),q=D.s_gi;if(!q){return null}if(this.isValidSCInstance(z)||(z=null),!x&&!z){return P.notify("Adobe Analytics: tracker not initialized because account was not found",1),null}z=z||q(x);var F="D"+P.appVersion;return"undefined"!=typeof z.tagContainerMarker?z.tagContainerMarker=F:"string"==typeof z.version&&z.version.substring(z.version.length-5)!=="-"+F&&(z.version+="-"+F),z.sa&&!0!==this.settings.skipSetAccount&&!1!==this.settings.initTool&&z.sa(this.settings.account),this.applyVarBindingsOnTracker(z,B),w.length>0&&(z.events=w.join(",")),P.getVisitorId()&&(z.visitor=P.getVisitorId()),z},onSCodeLoaded:function(j){this.initialized=!0,this.initializing=!1;var q=["Adobe Analytics: loaded",j?" (manual)":"","."];P.notify(q.join(""),1),P.fireEvent(this.id+".load",this.getS()),j||(this.flushQueueExceptTrackLink(),this.sendBeacon()),this.flushQueue()},getAccount:function(j){return D.s_account?D.s_account:j&&this.settings.accountByHost&&this.settings.accountByHost[j]||this.settings.account},getTrackingServer:function(){var z=this,j=z.getS();if(j){if(j.ssl&&j.trackingServerSecure){return j.trackingServerSecure}if(j.trackingServer){return j.trackingServer}}var G,B=z.getAccount(D.location.hostname);if(!B){return null}var w,x,q="",F=j&&j.dc;return(w=(G=B).indexOf(","))>=0&&(G=G.gb(0,w)),G=G.replace(/[^A-Za-z0-9]/g,""),q||(q="2o7.net"),F=F?(""+F).toLowerCase():"d1","2o7.net"==q&&("d1"==F?F="112":"d2"==F&&(F="122"),x=""),w=G+"."+F+"."+x+q},sendBeacon:function(){var j=this.getS(D[this.settings.renameS||"s"]);j?this.settings.customInit&&!1===this.settings.customInit(j)?P.notify("Adobe Analytics: custom init suppressed beacon",1):(this.settings.executeCustomPageCodeFirst&&this.applyVarBindingsOnTracker(j,this.varBindings),this.executeCustomSetupFuns(j),j.t(),this.clearVarBindings(),this.clearCustomSetup(),P.notify("Adobe Analytics: tracked page view",1)):P.notify("Adobe Analytics: page code not loaded",1)},pollForSC:function(){P.poll(P.bind(function(){if("function"==typeof D.s_gi){return this.onSCodeLoaded(!0),!0}},this))},flushQueueExceptTrackLink:function(){if(this.pending){for(var j=[],w=0;w<this.pending.length;w++){var q=this.pending[w];"trackLink"===q[0].command?j.push(q):this.triggerCommand.apply(this,q)}this.pending=j}},isQueueAvailable:function(){return !this.initialized},substituteVariables:function(q,z){var x={};for(var w in q){if(q.hasOwnProperty(w)){var j=q[w];x[w]=P.replace(j,location,z)}}return x},$setVars:function(q,z,x){for(var w in x){if(x.hasOwnProperty(w)){var j=x[w];"function"==typeof j&&(j=j()),this.varBindings[w]=j}}P.notify("Adobe Analytics: set variables.",2)},$customSetup:function(j,w,q){this.customSetupFuns.push(function(x){q.call(j,w,x)})},isValidSCInstance:function(j){return !!j&&"function"==typeof j.t&&"function"==typeof j.tl},concatWithToolVarBindings:function(j){var q=this.settings.initVars||{};return P.map(["trackingServer","trackingServerSecure"],function(w){q[w]&&!j[w]&&(j[w]=q[w])}),j},applyVarBindingsOnTracker:function(j,w){for(var q in w){w.hasOwnProperty(q)&&(j[q]=w[q])}},clearVarBindings:function(){this.varBindings={}},clearCustomSetup:function(){this.customSetupFuns=[]},executeCustomSetupFuns:function(j){P.each(this.customSetupFuns,function(q){q.call(D,j)})},$trackLink:function(M,q,H){var F=(H=H||{}).type,K=H.linkName;!K&&M&&M.nodeName&&"a"===M.nodeName.toLowerCase()&&(K=M.innerHTML),K||(K="link clicked");var B=H&&H.setVars,G=H&&H.addEvent||[],z=this.getS(null,{setVars:B,addEvent:G});if(z){var J=z.linkTrackVars,w=z.linkTrackEvents,j=this.definedVarNames(B);H&&H.customSetup&&H.customSetup.call(M,q,z),G.length>0&&j.push("events"),z.products&&j.push("products"),j=this.mergeTrackLinkVars(z.linkTrackVars,j),G=this.mergeTrackLinkVars(z.linkTrackEvents,G),z.linkTrackVars=this.getCustomLinkVarsList(j);var x=P.map(G,function(N){return N.split(":")[0]});z.linkTrackEvents=this.getCustomLinkVarsList(x),z.tl(!0,F||"o",K),P.notify(["Adobe Analytics: tracked link ","using: linkTrackVars=",P.stringify(z.linkTrackVars),"; linkTrackEvents=",P.stringify(z.linkTrackEvents)].join(""),1),z.linkTrackVars=J,z.linkTrackEvents=w}else{P.notify("Adobe Analytics: page code not loaded",1)}},mergeTrackLinkVars:function(j,q){return j&&(q=j.split(",").concat(q)),q},getCustomLinkVarsList:function(j){var q=P.indexOf(j,"None");return q>-1&&j.length>1&&j.splice(q,1),j.join(",")},definedVarNames:function(j){j=j||this.varBindings;var w=[];for(var q in j){j.hasOwnProperty(q)&&/^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$/.test(q)&&w.push(q)}return w},$trackPageView:function(j,z,w){var q=w&&w.setVars,B=w&&w.addEvent||[],x=this.getS(null,{setVars:q,addEvent:B});x?(x.linkTrackVars="",x.linkTrackEvents="",this.executeCustomSetupFuns(x),w&&w.customSetup&&w.customSetup.call(j,z,x),x.t(),this.clearVarBindings(),this.clearCustomSetup(),P.notify("Adobe Analytics: tracked page view",1)):P.notify("Adobe Analytics: page code not loaded",1)},$postTransaction:function(z,j,G){var B=P.data.transaction=D[G],w=this.varBindings,x=this.settings.fieldVarMapping;if(P.each(B.items,function(H){this.products.push(H)},this),w.products=P.map(this.products,function(J){var N=[];if(x&&x.item){for(var M in x.item){if(x.item.hasOwnProperty(M)){var K=x.item[M];N.push(K+"="+J[M]),"event"===K.substring(0,5)&&this.events.push(K)}}}var H=["",J.product,J.quantity,J.unitPrice*J.quantity];return N.length>0&&H.push(N.join("|")),H.join(";")},this).join(","),x&&x.transaction){var q=[];for(var F in x.transaction){if(x.transaction.hasOwnProperty(F)){G=x.transaction[F];q.push(G+"="+B[F]),"event"===G.substring(0,5)&&this.events.push(G)}}w.products.length>0&&(w.products+=","),w.products+=";;;;"+q.join("|")}},$addEvent:function(){for(var j=2,q=arguments.length;j<q;j++){this.events.push(arguments[j])}},$addProduct:function(){for(var j=2,q=arguments.length;j<q;j++){this.products.push(arguments[j])}}}),P.availableTools.sc=f,P.inherit(t,P.BaseTool),P.extend(t.prototype,{name:"Default",$loadIframe:function(z,q,j){var B=j.pages,w=j.loadOn,x=P.bind(function(){P.each(B,function(F){this.loadIframe(z,q,F)},this)},this);w||x(),"domready"===w&&P.domReady(x),"load"===w&&P.addEventHandler(D,"load",x)},loadIframe:function(G,q,H){var B=a.createElement("iframe");B.style.display="none";var x=P.data.host,z=H.data,w=this.scriptURL(H.src),F=P.searchVariables(z,G,q);x&&(w=P.basePath()+w),w+=F,B.src=w;var j=a.getElementsByTagName("body")[0];j?j.appendChild(B):P.domReady(function(){a.getElementsByTagName("body")[0].appendChild(B)})},scriptURL:function(j){return(P.settings.scriptDir||"")+j},$loadScript:function(z,j,F){var B=F.scripts,w=F.sequential,x=F.loadOn,q=P.bind(function(){w?this.loadScripts(z,j,B):P.each(B,function(G){this.loadScripts(z,j,[G])},this)},this);x?"domready"===x?P.domReady(q):"load"===x&&P.addEventHandler(D,"load",q):q()},loadScripts:function(G,z,j){function H(){w.length>0&&B&&w.shift().call(G,z,x);var J=j.shift();if(J){var K=P.data.host,M=q.scriptURL(J.src);K&&(M=P.basePath()+M),B=J,P.loadScript(M,H)}}try{j=j.slice(0);var B,w=this.asyncScriptCallbackQueue,x=z.target||z.srcElement,q=this}catch(F){console.error("scripts is",P.stringify(j))}H()},$loadBlockingScript:function(j,x,w){var q=w.scripts;w.loadOn;P.bind(function(){P.each(q,function(z){this.loadBlockingScript(j,x,z)},this)},this)()},loadBlockingScript:function(j,z,w){var q=this.scriptURL(w.src),B=P.data.host,x=z.target||z.srcElement;B&&(q=P.basePath()+q),this.argsForBlockingScripts.push([j,z,x]),P.loadScriptSync(q)},pushAsyncScript:function(j){this.asyncScriptCallbackQueue.push(j)},pushBlockingScript:function(j){var w=this.argsForBlockingScripts.shift(),q=w[0];j.apply(q,w.slice(1))},$writeHTML:P.escapeHtmlParams(function(q,x){if(!P.domReadyFired&&a.write){if("pagebottom"===x.type||"pagetop"===x.type){for(var w=2,j=arguments.length;w<j;w++){var z=arguments[w].html;z=P.replace(z,q,x),a.write(z)}}else{P.notify("You can only use writeHTML on the `pagetop` and `pagebottom` events.",1)}}else{P.notify("Command writeHTML failed. You should try appending HTML using the async option.",1)}}),linkNeedsDelayActivate:function(z,w){w=w||D;var q=z.tagName,j=z.getAttribute("target"),x=z.getAttribute("href");return(!q||"a"===q.toLowerCase())&&(!!x&&(!j||"_blank"!==j&&("_top"===j?w.top===w:"_parent"!==j&&("_self"===j||(!w.name||j===w.name)))))},$delayActivateLink:function(j,w){if(this.linkNeedsDelayActivate(j)){P.preventDefault(w);var q=P.settings.linkDelay||100;setTimeout(function(){P.setLocation(j.href)},q)}},isQueueable:function(j){return"writeHTML"!==j.command}}),P.availableTools["default"]=t,P.inherit(m,P.BaseTool),P.extend(m.prototype,{name:"tnt",endPLPhase:function(j){"aftertoolinit"===j&&this.initialize()},initialize:function(){P.notify("Test & Target: Initializing",1),this.initializeTargetPageParams(),this.load()},initializeTargetPageParams:function(){D.targetPageParams&&this.updateTargetPageParams(this.parseTargetPageParamsResult(D.targetPageParams())),this.updateTargetPageParams(this.settings.pageParams),this.setTargetPageParamsFunction()},load:function(){var j=this.getMboxURL(this.settings.mboxURL);!1!==this.settings.initTool?this.settings.loadSync?(P.loadScriptSync(j),this.onScriptLoaded()):(P.loadScript(j,P.bind(this.onScriptLoaded,this)),this.initializing=!0):this.initialized=!0},getMboxURL:function(q){var j=q;return P.isObject(q)&&(j="https:"===D.location.protocol?q.https:q.http),j.match(/^https?:/)?j:P.basePath()+j},onScriptLoaded:function(){P.notify("Test & Target: loaded.",1),this.flushQueue(),this.initialized=!0,this.initializing=!1},$addMbox:function(j,z,w){var q=w.mboxGoesAround,B=q+"{visibility: hidden;}",x=this.appendStyle(B);q in this.styleElements||(this.styleElements[q]=x),this.initialized?this.$addMBoxStep2(null,null,w):this.initializing&&this.queueCommand({command:"addMBoxStep2",arguments:[w]},j,z)},$addMBoxStep2:function(w,q,j){var x=this.generateID(),z=this;P.addEventHandler(D,"load",P.bind(function(){P.cssQuery(j.mboxGoesAround,function(G){var F=G[0];if(F){var H=a.createElement("div");H.id=x,F.parentNode.replaceChild(H,F),H.appendChild(F),D.mboxDefine(x,j.mboxName);var B=[j.mboxName];j.arguments&&(B=B.concat(j.arguments)),D.mboxUpdate.apply(null,B),z.reappearWhenCallComesBack(F,x,j.timeout,j)}})},this)),this.lastMboxID=x},$addTargetPageParams:function(j,w,q){this.updateTargetPageParams(q)},generateID:function(){return"_sdsat_mbox_"+String(Math.random()).substring(2)+"_"},appendStyle:function(j){var w=a.getElementsByTagName("head")[0],q=a.createElement("style");return q.type="text/css",q.styleSheet?q.styleSheet.cssText=j:q.appendChild(a.createTextNode(j)),w.appendChild(q),q},reappearWhenCallComesBack:function(j,z,w,q){function B(){var F=x.styleElements[q.mboxGoesAround];F&&(F.parentNode.removeChild(F),delete x.styleElements[q.mboxGoesAround])}var x=this;P.cssQuery('script[src*="omtrdc.net"]',function(F){var H=F[0];if(H){P.scriptOnLoad(H.src,H,function(){P.notify("Test & Target: request complete",1),B(),clearTimeout(G)});var G=setTimeout(function(){P.notify("Test & Target: bailing after "+w+"ms",1),B()},w)}else{P.notify("Test & Target: failed to find T&T ajax call, bailing",1),B()}})},updateTargetPageParams:function(j){var w={};for(var q in j){j.hasOwnProperty(q)&&(w[P.replace(q)]=P.replace(j[q]))}P.extend(this.targetPageParamsStore,w)},getTargetPageParams:function(){return this.targetPageParamsStore},setTargetPageParamsFunction:function(){D.targetPageParams=P.bind(this.getTargetPageParams,this)},parseTargetPageParamsResult:function(j){var q=j;return P.isArray(j)&&(j=j.join("&")),P.isString(j)&&(q=P.parseQueryParams(j)),q}}),P.availableTools.tnt=m,P.inherit(ab,P.BaseTool),P.extend(ab.prototype,{initialize:function(){var j=this.settings;if(!1!==this.settings.initTool){var q=j.url;q="string"==typeof q?P.basePath()+q:P.isHttps()?q.https:q.http,P.loadScript(q,P.bind(this.onLoad,this)),this.initializing=!0}else{this.initialized=!0}},isQueueAvailable:function(){return !this.initialized},onLoad:function(){this.initialized=!0,this.initializing=!1,this.settings.initialBeacon&&this.settings.initialBeacon(),this.flushQueue()},endPLPhase:function(j){j===this.settings.loadOn&&(P.notify(this.name+": Initializing at "+j,1),this.initialize())},$fire:function(j,w,q){this.initializing?this.queueCommand({command:"fire",arguments:[q]},j,w):q.call(this.settings,j,w)}}),P.availableTools.am=ab,P.availableTools.adlens=ab,P.availableTools.aem=ab,P.availableTools.__basic=ab;var L={allowLinker:function(){return P.hasMultipleDomains()},cookieDomain:function(){var q=P.settings.domainList,j=P.find(q,function(x){var w=D.location.hostname;return P.equalsIgnoreCase(w.slice(w.length-x.length),x)});return j?"."+j:"auto"}};P.inherit(E,P.BaseTool),P.extend(E.prototype,{name:"GAUniversal",endPLPhase:function(j){j===this.settings.loadOn&&(P.notify("GAU: Initializing at "+j,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},getTrackerName:function(){return this.settings.trackerSettings.name||""},isPageCodeLoadSuppressed:function(){return !1===this.settings.initTool||!0===this._cancelToolInit},initialize:function(){if(this.isPageCodeLoadSuppressed()){return this.initialized=!0,void P.notify("GAU: Page code not loaded (suppressed).",1)}var q="ga";D[q]=D[q]||this.createGAObject(),D.GoogleAnalyticsObject=q,P.notify("GAU: Page code loaded.",1),P.loadScriptOnce(this.getToolUrl());var j=this.settings;(L.allowLinker()&&!1!==j.allowLinker?this.createAccountForLinker():this.createAccount(),this.executeInitCommands(),j.customInit)&&(!1===(0,j.customInit)(D[q],this.getTrackerName())&&(this.suppressInitialPageView=!0));this.initialized=!0},createGAObject:function(){var j=function(){j.q.push(arguments)};return j.q=[],j.l=1*new Date,j},createAccount:function(){this.create()},createAccountForLinker:function(){var j={};L.allowLinker()&&(j.allowLinker=!0),this.create(j),this.call("require","linker"),this.call("linker:autoLink",this.autoLinkDomains(),!1,!0)},create:function(j){var q=this.settings.trackerSettings;(q=P.preprocessArguments([q],location,null,this.forceLowerCase)[0]).trackingId=P.replace(this.settings.trackerSettings.trackingId,location),q.cookieDomain||(q.cookieDomain=L.cookieDomain()),P.extend(q,j||{}),this.call("create",q)},autoLinkDomains:function(){var j=location.hostname;return P.filter(P.settings.domainList,function(q){return q!==j})},executeInitCommands:function(){var j=this.settings;j.initCommands&&P.each(j.initCommands,function(q){var w=q.splice(2,q.length-2);q=q.concat(P.preprocessArguments(w,location,null,this.forceLowerCase)),this.call.apply(this,q)},this)},trackInitialPageView:function(){this.suppressInitialPageView||this.isPageCodeLoadSuppressed()||this.call("send","pageview")},call:function(){"function"==typeof ga?this.isCallSuppressed()||(arguments[0]=this.cmd(arguments[0]),this.log(P.toArray(arguments)),ga.apply(D,arguments)):P.notify("GA Universal function not found!",4)},isCallSuppressed:function(){return !0===this._cancelToolInit},$missing$:function(j,x,w,q){q=q||[],q=[j].concat(q),this.call.apply(this,q)},getToolUrl:function(){var j=this.settings,q=P.isHttps();return j.url?q?j.url.https:j.url.http:(q?"https://ssl":"http://www")+".google-analytics.com/analytics.js"},cmd:function(j){var w=["send","set","get"],q=this.getTrackerName();return q&&-1!==P.indexOf(w,j)?q+"."+j:j},log:function(j){var q="GA Universal: sent command "+j[0]+" to tracker "+(this.getTrackerName()||"default");if(j.length>1){P.stringify(j.slice(1));q+=" with parameters "+P.stringify(j.slice(1))}q+=".",P.notify(q,1)}}),P.availableTools.ga_universal=E,P.inherit(p,P.BaseTool),P.extend(p.prototype,{name:"GA",initialize:function(){var z=this.settings,j=D._gaq,G=z.initCommands||[],B=z.customInit;if(j||(_gaq=[]),this.isSuppressed()){P.notify("GA: page code not loaded(suppressed).",1)}else{if(!j&&!p.scriptLoaded){var w=P.isHttps(),x=(w?"https://ssl":"http://www")+".google-analytics.com/ga.js";z.url&&(x=w?z.url.https:z.url.http),P.loadScript(x),p.scriptLoaded=!0,P.notify("GA: page code loaded.",1)}z.domain;var q=z.trackerName,F=L.allowLinker(),H=P.replace(z.account,location);P.settings.domainList;_gaq.push([this.cmd("setAccount"),H]),F&&_gaq.push([this.cmd("setAllowLinker"),F]),_gaq.push([this.cmd("setDomainName"),L.cookieDomain()]),P.each(G,function(J){var K=[this.cmd(J[0])].concat(P.preprocessArguments(J.slice(1),location,null,this.forceLowerCase));_gaq.push(K)},this),B&&(this.suppressInitialPageView=!1===B(_gaq,q)),z.pageName&&this.$overrideInitialPageView(null,null,z.pageName)}this.initialized=!0,P.fireEvent(this.id+".configure",_gaq,q)},isSuppressed:function(){return this._cancelToolInit||!1===this.settings.initTool},tracker:function(){return this.settings.trackerName},cmd:function(j){var q=this.tracker();return q?q+"._"+j:"_"+j},$overrideInitialPageView:function(j,w,q){this.urlOverride=q},trackInitialPageView:function(){if(!this.isSuppressed()&&!this.suppressInitialPageView){if(this.urlOverride){var j=P.preprocessArguments([this.urlOverride],location,null,this.forceLowerCase);this.$missing$("trackPageview",null,null,j)}else{this.$missing$("trackPageview")}}},endPLPhase:function(j){j===this.settings.loadOn&&(P.notify("GA: Initializing at "+j,1),this.initialize(),this.flushQueue(),this.trackInitialPageView())},call:function(j,z,w,q){if(!this._cancelToolInit){this.settings;var B=this.tracker(),x=this.cmd(j);q=q?[x].concat(q):[x];_gaq.push(q),B?P.notify("GA: sent command "+j+" to tracker "+B+(q.length>1?" with parameters ["+q.slice(1).join(", ")+"]":"")+".",1):P.notify("GA: sent command "+j+(q.length>1?" with parameters ["+q.slice(1).join(", ")+"]":"")+".",1)}},$missing$:function(j,x,w,q){this.call(j,x,w,q)},$postTransaction:function(x,w,q){var j=P.data.customVars.transaction=D[q];this.call("addTrans",x,w,[j.orderID,j.affiliation,j.total,j.tax,j.shipping,j.city,j.state,j.country]),P.each(j.items,function(z){this.call("addItem",x,w,[z.orderID,z.sku,z.product,z.category,z.unitPrice,z.quantity])},this),this.call("trackTrans",x,w)},delayLink:function(j,x){var w=this;if(L.allowLinker()&&j.hostname.match(this.settings.linkerDomains)&&!P.isSubdomainOf(j.hostname,location.hostname)){P.preventDefault(x);var q=P.settings.linkDelay||100;setTimeout(function(){w.call("link",j,x,[j.href])},q)}},popupLink:function(x,w){if(D._gat){P.preventDefault(w);var q=this.settings.account,j=D._gat._createTracker(q)._getLinkerUrl(x.href);D.open(j)}},$link:function(j,q){"_blank"===j.getAttribute("target")?this.popupLink(j,q):this.delayLink(j,q)},$trackEvent:function(j,x){var w=Array.prototype.slice.call(arguments,2);if(w.length>=4&&null!=w[3]){var q=parseInt(w[3],10);P.isNaN(q)&&(q=1),w[3]=q}this.call("trackEvent",j,x,w)}}),P.availableTools.ga=p,_satellite.init({tools:{e75f16cd4e38ba711e93370f406cee4e:{engine:"sc",loadOn:"pagebottom",account:"rc-prod01",euCookie:!1,sCodeURL:"2eda04f28b1fa2bbcd3ec449dfdc174232ed3359/s-code-contents-f4f09b6eab17902d296b77f8ed52ea4eee9bcdf2.js",initVars:{charSet:"UTF-8",currencyCode:"CAD",visitorNamespace:"radiocanada",trackingServer:"radiocanada.122.2o7.net",trackingServerSecure:"radiocanada.122.2o7.net",campaign:P.getQueryParam("cid"),trackInlineStats:!0,trackDownloadLinks:!1,trackExternalLinks:!1,linkLeaveQueryString:!1,dynamicVariablePrefix:"D="},customInit:function(){return !1}},"7fec259d4d2df656e69604fc3c07f71913a97f0c":{engine:"visitor_id",loadOn:"pagetop",name:"VisitorID",mcOrgId:"55E654E45894AF350A495CFE@AdobeOrg",autoRequest:!0,initVars:{trackingServer:"radiocanada.122.2o7.net",trackingServerSecure:"radiocanada.122.2o7.net"}}},pageLoadRules:[{name:"AT : Action Tracking Init",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59c4187164746d120d00c66f.js"}]}]}],event:"pagebottom"},{name:"Campaign: callsHandler",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5911d4e764746d72dc003032.js"}]}]}],event:"pagetop"},{name:"Clicktale package",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-592f039964746d3860003ee6.js"}]}]}],event:"pagebottom"},{name:"ComscoreFirstPageTracking",trigger:[{command:"writeHTML",arguments:[{html:'<!-- Begin comScore Tag -->\n\n<script>\n  var comscoreKeyword = _satellite.getVar("page.ComscoreKeyword");\n\tvar _comscore = _comscore || [];\n\t_comscore.push(\n\t{ c1: "2", c2: "3005684",\n    options: {\n      url_append: "comscorekw=" + comscoreKeyword \n    }\n  });\n\t(function()\n\t{ var s = document.createElement("script"), el = document.getElementsByTagName("script")[0]; s.async = true; s.src = (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js"; el.parentNode.insertBefore(s, el); }\n\t)();\n\n  document.write("<!-- comScore Identifier: comscorekw="+comscoreKeyword+" -->");\n\n</script>\n<noscript>\n<img src="http://b.scorecardresearch.com/p?c1=2&c2=3005684&cv=2.0&cj=1" />\n</noscript>\n<!-- End comScore Tag -->\n<script>\n  setTimeout(function(){window.comscorefirstloaddone = 1; }, 500);\n</script>'}]}],event:"pagebottom"},{name:"Data Layer Setup",trigger:[{command:"loadBlockingScript",arguments:[{sequential:!0,scripts:[{src:"satellite-5a73844e64746d3244000310.js"},{src:"satellite-5877b0d864746d161e003631.js"}]}]}],event:"pagetop"},{name:"LongForm tracking - Page",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a7e03ec64746d6fa4000126.js"}]}]}],scope:{URI:{include:["nouvelle/1077518/"]}},event:"domready"},{name:"Lotame LoadScript",trigger:[{command:"writeHTML",arguments:[{html:'<script async type="text/javascript" src="//tags.crwdcntrl.net/c/10664/cc.js?ns=_cc10664" id="LOTCC_10664"></script>'}]}],event:"pagetop"},{name:"LotameCalls",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58d3e86d64746d55050029b3.js"},{src:"satellite-591a104b64746d08bd0000c2.js"},{src:"satellite-591cadf964746d58c2002043.js"}]}]}],event:"domready"},{name:"PLR: Calls handlers - Bottom of Page - NON Sequential script",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5936ce2f64746d0a5800b8bd.js"}]}]}],event:"pagebottom"},{name:"Retargeting Facebook",trigger:[{command:"writeHTML",arguments:[{html:"<!-- Facebook Pixel Code -->\n<script>\n!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?\nn.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;\nn.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;\nt.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,\ndocument,'script','https://connect.facebook.net/en_US/fbevents.js');\nfbq('init', '1528209637220634');\nfbq('track', 'PageView');\n</script>\n<noscript><img height=\"1\" width=\"1\" style=\"display:none\"\nsrc=\"https://www.facebook.com/tr?id=1528209637220634&ev=PageView&noscript=1\"\n/></noscript>\n<!-- DO NOT MODIFY -->\n<!-- End Facebook Pixel Code -->\n"}]}],event:"pagetop"}],rules:[{name:"CPG: Visualisation",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-59650e6764746d6e65009a8f.js"}]}]}],selector:".container-autopromo, .document-break, .parallax, .pub-content-card",event:"inview",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1,inviewDelay:1000},{name:"Long Form Tracking - Push State",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a982adf64746d0536000d5d.js"}]}]}],scope:{URI:{include:["nouvelle/1077518/"]}},event:"locationchange",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1},{name:"Lotame call SPA",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58e29dba64746d32dd0001bf.js"}]}]}],event:"locationchange",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0,bubbleStop:!1}],directCallRules:[{name:"trackAction",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"%action_itemName%",customSetup:function(G,z){z.account=_satellite.getVar("action_reportSuite"),z.events=_satellite.getVar("action_eventsToReport"),z[_satellite.getVar("action_projectVar")]=_satellite.getVar("action_projectName"),z[_satellite.getVar("action_elementVar")]=_satellite.getVar("action_itemName");var j=_satellite.getVar("action_customDataToReport").split(",");if(j.length>0&&""!=j[0]){var B="";for(i=0;i<j.length;i++){B=_satellite.getVar("action_customData_"+j[i]),z[j[i]]=B}}var w=_satellite.getVar("action_pathVarsToReport").split(",");if(w.length>0&&""!=w[0]){var x="";for(i=0;i<w.length;i++){x=_satellite.getVar("action_pathVar_"+w[i]),z[w[i]]=x}}var q=_satellite.getVar("action_counterVarsToReport").split(",");if(q.length>0&&""!=q[0]){var F="";for(i=0;i<q.length;i++){F=_satellite.getVar("action_counterVar_"+q[i]),z[q[i]]=F}}z.linkTrackVars="events,"+_satellite.getVar("action_projectVar")+","+_satellite.getVar("action_elementVar"),""!=_satellite.getVar("action_customDataToReport")&&(z.linkTrackVars=z.linkTrackVars+","+_satellite.getVar("action_customDataToReport")),""!=_satellite.getVar("action_pathVarsToReport")&&(z.linkTrackVars=z.linkTrackVars+","+_satellite.getVar("action_pathVarsToReport")),""!=_satellite.getVar("action_counterVarsToReport")&&(z.linkTrackVars=z.linkTrackVars+","+_satellite.getVar("action_counterVarsToReport")),z.linkTrackEvents=_satellite.getVar("action_eventsToReport")}}]}]},{name:"trackCampaignAction",trigger:[{engine:"sc",command:"trackLink",arguments:[{type:"o",linkName:"%action_itemName%",customSetup:function(G,z){z.events=_satellite.getVar("action_eventsToReport"),z.linkTrackEvents=_satellite.getVar("action_eventsToReport"),z.events.match(/event14/)?(z.eVar28=_satellite.getVar("action_itemName"),z.linkTrackVars="events,eVar28"):(z.eVar28=_satellite.getVar("action_itemName"),z.campaign=_satellite.getVar("action_itemName"),z.linkTrackVars="events,eVar28,campaign");var j=_satellite.getVar("action_customDataToReport").split(",");if(j.length>0&&""!=j[0]){var B="";for(i=0;i<j.length;i++){B=_satellite.getVar("action_customData_"+j[i]),z[j[i]]=B}}var w=_satellite.getVar("action_pathVarsToReport").split(",");if(w.length>0&&""!=w[0]){var x="";for(i=0;i<w.length;i++){x=_satellite.getVar("action_pathVar_"+w[i]),z[w[i]]=x}}var q=_satellite.getVar("action_counterVarsToReport").split(",");if(q.length>0&&""!=q[0]){var F="";for(i=0;i<q.length;i++){F=_satellite.getVar("action_counterVar_"+q[i]),z[q[i]]=F}}""!=_satellite.getVar("action_customDataToReport")&&(z.linkTrackVars=z.linkTrackVars+","+_satellite.getVar("action_customDataToReport")),""!=_satellite.getVar("action_pathVarsToReport")&&(z.linkTrackVars=z.linkTrackVars+","+_satellite.getVar("action_pathVarsToReport")),""!=_satellite.getVar("action_counterVarsToReport")&&(z.linkTrackVars=z.linkTrackVars+","+_satellite.getVar("action_counterVarsToReport"))}}]}]},{name:"trackLongForm",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-5a98430464746d6e020086db.js"}]}]}]},{name:"trackPageViewAdobe",trigger:[{engine:"sc",command:"trackPageView",arguments:[{setVars:{eVar1:"D=c1",eVar10:"D=c10",eVar11:"D=c11",eVar12:"D=c12",eVar13:"D=c13",eVar14:"D=c14",eVar15:"D=c15",eVar16:"D=c16",eVar17:"D=c17",eVar18:"D=c18",eVar19:"D=c19",eVar2:"D=c2",eVar20:"D=c20",eVar21:"D=c21",eVar22:"D=c22",eVar23:"D=c23",eVar24:"D=c24",eVar25:"D=c25",eVar30:"D=c30",eVar31:"D=c31",eVar32:"D=c32",eVar33:"D=c33",eVar35:"D=c35",eVar36:"D=c36",eVar37:"D=c37",eVar38:"D=c38",eVar39:"D=c39",eVar40:"D=c40",eVar41:"D=c41",eVar42:"D=c42",eVar43:"D=c43",eVar46:"D=c46",eVar5:"D=c5",eVar50:"%page.Clicktalevalues%",eVar6:"D=c6",eVar7:"D=c7",eVar8:"D=c8",eVar9:"D=c9",prop1:"%page.Application%",prop10:"%page.Titre%",prop11:"%page.Region%",prop12:"%page.TypeDocument%",prop13:"%page.TypeContenu%",prop14:"%page.Niveau%",prop15:"%page.Theme%",prop16:"%page.SousTheme%",prop17:"%page.Etiquette%",prop18:"%page.Classification%",prop19:"%page.Format%",prop2:"%page.FormatApplication%",prop20:"%page.SousSecteur%",prop21:"%page.NomPagePartie2%",prop22:"%page.NomPagePartie3%",prop23:"%page.NomPagePartie4%",prop24:"%page.NomPagePartie5%",prop25:"%page.IdMedia%",prop30:"%page.VersionProjet%",prop31:"%page.JourConsultation%",prop32:"%page.HeureConsultation%",prop33:"%page.DateCreation%",prop35:"%page.Dossier%",prop36:"%page.Signature%",prop37:"%page.Sport%",prop38:"%page.AdblockerDetector%",prop39:"%page.HeureLocale%",prop40:"%page.HeureMontreal%",prop41:"%page.CodeEmission%",prop42:"%page.Reseau%",prop43:"%page.Chaine%",prop46:"%page.Saison%",prop5:"%page.GroupeSection%",prop6:"%page.Segment%",prop7:"%page.PageSegment%",prop8:"%page.CodePage%",prop9:"%page.Url%",server:"radio-canada.ca",pageName:"%page.NomPage%",channel:"%page.Section%",pageURL:"%page.Url%",hier1:"%page.Hierarchy1%"},customSetup:function(j,q){q.events=null}}]}]},{name:"trackPageViewComscore",trigger:[{command:"loadScript",arguments:[{sequential:!1,scripts:[{src:"satellite-58b0aabf64746d116300edbf.js"}]}]}]}],settings:{trackInternalLinks:!0,libraryName:"satelliteLib-43147b95e6008feed629c773c77d808da90a9338",isStaging:!1,allowGATTcalls:!1,downloadExtensions:/\.(?:doc|docx|eps|jpg|png|svg|xls|ppt|pptx|pdf|xlsx|tab|csv|zip|txt|vsd|vxd|xml|js|css|rar|exe|wma|mov|avi|wmv|mp3|wav|m4v)($|\&|\?)/i,notifications:!1,utilVisible:!1,domainList:["radio-canada.ca"],scriptDir:"2eda04f28b1fa2bbcd3ec449dfdc174232ed3359/scripts/",tagTimeout:3000},data:{URI:a.location.pathname+a.location.search,browser:{},cartItems:[],revenue:"",host:{http:"s.radio-canada.ca/dtm/unit",https:"s.radio-canada.ca/dtm/unit"}},dataElements:{"de.page.body.class":{selector:"body",property:"className",storeLength:"pageview"},"page.AdblockerDetector":{customJS:function(){function j(B){var w,q,z,x=a.cookie.split(";");for(w=0;w<x.length;w++){if(q=x[w].substr(0,x[w].indexOf("=")),z=x[w].substr(x[w].indexOf("=")+1),(q=q.replace(/^\s+|\s+$/g,""))==B){return unescape(z)}}}return j("RC_CFA_ADB")!==n?"adblocker="+j("RC_CFA_ADB"):"adblocker=unknown"},storeLength:"session"},"page.Application":{customJS:function(){return"rcca_siteweb"},storeLength:"pageview"},"page.Chaine":{customJS:function(){return dataLayerHelper.get("page.Chaine")},storeLength:"pageview"},"page.Classification":{customJS:function(){return dataLayerHelper.get("page.Classification")},storeLength:"pageview"},"page.Clicktalevalues":{customJS:function(){return clickTaleGetUID_PID()},storeLength:"pageview"},"page.CodeEmission":{customJS:function(){return dataLayerHelper.get("page.CodeEmission")},storeLength:"pageview"},"page.CodePage":{customJS:function(){return dataLayerHelper.get("page.CodePage")},storeLength:"pageview"},"page.ComscoreKeyword":{customJS:function(){var j=dataLayerHelper.get("page.Section");return"arts_et_divertissement"==j&&(j="artsetdivertissement"),j},storeLength:"pageview"},"page.DateCreation":{customJS:function(){return dataLayerHelper.get("page.DateCreation")},storeLength:"pageview"},"page.Dossier":{customJS:function(){return dataLayerHelper.get("page.Dossier")},storeLength:"pageview"},"page.Emission":{customJS:function(){return dataLayerHelper.get("page.Emission")},storeLength:"pageview"},"page.Etiquette":{customJS:function(){return dataLayerHelper.get("page.Etiquette")},storeLength:"pageview"},"page.Format":{customJS:function(){return dataLayerHelper.get("page.Format")},storeLength:"pageview"},"page.FormatApplication":{customJS:function(){return"siteweb"},storeLength:"pageview"},"page.GroupeSection":{customJS:function(){return dataLayerHelper.get("page.GroupeSection")},storeLength:"pageview"},"page.HeureConsultation":{customJS:function(){return(new Date).getHours()},storeLength:"pageview"},"page.HeureLocale":{customJS:function(){var j=new Date;return j.getHours().toString()+j.getMinutes().toString()},storeLength:"pageview"},"page.HeureMontreal":{customJS:function(){var j=-5,x=new Date,w=x.getTime()+60000*x.getTimezoneOffset(),q=new Date(w+3600000*j);return q.getHours().toString()+q.getMinutes().toString()},storeLength:"pageview"},"page.Hierarchy1":{customJS:function(){var j=_satellite.getVar("page.NomPage").split(":");return j.slice(0,j.length-1).join(":")},storeLength:"pageview"},"page.IdMedia":{customJS:function(){return dataLayerHelper.get("page.IdMedia")},storeLength:"pageview"},"page.JourConsultation":{customJS:function(){var j=new Date,q=new Array(7);return q[0]="dimanche",q[1]="lundi",q[2]="mardi",q[3]="mercredi",q[4]="jeudi",q[5]="vendredi",q[6]="samedi",q[j.getDay()]},storeLength:"pageview"},"page.Niveau":{customJS:function(){return dataLayerHelper.get("page.Niveau")},storeLength:"pageview"},"page.NomPage":{customJS:function(){return dataLayerHelper.get("page.NomPage")},storeLength:"pageview"},"page.NomPagePartie2":{customJS:function(){return _satellite.getVar("page.NomPage").split(":").slice(0,2).join(":")},storeLength:"pageview"},"page.NomPagePartie3":{customJS:function(){return _satellite.getVar("page.NomPage").split(":").slice(0,3).join(":")},storeLength:"pageview"},"page.NomPagePartie4":{customJS:function(){return _satellite.getVar("page.NomPage").split(":").slice(0,4).join(":")},storeLength:"pageview"},"page.NomPagePartie5":{customJS:function(){return _satellite.getVar("page.NomPage").split(":").slice(0,5).join(":")},storeLength:"pageview"},"page.PageSegment":{customJS:function(){return dataLayerHelper.get("page.PageSegment")},storeLength:"pageview"},"page.Region":{customJS:function(){return dataLayerHelper.get("page.Region")},storeLength:"pageview"},"page.Reseau":{customJS:function(){return dataLayerHelper.get("page.Reseau")},storeLength:"pageview"},"page.Saison":{customJS:function(){return dataLayerHelper.get("page.Saison")},storeLength:"pageview"},"page.Section":{customJS:function(){return dataLayerHelper.get("page.Section")},storeLength:"pageview"},"page.Segment":{customJS:function(){return dataLayerHelper.get("page.Segment")},storeLength:"pageview"},"page.Signature":{customJS:function(){return dataLayerHelper.get("page.Signature")},storeLength:"pageview"},"page.SousSecteur":{customJS:function(){return dataLayerHelper.get("page.SousSecteur")},storeLength:"pageview"},"page.SousTheme":{customJS:function(){return dataLayerHelper.get("page.SousTheme")},storeLength:"pageview"},"page.Sport":{customJS:function(){return dataLayerHelper.get("page.Sport")},storeLength:"pageview"},"page.Theme":{customJS:function(){return dataLayerHelper.get("page.Theme")},storeLength:"pageview"},"page.Titre":{customJS:function(){return dataLayerHelper.get("page.Titre")},storeLength:"pageview"},"page.TypeContenu":{customJS:function(){return dataLayerHelper.get("page.TypeContenu")},storeLength:"pageview"},"page.TypeDocument":{customJS:function(){return dataLayerHelper.get("page.TypeDocument")},storeLength:"pageview"},"page.Url":{customJS:function(){return""==dataLayerHelper.get("page.Url")&&dataLayerQueue.push({page:{Url:a.URL}}),dataLayerHelper.get("page.Url")},storeLength:"pageview"},"page.VersionProjet":{customJS:function(){return dataLayerHelper.get("page.VersionProjet")!==n?dataLayerHelper.get("page.VersionProjet"):"unite"},"default":"unit",storeLength:"pageview"},"page.VersionResponsive":{customJS:function(){var w=D,q=a,j=q.documentElement,x=q.getElementsByTagName("body")[0],z=w.innerWidth||j.clientWidth||x.clientWidth;return y=z<=640?"xs":z<=1023?"sm":z<=1239?"md":z<=1599?"lg":z<=2339?"xl":"xxl",y},storeLength:"pageview"},trackScroll:{customJS:function(){var w=!1;if(D.location.pathname.match(/\/nouvelle\/.+/)){var q=a.documentElement,j=a.body,x="scrollHeight";2*q.clientHeight<(q[x]||j[x])&&(w=!0)}return w},storeLength:"pageview"},"user.10CharVisitorId":{customJS:function(){var j=/%7CMCMID%7C(.*?)%7C.*/.exec(_satellite.readCookie("AMCV_55E654E45894AF350A495CFE%40AdobeOrg"))[1];return parseInt(j.substring(0,15)).toString(36)},storeLength:"pageview"}},appVersion:"7QN",buildDate:"2018-03-22 21:03:40 UTC",publishDate:"2018-03-22 21:03:40 UTC"})}(window,document);