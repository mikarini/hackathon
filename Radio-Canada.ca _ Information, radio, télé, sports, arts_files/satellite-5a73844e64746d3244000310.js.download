"use strict";(function(m){var t="1.0";var G="offset",j="client";var v=function(){};var F=false;var y=false;var e=(m.addEventListener===undefined);var i={loopDelay:50,maxLoop:5,debug:true,found:v,notfound:v,complete:v};function D(K){var N,M;try{N=JSON.parse(K)}catch(L){try{M=new Function("return "+K);N=M()}catch(L){h("Failed secondary JSON parse",true)}}return N}var A=function(M){var P=new XMLHttpRequest();this.success=M.success||v;this.fail=M.fail||v;var K=this;var L=M.method||"get";this.abort=function(){try{P.abort()}catch(Q){}};function O(Q){if(P.readyState==4){if(P.status==200){K.success(P.response)}else{K.fail(P.status)}}}P.onreadystatechange=O;function N(){P.open(L,M.url,true);P.send()}N()};var d=function(){var L=this;var K={};this.addUrl=function(M){K[M]={url:M,state:"pending",format:null,data:null,result:null};return K[M]};this.setResult=function(Q,P,M){var O=K[Q];if(O==null){O=this.addUrl(Q)}O.state=P;if(M==null){O.result=null;return}if(typeof M==="string"){try{M=D(M);O.format="json"}catch(N){O.format="easylist"}}O.data=M;return O}};var a=[];var l=null;var q={cssClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"};var c={nullProps:[G+"Parent"],zeroProps:[]};c.zeroProps=[G+"Height",G+"Left",G+"Top",G+"Width",G+"Height",j+"Height",j+"Width"];var u={quick:null,remote:null};var I=null;var s={test:0,download:0};function p(K){return typeof(K)=="function"}function B(P,L){var O,Q,N,K=L;var M=document;N=M.createElement(P);if(K){for(O in K){if(K.hasOwnProperty(O)){N.setAttribute(O,K[O])}}}return N}function g(K,L,M){if(e){K.attachEvent("on"+L,M)}else{K.addEventListener(L,M,false)}}function h(L,K){if(!i.debug&&!K){return}if(m.console&&m.console.log){if(K){console.error("[ABD] "+L)}else{console.log("[ABD] "+L)}}}var n=[];function H(M){var K,L;o.addUrl(M);K=new A({url:M,success:function(N){h("downloaded file "+M);L=o.setResult(M,"success",N);try{var P=0,Q=0;var R=function(S){if(!y){z(S,true);return true}return false};if(I==true){return}if(R(L.data)){return}else{h("Pause before test execution");P=setInterval(function(){if(R(L.data)||Q++>5){clearInterval(P)}},250)}}catch(O){h(O.message+" url: "+M,true)}},fail:function(N){h(N,true);o.setResult(M,"error",null)}});n.push(K)}function J(){var K,M;var L=i;for(K=0;K<L.blockLists.length;K++){M=L.blockLists[K];H(M)}}function b(){var L,K;for(L=n.length-1;L>=0;L--){K=n.pop();K.abort()}}function z(K){h("start beginTest");if(I==true){return}y=true;r(K);u.quick="testing";s.test=setTimeout(function(){E(K,1)},5)}function r(L){var O,N=document,K=N.body;var P;var M="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(L==null||typeof(L)=="string"){h("invalid bait being cast");return}if(L.style!=null){M+=L.style}l=B("div",{"class":L.cssClass,style:M});h("adding bait node to DOM");K.appendChild(l);for(O=0;O<c.nullProps.length;O++){P=l[c.nullProps[O]]}for(O=0;O<c.zeroProps.length;O++){P=l[c.zeroProps[O]]}}function E(L,K){var P,Q,R;var N=document.body;var O=false;if(l==null){h("recast bait");r(L||q)}if(typeof(L)=="string"){h("invalid bait used",true);if(C()){setTimeout(function(){y=false},5)}return}if(s.test>0){clearTimeout(s.test);s.test=0}if(N.getAttribute("abp")!==null){h("found adblock body attribute");O=true}for(P=0;P<c.nullProps.length;P++){if(l[c.nullProps[P]]==null){if(K>4){O=true}h("found adblock null attr: "+c.nullProps[P]);break}if(O==true){break}}for(P=0;P<c.zeroProps.length;P++){if(O==true){break}if(l[c.zeroProps[P]]==0){if(K>4){O=true}h("found adblock zero attr: "+c.zeroProps[P])}}if(window.getComputedStyle!==undefined){var M=window.getComputedStyle(l,null);if(M.getPropertyValue("display")=="none"||M.getPropertyValue("visibility")=="hidden"){if(K>4){O=true}h("found adblock computedStyle indicator")}}F=true;if(O||K++>=i.maxLoop){I=O;h("exiting test loop - value: "+I);k();if(C()){setTimeout(function(){y=false},5)}}else{s.test=setTimeout(function(){E(L,K)},i.loopDelay)}}function C(){if(l===null){return true}try{if(p(l.remove)){l.remove()}document.body.removeChild(l)}catch(K){}l=null;return true}function f(){if(s.test>0){clearTimeout(s.test)}if(s.download>0){clearTimeout(s.download)}b();C()}function k(){var M,L;if(I===null){return}for(M=0;M<a.length;M++){L=a[M];try{if(L!=null){if(p(L.complete)){L.complete(I)}if(I&&p(L.found)){L.found()}else{if(I===false&&p(L.notfound)){L.notfound()}}}}catch(K){h("Failure in notify listeners "+K.Message,true)}}}function w(){var K=false;var L;if(document.readyState){if(document.readyState=="complete"){K=true}}L=function(){z(q,false)};if(K){L()}else{g(m,"load",L)}}var o;var x={version:t,init:function(M){var L,N,K;if(!M){return}K={complete:v,found:v,notfound:v};for(L in M){if(M.hasOwnProperty(L)){if(L=="complete"||L=="found"||L=="notFound"){K[L.toLowerCase()]=M[L]}else{i[L]=M[L]}}}a.push(K);o=new d();w()}};m.adblockDetector=x})(window);